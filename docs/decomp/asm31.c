// 0x80b81ec
int __usercall sub_80B81EC@<R0>(Battle *obj@<R5>)
{
    return (*(&off_80B8204 + obj->ai->naviVirusIndicator))();
}


// 0x80b8210
int sub_80B8210()
{
    int v0; // r5

    return (*(&off_80B8220 + *(v0 + oBattleObject_CurState)))();
}


// 0x80b8230
signed int __noreturn sub_80B8230()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    signed int result; // r0

    sprite_decompress(8, 18);
    sprite_load(v0, 128, 8, 18);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sprite_setPallete(byte_80B8294[*(v0 + 4)]);
    v2 = sprite_setColorShader(v0, 0x7FFF);
    *(v0 + 96) = sub_80C468C(v2, v3, 0, 255);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b829c
int sub_80B829C()
{
    int v0; // r5

    (*(&off_80B82B4 + *(v0 + 9)))();
    object_updateSpriteTimestop();
    return sub_80B844A();
}


// 0x80b82c4
int sub_80B82C4()
{
    int v0; // r5

    return (*(&off_80B82D8 + *(v0 + 10)))();
}


// 0x80b82e0
int __fastcall sub_80B82E0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    __int16 v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v3 + 11) )
    {
        *v3 |= 2u;
        v5 = *(v3 + 32) + 1;
        *(v3 + 32) = v5;
        if ( v5 & 1 )
            *v3 &= 0xFDu;
        v6 = *(v3 + 25);
        v7 = __OFSUB__(v6, 2);
        result = v6 - 2;
        *(v3 + 25) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *v3 |= 2u;
            *(v3 + 25) = 0;
            result = 4;
            *(v3 + 10) = 4;
        }
    }
    else
    {
        *v3 |= 2u;
        *(v3 + 25) = 31;
        PlaySoundEffect(148, 2, a3);
        *(v3 + 32) = 0;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80b8338
int sub_80B8338()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            if ( object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 0) )
                *(v0 + 9) = 4;
            else
                *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 32) = 30;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80b8376
int sub_80B8376()
{
    int v0; // r5

    return (*(&off_80B8388 + *(v0 + 10)))();
}


// 0x80b8390
int sub_80B8390()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 32) = 40;
    }
    *(v0 + 16) = 6;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 16) = 5;
        *(v0 + 10) = 4;
        result = sub_80B8E30(4);
    }
    return result;
}


// 0x80b83c0
int __fastcall sub_80B83C0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        PlaySoundEffect(199, a2, a3);
        *(v3 + 32) = 40;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 32 )
    {
        if ( *(v3 + 6) )
            sub_80B8564();
        else
            sub_80B8512();
        camera_initShakeEffect_80302a8(3, 35);
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        *(v3 + 9) = 8;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80b8406
int sub_80B8406()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *v0 &= 0xFDu;
            sub_80C46B0(*(v0 + 96));
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 76) = 0;
        *(v0 + 16) = 4;
        *(v0 + 32) = 5;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80b843c
int sub_80B843C()
{
    int v0; // r5

    **(v0 + 100) = 0;
    return object_freeMemory();
}


// 0x80b844a
int sub_80B844A()
{
    Battle *v0; // r5

    return sprite_setColorShader(v0, 1057 * v0->unk_19);
}


// 0x80b845c
int __noreturn sub_80B845C()
{
    Battle *v0; // r5
    int v1; // r4
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // ST04_4
    int v8; // ST08_4
    int v9; // r0
    bool v10; // nf
    unsigned __int8 v11; // vf
    int result; // r0
    int v13; // [sp-Ch] [bp-20h]

    v1 = object_getFrontDirection(v0);
    sub_81096FA(v1 + v0->panelX, v0->panelX, v2, byte_80B8494);
    while ( 1 )
    {
        v13 = v3;
        v7 = v5;
        v8 = v6;
        v9 = object_getPanelsInColumnFiltered(v3, v4, v5, v6);
        v11 = __OFSUB__(v9, 3);
        v10 = v9 - 3 < 0;
        result = v13;
        v5 = v7;
        v6 = v8;
        if ( !(v10 ^ v11) )
            break;
        v3 = v13 + v1;
    }
    return result;
}


// 0x80b84a4
int __noreturn sub_80B84A4()
{
    Battle *v0; // r5
    int v1; // r3
    int v2; // r4
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r6
    int v7; // ST04_4
    int v8; // ST08_4
    int v9; // ST0C_4
    bool v10; // zf
    int result; // r0
    int v12; // [sp-10h] [bp-28h]

    v2 = object_getFrontDirection(v0);
    v3 = v2 + v0->panelX;
    v4 = v0->panelY;
    v5 = 4 * v0->Alliance;
    v6 = *&byte_80B84E4[v5];
    while ( 1 )
    {
        v12 = v3;
        v7 = v4;
        v8 = v5;
        v9 = v1;
        v10 = (object_getPanelParameters(v3, v4) & v6) == 0;
        result = v12;
        v4 = v7;
        v5 = v8;
        v1 = v9;
        if ( !v10 )
            break;
        v3 = v12 + v2;
        if ( !(v12 + v2) || v3 > 6 )
            return 3 * v2 + v0->panelX;
    }
    return result;
}


// 0x80b84ec
int __fastcall sub_80B84EC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(1, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 100) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b8512
int sub_80B8512()
{
    int v0; // r5
    int result; // r0

    result = 5 * (*(v0 + 22) ^ 1) + 1;
    if ( result != *(v0 + 18) )
        sub_80B845C();
    return result;
}


// 0x80b8564
int sub_80B8564()
{
    int v0; // r5
    int result; // r0

    result = 5 * (*(v0 + 22) ^ 1) + 1;
    if ( result != *(v0 + 18) )
        sub_80B84A4();
    return result;
}


// 0x80b85e0
int sub_80B85E0()
{
    int v0; // r5

    return (*(&off_80B85F4 + *(v0 + 8)))();
}


// 0x80b8600
void __noreturn sub_80B8600()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0

    sprite_load(v0, 128, 16, 48);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    v2 = *(*(v0 + 76) + 16);
    *(v0 + 16) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80B863A();
}


// 0x80b863a
int sub_80B863A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned int v3; // r0
    int v4; // r0
    int v5; // r0

    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v1 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v1);
    v2 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v2);
    v3 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v3);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    v5 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v5);
    return (*(&off_80B8698 + *(v0 + 9)))();
}


// 0x80b86a4
int sub_80B86A4()
{
    int v0; // r5
    unsigned int v1; // r0
    unsigned __int8 v2; // cf
    int result; // r0

    sub_80B8800();
    sub_80B8810();
    v1 = sub_800139A();
    v2 = __CFSHR__(v1, 2);
    result = v1 >> 2;
    if ( v2 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = sub_80B86C4();
    }
    return result;
}


// 0x80b86c4
int sub_80B86C4()
{
    sub_80B8800();
    sub_80B8810();
    return sub_80B881E();
}


// 0x80b86d4
int __fastcall sub_80B86D4(int a1)
{
    int v1; // r5
    int result; // r0

    result = sub_80B881E();
    if ( result )
        result = (*(&off_80B86F0 + *(v1 + 10)))();
    return result;
}


// 0x80b86f8
int sub_80B86F8()
{
    int v0; // r5
    int result; // r0
    int v2; // r4
    int v3; // r6

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) -= *(v0 + 72);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
            sub_80B8844();
        v2 = *(v0 + 100);
        v3 = *(v0 + 44);
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 0, 0);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *(v0 + 18) = 0;
        object_setCoordinatesFromPanels(v0);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80b8784
void nullsub_8()
{
    ;
}


// 0x80b8786
int __fastcall sub_80B8786(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+4h] [bp-8h]

    object_spawnType1(2, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80b87a6
int __fastcall sub_80B87A6(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80b87ac
signed int __fastcall sub_80B87AC(signed int result, int a2, char a3, char a4)
{
    signed int v4; // r5
    int v5; // r0

    v4 = result;
    if ( result )
    {
        result = *(result + 9);
        if ( result == 4 )
        {
            *(v4 + 44) = a2;
            *(v4 + 18) = a3;
            *(v4 + 19) = a4;
            object_setCoordinatesFromPanels(v4);
            v5 = object_getFrontDirection(v4);
            *(v4 + 52) -= 1310720 * v5;
            *(v4 + 60) = 2621440;
            *(v4 + 64) = 436906 * v5;
            *(v4 + 72) = 873813;
            *(v4 + 32) = 3;
            result = 3;
            *(v4 + 16) = 3;
            *(v4 + 9) = 8;
            *(v4 + 10) = 0;
        }
    }
    return result;
}


// 0x80b87f0
int __fastcall sub_80B87F0(int result)
{
    if ( *(result + 9) == 8 )
    {
        *(result + 9) = 4;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80b8800
int sub_80B8800()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    return v0 + 64;
}


// 0x80b8810
signed int sub_80B8810()
{
    int v0; // r5
    signed int result; // r0

    result = *(*(v0 + 76) + 16);
    if ( result > 3 )
        result = 3;
    *(v0 + 16) = result;
    return result;
}


// 0x80b881e
signed int sub_80B881E()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                object_updateSpritePaused();
                v1 = 1;
            }
        }
    }
    return v1;
}


// 0x80b8844
void __noreturn sub_80B8844()
{
    int v0; // r5
    signed int v1; // r1

    v1 = 0;
    if ( *(v0 + 4) >= 4 )
        v1 = 4;
    *(v0 + 100) = *&byte_80B88B4[v1];
    sub_80B8870(*(v0 + 18), *(v0 + 19));
}


// 0x80b8870
void __fastcall __noreturn sub_80B8870(int a1, int a2)
{
    int v2; // r5
    int v3; // r4
    int v4; // r6
    int v5; // r0
    int v6; // r1
    char v7; // [sp+0h] [bp-20h]
    int v8; // [sp+4h] [bp-1Ch]

    v7 = a1;
    v8 = a2;
    if ( object_getPanelParameters(a1, a2) & 0x10 )
    {
        v3 = *(v2 + 100);
        v4 = *(v2 + 44);
        object_spawnCollisionRegion(v7, v8, 0, 3145728);
        v5 = object_getCoordinatesForPanels(v7);
        SpawnT4BattleObjectWithId0(v2, v5, v5, v6, 0);
    }
}


// 0x80b88d0
int sub_80B88D0()
{
    int v0; // r5

    return (*(&off_80B88E4 + *(v0 + 8)))();
}


// 0x80b88f0
signed int __noreturn sub_80B88F0()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, 16, 61);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b8932
void sub_80B8932()
{
    int v0; // r5
    int v1; // r6
    _DWORD *v2; // r4
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r0
    unsigned int v9; // r0
    int v10; // r0
    int v11; // r0
    char v12; // zf

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 76);
    v3 = v2[14];
    v4 = v2[15];
    v5 = (v0 + 52);
    *v5 = v2[13];
    v5[1] = v3;
    v5[2] = v4;
    *(v0 + 58) += 32;
    *(v0 + 62) += 31;
    *(v0 + 52) += (sub_80030BA(v2, 1) << 16) * v1;
    *(v0 + 56) += v6 << 16;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v7 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v7);
    v8 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v8);
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    if ( !*(v0 + 96) )
    {
        *(v0 + 23) = *(*(v0 + 76) + 23);
        v10 = object_getFlip(v0);
        sprite_setFlip(v0, v10);
    }
    v11 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v11);
    battle_isTimeStop();
    if ( v12 )
    {
        if ( !(*(*(*(v0 + 76) + 84) + 60) & 0x80110C00) )
            object_updateSprite();
    }
}


// 0x80b89dc
int __fastcall sub_80B89DC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-Ch]
    int v7; // [sp+4h] [bp-8h]

    v6 = a4;
    object_spawnType1(3, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v6;
        *(v4 + 52) = *(v7 + 52);
        *(v4 + 56) = *(v7 + 56);
        *(v4 + 60) = *(v7 + 60);
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80b8a0a
int __fastcall sub_80B8A0A(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80b8a18
void sub_80B8A18()
{
    int v0; // r5

    (*(&off_80B8A30 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80b8a3c
int __noreturn sub_80B8A3C()
{
    Battle *v0; // r5
    u32 *v1; // r4
    Battle *v2; // ST04_4
    u32 *v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    u32 v11; // r2
    u32 v12; // r3
    u32 *v13; // r0
    Battle *v14; // ST04_4
    u32 *v15; // r5
    int v16; // r0
    int v17; // r0
    int v18; // r0
    int v19; // r1

    v1 = v0->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v2 = v0;
        v3 = v0->parent;
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        v0 = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 20));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(v0, 128, v7, v8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->objFlags |= 2u;
    v11 = v0->parent[14];
    v12 = v0->parent[15];
    v13 = &v0->x;
    *v13 = v0->parent[13];
    v13[1] = v11;
    v13[2] = v12;
    object_setPanelsFromCoordinates(v0);
    v14 = v0;
    v15 = v0->parent;
    v16 = sub_801002C();
    sprite_setPallete(v16);
    v17 = object_getFlip(v14);
    sprite_setFlip(v14, v17);
    v18 = sub_800F29C(*(v1 + 20));
    sub_8010DF6(v18, v19);
    sub_80E1352(v14->parent, 0xFu);
    *&v14->currState = 4;
    return sub_80B8AD4();
}


// 0x80b8ad4
int sub_80B8AD4()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    if ( !sub_800EB6C(v0[22]) )
        *v0 &= 0xFDu;
    return (*(&off_80B8B00 + v0[10]))();
}


// 0x80b8b08
int sub_80B8B08()
{
    int v0; // r5
    int v1; // r2
    signed __int16 v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r0
    int v7; // r6
    int v8; // r3
    int v9; // r1
    int v10; // r2

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 34;
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 4 )
    {
        if ( !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10) )
        {
            v2 = 1;
LABEL_10:
            *(v0 + 32) = v2;
            result = 4;
            *(v0 + 10) = 4;
            return result;
        }
        *(v0 + 16) = 12;
        PlaySoundEffect(306, 16, v1);
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v4 )
    {
        v6 = object_getFrontDirection(v0);
        v7 = *(v0 + 44);
        sub_80DBB0C(655360 * v6 + *(v0 + 52), *(v0 + 56), *(v0 + 14), v8);
        PlaySoundEffect(427, v9, v10);
        v2 = 90;
        goto LABEL_10;
    }
    return result;
}


// 0x80b8b6e
int sub_80B8B6E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        sub_80E13DC(*(v0 + 76));
        result = 0;
        **(v0 + 96) = 0;
    }
    return result;
}


// 0x80b8ba0
int __fastcall sub_80B8BA0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(4, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 40) = *(v11 + 40);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80b8cd8
int t1_0x5_80B8CD8()
{
    int v0; // r5

    return (*(&off_80B8CEC + *(v0 + 8)))();
}


// 0x80b8cf8
void __noreturn sub_80B8CF8()
{
    int v0; // r5
    unsigned __int8 *v1; // r4
    signed int v2; // r0
    char v3; // r0
    u8 v4; // r0
    int v5; // r3
    int v6; // r0
    signed int v7; // r1

    v1 = &byte_80B8BD4[5 * *(v0 + 4)];
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = *(*(v0 + 76) + 40);
    if ( v2 >= 428 && v2 <= 437 && sub_80136CC(*(v0 + 22), 44) )
        v3 = -8;
    else
        v3 = v1[3];
    *(v0 + 12) = v3;
    v4 = *(v0 + 5);
    *(v0 + 16) = v4;
    *(v0 + 17) = v4;
    sprite_setAnimation(v0, v4);
    sprite_loadAnimationData(v0);
    *v0 |= 2u;
    sprite_setPallete(v1[2] + *(v0 + 7));
    *(v0 + 64) = 0;
    *(v0 + 72) = 0;
    if ( *(v0 + 4) == 15 )
    {
        v5 = *(*(v0 + 76) + 40);
        if ( v5 != 416 )
        {
            v6 = 11;
            v7 = -7;
            if ( v5 != 438 )
            {
                v6 = 0;
                v7 = 13;
            }
            goto LABEL_12;
        }
    }
    else if ( v1[4] )
    {
        v6 = getBattleArmPositionMaybe_8018810(*(*(v0 + 76) + 40), v1[4], *(v0 + 22), *(v0 + 23));
LABEL_12:
        *(v0 + 64) = v6 << 16;
        *(v0 + 72) = v7 << 16;
        goto LABEL_13;
    }
LABEL_13:
    *(v0 + 8) = 4;
    sub_80B8DA6();
}


// 0x80b8da6
void sub_80B8DA6()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r0
    int v9; // r0
    char v10; // zf

    v1 = *(v0 + 76);
    v2 = *(v0 + 12) << 16;
    v3 = *(v1 + 56) - v2;
    v4 = *(v1 + 60) + *(v0 + 72) - v2;
    v5 = (v0 + 52);
    *v5 = *(v1 + 52) + *(v0 + 64);
    v5[1] = v3;
    v5[2] = v4;
    *v0 = *v0 & 0xFD | *v1 & 2;
    v6 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v6);
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v8);
    v9 = sprite_getFlip(*(v0 + 76));
    sprite_setFlip(v0, v9);
    if ( **(v0 + 96) )
    {
        if ( *(v0 + 6) || (battle_isTimeStop(), v10) )
        {
            battle_isPaused();
            if ( v10 )
                object_updateSprite();
        }
    }
    else
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
}


// 0x80b8e30
int sub_80B8E30() { // could not decompile
    asm(".func\
    .thumb_func\
    sub_80B8E30:\
        push {lr}\
        push {r0,r5-r7}\
        mov r0, #5\
        bl object_spawnType1\
        mov r0, r5\
        pop {r1,r5-r7}\
        beq loc_80B8E54\
        str r5, [r0,#0x4c]\
        str r7, [r0,#0x60]\
        ldrh r1, [r5,#0x12]\
        strh r1, [r0,#0x12]\
        ldrh r1, [r5,#0x16]\
        strh r1, [r0,#0x16]\
        mov r1, #0x14\
        ldrb r2, [r0]\
        orr r2, r1\
        strb r2, [r0]\
    loc_80B8E54:\
        str r0, [r7]\
        pop {pc}\
    .endfunc // sub_80B8E30"
    );
}

// 0x80b8e58
int __fastcall sub_80B8E58(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80b8e62
int __fastcall sub_80B8E62(int a1)
{
    char *v1; // r2
    int result; // r0
    int v3; // r1

    v1 = &byte_80B8BD4[5 * a1];
    result = *v1;
    v3 = v1[1];
    return result;
}


// 0x80b8e70
int __fastcall sub_80B8E70(int result, char a2)
{
    if ( result )
    {
        *(result + 16) = a2;
        *(result + 17) = -1;
    }
    return result;
}


// 0x80b8e7c
int __fastcall sub_80B8E7C(int result)
{
    if ( result )
        *(result + 17) = -1;
    return result;
}


// 0x80b8ea0
void sub_80B8EA0()
{
    int v0; // r5

    (*(&off_80B8EB8 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b8ec4
signed int __noreturn sub_80B8EC4()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_decompress(8, 12);
    sprite_load(v0, 128, 8, 12);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b8f0a
int sub_80B8F0A()
{
    int v0; // r5

    return (*(&off_80B8F1C + *(v0 + 9)))();
}


// 0x80b8f30
int __fastcall sub_80B8F30(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80b8f66
int sub_80B8F66()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b8f8e
int sub_80B8F8E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 10;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80b8fb6
int sub_80B8FB6()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v5 )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 11;
        sub_80B903A();
        PlaySoundEffect(383, v1, v2);
        result = 60;
        *(v0 + 32) = 60;
    }
    return result;
}


// 0x80b8fea
int sub_80B8FEA()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80b9014
int __fastcall sub_80B9014(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(6, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b903a
int sub_80B903A()
{
    int v0; // r5
    signed int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r6
    int v5; // [sp-4h] [bp-14h]

    v1 = 0;
    do
    {
        v5 = *(v0 + 19) - 1 + v1;
        result = object_isValidPanel(*(v0 + 18), v5);
        if ( result )
        {
            v3 = 0;
            if ( *(v0 + 22) )
                v3 = 7;
            v4 = *(v0 + 44);
            result = sub_80C8514(v3, v5, *(v0 + 14), 4);
        }
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80b9078
void sub_80B9078()
{
    int v0; // r5

    (*(&off_80B9090 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b909c
signed int __noreturn sub_80B909C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 1);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b90e4
int sub_80B90E4()
{
    int v0; // r5

    return (*(&off_80B90F8 + *(v0 + 9)))();
}


// 0x80b910c
int __fastcall sub_80B910C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 16;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 5;
        *(v3 + 32) = 5;
    }
    return result;
}


// 0x80b9160
int sub_80B9160()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b9188
int sub_80B9188()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 15;
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80b91b0
int sub_80B91B0()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 21;
        sub_80B9240();
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( result == 52 )
    {
        result = 16;
        *(v0 + 16) = 16;
    }
    else if ( result < 0 )
    {
        *(v0 + 9) = 16;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80b91e8
int sub_80B91E8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            sub_8011044(2, 1);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 4;
        *(v0 + 32) = 4;
    }
    return result;
}


// 0x80b921a
int __fastcall sub_80B921A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(7, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b9240
void __noreturn sub_80B9240()
{
    Battle *v0; // r5
    int v1; // r0

    v1 = object_getFrontDirection(v0);
    sub_80B9288(v0->panelX + v1, v0->panelY);
}


// 0x80b9288
int __fastcall __noreturn sub_80B9288(int a1, int a2)
{
    int v2; // r5
    bool v3; // zf
    int result; // r0
    int v5; // r6
    int v6; // [sp+0h] [bp-14h]
    int v7; // [sp+4h] [bp-10h]

    v6 = a1;
    v7 = a2;
    v3 = (object_getPanelParameters(a1, a2) & 0x10010) == 65552;
    result = v6;
    if ( v3 )
    {
        v5 = *(v2 + 44);
        result = sub_80C8DE0(v6, v7, *(v2 + 14), 0);
    }
    return result;
}


// 0x80b92b8
void sub_80B92B8()
{
    int v0; // r5

    (*(&off_80B92D0 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b92dc
signed int __noreturn sub_80B92DC()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 2);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b931a
int sub_80B931A()
{
    int v0; // r5

    return (*(&off_80B932C + *(v0 + 9)))();
}


// 0x80b9340
int __fastcall sub_80B9340(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80b9376
int sub_80B9376()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b939e
int sub_80B939E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 18;
        result = 13;
        *(v0 + 32) = 13;
    }
    return result;
}


// 0x80b93c6
int __fastcall sub_80B93C6(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    if ( *(v3 + 10) )
    {
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( result == 60 )
        {
            result = sub_80B9458(1);
        }
        else if ( result <= 0 )
        {
            *(v3 + 9) = 16;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 19;
        PlaySoundEffect(198, 4, a3);
        sub_80B9458(0);
        result = 120;
        *(v3 + 32) = 120;
    }
    return result;
}


// 0x80b9408
int sub_80B9408()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80b9432
int __fastcall sub_80B9432(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(8, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b9458
int __fastcall sub_80B9458(int a1)
{
    int v1; // r5
    int v2; // r6
    int result; // r0
    int v4; // r3
    int v5; // r6
    unsigned int v6; // r0
    int v7; // ST00_4
    int v8; // r6
    int v9; // [sp+0h] [bp-4h]
    int v10; // [sp+4h] [bp+0h]

    v9 = a1;
    v2 = *(v1 + 22);
    result = object_getPanelRegion(*(v1 + 18), *(v1 + 19), *&byte_80B94AC[8 * a1 + 4 * v2], 0);
    if ( result )
    {
        v5 = result - 1;
        do
        {
            v6 = *(&v10 + v5);
            v7 = v5;
            v8 = *(v1 + 44);
            result = sub_80D0F0C(v6 & 7, v6 >> 4, *(v1 + 14), v4);
            v5 = v7 - 1;
        }
        while ( v7 - 1 >= 0 );
    }
    return result;
}


// 0x80b94bc
void sub_80B94BC()
{
    int v0; // r5

    (*(&off_80B94D4 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b94e0
signed int __noreturn sub_80B94E0()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 6);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b951e
int sub_80B951E()
{
    int v0; // r5

    return (*(&off_80B9530 + *(v0 + 9)))();
}


// 0x80b954c
int __fastcall sub_80B954C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 24;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        sub_8010DF6(2, 6);
        *v3 |= 2u;
        result = 6;
        *(v3 + 32) = 6;
    }
    return result;
}


// 0x80b95ac
int sub_80B95AC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    signed int v4; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
        return result;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v4 = *(v0 + 18);
        if ( *(v0 + 22) )
        {
            if ( v4 >= 5 )
            {
LABEL_10:
                *(v0 + 9) = 16;
                result = 0;
                *(v0 + 10) = 0;
                return result;
            }
        }
        else if ( v4 <= 2 )
        {
            goto LABEL_10;
        }
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80b95f2
int sub_80B95F2()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 19;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80b961a
int __fastcall sub_80B961A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf

    if ( *(v4 + 10) )
    {
        v10 = *(v4 + 32);
        v11 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v11) | (result == 0) )
        {
            *(v4 + 9) = 24;
            result = 0;
            *(v4 + 10) = 0;
        }
    }
    else
    {
        *(v4 + 10) = 4;
        *(v4 + 16) = 20;
        v5 = *(v4 + 44);
        sub_80C86B0(*(v4 + 18), *(v4 + 19), *(v4 + 14), a4);
        v6 = object_getFlip(v4);
        SpawnT4BattleObjectWithId0(v4, v6 << 8, *(v4 + 52), *(v4 + 56), 0);
        PlaySoundEffect(301, v7, v8);
        result = 60;
        *(v4 + 32) = 60;
    }
    return result;
}


// 0x80b966c
int __fastcall sub_80B966C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    if ( *(v4 + 10) )
    {
        result = *(v4 + 32) - 1;
        *(v4 + 32) = result;
        if ( result == 57 )
        {
            result = 16;
            *(v4 + 16) = 16;
        }
        else if ( result == 27 )
        {
            result = *(v4 + 96);
            if ( result )
                *(result + 11) = 1;
        }
        else if ( result <= 0 )
        {
            *(v4 + 9) = 20;
            result = 0;
            *(v4 + 10) = 0;
        }
    }
    else
    {
        *(v4 + 10) = 4;
        *(v4 + 16) = 15;
        sub_80E3976(*(v4 + 18), *(v4 + 19), 96, a4);
        result = 66;
        *(v4 + 32) = 66;
    }
    return result;
}


// 0x80b96c2
int __fastcall sub_80B96C2(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 21;
        PlaySoundEffect(393, 4, a3);
        *(v3 + 32) = 90;
        sub_80B9776();
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        *(v3 + 16) = 0;
        v7 = *(v3 + 96);
        if ( v7 )
            *(v7 + 11) = 2;
        *(v3 + 9) = 24;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80b971e
int sub_80B971E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            sub_8011044(2, 6);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 8;
        *(v0 + 32) = 8;
    }
    return result;
}


// 0x80b9750
int __fastcall sub_80B9750(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(9, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b9776
int __noreturn sub_80B9776()
{
    Battle *v0; // r5
    int v1; // r6
    signed int i; // r4
    bool v3; // zf
    int result; // r0
    int v5; // [sp-4h] [bp-2Ch]

    v1 = object_getFrontDirection(v0);
    for ( i = 1; ; ++i )
    {
        v5 = v0->panelX + i * v1;
        v3 = object_getPanelsInColumnFiltered(v5, i * v1, *(&off_80B97B8 + v0->Alliance), 0) == 0;
        result = v5;
        if ( !v3 || v5 <= 1 || v5 >= 6 )
            break;
    }
    return result;
}


// 0x80b97c0
void sub_80B97C0()
{
    int v0; // r5

    (*(&off_80B97D8 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b97e4
signed int __noreturn sub_80B97E4()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 7);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b9822
int sub_80B9822()
{
    int v0; // r5

    return (*(&off_80B9834 + *(v0 + 9)))();
}


// 0x80b9848
int __fastcall sub_80B9848(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 16;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80b989c
int sub_80B989C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b98c4
int sub_80B98C4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 15;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b98ec
int sub_80B98EC()
{
    int v0; // r5
    int result; // r0
    char v2; // r0
    int v3; // r6
    char v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r1
    int v9; // r2

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 55 )
        {
            v2 = object_getFrontDirection(v0);
            v3 = *(v0 + 44);
            sub_80C53A6(v2 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
            object_getFlip(v0);
            v4 = object_getFrontDirection(v0);
            v5 = *(v0 + 19);
            v6 = object_getCoordinatesForPanels(v4 + *(v0 + 18));
            SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0x100000);
            PlaySoundEffect(266, v8, v9);
            result = camera_initShakeEffect_80302a8(1, 30);
        }
        else if ( result < 0 )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 16;
        result = 60;
        *(v0 + 32) = 60;
    }
    return result;
}


// 0x80b9970
int sub_80B9970()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80b999a
int __fastcall sub_80B999A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(10, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b99c0
void sub_80B99C0()
{
    int v0; // r5

    (*(&off_80B99D8 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b99e4
signed int __noreturn sub_80B99E4()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_decompress(8, 13);
    sprite_load(v0, 128, 8, 13);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 13);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b9a34
int sub_80B9A34()
{
    int v0; // r5

    return (*(&off_80B9A48 + *(v0 + 9)))();
}


// 0x80b9a60
int __fastcall sub_80B9A60(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 7;
        PlaySoundEffect(225, 4, a3);
        *v3 |= 2u;
        result = 19;
        *(v3 + 32) = 19;
    }
    return result;
}


// 0x80b9a96
int sub_80B9A96()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b9aba
int sub_80B9ABA()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        *(v0 + 32) = 30;
        result = camera_initShakeEffect_80302a8(0, *(v0 + 32));
    }
    return result;
}


// 0x80b9aea
int sub_80B9AEA()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 5;
        sub_80B9B94();
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( result == 30 )
        return camera_initShakeEffect_80302a8(2, 30);
    if ( result == 20 )
    {
        result = 0;
        *(v0 + 16) = 0;
    }
    else if ( result <= 0 )
    {
        *(v0 + 9) = 16;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80b9b30
int sub_80B9B30()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 20;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 8;
        result = 14;
        *(v0 + 32) = 14;
    }
    return result;
}


// 0x80b9b58
signed int sub_80B9B58()
{
    int v0; // r5
    signed int result; // r0

    sub_8011044(2, 13);
    **(v0 + 84) = 0;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80b9b6e
int __fastcall sub_80B9B6E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(11, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b9b94
int __noreturn sub_80B9B94()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    int result; // r0
    int v4; // r1
    int v5; // ST04_4
    bool v6; // zf
    int v7; // r3
    int v8; // r1
    int v9; // ST04_4
    int v10; // r6
    int v11; // [sp-8h] [bp-18h]

    v2 = 1;
    do
    {
        result = object_getClosestPanelMatchingRowFiltered(
                             *(v0 + 22),
                             v2,
                             *&byte_80B9BF0[8 * *(v0 + 22)],
                             *&byte_80B9BF0[8 * *(v0 + 22) + 4]);
        if ( result )
        {
            *(v0 + 22);
            v11 = result;
            v5 = v4;
            v6 = object_checkPanelParameters(result, v4, *&byte_80B9C04[8 * *(v0 + 22)], *&byte_80B9C04[8 * *(v0 + 22) + 4]) == 0;
            result = v11;
            v8 = v5;
            if ( !v6 )
            {
                v9 = v1;
                v10 = *(v0 + 44);
                result = sub_80CB1E2(v11, v8, *(v0 + 14), v7);
                v1 = v9;
            }
        }
        ++v2;
    }
    while ( v2 <= 3 );
    return result;
}


// 0x80b9c14
void sub_80B9C14()
{
    int v0; // r5

    (*(&off_80B9C2C + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b9c38
signed int __noreturn sub_80B9C38()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, 3);
        object_setCollisionHitEffect(6);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80b9c9c
void __noreturn sub_80B9C9C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v1 = (*(&off_80B9CC8 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80b9cdc
int __fastcall sub_80B9CDC(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80b9d12
int sub_80B9D12()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80b9d36
int sub_80B9D36()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 20 )
        {
            *(v0 + 62) = 255;
            result = sprite_noShadow(v0);
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 23;
        *(v0 + 32) = 23;
    }
    return result;
}


// 0x80b9d6e
int sub_80B9D6E()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int result; // r0
    int v4; // r4
    int v5; // r0
    int v6; // r2
    int v7; // r1
    int v8; // r0

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v4 = *(v0 + 18);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v5 = object_getFrontDirection(v0);
        v7 = *(v0 + 64);
        *(v0 + 64) = 40960 * v5 + v7;
        if ( *(v0 + 18) != v4 )
            object_setCollisionRegion(4);
        v8 = *(v0 + 34) + 1;
        *(v0 + 34) = v8;
        if ( !__CFSHR__(v8, 3) )
            object_highlightPanelRegion(
                *(&dword_80B9E3C + 2 * *(v0 + 22)),
                *(&dword_80B9E3C + 2 * *(v0 + 22) + 1),
                35,
                *(v0 + 22));
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 30 )
        {
            result = PlaySoundEffect(316, v7, v6);
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        object_setCollisionRegion(4);
        *(v0 + 16) = 19;
        *(v0 + 62) = 16;
        sprite_hasShadow();
        v1 = 2 * *(v0 + 22);
        v2 = *(&dword_80B9E34 + v1 + 1);
        *(v0 + 18) = *(&dword_80B9E34 + v1);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 64) = 327680 * object_getFrontDirection(v0);
        *(v0 + 68) = 0;
        *(v0 + 32) = 40;
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80b9e40
int sub_80B9E40()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int v7; // r2
    int result; // r0
    int v9; // r4
    int v10; // r0
    int v11; // r0

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v9 = *(v0 + 18);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( *(v0 + 18) != v9 )
            object_setCollisionRegion(4);
        v10 = *(v0 + 34) + 1;
        *(v0 + 34) = v10;
        if ( !__CFSHR__(v10, 3) )
            object_highlightPanelRegion(
                *(&off_80B9EFC + 2 * *(v0 + 22)),
                *(&off_80B9EFC + 2 * *(v0 + 22) + 1),
                37,
                *(v0 + 22));
        v11 = *(v0 + 32);
        _VF = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 20;
        *(v0 + 62) = 16;
        sprite_hasShadow();
        v1 = 2 * *(v0 + 22);
        v2 = *(&dword_80B9EF4 + v1 + 1);
        *(v0 + 18) = *(&dword_80B9EF4 + v1);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 64) = 786432 * object_getFrontDirection(v0);
        *(v0 + 68) = 471859;
        __asm { SVC         6 }
        *(v0 + 32) = 0;
        PlaySoundEffect(316, 786432, v7);
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80b9f00
int sub_80B9F00()
{
    int v0; // r5

    **(v0 + 96) = 0;
    return object_freeMemory();
}


// 0x80b9f0e
int __fastcall sub_80B9F0E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(12, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80b9f44
void sub_80B9F44()
{
    int v0; // r5

    (*(&off_80B9F5C + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80b9f68
signed int __noreturn sub_80B9F68()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 3);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80b9fa6
int sub_80B9FA6()
{
    int v0; // r5

    return (*(&off_80B9FB8 + *(v0 + 9)))();
}


// 0x80b9fd8
int __fastcall sub_80B9FD8(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 28;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80ba02c
int sub_80BA02C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80ba054
int sub_80BA054()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 10) )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = sub_80BA1D6();
        if ( v1 )
        {
            *(v0 + 5) = v1;
            *(v0 + 16) = 20;
            result = 10;
            *(v0 + 32) = 10;
        }
        else
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80ba090
int sub_80BA090()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
        sub_80BA238(*(v0 + 5));
    return result;
}


// 0x80ba0d8
int sub_80BA0D8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 20;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 60;
        *(v0 + 32) = 60;
    }
    return result;
}


// 0x80ba0fc
int sub_80BA0FC()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int result; // r0
    char v4; // r1

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 13 )
        {
            v4 = *(v0 + 21);
            *(v0 + 18) = *(v0 + 20);
            *(v0 + 19) = v4;
            object_setCoordinatesFromPanels(v0);
            result = 3;
            *(v0 + 16) = 3;
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 24;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = sub_80BA294();
        if ( v1 )
        {
            *(v0 + 20) = v1;
            *(v0 + 21) = v2;
            *(v0 + 16) = 4;
            result = 16;
            *(v0 + 32) = 16;
        }
        else
        {
            *(v0 + 9) = 28;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80ba152
int __fastcall sub_80BA152(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 28;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 16;
        PlaySoundEffect(344, 4, a3);
        sub_80BA31C();
        result = 30;
        *(v3 + 32) = 30;
    }
    return result;
}


// 0x80ba186
int sub_80BA186()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80ba1b0
int __fastcall sub_80BA1B0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(13, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80ba1d6
int sub_80BA1D6()
{
    Battle *v0; // r5
    int v1; // r4
    int *v2; // r1
    int v4; // [sp+0h] [bp-2Ch]

    v4 = -object_getFrontDirection(v0);
    v1 = 6;
    if ( v0->Alliance )
        v1 = 1;
    do
    {
        if ( v1 == v0->panelX )
            break;
        v2 = &byte_80BA228[8 * v0->Alliance];
        if ( object_getPanelsInColumnFiltered(v1, v2, *v2, v2[1]) )
            return v1;
        v1 += v4;
        if ( v1 < 1 )
            break;
    }
    while ( v1 <= 6 );
    return 0;
}


// 0x80ba238
int __fastcall __noreturn sub_80BA238(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    bool v4; // zf
    int result; // r0
    int v6; // r1
    int v7; // ST08_4
    int v8; // r3
    int v9; // r6
    int v10; // ST00_4
    int v11; // r5

    v2 = a1;
    v3 = 1;
    do
    {
        v4 = object_checkPanelParameters(v2, v3, *&byte_80BA284[8 * *(v1 + 22)], *&byte_80BA284[8 * *(v1 + 22) + 4]) == 0;
        result = v2;
        v6 = v3;
        if ( !v4 )
        {
            v7 = v3;
            v8 = *(v1 + 44) >> 12 << 12;
            v9 = *(v1 + 4) | v8;
            v10 = v1;
            v11 = *(v1 + 76);
            result = sub_80D0996(v2, v6, 0, v8);
            v1 = v10;
            v3 = v7;
        }
        ++v3;
    }
    while ( v3 <= 3 );
    return result;
}


// 0x80ba294
int sub_80BA294()
{
    Battle *v0; // r5
    signed int v1; // r4
    bool v2; // zf
    int result; // r0
    int v4; // [sp-8h] [bp-2Ch]
    int v5; // [sp-8h] [bp-2Ch]
    unsigned __int8 v6; // [sp+0h] [bp-24h]

    v1 = 1;
    while ( 1 )
    {
        v4 = object_getFrontDirection(v0) * v1 + v0->panelX;
        if ( !object_isValidPanel(v4, 1) )
            return 0;
        if ( object_getPanelsInColumnFiltered(v4, 4 * v0->Alliance, *(&off_80BA308 + v0->Alliance), 0) )
            break;
        if ( ++v1 >= 6 )
            return 0;
    }
    v5 = (v6 & 7) - object_getFrontDirection(v0);
    v2 = object_checkPanelParameters(v5, v6 >> 4, 16, 260571264) == 0;
    result = v5;
    if ( v2 && (v5 != v0->panelX || v6 >> 4 != v0->panelY) )
        return 0;
    return result;
}


// 0x80ba31c
void sub_80BA31C()
{
    int v0; // r5
    char v1; // r0
    int v2; // r6
    char v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 44);
    sub_80C53A6(v1 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    object_getFlip(v0);
    v3 = object_getFrontDirection(v0);
    v4 = *(v0 + 19);
    v5 = object_getCoordinatesForPanels(v3 + *(v0 + 18));
    SpawnT4BattleObjectWithId0(v0, v5, v5, v6, 0x100000);
}


// 0x80ba364
void sub_80BA364()
{
    int v0; // r5

    (*(&off_80BA37C + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80ba388
signed int __noreturn sub_80BA388()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_decompress(8, 14);
    sprite_load(v0, 128, 8, 14);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 14);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80ba3d8
int sub_80BA3D8()
{
    int v0; // r5

    return (*(&off_80BA3EC + *(v0 + 9)))();
}


// 0x80ba414
int __fastcall sub_80BA414(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 36;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 19;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 10;
        *(v3 + 32) = 10;
    }
    return result;
}


// 0x80ba468
int sub_80BA468()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ba490
int sub_80BA490()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 13;
        result = 19;
        *(v0 + 32) = 19;
    }
    return result;
}


// 0x80ba4ba
int sub_80BA4BA()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        *(v0 + 62) -= 6;
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & *(&off_80BA520 + *(v0 + 22)) )
                *(v0 + 9) = 16;
            else
                *(v0 + 9) = 28;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 18) += 3 * object_getFrontDirection(v0);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 62) = 30;
        *(v0 + 16) = 14;
        result = 5;
        *(v0 + 32) = 5;
    }
    return result;
}


// 0x80ba528
int __fastcall sub_80BA528(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r1
    int v5; // r2
    int result; // r0

    if ( *(v3 + 10) )
    {
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( result == 21 )
        {
            result = PlaySoundEffect(276, a2, a3);
        }
        else if ( result <= 0 )
        {
            *(v3 + 9) = 20;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 15;
        sub_80BA6A4();
        PlaySoundEffect(426, v4, v5);
        result = 46;
        *(v3 + 32) = 46;
    }
    return result;
}


// 0x80ba56c
int sub_80BA56C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 16;
        *(v0 + 32) = 72;
        *(v0 + 34) = 0;
    }
    v1 = *(v0 + 34);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 34) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        sub_80BA686();
        *(v0 + 34) = 12;
        sub_80BA6B6();
    }
    v3 = *(v0 + 32);
    v2 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 24;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80ba5aa
int sub_80BA5AA()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 32;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 17;
        result = 7;
        *(v0 + 32) = 7;
    }
    return result;
}


// 0x80ba5d2
int sub_80BA5D2()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 32;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80ba5f6
int sub_80BA5F6()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        *(v0 + 62) += 6;
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            sub_8011044(2, 14);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 18;
        result = 5;
        *(v0 + 32) = 5;
    }
    return result;
}


// 0x80ba62e
int sub_80BA62E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            sub_8011044(2, 14);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 13;
        result = 19;
        *(v0 + 32) = 19;
    }
    return result;
}


// 0x80ba660
int __fastcall sub_80BA660(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(14, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80ba686
_BYTE *sub_80BA686()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80ba6a4
signed int sub_80BA6A4()
{
    int v0; // r5
    signed int result; // r0

    result = 1;
    ++*(v0 + 58);
    ++*(v0 + 62);
    return result;
}


// 0x80ba6b6
void sub_80BA6B6()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r6
    int v3; // r1
    int v4; // r7
    char v5; // r0
    char v6; // r2
    int v7; // r0
    char v8; // r0
    char v9; // r2
    int v10; // r0
    int v11; // [sp-8h] [bp-18h]

    v1 = v0->panelY;
    v2 = object_getCoordinatesForPanels(v0->panelX);
    v4 = v3;
    GetPositiveSignedRNG2();
    v6 = v5;
    v7 = (v5 & 0x1F) << 16;
    if ( !(v6 & 1) )
        v7 = -v7;
    v11 = v2 + v7;
    GetPositiveSignedRNG2();
    v9 = v8;
    v10 = (v8 & 0xF) << 16;
    if ( !(v9 & 1) )
        v10 = -v10;
    SpawnT4BattleObjectWithId0(v0, v10, v11, v4 + 0x100000, v10 + 2359296);
}


// 0x80ba708
void sub_80BA708()
{
    int v0; // r5

    (*(&off_80BA720 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80ba72c
signed int __noreturn sub_80BA72C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_decompress(8, 15);
    sprite_load(v0, 128, 8, 15);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80ba772
int sub_80BA772()
{
    int v0; // r5

    return (*(&off_80BA784 + *(v0 + 9)))();
}


// 0x80ba7a0
int __fastcall sub_80BA7A0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 24;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 2;
        *(v3 + 32) = 2;
    }
    return result;
}


// 0x80ba7f4
int sub_80BA7F4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ba81c
int __fastcall sub_80BA81C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 10) )
    {
        v6 = *(v4 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v4 + 9) = 12;
            result = 0;
            *(v4 + 10) = 0;
        }
    }
    else
    {
        *(v4 + 10) = 4;
        *(v4 + 16) = 6;
        *(v4 + 96) = sub_80E71A0(6, a2, a3, a4);
        result = 15;
        *(v4 + 32) = 15;
    }
    return result;
}


// 0x80ba84c
int sub_80BA84C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            v6 = *(v0 + 96);
            if ( v6 )
                sub_80E71B8(v6);
            sub_80BA9A4();
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 7;
        sub_80BA946();
        PlaySoundEffect(186, v1, v2);
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ba89c
int sub_80BA89C()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 15 )
        {
            result = sub_80BAA0C();
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 20;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 5;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ba8d0
int sub_80BA8D0()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
    }
    result = *(v0 + 116);
    if ( result == *(v0 + 100) )
        sub_80BAA4C();
    return result;
}


// 0x80ba8f6
int sub_80BA8F6()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 2;
        *(v0 + 32) = 2;
    }
    return result;
}


// 0x80ba920
int __fastcall sub_80BA920(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(15, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80ba946
_BYTE *sub_80BA946()
{
    int v0; // r5
    char v1; // r0
    int v2; // r6
    char v3; // r0
    int v4; // r6
    char v5; // r0
    int v6; // r6

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 44);
    sub_80C53A6(v1 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    v3 = object_getFrontDirection(v0);
    v4 = *(v0 + 44);
    sub_80C53A6(2 * v3 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    v5 = object_getFrontDirection(v0);
    v6 = *(v0 + 44);
    return sub_80C53A6(3 * v5 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80ba9a4
void __noreturn sub_80BA9A4()
{
    int v0; // r5

    sub_800D618(byte_80BA9F8[4 * *(v0 + 22)], 1, *(v0 + 22));
}


// 0x80baa0c
int sub_80BAA0C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r3
    int v3; // r6
    int result; // r0

    v1 = 0;
    do
    {
        v2 = *(v0 + 44) >> 12 << 12;
        v3 = *(v0 + 4) | (*(v0 + 46) << 16) | v2;
        sub_80D7C7E(*(v0 + v1 + 104) & 7, *(v0 + v1 + 104) >> 4, 0, v2);
        ++v1;
        result = *(v0 + 100);
    }
    while ( v1 < result );
    return result;
}


// 0x80baa4c
void __noreturn sub_80BAA4C()
{
    int v0; // r5

    sub_800D618(*(&off_80BAA84 + 4 * *(v0 + 22)), 1, *(v0 + 22));
}


// 0x80baa8c
void sub_80BAA8C()
{
    int v0; // r5

    (*(&off_80BAAA4 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80baab0
signed int __noreturn sub_80BAAB0()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_decompress(8, 16);
    sprite_load(v0, 128, 8, 16);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 16);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bab00
int sub_80BAB00()
{
    int v0; // r5

    return (*(&off_80BAB14 + *(v0 + 9)))();
}


// 0x80bab30
int __fastcall sub_80BAB30(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 24;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 2;
        *(v3 + 32) = 2;
    }
    return result;
}


// 0x80bab84
int sub_80BAB84()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 0;
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80babac
int __fastcall sub_80BABAC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r1
    int v5; // r2
    int v6; // r0
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r1
    int v11; // r2
    int v12; // r0
    char v13; // r0

    if ( *(v3 + 11) )
    {
        if ( *(*(*(v3 + 76) + 88) + 44) & 1 )
        {
            PlaySoundEffect(386, 1, a3);
            *(v3 + 9) = 12;
            result = 0;
            *(v3 + 10) = 0;
        }
        else
        {
            v8 = *(v3 + 32);
            v9 = __OFSUB__(v8--, 1);
            *(v3 + 32) = v8;
            if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            {
                *(v3 + 96) = (*(v3 + 96) + 1) & 3;
                sprite_setPallete(*(&dword_80BAC4C + *(v3 + 96)));
                PlaySoundEffect(308, v10, v11);
                *(v3 + 32) = *(v3 + 4);
            }
            v12 = *(v3 + 34);
            v9 = __OFSUB__(v12, 1);
            result = v12 - 1;
            *(v3 + 34) = result;
            if ( ((result < 0) ^ v9) | (result == 0) )
            {
                GetPositiveSignedRNG2();
                *(v3 + 96) = v13 & 3;
                sprite_setPallete(*(&dword_80BAC4C + *(v3 + 96)));
                *(v3 + 9) = 12;
                result = 0;
                *(v3 + 10) = 0;
            }
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 96) = 0;
        sprite_setPallete(*(&dword_80BAC4C + *(v3 + 96)));
        PlaySoundEffect(308, v4, v5);
        v6 = *(v3 + 4);
        *(v3 + 32) = v6;
        result = 20 * v6;
        *(v3 + 34) = result;
    }
    return result;
}


// 0x80bac50
int sub_80BAC50()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 16 )
        {
            result = 7;
            *(v0 + 16) = 7;
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 16;
            result = 4 * *(v0 + 96);
            *(v0 + 10) = result;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 5;
        *(v0 + 32) = 35;
        result = *(v0 + 96);
        if ( result == 3 )
            sub_80BAF06();
    }
    return result;
}


// 0x80bac98
int sub_80BAC98()
{
    int v0; // r5

    return (*(&off_80BACAC + *(v0 + 10)))();
}


// 0x80bacbc
int __fastcall sub_80BACBC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // r0

    if ( !*(v4 + 11) )
    {
        *(v4 + 11) = 4;
        sub_80BAE3C();
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        sub_80BAE60(*(v4 + 6), a2, a3, a4);
        v8 = *(v4 + 6) + 1;
        *(v4 + 6) = v8;
        if ( v8 >= *(v4 + 5) )
        {
            *(v4 + 9) = 20;
            result = 0;
            *(v4 + 10) = 0;
        }
        else
        {
            result = 12;
            *(v4 + 32) = 12;
        }
    }
    return result;
}


// 0x80bad06
int sub_80BAD06()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        sub_80BAE7A();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 20;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bad34
int sub_80BAD34()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
            sub_80BAEDC(*(v0 + 6));
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 6) = 0;
        result = 0;
        *(v0 + 32) = 0;
    }
    return result;
}


// 0x80bad76
int sub_80BAD76()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            sub_80BAEC0(*(v0 + 6));
            v4 = *(v0 + 6) + 1;
            *(v0 + 6) = v4;
            if ( v4 >= 3 )
            {
                *(v0 + 9) = 20;
                result = 0;
                *(v0 + 10) = 0;
            }
            else
            {
                result = 16;
                *(v0 + 32) = 16;
            }
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 6) = 0;
        result = 0;
        *(v0 + 32) = 0;
    }
    return result;
}


// 0x80badb4
int sub_80BADB4()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 5 )
        {
            result = 8;
            *(v0 + 16) = 8;
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 24;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80bade4
int sub_80BADE4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            sub_8011044(2, 16);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 4;
        result = 2;
        *(v0 + 32) = 2;
    }
    return result;
}


// 0x80bae16
int __fastcall sub_80BAE16(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(16, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80bae3c
int __noreturn sub_80BAE3C()
{
    int v0; // r5

    return object_getPanelsExceptCurrentFilterred(4 * *(v0 + 22), &off_80BAE58, *(&off_80BAE58 + *(v0 + 22)), 0);
}


// 0x80bae60
int __fastcall sub_80BAE60(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6

    v5 = *(v4 + 44);
    return sub_80D6D18(*(v4 + a1 + 100) & 7, *(v4 + a1 + 100) >> 4, 1, a4);
}


// 0x80bae7a
__int64 __noreturn sub_80BAE7A()
{
    int v0; // r5
    signed int v1; // r7
    int v2; // r0
    int v3; // r6
    bool v4; // zf
    __int64 result; // r0
    __int64 v6; // [sp-8h] [bp-18h]

    v1 = -1;
    do
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v0 + 44);
        LODWORD(v6) = v2 + *(v0 + 18);
        HIDWORD(v6) = *(v0 + 19) + v1;
        sub_80D6EB0(v6, SHIDWORD(v6), 2, 0x10000);
        v4 = object_isPanelSolid(v6, SHIDWORD(v6)) == 0;
        result = v6;
        if ( !v4 )
            object_setPanelType(v6, SHIDWORD(v6), 7);
        ++v1;
    }
    while ( v1 <= 1 );
    return result;
}


// 0x80baec0
int __fastcall sub_80BAEC0(int a1)
{
    int v1; // r5
    int v2; // r4
    char v3; // r0
    int v4; // r6
    int v5; // r3

    v2 = a1;
    v3 = object_getFrontDirection(v1);
    v4 = *(v1 + 44);
    return sub_80DC4B8(3 * v3 + *(v1 + 18), v2 + 1, 3, v5);
}


// 0x80baedc
int __fastcall __noreturn sub_80BAEDC(int a1)
{
    int v1; // r5
    int v2; // r3
    int v3; // r6
    int v5; // [sp-8h] [bp-18h]
    int v6; // [sp-4h] [bp-14h]

    v5 = object_getFrontDirection(v1) * (a1 + 1) + *(v1 + 18);
    v6 = *(v1 + 19);
    if ( !object_isPanelSolid(v5, v6) )
        return 0;
    v3 = *(v1 + 44);
    return sub_80DC5B4(v5, v6, 4, v2);
}


// 0x80baf06
unsigned __int64 __noreturn sub_80BAF06()
{
    int v0; // r4
    int v1; // r6
    bool v2; // zf
    unsigned __int64 result; // r0

    v0 = 1;
    do
    {
        v1 = 1;
        do
        {
            v2 = object_isPanelSolid(v0, v1) == 0;
            result = __PAIR__(v1, v0);
            if ( !v2 )
                object_setPanelType(v0, v1, 6);
            ++v1;
        }
        while ( v1 <= 3 );
        ++v0;
    }
    while ( v0 <= 6 );
    return result;
}


// 0x80baf50
void sub_80BAF50()
{
    int v0; // r5

    (*(&off_80BAF68 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80baf74
int __noreturn sub_80BAF74()
{
    Battle *v0; // r5
    u32 *v1; // r4
    Battle *v2; // ST04_4
    u32 *v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    u32 v11; // r2
    u32 v12; // r3
    u32 *v13; // r0
    Battle *v14; // ST04_4
    u32 *v15; // r5
    int v16; // r0
    int v17; // r0
    int v18; // r0
    int v19; // r1

    v1 = v0->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v2 = v0;
        v3 = v0->parent;
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        v0 = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 20));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(v0, 128, v7, v8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->objFlags |= 2u;
    v11 = v0->parent[14];
    v12 = v0->parent[15];
    v13 = &v0->x;
    *v13 = v0->parent[13];
    v13[1] = v11;
    v13[2] = v12;
    object_setPanelsFromCoordinates(v0);
    v14 = v0;
    v15 = v0->parent;
    v16 = sub_801002C();
    sprite_setPallete(v16);
    v17 = object_getFlip(v14);
    sprite_setFlip(v14, v17);
    v18 = sub_800F29C(*(v1 + 20));
    sub_8010DF6(v18, v19);
    sub_80E1352(v14->parent, 0xFu);
    *&v14->currState = 4;
    return sub_80BB00C();
}


// 0x80bb00c
int sub_80BB00C()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    if ( !sub_800EB6C(v0[22]) )
        *v0 &= 0xFDu;
    return (*(&off_80BB038 + v0[10]))();
}


// 0x80bb048
int sub_80BB048()
{
    int v0; // r5
    int v1; // r0
    int v2; // r6
    int v3; // r1
    int v4; // r2
    int v5; // r1
    int v6; // r2

    object_getFrontDirection(v0);
    v1 = *(v0 + 22);
    v2 = *(&dword_80BB094 + v1);
    *(v0 + 108) = v2;
    *(v0 + 116) = v2;
    *(v0 + 112) = *(&dword_80BB094 + v1 + 2);
    *(v0 + 120) = 1;
    sub_80BB23E();
    PlaySoundEffect(270, v3, v4);
    *(v0 + 34) = byte_12C;
    *(v0 + 32) = 6;
    *(v0 + 10) = 4;
    return sub_80BB098(4, v5, v6);
}


// 0x80bb098
signed int __fastcall sub_80BB098(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2
    signed int result; // r0

    v4 = *(v3 + 34) - 1;
    *(v3 + 34) = v4;
    if ( !v4 )
        goto LABEL_8;
    v5 = *(v3 + 32) - 1;
    *(v3 + 32) = v5;
    if ( !v5 )
    {
        *(v3 + 32) = 6;
        ho_80BB170();
        PlaySoundEffect(270, v6, v7);
    }
    result = *(*(*(v3 + 76) + 88) + 44);
    a2 = 1;
    if ( result & 1 )
    {
LABEL_8:
        PlaySoundEffect(189, a2, a3);
        result = 8;
        *(v3 + 10) = 8;
    }
    return result;
}


// 0x80bb0d2
int sub_80BB0D2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 16;
        *(v0 + 11) = 4;
    }
    sub_80BB1D8();
    --*(v0 + 34);
    if ( *(v0 + 32) == 4 )
        *(v0 + 16) = 12;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
        sub_80BB1FE();
    return result;
}


// 0x80bb10c
int sub_80BB10C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        sub_80E13DC(*(v0 + 76));
        result = 0;
        **(v0 + 96) = 0;
    }
    return result;
}


// 0x80bb13e
int __fastcall sub_80BB13E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(19, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 40) = *(v11 + 40);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bb170
int ho_80BB170()
{
    Battle *v0; // r5

    object_getFrontDirection(v0);
    (*(jt_80BB18C + v0->bPhaseInitialized))();
    return sub_80BB23E();
}


// 0x80bb19c
signed int sub_80BB19C()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 120) = 2;
    result = 4;
    *(v0 + 11) = 4;
    return result;
}


// 0x80bb1a6
signed int sub_80BB1A6()
{
    int v0; // r5
    int v1; // r6
    int v2; // r1
    signed int result; // r0

    v2 = *(v0 + 116) - v1;
    *(v0 + 116) = v2;
    result = *(v0 + 112);
    if ( result == v2 )
    {
        result = 8;
        *(v0 + 11) = 8;
    }
    return result;
}


// 0x80bb1ba
signed int sub_80BB1BA()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 120) = 1;
    result = 12;
    *(v0 + 11) = 12;
    return result;
}


// 0x80bb1c4
int sub_80BB1C4()
{
    int v0; // r5
    int v1; // r6
    int v2; // r1
    int result; // r0

    v2 = *(v0 + 116) + v1;
    *(v0 + 116) = v2;
    result = *(v0 + 108);
    if ( result == v2 )
    {
        result = 0;
        *(v0 + 11) = 0;
    }
    return result;
}


// 0x80bb1d8
int sub_80BB1D8()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34);
    if ( !(result & 4) )
    {
        highlightPanelIfSomeCondition_8109660(*(v0 + 116), *(v0 + 120), 2, *(v0 + 22));
        result = highlightPanelIfSomeCondition_8109660(*(v0 + 116), *(v0 + 120) + 1, 2, *(v0 + 22));
    }
    return result;
}


// 0x80bb1fe
void __noreturn sub_80BB1FE()
{
    int v0; // r5
    int v1; // r3
    int v2; // r6

    object_getFrontDirection(v0);
    v2 = *(v0 + 44);
    sub_80BB228(*(v0 + 116), *(v0 + 120), 1, v1);
}


// 0x80bb228
void __fastcall __noreturn sub_80BB228(int a1, int a2, int a3, int a4)
{
    char v4; // [sp+0h] [bp-24h]
    int v5; // [sp+4h] [bp-20h]
    int v6; // [sp+8h] [bp-1Ch]
    int v7; // [sp+Ch] [bp-18h]

    v4 = a1;
    v5 = a2;
    v6 = a3;
    v7 = a4;
    if ( object_getPanelParameters(a1, a2) & 0x10 )
        sub_80C8DE0(v4, v5, v6, v7);
}


// 0x80bb23e
void sub_80BB23E()
{
    int v0; // r5
    int v1; // r6
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r2
    int v9; // r1
    int v10; // r3
    int v11; // r1
    int v12; // r2
    int v13; // r3

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 120);
    v3 = object_getCoordinatesForPanels(*(v0 + 116));
    sub_80BB278(v3, v3, v4, 0);
    sub_80BB278(2621440 * v1, v5 + 2621440 * v1, v6, v7);
    sub_80BB278(1572864, v9, v8 + 1572864, v10);
    sub_80BB278(2621440 * v1, v11 - 2621440 * v1, v12, v13);
}


// 0x80bb278
void __fastcall sub_80BB278(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r0

    SpawnT4BattleObjectWithId0(v4, a1, a2, a3, a4);
    if ( v5 )
        *(v5 + 32) = 6;
}


// 0x80bb2a0
void sub_80BB2A0()
{
    int v0; // r5

    (*(&off_80BB2B8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bb2c4
int __noreturn sub_80BB2C4()
{
    Battle *obj; // r5
    u32 *v1; // r4
    Battle *v2; // ST04_4
    u32 *v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    u32 v11; // r2
    u32 v12; // r3
    u32 *v13; // r0
    Battle *v14; // ST04_4
    u32 *v15; // r5
    int v16; // r0
    int v17; // r0
    int v18; // r0
    int v19; // r1

    v1 = obj->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v2 = obj;
        v3 = obj->parent;
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        obj = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 20));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(obj, 128, v7, v8);
    sprite_loadAnimationData(obj);
    sprite_hasShadow();
    obj->currAnimation = 0;
    obj->currAnimationCpy = -1;
    obj->objFlags |= 2u;
    v11 = obj->parent[14];
    v12 = obj->parent[15];
    v13 = &obj->x;
    *v13 = obj->parent[13];
    v13[1] = v11;
    v13[2] = v12;
    object_setPanelsFromCoordinates(obj);
    v14 = obj;
    v15 = obj->parent;
    v16 = sub_801002C();
    sprite_setPallete(v16);
    v17 = object_getFlip(v14);
    sprite_setFlip(v14, v17);
    v18 = sub_800F29C(*(v1 + 20));
    sub_8010DF6(v18, v19);
    sub_80E1352(v14->parent, 0xFu);
    *&v14->currState = 4;
    return sub_80BB35C();
}


// 0x80bb35c
int sub_80BB35C()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    if ( !sub_800EB6C(v0[22]) )
        *v0 &= 0xFDu;
    return (*(&off_80BB388 + v0[10]))();
}


// 0x80bb398
void __noreturn sub_80BB398()
{
    int v0; // r5
    int v1; // r6

    object_getFrontDirection(v0);
    *(v0 + 120) = 2;
    v1 = byte_80BB3F4[*(v0 + 22)];
    *(v0 + 108) = v1;
    sub_800D5F0(v1, *(v0 + 22));
}


// 0x80bb3f6
signed int sub_80BB3F6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    signed int result; // r0

    v1 = *(v0 + 34) - 1;
    *(v0 + 34) = v1;
    if ( !v1 )
        goto LABEL_8;
    v2 = *(v0 + 32) - 1;
    *(v0 + 32) = v2;
    if ( !v2 )
    {
        *(v0 + 32) = 12;
        sub_80BB4CE();
        PlaySoundEffect(270, v3, v4);
    }
    result = *(*(*(v0 + 76) + 88) + 44);
    if ( result & 1 )
    {
LABEL_8:
        *(v0 + 124) = *(v0 + 11);
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bb42e
int __fastcall sub_80BB42E(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 16;
        *(v3 + 11) = 4;
    }
    --*(v3 + 34);
    if ( *(v3 + 32) == 4 )
        *(v3 + 16) = 12;
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v5 )
    {
        PlaySoundEffect(180, a2, a3);
        sub_80BB52E();
        *(v3 + 32) = 60;
        result = 12;
        *(v3 + 10) = 12;
    }
    return result;
}


// 0x80bb46a
int sub_80BB46A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        sub_80E13DC(*(v0 + 76));
        result = 0;
        **(v0 + 96) = 0;
    }
    return result;
}


// 0x80bb49c
int __fastcall sub_80BB49C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(20, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 40) = *(v11 + 40);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bb4ce
int sub_80BB4CE()
{
    Battle *v0; // r5

    object_getFrontDirection(v0);
    (*(&off_80BB4F0 + v0->bPhaseInitialized))();
    return sub_80BB59A();
}


// 0x80bb4f8
signed int sub_80BB4F8()
{
    int v0; // r5
    int v1; // r6
    int v2; // r1
    signed int result; // r0

    v2 = *(v0 + 116);
    result = *(v0 + 108);
    if ( result == v2 )
    {
        *(v0 + 116) = result - v1;
        *(v0 + 120) = 1;
        result = 4;
        *(v0 + 11) = 4;
    }
    else
    {
        *(v0 + 116) = v2 + v1;
    }
    return result;
}


// 0x80bb514
int sub_80BB514()
{
    int v0; // r5
    signed int v1; // r1
    int result; // r0

    v1 = *(v0 + 120);
    if ( v1 < 3 )
    {
        *(v0 + 120) = v1 + 1;
    }
    else
    {
        *(v0 + 116) = *(v0 + 112);
        *(v0 + 120) = 2;
        result = 0;
        *(v0 + 11) = 0;
    }
    return result;
}


// 0x80bb52e
int sub_80BB52E()
{
    int v0; // r5
    int v1; // r2
    signed int v2; // r0
    int v3; // r1
    char *v4; // r7
    int v5; // r0
    int v6; // r6
    int v8; // [sp-Ch] [bp-1Ch]
    int v9; // [sp-8h] [bp-18h]

    object_getFrontDirection(v0);
    v2 = 4;
    v3 = *(v0 + 124);
    if ( v3 )
        v2 = 29;
    v4 = *(&off_8019B78 + v2);
    v5 = *v4;
    if ( v5 != 127 )
    {
        v8 = v5 + *(v0 + 116);
        v9 = v4[1] + *(v0 + 120);
        v6 = *(v0 + 44);
        sub_80C53A6(v8, v9, *(v0 + 14), 0);
        object_breakPanel_dup2(v8, v9);
    }
    PlaySoundEffect(271, v3, v1);
    return camera_initShakeEffect_80302a8(1, 30);
}


// 0x80bb59a
void sub_80BB59A()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // r2
    int v8; // r1
    int v9; // r3
    int v10; // r1
    int v11; // r2
    int v12; // r3

    v1 = *(v0 + 120);
    v2 = object_getCoordinatesForPanels(*(v0 + 116));
    sub_80BB5DC(v2, v2, v3, 0);
    if ( *(v0 + 11) )
    {
        sub_80BB5DC(2621440, v4 - 2621440, v5, v6);
        sub_80BB5DC(5242880, v10 + 5242880, v11, v12);
    }
    else
    {
        sub_80BB5DC(1572864, v4, v5 - 1572864, v6);
        sub_80BB5DC(3145728, v8, v7 + 3145728, v9);
    }
}


// 0x80bb5dc
void __fastcall sub_80BB5DC(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    __int16 v5; // r7
    int v6; // r0

    SpawnT4BattleObjectWithId0(v4, a1, a2, a3, a4);
    if ( v6 )
        *(v6 + 32) = v5;
}


// 0x80bb608
void sub_80BB608()
{
    int v0; // r5

    (*(&off_80BB620 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80bb62c
signed int __noreturn sub_80BB62C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 4);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bb66a
int sub_80BB66A()
{
    int v0; // r5

    return (*(&off_80BB67C + *(v0 + 9)))();
}


// 0x80bb694
int __fastcall sub_80BB694(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 20;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80bb6e8
int sub_80BB6E8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80bb710
int sub_80BB710()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r1
    int v8; // r2

    if ( *(v0 + 10) )
    {
        if ( sub_80BB89C() || (v4 = *(v0 + 32), v5 = __OFSUB__(v4, 1), --v4, *(v0 + 32) = v4, ((v4 < 0) ^ v5) | (v4 == 0)) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            v6 = *(v0 + 34);
            v5 = __OFSUB__(v6, 1);
            result = v6 - 1;
            *(v0 + 34) = result;
            if ( ((result < 0) ^ v5) | (result == 0) )
            {
                sub_80BB866();
                sub_80BB81C();
                PlaySoundEffect(270, v7, v8);
                result = *(v0 + 4);
                *(v0 + 34) = result;
            }
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 96) = 3;
        sub_80BB866();
        sub_80BB81C();
        PlaySoundEffect(270, v1, v2);
        *(v0 + 32) = dword_168;
        result = *(v0 + 4);
        *(v0 + 34) = result;
    }
    return result;
}


// 0x80bb772
int sub_80BB772()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 17;
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80bb79a
int sub_80BB79A()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            *(v0 + 9) = 20;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 18;
        sub_80BB8B0();
        PlaySoundEffect(186, v1, v2);
        result = 60;
        *(v0 + 32) = 60;
    }
    return result;
}


// 0x80bb7cc
int sub_80BB7CC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80bb7f6
int __fastcall sub_80BB7F6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(21, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80bb81c
int sub_80BB81C()
{
    int v0; // r5
    signed int v1; // r6
    int v2; // r0
    char *v3; // r2
    bool v4; // zf
    int v5; // r2
    int v6; // r3
    int result; // r0
    int v8; // r4
    int v9; // [sp-8h] [bp-14h]
    int v10; // [sp-4h] [bp-10h]

    v1 = 1;
    do
    {
        v2 = object_getFrontDirection(v0);
        v3 = &byte_80BB860[2 * *(v0 + 100)];
        v9 = *(v0 + 18) + *v3 * v2 * v1;
        v10 = *(v0 + 19) + v3[1] * v1;
        v4 = object_isValidPanel(v9, v10) == 0;
        result = v9;
        if ( v4 )
            break;
        v8 = *(v0 + 4);
        result = sub_80E7942(v9, v10, v5, v6);
        ++v1;
    }
    while ( v1 <= 5 );
    return result;
}


// 0x80bb866
int sub_80BB866()
{
    int v0; // r5
    char *v1; // r2
    __int64 v2; // r0

    v1 = &byte_80BB88C[5 * (*(v0 + 19) - 1)];
    HIDWORD(v2) = *(v0 + 96) + 1;
    LODWORD(v2) = v1[HIDWORD(v2)];
    if ( v2 == 255 )
        v2 = *v1;
    *(v0 + 100) = v2;
    *(v0 + 96) = HIDWORD(v2);
    return v2;
}


// 0x80bb89c
signed int sub_80BB89C()
{
    int v0; // r5
    signed int result; // r0

    result = 0;
    if ( *(*(*(v0 + 76) + 88) + 44) & 1 )
        result = 1;
    return result;
}


// 0x80bb8b0
int sub_80BB8B0()
{
    int v0; // r5
    int v1; // r6
    int v2; // r0
    char *v3; // r2
    int v4; // ST04_4
    bool v5; // zf
    int result; // r0
    int v7; // r1
    int v8; // ST04_4
    int v9; // r4
    int v10; // r6
    int v11; // [sp-8h] [bp-14h]

    v1 = 1;
    do
    {
        v2 = object_getFrontDirection(v0);
        v3 = &byte_80BB908[2 * *(v0 + 100)];
        v11 = *(v0 + 18) + *v3 * v2 * v1;
        v4 = *(v0 + 19) + v3[1] * v1;
        v5 = object_isValidPanel(v11, v4) == 0;
        result = v11;
        v7 = v4;
        if ( v5 )
            break;
        v8 = v1;
        v9 = *(v0 + 100) | 0x3C00;
        v10 = *(v0 + 44);
        result = sub_80DDA5A(v11, v7, *(v0 + 14), 0);
        v1 = v8 + 1;
    }
    while ( v8 + 1 <= 5 );
    return result;
}


// 0x80bb914
void sub_80BB914()
{
    int v0; // r5

    (*(&off_80BB92C + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80bb938
signed int __noreturn sub_80BB938()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 5);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bb976
int sub_80BB976()
{
    int v0; // r5

    return (*(&off_80BB988 + *(v0 + 9)))();
}


// 0x80bb99c
int __fastcall sub_80BB99C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 12;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80bb9f0
int sub_80BB9F0()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80BBB38();
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( result == 30 )
    {
        result = 15;
        *(v0 + 16) = 15;
    }
    else if ( result <= 0 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bba26
int __fastcall sub_80BBA26(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int result; // r0
    int v5; // r4
    u32 v6; // r1
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // [sp-8h] [bp-10h]
    int v11; // [sp-4h] [bp-Ch]

    if ( !v3->currPhase )
    {
        v3->currPhase = 4;
        PlaySoundEffect(227, a2, a3);
        return sub_80BBAEC();
    }
    v5 = v3->panelX;
    v3->x += v3->vx;
    v6 = v3->y;
    v10 = convertXYToPanelXY_800E258(v3->x);
    v11 = v7;
    if ( object_isValidPanel(v10, v7) )
    {
        if ( !object_isPanelSolid(v10, v11) )
        {
            v3->currAction = 12;
            result = 0;
            *&v3->currPhase = 0;
            return result;
        }
        object_setPanelsFromCoordinates(v3);
        if ( v3->panelX != v5 )
            sub_80BBB18();
    }
    v8 = v3->Timer;
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    v3->Timer = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        v3->currAction = 16;
        result = 0;
        *&v3->currPhase = 0;
    }
    return result;
}


// 0x80bba8e
int sub_80BBA8E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80bbab8
signed int sub_80BBAB8()
{
    int v0; // r5
    signed int result; // r0

    **(v0 + 84) = 0;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80bbac6
int __fastcall sub_80BBAC6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(22, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80bbaec
int sub_80BBAEC()
{
    Battle *v0; // r5
    signed int v1; // r0
    int v2; // r0
    int result; // r0

    v0->vx = object_getFrontDirection(v0) << 18;
    v1 = 7;
    if ( v0->Alliance )
        v1 = 0;
    v2 = v1 - v0->panelX;
    if ( v2 < 0 )
        v2 = -v2;
    result = 2621440 * v2;
    __asm { SVC         6 }
    v0->Timer = result;
    return result;
}


// 0x80bbb18
_BYTE *sub_80BBB18()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80bbb38
signed int __noreturn sub_80BBB38()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r6
    int v4; // [sp-8h] [bp-18h]
    int v5; // [sp-4h] [bp-14h]

    v1 = 0;
    do
    {
        v4 = -object_getFrontDirection(v0) * (v1 + 1) + *(v0 + 18);
        v5 = *(v0 + 19);
        if ( !object_checkPanelParameters(v4, v5, 16, 260046848) )
            break;
        v2 = *(v0 + 44);
        sub_80DB014(v4, v5, *(v0 + 14), -16777216);
        ++v1;
    }
    while ( v1 <= 4 );
    return v1;
}


// 0x80bbb98
void sub_80BBB98()
{
    int v0; // r5

    (*(&off_80BBBB0 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80bbbbc
signed int __noreturn sub_80BBBBC()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 9);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 9);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bbc04
int sub_80BBC04()
{
    int v0; // r5

    return (*(&off_80BBC18 + *(v0 + 9)))();
}


// 0x80bbc2c
int __fastcall sub_80BBC2C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 16;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 9;
        *(v3 + 32) = 9;
    }
    return result;
}


// 0x80bbc80
int __fastcall sub_80BBC80(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    signed int v5; // r0

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        if ( v5 <= 25 && v5 >= 10 )
        {
            a2 = *(v3 + 52);
            *(v3 + 52) = *(v3 + 64) + a2;
        }
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( result == 25 )
        {
            *(v3 + 16) = 17;
            result = PlaySoundEffect(230, a2, a3);
        }
        else if ( result <= 0 )
        {
            *(v3 + 9) = 8;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 0;
        *(v3 + 64) = -32768 * object_getFrontDirection(v3);
        result = 40;
        *(v3 + 32) = 40;
    }
    return result;
}


// 0x80bbcd8
int sub_80BBCD8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int result; // r0
    int v8; // r4
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v0 + 10) )
    {
        v8 = *(v0 + 18);
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        if ( *(v0 + 18) != v8 )
            sub_80BBE3A();
        if ( object_checkPanelParameters(
                     *(v0 + 18),
                     *(v0 + 19),
                     *&byte_80BBD50[8 * *(v0 + 22)],
                     *&byte_80BBD50[8 * *(v0 + 22) + 4]) )
        {
            v9 = *(v0 + 32);
            v10 = __OFSUB__(v9, 1);
            result = v9 - 1;
            *(v0 + 32) = result;
            if ( ((result < 0) ^ v10) | (result == 0) )
            {
                *(v0 + 9) = 12;
                result = 0;
                *(v0 + 10) = 0;
            }
        }
        else
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 18;
        sub_80BBE0E();
        v3 = PlaySoundEffect(448, v1, v2);
        result = sub_80E7896(v3, v4, v5, v6);
        *(v0 + 96) = result;
    }
    return result;
}


// 0x80bbd60
int __fastcall sub_80BBD60(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int result; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 4;
        *(v3 + 32) = 150;
        *(v3 + 34) = 0;
        *(v3 + 100) = 0;
        *(v3 + 104) = 0;
        PlaySoundEffect(229, 4, a3);
        camera_initShakeEffect_80302a8(2, *(v3 + 32));
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4--, 1);
    *(v3 + 32) = v4;
    if ( ((v4 < 0) ^ v5) | (v4 == 0) )
    {
        *(v3 + 9) = 16;
        result = 0;
        *(v3 + 10) = 0;
    }
    else
    {
        v6 = *(v3 + 34);
        v5 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v3 + 34) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
            sub_80BBE58();
    }
    return result;
}


// 0x80bbdac
int sub_80BBDAC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            sub_8011044(2, 9);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        *(v0 + 32) = 4;
        result = *(v0 + 96);
        if ( result )
            result = sub_80E78AE(result);
    }
    return result;
}


// 0x80bbde8
int __fastcall sub_80BBDE8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(23, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80bbe0e
int sub_80BBE0E()
{
    Battle *v0; // r5
    signed int v1; // r0
    int v2; // r0
    int result; // r0

    v0->vx = object_getFrontDirection(v0) << 19;
    v1 = 6;
    if ( v0->Alliance )
        v1 = 1;
    v2 = v1 - v0->panelX;
    if ( v2 < 0 )
        v2 = -v2;
    result = 2621440 * v2;
    __asm { SVC         6 }
    v0->Timer = result;
    return result;
}


// 0x80bbe3a
_BYTE *sub_80BBE3A()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80bbe58
int __noreturn sub_80BBE58()
{
    int v0; // r5
    int v1; // r1
    int v2; // r6
    unsigned int v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // r6
    int result; // r0
    int v12; // [sp+0h] [bp-8h]
    char v13; // [sp+4h] [bp-4h]
    int v14; // [sp+8h] [bp+0h]

    v12 = *(v0 + 18);
    v13 = *(v0 + 19);
    v1 = *(v0 + 104);
    *(v0 + 18) = *(v0 + 100);
    *(v0 + 19) = v1;
    v2 = object_getPanelsExceptCurrentFilterred(
                 8 * *(v0 + 22),
                 &off_80BBEE0 + 8 * *(v0 + 22),
                 *(&off_80BBEE0 + 2 * *(v0 + 22)),
                 *(&off_80BBEE0 + 2 * *(v0 + 22) + 1));
    if ( v2
        || (v2 = object_getPanelsExceptCurrentFilterred(
                             8 * *(v0 + 22),
                             &byte_80BBEF4[8 * *(v0 + 22)],
                             *&byte_80BBEF4[8 * *(v0 + 22)],
                             *&byte_80BBEF4[8 * *(v0 + 22) + 4])) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v7 = *(&v14 + v2);
        v8 = v7 >> 4;
        v9 = v7 & 7;
        *(v0 + 100) = v9;
        *(v0 + 104) = v8;
        v10 = *(v0 + 44);
        sub_80D54F0(v9, v8, *(v0 + 14), 0);
    }
    result = v12;
    *(v0 + 18) = v12;
    *(v0 + 19) = v13;
    return result;
}


// 0x80bbf0c
void sub_80BBF0C()
{
    int v0; // r5

    (*(&off_80BBF24 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80bbf30
signed int __noreturn sub_80BBF30()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 10);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bbf6e
int sub_80BBF6E()
{
    int v0; // r5

    return (*(&off_80BBF80 + *(v0 + 9)))();
}


// 0x80bbf94
int __fastcall sub_80BBF94(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( (object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10010) == 65552 )
                *(v3 + 9) = 4;
            else
                *(v3 + 9) = 16;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 3;
        PlaySoundEffect(148, 4, a3);
        *v3 |= 2u;
        result = 10;
        *(v3 + 32) = 10;
    }
    return result;
}


// 0x80bbfe8
int sub_80BBFE8()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 10 )
        {
            result = sub_80BC100();
            *(v0 + 4) = result;
            if ( result )
                result = PlaySoundEffect(173, v2, v3);
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80bc024
int sub_80BC024()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 9 )
        {
            result = 17;
            *(v0 + 16) = 17;
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 15;
        result = 34;
        *(v0 + 32) = 34;
    }
    return result;
}


// 0x80bc058
int __fastcall sub_80BC058(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0
    int v12; // r1
    int v13; // r2

    v5 = *(v4 + 10);
    if ( *(v4 + 10) )
    {
        v9 = *(v4 + 32);
        v10 = __OFSUB__(v9--, 1);
        *(v4 + 32) = v9;
        if ( ((v9 < 0) ^ v10) | (v9 == 0) )
        {
            *(v4 + 9) = 16;
            result = 0;
            *(v4 + 10) = 0;
        }
        else
        {
            v11 = *(v4 + 34);
            v10 = __OFSUB__(v11, 1);
            result = v11 - 1;
            *(v4 + 34) = result;
            if ( ((result < 0) ^ v10) | (result == 0) )
            {
                sub_80BC160(result, a2, a3, a4);
                PlaySoundEffect(255, v12, v13);
                result = *(v4 + 5) + 1;
                *(v4 + 5) = result;
                *(v4 + 34) = 20;
            }
        }
    }
    else
    {
        *(v4 + 10) = 4;
        sub_80BC13E(v5, 4, a3, a4);
        PlaySoundEffect(255, v6, v7);
        *(v4 + 5) = 0;
        result = 20 * (*(v4 + 4) + 1);
        *(v4 + 32) = result;
        *(v4 + 34) = 20;
    }
    return result;
}


// 0x80bc0b0
int sub_80BC0B0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 4;
        result = 4;
        *(v0 + 32) = 4;
    }
    return result;
}


// 0x80bc0da
int __fastcall sub_80BC0DA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(24, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80bc100
int sub_80BC100()
{
    int v0; // r5
    int v1; // r10
    int v2; // r7
    signed int v3; // r4
    int v4; // r6
    int v5; // r0
    int v7; // [sp-Ch] [bp-1Ch]
    int v8; // [sp-4h] [bp-14h]

    v2 = *(v1 + oToolkit_S2034880_Ptr) + 160;
    v3 = 0;
    v4 = 0;
    do
    {
        v5 = *(v2 + v3);
        if ( v5 )
        {
            v7 = *(v2 + v3);
            v8 = *(v5 + 40);
            if ( sub_800F486(v8) )
            {
                *(v0 + 4 * v4++ + 96) = v8;
                sub_800F884(v7);
            }
        }
        v3 += 4;
    }
    while ( v3 <= 28 );
    return v4;
}


// 0x80bc13e
signed int __fastcall sub_80BC13E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    signed int result; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3

    v5 = *(v4 + 44);
    sub_80DB800(*(v4 + 18), *(v4 + 19), *(v4 + 14), a4);
    object_getFlip(v4);
    result = 81;
    v7 = *(v4 + 52);
    v8 = *(v4 + 56);
    v9 = *(v4 + 60);
    return result;
}


// 0x80bc160
int __fastcall sub_80BC160(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r6

    v5 = *(v4 + 4 * *(v4 + 5) + 96);
    v6 = *(v4 + 44);
    return sub_80DBC90(*(v4 + 18), *(v4 + 19), *(v4 + 14), a4);
}


// 0x80bc17c
int sub_80BC17C()
{
    int v0; // r5

    return (*(&off_80BC190 + *(v0 + 8)))();
}


// 0x80bc19c
void __noreturn sub_80BC19C()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 4, 3);
    sprite_loadAnimationData(v0);
    sprite_removeShadow();
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    *(v0 + 16) = 3;
    sprite_setAnimation(v0, 3u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    *(v0 + 101) = 96;
    sub_80BC1DA();
}


// 0x80bc1da
int sub_80BC1DA()
{
    int v0; // r5
    int v1; // r10
    int v2; // r0
    int v3; // r0
    unsigned int v4; // r0
    int v5; // r0
    int v6; // r0

    if ( sub_802D234() == 6 && *v0 & 4 && *(*(v1 + oToolkit_S2034880_Ptr) + 1) == 12 )
        *v0 &= 0xFBu;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v2 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v2);
    v3 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v3);
    v4 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v4);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v5 = object_getFlip(v0);
    sprite_setFlip(v0, v5);
    v6 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v6);
    return (*(&off_80BC258 + *(v0 + 9)))();
}


// 0x80bc268
int sub_80BC268()
{
    int v0; // r5
    unsigned int v1; // r0
    unsigned __int8 v2; // cf
    int result; // r0

    sub_80BC424();
    v1 = sub_800139A();
    v2 = __CFSHR__(v1, 2);
    result = v1 >> 2;
    if ( v2 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = sub_80BC284();
    }
    return result;
}


// 0x80bc284
int sub_80BC284()
{
    int result; // r0
    int v1; // r1
    int v2; // r2
    int v3; // r3

    result = sub_80BC434();
    if ( result )
    {
        result = sub_80BC494(result, v1, v2, v3);
        if ( result )
            result = sub_80BC424();
    }
    return result;
}


// 0x80bc29c
int __fastcall sub_80BC29C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    result = sub_80BC494(a1, a2, a3, a4);
    if ( result )
    {
        result = sub_80BC434();
        if ( result )
            result = (*(&off_80BC2C0 + *(v4 + 10)))();
    }
    return result;
}


// 0x80bc2c8
int sub_80BC2C8()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 104) - 1;
    *(v0 + 104) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 64) -= *(v0 + 68);
    }
    else
    {
        sub_80BC424();
        *(*(v0 + 76) + 96) = 0;
        *(*(v0 + 76) + 108) = 1;
        *(v0 + 16) = 3;
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    object_setPanelsFromCoordinates(v0);
    return sub_80BC468();
}


// 0x80bc30e
int sub_80BC30E()
{
    int v0; // r5
    int v1; // r0
    int v2; // r3
    int v3; // r0
    int v4; // r0

    v1 = object_getFrontDirection(v0);
    v2 = -v1;
    v3 = *(v0 + 64) * -v1 + *(v0 + 116);
    *(v0 + 116) = v3;
    if ( v3 >= 7864320 )
    {
        sub_80BC424();
        *(*(v0 + 76) + 96) = 0;
        *(*(v0 + 76) + 108) = 1;
        *(v0 + 16) = 3;
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    else
    {
        *(v0 + 52) += *(v0 + 64);
        v4 = *(v0 + 64) - *(v0 + 68);
        if ( v4 * v2 < 0x10000 )
            v4 = v2 << 16;
        *(v0 + 64) = v4;
    }
    object_setPanelsFromCoordinates(v0);
    return sub_80BC468();
}


// 0x80bc36e
int sub_80BC36E()
{
    int v0; // r5
    int result; // r0

    sub_80BC434();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sub_80E1A86(*(*(v0 + 88) + 116));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bc38a
int __fastcall sub_80BC38A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+4h] [bp-Ch]
    int v7; // [sp+8h] [bp-8h]

    object_spawnType1(25, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 22) = *(v7 + 22);
        *v4 |= 4u;
        *(v4 + 100) = v6;
    }
    return result;
}


// 0x80bc3ae
int __fastcall sub_80BC3AE(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80bc3b8
int __fastcall sub_80BC3B8(int result, int a2, char a3, char a4)
{
    int v4; // r5
    int v5; // r0
    unsigned int v6; // r3
    int v7; // r6

    v4 = result;
    if ( result )
    {
        result = *(result + 9);
        if ( result == 4 )
        {
            *(v4 + 44) = a2;
            *(v4 + 96) = a3;
            *(v4 + 97) = a4;
            *(v4 + 18) = a3;
            *(v4 + 19) = a4;
            object_setCoordinatesFromPanels(v4);
            *(v4 + 16) = 4;
            v5 = object_getFrontDirection(v4);
            v6 = 4 * *(v4 + 100);
            *(v4 + 64) = *&byte_810AA3C[v6] * v5;
            *(v4 + 68) = *&byte_810AA54[v6] * v5;
            v6 >>= 1;
            *(v4 + 104) = *&byte_810AA30[v6];
            v7 = *(v4 + 44);
            *(v4 + 108) = sub_80D964E(v4 + 9, 4, *(*(v4 + 76) + 36), v6);
            result = sub_80BC424();
            *(v4 + 9) = 8;
            *(v4 + 10) = 0;
        }
    }
    return result;
}


// 0x80bc424
int sub_80BC424()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    return v0 + 64;
}


// 0x80bc434
signed int sub_80BC434()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    if ( sub_802D234() == 6 || (battle_isPaused(), v2) )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x110C00) )
            {
                battle_isTimeStop();
                if ( v2 )
                {
                    UpdateBattleObjectSprite();
                    v1 = 1;
                }
            }
        }
    }
    return v1;
}


// 0x80bc468
int sub_80BC468()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r3

    result = battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        result = *(v3 + 36);
        if ( *(v3 + 36) )
        {
            result = *(*(v3 + 84) + 60);
            if ( !(result & 0x110C00) )
                result = sub_801DCCC((*(v0 + 52) - *(v3 + 52)) >> 16, 0);
        }
    }
    return result;
}


// 0x80bc494
int __fastcall sub_80BC494(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r7

    result = *(*(v4 + 76) + 36);
    if ( !*(*(v4 + 76) + 36) )
    {
        v6 = *(v4 + 88) + 116;
        sub_80E1A6A(result, a2, a3, a4);
        *(v4 + 32) = 32;
        *(v4 + 9) = 12;
        result = 0;
    }
    return result;
}


// 0x80bc4b4
int __fastcall sub_80BC4B4(int a1, int a2, int a3)
{
    Battle *v3; // r5
    char v4; // t1
    char v5; // t1

    v4 = byte_810AA3C[v3->extraVars[4]];
    v5 = byte_810AA54[v3->extraVars[4]];
    __asm
    {
        SVC         6
        SVC         6
    }
    return object_getFrontDirection(v3) * a3;
}


// 0x80bc4fc
void sub_80BC4FC()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80BC518 + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
}


// 0x80bc524
void __noreturn sub_80BC524()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 8, 20);
    sprite_noShadow(v0);
    *v0 &= 0xFDu;
    v1 = *(*(v0 + 76) + 16) - *(v0 + 5) + *(v0 + 4);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 8) = 4;
    sprite_update(v0);
    sub_80BC56E();
}


// 0x80bc56e
int sub_80BC56E()
{
    int v0; // r5

    return (*(&off_80BC588 + *(v0 + 9)))();
}


// 0x80bc58c
int sub_80BC58C()
{
    int v0; // r5
    int v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    __int16 v5; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r0
    unsigned int v9; // r0
    int v10; // r0

    *(v0 + 16) = *(*(v0 + 76) + 16) - *(v0 + 5) + *(v0 + 4);
    v1 = *(v0 + 76);
    v2 = *(v1 + 56);
    v3 = *(v1 + 60);
    v4 = (v0 + 52);
    *v4 = *(v1 + 52);
    v4[1] = v2;
    v4[2] = v3;
    if ( *(v0 + 7) && *(v1 + 62) != 255 )
        *(v0 + 62) = 0;
    v5 = *(v0 + 6);
    *(v0 + 58) -= v5;
    *(v0 + 62) -= v5;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v6 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v6);
    v7 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v7);
    v8 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v8);
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    return (sprite_setAlpha)(v10);
}


// 0x80bc610
int __fastcall sub_80BC610(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    int v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType1(26, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 76) = v8;
        *(v4 + 44) = 0;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80bc638
int __fastcall sub_80BC638(int result, char a2)
{
    if ( result )
    {
        *(result + 16) = a2;
        *(result + 17) = -1;
    }
    return result;
}


// 0x80bc644
int __fastcall sub_80BC644(int result)
{
    if ( result )
        *(result + 17) = -1;
    return result;
}


// 0x80bc650
int sub_80BC650()
{
    int v0; // r5

    return (*(&off_80BC664 + *(v0 + 8)))();
}


// 0x80bc670
signed int __noreturn sub_80BC670()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v9; // r0
    int v10; // r0
    int v11; // r0
    signed int result; // r0

    *(v0 + 40) = *(v0 + 4) + &loc_1A0;
    sub_800FC9E(*(v0 + 4), 0);
    sprite_load(v0, 128, v1, v2);
    sprite_loadAnimationData(v0);
    sprite_removeShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(4);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    *(v0 + 104) = -1;
    v4 = *(v0 + 98);
    __asm { SVC         6 }
    *(v0 + 100) = 2621440;
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += *(v0 + 100) * *(v0 + 98) * object_getFrontDirection(v0);
    v9 = 1572864 * (4 - *(v0 + 19));
    *(v0 + 56) += v9;
    *(v0 + 60) = 0;
    *(v0 + 60) += v9;
    *(v0 + 108) = v9;
    v10 = *&byte_80BC758[4 * *(v0 + 4)];
    *(v0 + 112) = v10;
    *(v0 + 60) += v10;
    v11 = sub_8010DD0();
    if ( *(v0 + 4) == 6 )
        *(v11 + 96) = 1;
    sprite_forceWhitePallete();
    *(v0 + 116) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80bc78c
void __fastcall sub_80BC78C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r1
    int v9; // r0
    int v10; // r1
    _BYTE *v11; // r0

    if ( !*(v3 + 9) )
    {
        sprite_forceWhitePallete();
        v4 = *(v3 + 32) - 1;
        *(v3 + 32) = v4;
        if ( v4 )
        {
LABEL_9:
            object_updateSprite();
            return;
        }
        sprite_clearFinalPalette();
        a2 = 10;
        *(v3 + 32) = 10;
        *(v3 + 9) = 1;
    }
    v5 = *(v3 + 32) - 1;
    *(v3 + 32) = v5;
    if ( v5 )
        goto LABEL_9;
    if ( !*(v3 + 116) )
    {
        *(v3 + 116) = 1;
        PlaySoundEffect(140, a2, a3);
    }
    v6 = *(v3 + 98) - 1;
    *(v3 + 98) = v6;
    if ( v6 > 0 )
    {
        *(v3 + 32) = 2;
        object_setCoordinatesFromPanels(v3);
        *(v3 + 52) += *(v3 + 104) * *(v3 + 100) * *(v3 + 98) * object_getFrontDirection(v3);
        v7 = *(v3 + 108);
        *(v3 + 56) += v7;
        *(v3 + 60) = 0;
        *(v3 + 60) += v7;
        *(v3 + 60) += *(v3 + 112);
        *(v3 + 104) = -*(v3 + 104);
        goto LABEL_9;
    }
    sub_8011020();
    v8 = *(v3 + 19);
    v9 = object_getCoordinatesForPanels(*(v3 + 18));
    SpawnT4BattleObjectWithId0(v3, v9, v9, v10, 0x100000);
    *v11 |= 4u;
    object_freeMemory();
}


// 0x80bc844
int __fastcall sub_80BC844(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    __int16 v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a4;
    object_spawnType1(27, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 98) = v8;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 76) = v9;
        *(v4 + 32) = 6;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80bc87c
int snakearmRelatedObject_80BC87C()
{
    int v0; // r5

    if ( battle_isBattleOver() )
        *(v0 + 8) = 8;
    return (*(&off_80BC89C + *(v0 + 8)))();
}


// 0x80bc8a8
void __noreturn snakearmRelatedObject_init_80BC8A8()
{
    int v0; // r5
    int v1; // r0

    *v0 |= 2u;
    sprite_load(v0, 128, 16, 72);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 96));
    sprite_setPallete(v1);
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 8) = 4;
    snakearmRelatedObject_update_80BC8EC();
}


// 0x80bc8ec
int snakearmRelatedObject_update_80BC8EC()
{
    int v0; // r5
    int result; // r0

    (*(&off_80BC914 + *(v0 + 9)))();
    result = (*v0 & 0xFD) | **(v0 + 76) & 2;
    *v0 = result;
    return result;
}


// 0x80bc920
int snakearmRelatedObject_action0x0_80BC920()
{
    _BYTE *v0; // r5
    int result; // r0

    if ( GetRelatedObject1HP() )
    {
        result = UpdateBattleObjectSpriteIfStatusPermits();
        if ( result )
        {
            result = sprite_getFrameParameters();
            if ( result & 0x80 )
            {
                v0[16] = 1;
                v0[9] = 4;
                result = 0;
                v0[10] = 0;
            }
        }
    }
    else
    {
        v0[16] = 2;
        v0[9] = 8;
        result = 0;
        v0[10] = 0;
    }
    return result;
}


// 0x80bc958
int snakearmRelatedObject_action0x4_80BC958()
{
    _BYTE *v0; // r5
    int result; // r0

    if ( GetRelatedObject1HP() )
        return UpdateBattleObjectSpriteIfStatusPermits();
    v0[16] = 2;
    v0[9] = 8;
    result = 0;
    v0[10] = 0;
    return result;
}


// 0x80bc976
int snakearmRelatedObject_action0x8_80BC976()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    result = battle_isPaused();
    if ( v2 )
    {
        result = battle_isTimeStop();
        if ( v2 )
        {
            UpdateBattleObjectSprite();
            result = sprite_getFrameParameters();
            if ( result & 0x80 )
            {
                result = 8;
                *(v0 + 8) = 8;
            }
        }
    }
    return result;
}


// 0x80bc998
int __fastcall spawnSnakearmRelatedObject_t1_0x1c_80BC998(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    char v5; // [sp+0h] [bp-14h]
    char v6; // [sp+4h] [bp-10h]
    int v7; // [sp+8h] [bp-Ch]
    int v8; // [sp+Ch] [bp-8h]

    v5 = a1;
    v6 = a2;
    v7 = a3;
    object_spawnType1(28, a1, a2, 0);
    result = v3;
    if ( v3 )
    {
        *(v3 + 76) = v8;
        *(v3 + 18) = v5;
        *(v3 + 19) = v6;
        *(v3 + 22) = *(v8 + 22);
        *(v3 + 96) = v7;
    }
    return result;
}


// 0x80bc9be
int __fastcall snakearmRelated_setAnim2CurAction8IfCurActionNot8_80BC9BE(int result)
{
    if ( result )
    {
        if ( *(result + 9) != 8 )
        {
            *(result + 16) = 2;
            *(result + 9) = 8;
        }
    }
    return result;
}


// 0x80bc9d2
signed int UpdateBattleObjectSpriteIfStatusPermits()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        if ( !(*(*(*(v0 + 76) + 84) + 60) & 0x80110C00) )
        {
            battle_isTimeStop();
            if ( v2 )
            {
                UpdateBattleObjectSprite();
                v1 = 1;
            }
        }
    }
    return v1;
}


// 0x80bc9f8
int GetRelatedObject1HP()
{
    int v0; // r5

    return *(*(v0 + 76) + 36);
}


// 0x80bca04
int sub_80BCA04()
{
    int v0; // r5

    return (*(&off_80BCA18 + *(v0 + 8)))();
}


// 0x80bca24
void __noreturn sub_80BCA24()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 4, 19);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    v2 = *(v0 + 76);
    *(v0 + 52) = *(v2 + 52);
    *(v0 + 58) = *(v2 + 58) + 2;
    *(v0 + 62) = *(v2 + 62) + 24;
    *(v0 + 16) = 5;
    sprite_setAnimation(v0, 5u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 96) = 0;
    *(v0 + 8) = 4;
    sub_80BCA72();
}


// 0x80bca72
int sub_80BCA72()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned int v3; // r0
    int v4; // r0
    int v5; // r0

    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v1 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v1);
    v2 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v2);
    v3 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v3);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    v5 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v5);
    return (*(&off_80BCAD0 + *(v0 + 9)))();
}


// 0x80bcad4
int sub_80BCAD4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0

    if ( battle_isBattleOver() )
        goto LABEL_9;
    result = sub_80BCB34();
    if ( result )
    {
        v2 = object_getFrontDirection(v0);
        if ( !*(v0 + 100) )
            v2 = -v2;
        *(v0 + 54) += 6 * v2;
        *(v0 + 62) += 4;
        result = *(v0 + 96) + 1;
        *(v0 + 96) = result;
        if ( result == 90 )
        {
LABEL_9:
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80bcb12
int __fastcall sub_80BCB12(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-10h]
    int v7; // [sp+8h] [bp-8h]

    v6 = a2;
    object_spawnType1(29, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 100) = v6;
        *(v4 + 22) = *(v7 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80bcb34
signed int sub_80BCB34()
{
    signed int v0; // r4
    char v1; // zf

    v0 = 0;
    battle_isPaused();
    if ( v1 )
    {
        battle_isTimeStop();
        if ( v1 )
        {
            UpdateBattleObjectSprite();
            v0 = 1;
        }
    }
    return v0;
}


// 0x80bcb50
void sub_80BCB50()
{
    int v0; // r5

    (*(&off_80BCB68 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bcb74
int __noreturn sub_80BCB74()
{
    Battle *v0; // r5
    u32 *v1; // r4
    Battle *v2; // ST04_4
    u32 *v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    u32 v11; // r2
    u32 v12; // r3
    u32 *v13; // r0
    Battle *v14; // ST04_4
    u32 *v15; // r5
    int v16; // r0
    int v17; // r0
    int v18; // r0
    int v19; // r1

    v1 = v0->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v2 = v0;
        v3 = v0->parent;
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        v0 = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 20));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(v0, 128, v7, v8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->objFlags |= 2u;
    v11 = v0->parent[14];
    v12 = v0->parent[15];
    v13 = &v0->x;
    *v13 = v0->parent[13];
    v13[1] = v11;
    v13[2] = v12;
    object_setPanelsFromCoordinates(v0);
    v14 = v0;
    v15 = v0->parent;
    v16 = sub_801002C();
    sprite_setPallete(v16);
    v17 = object_getFlip(v14);
    sprite_setFlip(v14, v17);
    v18 = sub_800F29C(*(v1 + 20));
    sub_8010DF6(v18, v19);
    sub_80E1352(v14->parent, 0xFu);
    *&v14->currState = 4;
    return sub_80BCC0C();
}


// 0x80bcc0c
int sub_80BCC0C()
{
    int v0; // r5

    return (*(&off_80BCC20 + *(v0 + 10)))();
}


// 0x80bcc2c
int sub_80BCC2C()
{
    int v0; // r5
    int result; // r0
    char v2; // r0
    int v3; // r6
    int v4; // r0
    int v5; // r1
    int v6; // r2

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 10;
        sub_80B8E30(10);
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result >= 10 )
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v0 + 44);
        sub_80DAB9C(v2 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        v4 = *(v0 + 100);
        v5 = *(v4 + 16) + 1;
        *(v4 + 16) = v5;
        PlaySoundEffect(384, v5, v6);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bcc88
signed int sub_80BCC88()
{
    int v0; // r5
    signed int result; // r0

    result = *(v0 + 7);
    if ( !*(v0 + 7) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bcc96
int sub_80BCC96()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        sub_80B8E58(*(v0 + 100));
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        sub_80E13DC(*(v0 + 76));
        result = 0;
        **(v0 + 96) = 0;
    }
    return result;
}


// 0x80bccdc
int __fastcall sub_80BCCDC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(30, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 40) = *(v11 + 40);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bcd14
void sub_80BCD14()
{
    int v0; // r5

    (*(&off_80BCD2C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bcd38
int __noreturn sub_80BCD38()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r4
    int v4; // ST04_4
    int v5; // r5
    int v6; // r0
    int v7; // ST00_4
    char *v8; // r0
    int v9; // r0
    int v10; // r1
    int v11; // r0
    int v12; // r3
    char *v13; // r4
    int v14; // r1
    int v15; // r2
    int *v16; // r0
    int v17; // ST04_4
    int v18; // r5
    int v19; // r0
    int v20; // r0
    int v21; // r0
    int v22; // r1
    int v23; // r3
    int v24; // ST04_4
    char v25; // r0
    int v26; // r1
    int v27; // r2
    int v28; // r6
    int v29; // r5
    int v30; // r0

    *(v0 + 88) = *(*(v0 + 76) + 88);
    if ( *(v0 + 4) == 1 )
        *(v0 + 40) = 427;
    else
        *(v0 + 40) = *(*(v0 + 76) + 40);
    if ( *(v0 + 4) == 1 )
    {
        v1 = 8;
        v2 = 11;
    }
    else
    {
        v3 = *(v0 + 76);
        if ( sub_800F29C(*(v0 + 40)) == 2 )
        {
            v4 = v0;
            v5 = *(v0 + 76);
            v6 = sub_8013774(2, 44);
            v7 = v6;
            v8 = sub_8013774(v6, 41);
            v0 = v4;
            sub_800FC9E(v8, v7);
        }
        else
        {
            v9 = sub_800F26C(*(v0 + 40));
            v2 = v10;
            v1 = v9;
        }
    }
    sprite_load(v0, 128, v1, v2);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    *v0 |= 2u;
    v11 = object_getFrontDirection(v0);
    v12 = *(*(v0 + 76) + 60);
    v13 = &dword_80BCE44 + 2 * *(v0 + 4);
    v14 = *(*(v0 + 76) + 52) + (*v13 * v11 << 16);
    v15 = *(*(v0 + 76) + 56) + (v13[1] << 16);
    v16 = (v0 + 52);
    *v16 = v14;
    v16[1] = v15;
    v16[2] = v12;
    object_setPanelsFromCoordinates(v0);
    *(v0 + 60) = 0;
    if ( *(v0 + 4) != 1 )
    {
        v17 = v0;
        v18 = *(v0 + 76);
        v19 = sub_801002C();
        v0 = v17;
        sprite_setPallete(v19);
    }
    v20 = object_getFlip(v0);
    sprite_setFlip(v0, v20);
    v21 = sub_800F29C(*(v0 + 40));
    sub_8010DF6(v21, v22);
    sub_80E1352(*(v0 + 76), 0);
    if ( !*(v0 + 4) )
    {
        v24 = v0;
        v25 = *(v0 + 18);
        v26 = *(v0 + 19);
        v27 = *(v0 + 14);
        v28 = *(v0 + 44);
        v29 = *(v0 + 76);
        v30 = sub_80BD20A(v25, v26, v27, v23);
        v0 = v24;
        *(v30 + 112) = v24;
        *(v24 + 112) = v30;
    }
    *(v0 + 8) = 4;
    return sub_80BCE4C();
}


// 0x80bce4c
int sub_80BCE4C()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) )
        result = (*(&off_80BCE80 + *(v0 + 9)))();
    else
        result = (*(&off_80BCE74 + *(v0 + 9)))();
    return result;
}


// 0x80bce90
int sub_80BCE90()
{
    int v0; // r5
    int result; // r0
    int v2; // r1

    result = *(v0 + 112);
    v2 = *(result + 9);
    if ( v2 == 4 )
    {
        *(v0 + 9) = 4;
        result = sub_80BCEB2();
    }
    else if ( v2 == 12 )
    {
        *(v0 + 9) = 8;
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bceb2
int sub_80BCEB2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r2
    int v9; // r0
    unsigned __int8 v10; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        v1 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v1 << 16, *(v0 + 52) + (v1 << 16), *(v0 + 56), *(v0 + 60) + (v2 << 16));
        *(v3 + 32) = 40;
        PlaySoundEffect(113, 40, v4);
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 20 )
    {
        v5 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v5 << 16, *(v0 + 52) + (v5 << 16), *(v0 + 56), *(v0 + 60) + (v6 << 16));
        *(v7 + 32) = 20;
        PlaySoundEffect(114, 20, v8);
    }
    v9 = *(v0 + 32);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v10) | (result == 0) )
    {
        *(v0 + 100) = 0;
        *(v0 + 108) = 0;
        *(v0 + 9) += 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bcf3a
int sub_80BCF3A()
{
    int v0; // r5

    return (*(&off_80BCF4C + *(v0 + 10)))();
}


// 0x80bcf58
int sub_80BCF58()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 34) = 10;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bcf7a
int __fastcall sub_80BCF7A(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0
    int v9; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 14;
        *(v3 + 17) = -1;
        *(v3 + 32) = 15;
        PlaySoundEffect(106, a2, a3);
        sub_80B8E58(*(v3 + 100));
        sub_80EB572(v3 + 100, 1);
        v4 = sub_80B8E58(*(v3 + 108));
        sub_80B8E30(v4);
        sub_80C44D2(*(v3 + 80));
        sub_80BD24C(v5);
        sub_80BD2D8();
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 10 )
        sub_80BD2D8();
    if ( *(v3 + 32) == 5 )
        sub_80BD2D8();
    v6 = *(v3 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v7) | (result == 0) )
    {
        v9 = *(v3 + 34);
        v7 = __OFSUB__(v9--, 1);
        *(v3 + 34) = v9;
        if ( ((v9 < 0) ^ v7) | (v9 == 0) )
        {
            result = 8;
            *(v3 + 10) = 8;
        }
        else
        {
            result = 0;
            *(v3 + 11) = 0;
        }
    }
    return result;
}


// 0x80bcff6
int sub_80BCFF6()
{
    int v0; // r5
    int result; // r0
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0
    int v8; // r1
    _BYTE *v9; // r1

    if ( !*(v0 + 11) )
    {
        result = *(*(v0 + 112) + 8);
        if ( result != 8 )
            return result;
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 100));
        sub_80B8E58(*(v0 + 108));
        v2 = *(*(v0 + 76) + 56);
        v3 = *(*(v0 + 76) + 60);
        v4 = (v0 + 52);
        *v4 = *(*(v0 + 76) + 52);
        v4[1] = v2;
        v4[2] = v3;
        object_setPanelsFromCoordinates(v0);
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        v7 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v7, v8);
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        result = sub_80E13DC(*(v0 + 76));
        v9 = *(v0 + 96);
        if ( v9 )
        {
            result = 0;
            *v9 = 0;
        }
    }
    return result;
}


// 0x80bd064
int sub_80BD064()
{
    int v0; // r5

    (*(&off_80BD07C + *(v0 + 10)))();
    return sub_80BD374();
}


// 0x80bd084
int sub_80BD084()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    __int16 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v0 + 11) )
    {
        *v0 |= 2u;
        v4 = *(v0 + 32) + 1;
        *(v0 + 32) = v4;
        if ( v4 & 1 )
            *v0 &= 0xFDu;
        v5 = *(v0 + 12);
        v6 = __OFSUB__(v5, 2);
        result = v5 - 2;
        *(v0 + 12) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *v0 |= 2u;
            *(v0 + 12) = 0;
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        sprite_setColorShader(v0, 0x7FFF);
        *(v0 + 12) = 31;
        PlaySoundEffect(148, v1, v2);
        *(v0 + 32) = 0;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd0da
int sub_80BD0DA()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r1

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            v4 = *(v0 + 18);
            v5 = *(v0 + 19);
            object_isCurrentPanelSolid();
        }
    }
    else
    {
        *(v0 + 32) = 30;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd114
int sub_80BD114()
{
    int v0; // r5

    return (*(&off_80BD128 + *(v0 + 10)))();
}


// 0x80bd134
int sub_80BD134()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 34) = 10;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bd156
int sub_80BD156()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 5;
        *(v0 + 17) = -1;
        v1 = sub_80B8E58(*(v0 + 100));
        sub_80B8E30(v1);
        PlaySoundEffect(176, v2, v3);
        *(v0 + 32) = 15;
        sub_80BD2D8();
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 10 )
        sub_80BD2D8();
    if ( *(v0 + 32) == 5 )
        sub_80BD2D8();
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v7 = *(v0 + 34);
        v5 = __OFSUB__(v7--, 1);
        *(v0 + 34) = v7;
        if ( ((v7 < 0) ^ v5) | (v7 == 0) )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
        else
        {
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    return result;
}


// 0x80bd1b8
int sub_80BD1B8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bd1da
int sub_80BD1DA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 100));
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bd20a
int __fastcall sub_80BD20A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(31, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 40) = *(v11 + 40);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bd24c
int __fastcall sub_80BD24C(int result)
{
    int v1; // r5
    int v2; // r7
    __int64 v3; // r0
    int v4; // r6

    v2 = 1;
    do
    {
        v3 = sub_80BD278(result, v2);
        v4 = *(v1 + 44);
        result = sub_80C53A6(v3, SHIDWORD(v3), *(v1 + 14), 0);
        ++v2;
    }
    while ( v2 <= 3 );
    return result;
}


// 0x80bd278
__int64 __fastcall sub_80BD278(int a1, int a2)
{
    Battle *v2; // r5
    int v3; // r0
    int v4; // r4
    BOOL i; // r0
    signed int v6; // r1
    int v7; // r1
    int v8; // r2
    __int64 v10; // [sp+0h] [bp-18h]

    HIDWORD(v10) = a2;
    v3 = object_getFrontDirection(v2);
    v4 = v3;
    LODWORD(v10) = v3 + v2->panelX;
    for ( i = object_isValidPanel(v10, SHIDWORD(v10));
                i && object_getPanelDataOffset(v10, SHIDWORD(v10))[3] == v2->Alliance;
                i = object_isValidPanel(v10, SHIDWORD(v10)) )
    {
        LODWORD(v10) = v10 + v4;
    }
    v6 = 7;
    if ( v4 <= 0 )
        v6 = 0;
    v7 = v6 - v10;
    if ( v7 < 0 )
        v7 = -v7;
    v8 = byte_80BD2CC[v7];
    return v10;
}


// 0x80bd2d8
void sub_80BD2D8()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    int v7; // r1
    int v8; // ST04_4
    int v9; // ST00_4
    int v10; // r0
    int v11; // [sp+4h] [bp-34h]
    int v12; // [sp+20h] [bp-18h]
    int v13; // [sp+24h] [bp-14h]

    v1 = 0;
    v2 = object_getFrontDirection(v0);
    v12 = *(v0 + 18) + v2;
LABEL_2:
    v13 = 1;
    while ( object_isValidPanel(v12, v13) )
    {
        if ( object_getPanelDataOffset(v12, v13)[3] != *(v0 + 22) )
            *(&v11 + v1++) = v12 | 16 * v13;
        if ( ++v13 > 3 )
        {
            v12 += v2;
            goto LABEL_2;
        }
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    v9 = object_getCoordinatesForPanels(*(&v11 + v1) & 7);
    v8 = v7;
    v10 = object_getFlip(v0);
    *(v0 + 4);
    SpawnT4BattleObjectWithId0(v0, v10, v9, v8, 0);
}


// 0x80bd374
int sub_80BD374()
{
    Battle *v0; // r5

    return sprite_setColorShader(v0, 1057 * v0->pad_0C[0]);
}


// 0x80bd388
void sub_80BD388()
{
    int v0; // r5

    (*(&off_80BD3A0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bd3ac
int __noreturn sub_80BD3AC()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r7
    char v3; // r0
    int v4; // r0
    int v5; // r3
    int v6; // r1
    int v7; // r2
    int *v8; // r0
    int *v9; // r0
    int v10; // r0
    int v11; // r0
    int v12; // r1
    int v13; // r3
    int v14; // ST00_4
    char v15; // r0
    int v16; // r1
    int v17; // r2
    int v18; // r6
    int v19; // r5
    int v20; // r0

    v1 = 8 * *(v0 + 4);
    v2 = &byte_80BD464[v1];
    *(v0 + 40) = *&byte_80BD464[v1 + 2];
    v3 = byte_80BD464[v1];
    if ( v3 & 0x80 )
        sprite_decompress(v3 & 0x7F, v2[1]);
    sprite_load(v0, 128, *v2 & 0x7F, v2[1]);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    v4 = object_getFrontDirection(v0);
    v5 = *(*(v0 + 76) + 60);
    v6 = *(*(v0 + 76) + 52) + (v2[4] * v4 << 16);
    v7 = *(*(v0 + 76) + 56) + (v2[5] << 16);
    v8 = (v0 + 52);
    *v8 = v6;
    v8[1] = v7;
    v8[2] = v5;
    v9 = (v0 + 64);
    *v9 = v6;
    v9[1] = v7;
    v9[2] = v5;
    object_setPanelsFromCoordinates(v0);
    *(v0 + 60) = 0;
    *v0 |= 2u;
    v10 = object_getFlip(v0);
    sprite_setFlip(v0, v10);
    v11 = sub_800F29C(*(v0 + 40));
    sub_8010DF6(v11, v12);
    if ( !*(v0 + 4) )
    {
        v14 = v0;
        v15 = *(v0 + 18);
        v16 = *(v0 + 19);
        v17 = *(v0 + 14);
        v18 = *(v0 + 44);
        v19 = *(v0 + 76);
        v20 = sub_80BD9A2(v15, v16, v17, v13);
        v0 = v14;
        *(v20 + 100) = v14;
        *(v14 + 100) = v20;
    }
    *(v0 + 8) = 4;
    return sub_80BD478();
}


// 0x80bd478
int sub_80BD478()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) )
        result = (*(&off_80BD4B0 + *(v0 + 9)))();
    else
        result = (*(&off_80BD4A0 + *(v0 + 9)))();
    return result;
}


// 0x80bd4bc
int sub_80BD4BC()
{
    int v0; // r5

    (*(&off_80BD4D4 + *(v0 + 10)))();
    return sub_80BD9D4();
}


// 0x80bd4dc
int sub_80BD4DC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    __int16 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v0 + 11) )
    {
        *v0 |= 2u;
        v4 = *(v0 + 32) + 1;
        *(v0 + 32) = v4;
        if ( v4 & 1 )
            *v0 &= 0xFDu;
        v5 = *(v0 + 7);
        v6 = __OFSUB__(v5, 2);
        result = v5 - 2;
        *(v0 + 7) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *v0 |= 2u;
            *(v0 + 7) = 0;
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        sprite_setColorShader(v0, 0x7FFF);
        *(v0 + 7) = 31;
        PlaySoundEffect(148, v1, v2);
        *(v0 + 32) = 0;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd538
int sub_80BD538()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r1

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            v4 = *(v0 + 18);
            v5 = *(v0 + 19);
            object_isCurrentPanelSolid();
        }
    }
    else
    {
        *(v0 + 32) = 30;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd586
int sub_80BD586()
{
    int v0; // r5

    return (*(&off_80BD598 + *(v0 + 10)))();
}


// 0x80bd5a8
signed int sub_80BD5A8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r0
    int v5; // r3
    int v6; // r2
    int v7; // r3
    char v8; // zf
    signed int result; // r0
    int v10; // [sp-8h] [bp-Ch]
    int v11; // [sp-4h] [bp-8h]

    object_isValidPanel(*(v0 + 20), *(v0 + 21));
    if ( !v8 )
    {
        v1 = *(v0 + 20);
        v2 = *(v0 + 21);
        if ( !*(v0 + 108) )
            goto LABEL_11;
        do
        {
            v3 = 1;
            do
            {
                v10 = v1;
                v11 = v3;
                object_checkPanelParameters(v1, v3, *(&off_80BD63C + *(v0 + 22)), 0);
                v1 = v10;
                v2 = v11;
                if ( !v8 )
                {
                    v4 = v10 - object_getFrontDirection(v0);
                    v5 = *(v0 + 76);
                    v6 = *(v5 + 18);
                    v7 = *(v5 + 19);
                    if ( v4 != v6 || v11 != v7 )
                        object_checkPanelParameters(v4, v11, 16, 260046848);
                    else
                        v8 = 0;
                    v1 = v10;
                    v2 = v11;
                    if ( !v8 )
                    {
                        *(v0 + 20) = v10;
                        *(v0 + 21) = v11;
                        *(v0 + 108) = 0;
                        ++*(v0 + 6);
                        result = 4;
                        *(v0 + 10) = 4;
                        return result;
                    }
                }
LABEL_11:
                v3 = v2 + 1;
            }
            while ( v3 <= 3 );
            v1 += object_getFrontDirection(v0);
        }
        while ( (v1 - 1) <= 5 );
    }
    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80bd644
int sub_80BD644()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 104));
        *(v0 + 76) = 0;
        *(v0 + 32) = 3;
        if ( *(v0 + 6) == 1 )
            sub_80BDA7C(0);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd67e
int sub_80BD67E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *(v0 + 10) = 12;
        }
    }
    else
    {
        *(v0 + 16) = 4;
        *(v0 + 32) = 0;
        *(v0 + 18) = *(v0 + 20) - object_getFrontDirection(v0);
        *(v0 + 19) = *(v0 + 21);
        object_setCoordinatesFromPanels(v0);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd6b6
int sub_80BD6B6()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // ST00_4
    int v5; // r6
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r3
    int v12; // r0
    unsigned __int8 v13; // vf

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 32) == 5 )
        {
            v4 = object_getFrontDirection(v0) + *(v0 + 18);
            v5 = *(v0 + 44);
            sub_80C53A6(v4, *(v0 + 19), *(v0 + 14), 0x100000);
            object_getFlip(v0);
            v6 = object_getCoordinatesForPanels(v4);
            SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0x100000);
            v8 = camera_initShakeEffect_80302a8(1, 10);
            sub_80E11E0(v8, v9, v10, v11);
        }
        v12 = *(v0 + 32);
        v13 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v13) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 16) = 5;
        *(v0 + 17) = 6;
        sub_80B8E30(6);
        PlaySoundEffect(176, v1, v2);
        *(v0 + 32) = 10;
        sub_80BDA7C(5);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80bd742
int sub_80BD742()
{
    int v0; // r5

    return (*(&off_80BD754 + *(v0 + 10)))();
}


// 0x80bd760
int sub_80BD760()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 104));
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bd788
int sub_80BD788()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 6) )
        {
            *(v0 + 16) = 7;
            v1 = object_getFlip(v0);
            sprite_setFlip(v0, v1 ^ 1);
        }
        else
        {
            *(v0 + 16) = 3;
        }
        v2 = *(v0 + 68);
        v3 = *(v0 + 72);
        v4 = (v0 + 52);
        *v4 = *(v0 + 64);
        v4[1] = v2;
        v4[2] = v3;
        object_setPanelsFromCoordinates(v0);
        *(v0 + 60) = 0;
        *(v0 + 32) = 3;
        *(v0 + 11) = 8;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bd7d6
int sub_80BD7D6()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 100);
    if ( *(result + 9) == 8 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bd7ea
int sub_80BD7EA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 104));
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bd81a
int sub_80BD81A()
{
    int v0; // r5

    return (*(&off_80BD82C + *(v0 + 10)))();
}


// 0x80bd834
int __fastcall sub_80BD834(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0
    int v8; // r1

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 6) = 0;
            v7 = *(v3 + 18);
            v8 = *(v3 + 19);
            object_isCurrentPanelSolid();
        }
    }
    else
    {
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 4;
        *(v3 + 16) = 3;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80bd878
int sub_80BD878()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 40;
        *(v0 + 32) = 40;
    }
    return result;
}


// 0x80bd89c
int sub_80BD89C()
{
    int v0; // r5

    (*(&off_80BD8B4 + *(v0 + 10)))();
    return sub_80BDAE0();
}


// 0x80bd8bc
int sub_80BD8BC()
{
    int v0; // r5
    int result; // r0
    __int64 v2; // ST00_8
    int v3; // r6
    int v4; // r6
    int v5; // r0
    int v6; // r4
    int v7; // r1
    int v8; // r0
    int v9; // r4
    int v10; // r1
    int v11; // r2
    int v12; // r0
    int v13; // r1
    int v14; // r2
    int v15; // r3
    int v16; // r0
    unsigned __int8 v17; // vf

    if ( *(v0 + 11) )
    {
        v16 = *(v0 + 32);
        v17 = __OFSUB__(v16, 1);
        result = v16 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v17) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        result = *(v0 + 6);
        if ( result == 12 )
        {
            *(v0 + 11) = 4;
            *(v0 + 16) = 5;
            sub_80B8E30(5);
            v2 = sub_80BDA08();
            v3 = *(v0 + 44);
            sub_80C53A6(v2, SHIDWORD(v2), 0, 0);
            v4 = *(v0 + 44);
            sub_80C53A6(v2, SHIDWORD(v2), 0, 0);
            v5 = object_getCoordinatesForPanels(v2);
            v6 = (*(v0 + 22) << 8) | 0x36;
            SpawnT4BattleObjectWithId0(v0, 54, v5, v7, 0);
            v8 = object_getCoordinatesForPanels(v2);
            v9 = (*(v0 + 22) << 8) | 0x37;
            SpawnT4BattleObjectWithId0(v0, 55, v8, v10, 0);
            PlaySoundEffect(199, SHIDWORD(v2), v11);
            v12 = camera_initShakeEffect_80302a8(3, 35);
            sub_80E11E0(v12, v13, v14, v15);
            result = 30;
            *(v0 + 32) = 30;
        }
    }
    return result;
}


// 0x80bd960
int sub_80BD960()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80bd984
int sub_80BD984()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    _BYTE *v3; // r0

    v1 = sub_800F29C(*(v0 + 40));
    sub_8011044(v1, v2);
    v3 = *(v0 + 96);
    if ( v3 )
        *v3 = 0;
    return object_freeMemory();
}


// 0x80bd9a2
int __fastcall sub_80BD9A2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(32, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bd9d4
int sub_80BD9D4()
{
    int v0; // r5

    return sprite_setColorShader(v0, 1057 * *(v0 + 7));
}


// 0x80bda08
__int64 sub_80BDA08()
{
    Battle *v0; // r5
    char v1; // zf
    int v2; // r0
    __int64 v4; // [sp+0h] [bp-14h]
    int v5; // [sp+8h] [bp-Ch]
    int v6; // [sp+Ch] [bp-8h]

    v5 = object_getFrontDirection(v0);
    LODWORD(v4) = v5 + v0->panelX;
    HIDWORD(v4) = v0->panelY;
    v6 = *(&off_80BDA68 + v0->Alliance);
    while ( 1 )
    {
        object_isValidPanel(v4, SHIDWORD(v4));
        if ( v1 )
            break;
        if ( object_getPanelParameters(v4, SHIDWORD(v4)) & v6 )
            return v4;
        LODWORD(v4) = v4 + v5;
    }
    v2 = *(&dword_80BDA70 + v0->Alliance);
    if ( v2 == v0->panelX )
        v2 += v5;
    LODWORD(v4) = v2;
    HIDWORD(v4) = v0->panelY;
    return v4;
}


// 0x80bda7c
int __fastcall sub_80BDA7C(int a1)
{
    Battle *v1; // r5
    int v2; // r4

    if ( a1 == 5 )
    {
        v2 = ((object_getFlip(v1) << 8) + 11) << 8;
        sub_80B8E62(17);
        sub_80E33FA(&v1->vx, v1->x, v1->y, v1->z);
    }
    object_getFlip(v1);
    return sub_80E33FA(&v1->vx, v1->x, v1->y, v1->z);
}


// 0x80bdae0
int sub_80BDAE0()
{
    int v0; // r5

    return (*(&off_80BDAF4 + *(v0 + 6)))();
}


// 0x80bdb04
signed int sub_80BDB04()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r2
    signed int result; // r0

    v1 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
    SpawnT4BattleObjectWithId0(v0, v1 << 16, *(v0 + 52) + (v1 << 16), *(v0 + 56), *(v0 + 60) + (v2 << 16));
    *(v0 + 116) = v3;
    *(v3 + 32) = 0x7FFF;
    PlaySoundEffect(113, 0x7FFF, v4);
    *(v0 + 34) = 0;
    result = 4;
    *(v0 + 6) = 4;
    return result;
}


// 0x80bdb3c
void __fastcall sub_80BDB3C(int a1, int a2, int a3, int a4, int a5)
{
    int v5; // r5
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r2

    ++*(v5 + 34);
    if ( *(*(v5 + 100) + 9) == 8 && *(v5 + 34) >= 40 )
    {
        *(*(v5 + 116) + 32) = 1;
        v6 = getBattleArmPositionMaybe_8018810(*(v5 + 40), 0, *(v5 + 22), *(v5 + 23));
        SpawnT4BattleObjectWithId0(v5, v6 << 16, *(v5 + 52) + (v6 << 16), *(v5 + 56), *(v5 + 60) + (v7 << 16));
        *(v8 + 32) = 30;
        PlaySoundEffect(114, 30, v9);
        *(v5 + 34) = 0;
        *(v5 + 6) = 8;
    }
    JUMPOUT(__CS__, a5);
}


// 0x80bdb8c
int sub_80BDB8C()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) + 1;
    *(v0 + 34) = result;
    if ( result >= 15 )
    {
        result = 12;
        *(v0 + 6) = 12;
    }
    return result;
}


// 0x80bdb9e
void nullsub_9()
{
    ;
}


// 0x80bdba4
void sub_80BDBA4()
{
    int v0; // r5

    (*(&off_80BDBBC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bdbc8
int __noreturn sub_80BDBC8()
{
    int v0; // r5
    signed int v1; // r7
    int v2; // r0
    signed int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // ST04_4
    int v7; // r5
    int v8; // r0
    int v9; // ST00_4
    char *v10; // r0
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r3
    _DWORD *v15; // r0
    int v16; // r0
    int v17; // r0
    int v18; // r1
    int v19; // r0

    if ( *(v0 + 4) )
    {
        sprite_decompress(12, 15);
        v4 = 12;
        v5 = 15;
    }
    else
    {
        v1 = 1;
        v2 = *(v0 + 76);
        v3 = *(v2 + 40);
        if ( v3 != &loc_1A0 && v3 <= 427 )
        {
            v3 = &loc_1A0;
            v1 = 0;
        }
        *(v0 + 40) = v3;
        *(v0 + 88) = *(v2 + 88);
        *(v0 + 112) = v1;
        sub_80E1352(*(v0 + 76), 0xFu);
        if ( v1 )
        {
            if ( sub_800F29C(*(v0 + 40)) == 2 )
            {
                v6 = v0;
                v7 = *(v0 + 76);
                v8 = sub_8013774(2, 44);
                v9 = v8;
                v10 = sub_8013774(v8, 41);
                v0 = v6;
                sub_800FC9E(v10, v9);
            }
            else
            {
                v11 = sub_800F26C(*(v0 + 40));
                v5 = v12;
                v4 = v11;
            }
        }
        else
        {
            v4 = 0;
            v5 = 0;
        }
    }
    sprite_load(v0, 128, v4, v5);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    object_setCoordinatesFromPanels(v0);
    if ( !*(v0 + 4) )
    {
        object_getFrontDirection(v0);
        v13 = *(*(v0 + 76) + 56);
        v14 = *(*(v0 + 76) + 60);
        v15 = (v0 + 52);
        *v15 = *(*(v0 + 76) + 52);
        v15[1] = v13;
        v15[2] = v14;
        object_setPanelsFromCoordinates(v0);
    }
    *v0 |= 2u;
    v16 = object_getFlip(v0);
    sprite_setFlip(v0, v16);
    if ( !*(v0 + 4) )
    {
        v17 = sub_800F29C(*(v0 + 40));
        sub_8010DF6(v17, v18);
    }
    if ( !*(v0 + 4) )
    {
        v19 = sub_80136CC(*(v0 + 22), 44);
        sprite_setPallete(byte_80203EA[v19]);
    }
    if ( !*(v0 + 4) )
    {
        *(v0 + 100) = 0;
        sub_80BE434();
    }
    *(v0 + 7) = 0;
    *(v0 + 8) = 4;
    return sub_80BDCFC();
}


// 0x80bdcfc
int sub_80BDCFC()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) )
        result = (*(&off_80BDD34 + *(v0 + 9)))();
    else
        result = (*(&off_80BDD24 + *(v0 + 9)))();
    return result;
}


// 0x80bdd40
int __fastcall sub_80BDD40(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) += 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 60;
        *(v3 + 16) = 3;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80bdd70
int sub_80BDD70()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 100);
    if ( !result || *(result + 9) == 4 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bdd88
int sub_80BDD88()
{
    int v0; // r5

    return (*(&off_80BDD9C + *(v0 + 10)))();
}


// 0x80bdda8
int sub_80BDDA8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 34) = 12;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bddca
int __fastcall sub_80BDDCA(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    char v5; // r0
    int v6; // r2
    _BYTE *v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0
    int v11; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 14;
        *(v3 + 17) = -1;
        *(v3 + 32) = 10;
        PlaySoundEffect(106, a2, a3);
        sub_80B8E58(*(v3 + 104));
        if ( *(v3 + 112) )
            sub_80EB572(v3 + 104, 1);
        else
            sub_80B8E30(0);
        v4 = sub_80B8E58(*(v3 + 108));
        sub_80B8E30(v4);
        sub_80C44D2(*(v3 + 80));
        v5 = object_getFrontDirection(v3);
        v7 = sub_80C4FFE(v5 + *(v3 + 18), *(v3 + 19), v6, 0x100000);
        *v7 |= 0x10u;
        *(v3 + 11) = 4;
    }
    v8 = *(v3 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        v11 = *(v3 + 34);
        v9 = __OFSUB__(v11--, 1);
        *(v3 + 34) = v11;
        if ( ((v11 < 0) ^ v9) | (v11 == 0) )
        {
            result = 8;
            *(v3 + 10) = 8;
        }
        else
        {
            result = 0;
            *(v3 + 11) = 0;
        }
    }
    return result;
}


// 0x80bde58
int sub_80BDE58()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 104));
        sub_80B8E58(*(v0 + 108));
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        if ( *(v0 + 20) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            v4 = sub_800F29C(*(v0 + 40));
            sub_8011044(v4, v5);
            *v0 &= 0xFDu;
            *(v0 + 8) = 8;
            result = sub_80E13DC(*(v0 + 76));
        }
    }
    return result;
}


// 0x80bdec0
int sub_80BDEC0()
{
    int v0; // r5

    return (*(&off_80BDED4 + *(v0 + 10)))();
}


// 0x80bdef0
int sub_80BDEF0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bdf0e
int sub_80BDF0E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 104));
        sub_80B8E58(*(v0 + 108));
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bdf3c
int sub_80BDF3C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r3
    char v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    char v7; // [sp-8h] [bp-Ch]
    char v8; // [sp-4h] [bp-8h]

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 3;
        v1 = *(v0 + 20) - object_getFrontDirection(v0);
        v2 = 125829120;
        if ( *(v0 + 22) )
            v2 = 192937984;
        v7 = v1;
        v8 = *(v0 + 21);
        if ( object_checkPanelParameters(v1, *(v0 + 21), 16, v2) )
        {
            *(v0 + 18) = v7;
            *(v0 + 19) = v8;
            object_setCoordinatesFromPanels(v0);
            v3 = 1;
        }
        else
        {
            *v0 &= 0xFDu;
            v3 = 0;
        }
        *(v0 + 7) = v3;
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        if ( *(v0 + 7) )
        {
            result = 12;
            *(v0 + 10) = 12;
        }
        else
        {
            result = 24;
            *(v0 + 10) = 24;
        }
    }
    return result;
}


// 0x80bdfa6
int __fastcall sub_80BDFA6(int a1, int a2, int a3)
{
    int v3; // r5
    _BYTE *v4; // r0
    int v5; // r4
    int v6; // r4
    int v7; // r0
    _BYTE *v8; // r0
    signed int v9; // r2
    signed __int16 v10; // r3
    int v11; // r6
    int v12; // ST08_4
    __int16 v13; // ST0C_2
    char v14; // r0
    int v15; // r1
    int v16; // r0
    int v17; // r1
    char v18; // r0
    int v19; // r6
    int v20; // r0
    int v21; // r1
    int v22; // r2
    int v23; // r3
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 5;
        PlaySoundEffect(176, a2, a3);
        v4 = *(*(v3 + 76) + 88);
        *(v3 + 116) = *v4;
        *(v3 + 117) = v4[1];
        *v4 = 2;
        v4[1] = 0;
        v5 = ((sub_80EBB78() << 8) + 1) << 8;
        v6 = (v5 + sub_80EBAE8()) << 8;
        v7 = sub_80EBB34();
        sub_80B8E30(v7);
        v8 = *(*(v3 + 76) + 88);
        *v8 = *(v3 + 116);
        v8[1] = *(v3 + 117);
        *(v3 + 32) = 0;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 10 )
    {
        v9 = 1;
        v10 = 25;
        v11 = *(v3 + 100);
        if ( v11 && *(v11 + 7) )
        {
            v9 = 3;
            v10 = 35;
        }
        v12 = v9;
        v13 = v10;
        object_getFlip(v3);
        v14 = object_getFrontDirection(v3);
        v15 = *(v3 + 19);
        v16 = object_getCoordinatesForPanels(v14 + *(v3 + 18));
        SpawnT4BattleObjectWithId0(v3, v16, v16, v17, 0x100000);
        v18 = object_getFrontDirection(v3);
        v19 = *(v3 + 44);
        sub_80C53A6(v18 + *(v3 + 18), *(v3 + 19), *(v3 + 14), 0);
        v20 = camera_initShakeEffect_80302a8(v12, v13);
        sub_80E11E0(v20, v21, v22, v23);
    }
    result = *(v3 + 32) + 1;
    *(v3 + 32) = result;
    if ( result > 50 )
    {
        result = 16;
        *(v3 + 10) = 16;
    }
    return result;
}


// 0x80be098
int sub_80BE098()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80B8E58(*(v0 + 104));
        sub_80B8E58(*(v0 + 108));
        *(v0 + 16) = 4;
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        result = 20;
        *(v0 + 10) = 20;
    }
    return result;
}


// 0x80be0ce
int sub_80BE0CE()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 3;
        *(v0 + 18) = *(*(v0 + 76) + 18);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 24;
        *(v0 + 10) = 24;
    }
    return result;
}


// 0x80be0fa
int sub_80BE0FA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        v4 = sub_800F29C(*(v0 + 40));
        sub_8011044(v4, v5);
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80be144
int __fastcall sub_80BE144(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) += 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 60;
        *(v3 + 16) = 1;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80be174
int sub_80BE174()
{
    int v0; // r5

    return (*(&off_80BE188 + *(v0 + 10)))();
}


// 0x80be190
int sub_80BE190()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 3;
        *(v0 + 32) = 10;
        sub_80B8E30(10);
        PlaySoundEffect(248, v1, v2);
        *(v0 + 11) = 4;
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        v6 = object_getFrontDirection(v0);
        *(v0 + 108) = sub_80E5D12(v6, 5242880 * v6, 0, 0);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80be1dc
int sub_80BE1DC()
{
    int v0; // r5
    char v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E70(*(v0 + 104), 9);
        *(v0 + 32) = 120;
        *(v0 + 11) = 4;
    }
    v1 = object_getFrontDirection(v0);
    sub_80C53A6(2 * v1 + *(v0 + 18), *(v0 + 19), 5, 0);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v5 = *(v0 + 108);
        if ( v5 )
            sub_80E5D3E(v5);
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80be22e
int sub_80BE22E()
{
    int v0; // r5

    return (*(&off_80BE240 + *(v0 + 10)))();
}


// 0x80be254
int sub_80BE254()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 104));
        sub_80B8E58(*(v0 + 108));
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80be282
int sub_80BE282()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 2;
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        if ( *(v0 + 20) )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
        else
        {
            *v0 &= 0xFDu;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80be2b8
int sub_80BE2B8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // [sp-8h] [bp-Ch]
    int v5; // [sp-4h] [bp-8h]

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        v4 = *(v0 + 20) - object_getFrontDirection(v0);
        v5 = *(v0 + 21);
        if ( !object_checkPanelParameters(v4, v5, 16, 260046848) )
        {
            *v0 &= 0xFDu;
            result = 8;
            *(v0 + 8) = 8;
            return result;
        }
        *(v0 + 18) = v4;
        *(v0 + 19) = v5;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 7) = 1;
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80be312
int __fastcall sub_80BE312(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r6
    char v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r1
    char v9; // r0
    int v10; // r6
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 5;
        PlaySoundEffect(176, a2, a3);
        *(v3 + 32) = 0;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 10 )
    {
        v4 = *(v3 + 100);
        if ( v4 )
            *(v4 + 7);
        object_getFlip(v3);
        v5 = object_getFrontDirection(v3);
        v6 = *(v3 + 19);
        v7 = object_getCoordinatesForPanels(v5 + *(v3 + 18));
        SpawnT4BattleObjectWithId0(v3, v7, v7, v8, 0x100000);
        v9 = object_getFrontDirection(v3);
        v10 = *(v3 + 44);
        sub_80C53A6(v9 + *(v3 + 18), *(v3 + 19), *(v3 + 14), 0);
    }
    result = *(v3 + 32) + 1;
    *(v3 + 32) = result;
    if ( result > 50 )
    {
        result = 16;
        *(v3 + 10) = 16;
    }
    return result;
}


// 0x80be39a
int sub_80BE39A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 2;
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80be3c4
int sub_80BE3C4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    _BYTE *v3; // r0

    if ( !*(v0 + 4) )
    {
        v1 = sub_800F29C(*(v0 + 40));
        sub_8011044(v1, v2);
    }
    v3 = *(v0 + 96);
    if ( v3 )
        *v3 = 0;
    return object_freeMemory();
}


// 0x80be3e8
int __fastcall sub_80BE3E8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(33, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80be434
__int64 __noreturn sub_80BE434()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r0
    int v4; // [sp+0h] [bp-1Ch]
    int v5; // [sp+4h] [bp-18h]
    int v6; // [sp+8h] [bp-14h]
    __int64 v7; // [sp+Ch] [bp-10h]
    int v8; // [sp+14h] [bp-8h]

    HIDWORD(v7) = v0->panelY;
    v8 = *(&off_80BE4C8 + v0->Alliance);
    v4 = object_getFrontDirection(v0);
    v5 = v4 + v0->panelX;
    v6 = v0->panelY;
    while ( 1 )
    {
        v1 = object_getPanelParameters(v5, v6);
        if ( !v1 )
            break;
        if ( v1 & v8 )
        {
            LODWORD(v7) = v5 + 2 * v4;
            HIDWORD(v7) = v6;
            if ( object_checkPanelParameters(v5 + 2 * v4, v6, 16, 260046848) )
                return v7;
            break;
        }
        v5 += v4;
    }
    v2 = 1;
    if ( v4 >= 0 )
        v2 = 6;
    LODWORD(v7) = v2;
    if ( !object_checkPanelParameters(v2, SHIDWORD(v7), 16, 260046848) )
        v7 = 0LL;
    return v7;
}


// 0x80be4d8
int snakearmRelatedObject_t1_0x22_80BE4D8()
{
    int v0; // r5

    return (*(&off_80BE4EC + *(v0 + 8)))();
}


// 0x80be4f8
void __noreturn snakearmRelatedObject_t1_0x22_init_80BE4F8()
{
    int v0; // r5
    int v1; // r0
    u8 v2; // r0

    sprite_load(v0, 128, 4, 26);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    sprite_removeShadow();
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    v2 = *off_80BE54C[*(v0 + 98)];
    *(v0 + 16) = v2;
    *(v0 + 97) = v2;
    *(v0 + 99) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    snakearmRelatedObject_t1_0x22_update_80BE55C();
}


// 0x80be55c
int snakearmRelatedObject_t1_0x22_update_80BE55C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned int v3; // r0
    int v4; // r0
    int v5; // r0
    char v6; // zf
    int result; // r0

    v1 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v1);
    v2 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v2);
    v3 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v3);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    v5 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v5);
    battle_isTimeStop();
    if ( v6 )
        (*(&off_80BE5C0 + *(v0 + 9)))();
    result = (*v0 & 0xFD) | **(v0 + 76) & 2;
    *v0 = result;
    return result;
}


// 0x80be5cc
int __fastcall snakearmRelatedObject_t1_0x22_update_0x0_80BE5CC(int a1, int a2, int a3, int a4)
{
    Battle *obj; // r5
    int result; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r0
    int v9; // r4
    int v10; // r1
    u32 v11; // r1
    u32 v12; // r2
    __int16 v13; // r3

    result = snakearmRelatedObject_t1_0x22_sub_80BE76A(a1, a2, a3, a4);
    if ( result )
    {
        result = snakearmRelatedObject_t1_0x22_sub_80BE73E();
        if ( result )
        {
            obj->objFlags &= 0xFDu;
            result = 100;
            v6 = *&obj->extraVars[4] - 1;
            *&obj->extraVars[4] = v6;
            if ( !v6 )
            {
                object_setPanelsFromCoordinates(obj);
                v7 = obj->extraVars[9];
                v8 = object_getCoordinatesForPanels(obj->extraVars[8]);
                v9 = *(obj->parent + 56);
                obj->vx = battleCoordCalc_8114F6A(&obj->x, v8, v10, 0);
                obj->vy = v11;
                obj->vz = v12;
                *&obj->extraVars[12] = v13;
                *&obj->extraVars[4] = 0;
                *&obj->extraVars[6] = *(obj->parent + 56);
                *&obj->extraVars[14] = 0;
                obj->objFlags |= 2u;
                obj->currAction = 4;
                result = 0;
                obj->currPhase = 0;
            }
        }
    }
    return result;
}


// 0x80be648
int __fastcall snakearmRelatedObject_t1_0x22_update_0x4_80BE648(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r1
    int v7; // r0

    result = snakearmRelatedObject_t1_0x22_sub_80BE76A(a1, a2, a3, a4);
    if ( result )
    {
        result = snakearmRelatedObject_t1_0x22_sub_80BE73E();
        if ( result )
        {
            *(v4 + 52) += *(v4 + 64);
            *(v4 + 60) = *&math_sinTable[2 * (*(v4 + 110) >> 8)] * (*(v4 + 112) >> 16) << 8;
            object_setPanelsFromCoordinates(v4);
            v6 = *(v4 + 102);
            v7 = snakearmRelated_divideR0By4_StoreIntoR1_SetR0To3If4_8114F52(*(v4 + 100)) + *(v4 + 99);
            if ( v7 != *(v4 + 97) )
            {
                *(v4 + 16) = v7;
                *(v4 + 97) = v7;
            }
            *(v4 + 110) += *(v4 + 108);
            result = *(v4 + 100) + 1;
            *(v4 + 100) = result;
            if ( result == *(v4 + 102) )
            {
                result = 8;
                *(v4 + 8) = 8;
            }
        }
    }
    return result;
}


// 0x80be6bc
int snakearmRelatedObject_t1_0x22_update_0x8_80BE6BC()
{
    int v0; // r5
    int result; // r0

    snakearmRelatedObject_t1_0x22_sub_80BE73E();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sub_80E1A86(*(*(v0 + 88) + 116));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80be6d8
int __fastcall __spoils<R0,R2,R3,R12> spawnSnakearmRelatedObject_t1_0x22_80BE6D8(int a1, int a2, char a3, __int16 a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-20h]
    __int16 v7; // [sp+4h] [bp-1Ch]
    int v8; // [sp+8h] [bp-18h]
    int v9; // [sp+Ch] [bp-14h]
    int v10; // [sp+10h] [bp-10h]
    int v11; // [sp+14h] [bp-Ch]
    char v12; // [sp+18h] [bp-8h]

    v11 = a1;
    v6 = a3;
    v7 = a4;
    object_spawnType1(34, a1, a2, 0);
    result = v4;
    if ( !v4 )
        return v11;
    *(v4 + 76) = v9;
    *(v4 + 52) = *(v9 + 52);
    *(v4 + 56) = *(v9 + 56) - 1;
    *(v4 + 60) = *(v9 + 60);
    *(v4 + 22) = *(v9 + 22);
    *(v4 + 96) = v6;
    *(v4 + 100) = v7;
    *(v4 + 98) = v8 & 0xF;
    *(v4 + 116) = (v8 << 24) >> 28;
    *(v4 + 104) = v11;
    *(v4 + 105) = v12;
    *(v4 + 112) = v10;
    return result;
}


// 0x80be734
int __fastcall sub_80BE734(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80be73e
signed int snakearmRelatedObject_t1_0x22_sub_80BE73E()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                battle_isTimeStop();
                if ( v2 )
                {
                    UpdateBattleObjectSprite();
                    v1 = 1;
                }
            }
        }
    }
    return v1;
}


// 0x80be76a
int __fastcall snakearmRelatedObject_t1_0x22_sub_80BE76A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r7

    result = *(*(v4 + 76) + 36);
    if ( !*(*(v4 + 76) + 36) )
    {
        v6 = *(v4 + 88) + 116;
        sub_80E1A6A(result, a2, a3, a4);
        *(v4 + 32) = 32;
        *(v4 + 9) = 8;
        result = 0;
    }
    return result;
}


// 0x80be798
void sub_80BE798()
{
    int v0; // r5

    (*(&off_80BE7B0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80be7bc
int sub_80BE7BC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r0
    int v5; // r1

    if ( *(v0 + 4) )
    {
        sub_800FC9E(0, *(v0 + 4));
        sprite_load(v0, 128, v1, v2);
        sprite_loadAnimationData(v0);
        sprite_hasShadow();
        *(v0 + 16) = 0;
        *(v0 + 17) = -1;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        *(v0 + 40) = (&loc_1AC + *(v0 + 4) - 1);
        v3 = object_getFlip(v0);
        sprite_setFlip(v0, v3);
        sprite_setPallete(byte_80203EA[*(v0 + 4)]);
        v4 = sub_800F29C(*(v0 + 40));
        sub_8010DF6(v4, v5);
    }
    *(v0 + 8) = 4;
    if ( *(v0 + 4) && *(v0 + 5) == 4 )
        *(v0 + 9) = 8;
    return sub_80BE834();
}


// 0x80be834
int sub_80BE834()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) )
        result = (*(&off_80BE854 + *(v0 + 9)))();
    else
        result = sub_80BE878();
    return result;
}


// 0x80be878
int sub_80BE878()
{
    int v0; // r5

    return (*(&off_80BE88C + *(v0 + 10)))();
}


// 0x80be8a0
signed int sub_80BE8A0()
{
    _WORD *v0; // r5
    signed int result; // r0

    v0[16] = 0;
    v0[17] = 0;
    result = 4;
    v0[5] = 4;
    return result;
}


// 0x80be8ae
signed int __fastcall sub_80BE8AE(int a1)
{
    int v1; // r5
    char *v2; // r7
    unsigned __int8 *v3; // r7
    int v4; // r4
    int v5; // r6
    signed int result; // r0

    v2 = byte_80BE91C;
    if ( sub_8013774(a1, 32) )
        v2 = byte_80BE936;
    v3 = &v2[5 * *(v1 + 34)];
    if ( *v3 != 255 )
    {
        v4 = (((((*(v1 + 34) << 8) + v3[2]) << 8) + v3[1]) << 8) + *v3;
        v5 = *(v1 + 44);
        sub_80BF160(*(v1 + 18), *(v1 + 19), v3[4], 0);
        sub_80BF192(v3[3]);
    }
    result = 8;
    *(v1 + 10) = 8;
    return result;
}


// 0x80be950
int sub_80BE950()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v0 + 11) )
    {
        result = *(v0 + 108) | *(v0 + 112);
        if ( *(v0 + 108) )
            return result;
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 34) = 0;
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80be97a
signed int __fastcall sub_80BE97A(int a1)
{
    int v1; // r5
    char *v2; // r7
    unsigned __int8 *v3; // r7
    int v4; // r4
    int v5; // r6
    signed int result; // r0

    v2 = byte_80BE9D8;
    if ( sub_8013774(a1, 32) )
        v2 = byte_80BE9F3;
    v3 = &v2[5 * *(v1 + 34)];
    if ( *v3 != 255 )
    {
        v4 = (((((*(v1 + 34) << 8) + v3[2]) << 8) + v3[1]) << 8) + *v3;
        v5 = *(v1 + 44);
        *(sub_80BF160(*(v1 + 18), *(v1 + 19), v3[4], 0) + 20) = *(v1 + 18);
        ++*(v1 + 34);
        JUMPOUT(&loc_80BE824);
    }
    result = 16;
    *(v1 + 10) = 16;
    return result;
}


// 0x80bea10
int sub_80BEA10()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    _BYTE *v4; // r0

    if ( !*(v0 + 11) )
    {
        result = *(v0 + 108) | *(v0 + 112);
        if ( *(v0 + 108) )
            return result;
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v4 = *(v0 + 96);
        if ( v4 )
            *v4 = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bea50
int sub_80BEA50()
{
    int v0; // r5

    return (*(&off_80BEA64 + *(v0 + 10)))();
}


// 0x80bea78
signed int __fastcall sub_80BEA78(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    signed int result; // r0
    int v7; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 30;
        if ( *(v3 + 7) < 3 )
        {
            PlaySoundEffect(148, a2, a3);
            *v3 |= 2u;
        }
        *(v3 + 34) = 31;
        *(v3 + 11) = 4;
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4--, 1);
    *(v3 + 32) = v4;
    if ( ((v4 < 0) ^ v5) | (v4 == 0) )
    {
        sprite_zeroColorShader();
        result = 4;
        *(v3 + 10) = 4;
    }
    else
    {
        v7 = *(v3 + 34);
        v5 = __OFSUB__(v7--, 1);
        *(v3 + 34) = v7;
        if ( (v7 < 0) ^ v5 )
            *(v3 + 34) = 0;
        result = sprite_setColorShader(v3, 1057 * *(v3 + 34));
    }
    return result;
}


// 0x80beace
int __fastcall sub_80BEACE(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // r1
    int v8; // r0
    int result; // r0
    int v10; // r1

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 0;
        PlaySoundEffect(272, a2, a3);
        *(v3 + 11) = 4;
    }
    v4 = *(v3 + 32) + 1;
    *(v3 + 32) = v4;
    if ( v4 > 20 )
        *(v3 + 10) = 8;
    v5 = *(v3 + 32);
    v6 = byte_80BEB20[*(v3 + 7)] + v5;
    object_getFrontDirection(v3);
    v7 = *(v3 + 19);
    v8 = object_getCoordinatesForPanels(*(v3 + 18));
    result = sub_80E58D2(v5, v6, v8);
    *(v3 + 52) = result;
    *(v3 + 56) = v10;
    return result;
}


// 0x80beb28
int sub_80BEB28()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80beb46
int sub_80BEB46()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    _BYTE *v4; // r1
    int v5; // r0
    int v6; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        *(v0 + 10) = 16;
        result = *(v0 + 20);
        if ( !*(v0 + 20) )
        {
            v4 = *(v0 + 96);
            if ( v4 )
                *v4 = 0;
            v5 = sub_800F29C(*(v0 + 40));
            sub_8011044(v5, v6);
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80beb90
int sub_80BEB90()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20 * *(v0 + 7);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bebbc
int sub_80BEBBC()
{
    int v0; // r5

    return (*(&off_80BEBD0 + *(v0 + 10)))();
}


// 0x80bebd8
int __fastcall sub_80BEBD8(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // ST04_4
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 3;
        if ( *(v3 + 7) < 3 )
        {
            PlaySoundEffect(148, a2, a3);
            *v3 |= 2u;
        }
        v4 = byte_80BEC38[*(v3 + 7)] + 20;
        object_getFrontDirection(v3);
        v5 = *(v3 + 19);
        v6 = object_getCoordinatesForPanels(*(v3 + 18));
        *(v3 + 52) = sub_80E58D2(20, v4, v6);
        *(v3 + 56) = v7;
        *(v3 + 32) = 3;
        *(v3 + 11) = 4;
    }
    v8 = *(v3 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        result = 4;
        *(v3 + 10) = 4;
    }
    return result;
}


// 0x80bec40
int sub_80BEC40()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result > 0 )
    {
        *(v0 + 9) = 28;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bec68
int sub_80BEC68()
{
    int v0; // r5

    return (*(&off_80BEC7C + *(v0 + 10)))();
}


// 0x80bec84
int sub_80BEC84()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 18) = *(v0 + 20);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 23) ^= *(v0 + 12);
        v1 = object_getFlip(v0);
        sprite_setFlip(v0, v1);
        *(v0 + 16) = 3;
        *v0 |= 2u;
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80becc6
int sub_80BECC6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        *(v0 + 32) = 5;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4 * *(v0 + 5) + 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80becf0
int sub_80BECF0()
{
    int v0; // r5

    return (*(&off_80BED04 + *(v0 + 10)))();
}


// 0x80bed0c
int __fastcall sub_80BED0C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // ST00_4
    int v5; // r4
    int v6; // r6
    int v7; // r4
    int v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r1
    int v12; // r2
    int v13; // r3
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 5;
        PlaySoundEffect(176, a2, a3);
        *(v3 + 100) = sub_80B8E30(byte_80BEDC6[*(v3 + 6)]);
        *(v3 + 32) = 0;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 9 )
    {
        v4 = object_getFrontDirection(v3) + *(v3 + 18);
        v5 = *&byte_80BEDA8[4 * *(v3 + 6)];
        v6 = *(v3 + 44);
        sub_80C53A6(v4, *(v3 + 19), *(v3 + 14), 0);
        v7 = (object_getFlip(v3) << 8) + byte_80BEDC0[*(v3 + 6)];
        v8 = object_getCoordinatesForPanels(v4);
        SpawnT4BattleObjectWithId0(v3, v8, v8, v9, 0x100000);
        sub_80E11E0(v10, v11, v12, v13);
    }
    result = *(v3 + 32) + 1;
    *(v3 + 32) = result;
    if ( result > 21 )
    {
        *(v3 + 9) = 32;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80bedcc
int sub_80BEDCC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 32;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bee04
int sub_80BEE04()
{
    int v0; // r5
    char v1; // r0
    int v2; // r6
    _BYTE *v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 15;
        v1 = object_getFrontDirection(v0);
        v2 = *(v0 + 44);
        v3 = sub_80D8F98(v1 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        v4 = *v3 | 0x10;
        *v3 = v4;
        *(v0 + 104) = v3;
        PlaySoundEffect(186, v4, 16);
        *(v0 + 32) = 70;
        sub_80E11E0(70, v5, v6, v7);
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 40 )
        sub_80D8FB8(*(v0 + 104));
    v8 = *(v0 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        *(v0 + 9) = 32;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bee62
int sub_80BEE62()
{
    int v0; // r5

    return (*(&off_80BEE74 + *(v0 + 10)))();
}


// 0x80bee80
int sub_80BEE80()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 10) = 4;
        result = sub_80BEEA2();
    }
    return result;
}


// 0x80beea2
int sub_80BEEA2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r6
    int v3; // r1
    _BYTE *v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r0
    unsigned __int8 v11; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 10;
        v1 = sub_80B8E30(10);
        v2 = *(v0 + 44);
        v4 = sub_80D2B8E(v1, v3, *(v0 + 14), 0x100000);
        v5 = *v4 | 0x10;
        *v4 = v5;
        *(v0 + 32) = 30;
        v6 = PlaySoundEffect(240, v5, 16);
        sub_80E11E0(v6, v7, v8, v9);
        *(v0 + 56) += 0x10000;
        *(v0 + 60) += 0x10000;
        *(v0 + 11) = 4;
    }
    v10 = *(v0 + 32);
    v11 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v11) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bef02
int sub_80BEF02()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80B8E70(*(v0 + 100), 0);
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 32;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bef2c
int sub_80BEF2C()
{
    int v0; // r5

    return (*(&off_80BEF40 + *(v0 + 10)))();
}


// 0x80bef48
int __fastcall sub_80BEF48(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r6
    int v10; // ST00_4
    int v11; // ST04_4
    int v12; // r2
    int v13; // r3
    int v14; // r0
    unsigned __int8 v15; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 5;
        v4 = PlaySoundEffect(287, a2, a3);
        sub_80B8E30(v4);
        object_getFlip(v3);
        v5 = *(v3 + 19);
        v6 = object_getCoordinatesForPanels(*(v3 + 18));
        SpawnT4BattleObjectWithId0(v3, v6, v6, v7, 0x100000);
        *(v3 + 32) = 21;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 12 )
    {
        v8 = object_getFrontDirection(v3);
        v9 = *(v3 + 44);
        v10 = v8 + *(v3 + 18);
        v11 = *(v3 + 19);
        sub_80C53A6(v10, v11, *(v3 + 14), 0x100000);
        sub_80E11E0(v10, v11, v12, v13);
    }
    v14 = *(v3 + 32);
    v15 = __OFSUB__(v14, 1);
    result = v14 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v15 )
    {
        result = 4;
        *(v3 + 10) = 4;
    }
    return result;
}


// 0x80befc0
int sub_80BEFC0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 5;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 32;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80befe2
int sub_80BEFE2()
{
    int v0; // r5

    return (*(&off_80BEFF4 + *(v0 + 10)))();
}


// 0x80bf000
int sub_80BF000()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r2
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        v1 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v1 << 16, *(v0 + 52) + (v1 << 16), *(v0 + 56), *(v0 + 60) + (v2 << 16));
        *(v3 + 32) = 70;
        PlaySoundEffect(113, 70, v4);
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 70 )
    {
        v5 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v5 << 16, *(v0 + 52) + (v5 << 16), *(v0 + 56), *(v0 + 60) + (v6 << 16));
        *(v7 + 32) = 20;
        PlaySoundEffect(114, 20, v8);
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result > 90 )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bf07a
int sub_80BF07A()
{
    int v0; // r5
    int v1; // r6
    int v2; // ST00_4
    int v3; // r2
    _BYTE *v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3
    int v9; // r1
    int v10; // r2
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 12;
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 4 && !*(v0 + 7) )
    {
        v1 = *(v0 + 44);
        v2 = *&byte_80BF0F0[4 * *(v0 + 22)];
        sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
        v4 = sub_80E2FE8(v2, 2, v3, 0);
        *v4 |= 0x10u;
        v5 = camera_initShakeEffect_80302a8(3, 30);
        sub_80E11E0(v5, v6, v7, v8);
        PlaySoundEffect(195, v9, v10);
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result > 60 )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bf0f8
int sub_80BF0F8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 32;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf11a
int sub_80BF11A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    _BYTE *v4; // r1
    int v5; // r0
    int v6; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 100));
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        v4 = *(v0 + 96);
        if ( v4 )
            *v4 = 0;
        v5 = sub_800F29C(*(v0 + 40));
        sub_8011044(v5, v6);
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bf160
int __fastcall sub_80BF160(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(35, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bf192
void __fastcall __noreturn sub_80BF192(int a1)
{
    int v1; // r5
    int *v2; // r0

    object_getFlipDirection(*(v1 + 22), *(v1 + 23) ^ a1);
    v2 = (&off_80BF224 + 8 * *(v1 + 22));
    object_getPanelsFiltered(v2, v2[1], *v2, v2[1]);
}


// 0x80bf260
void sub_80BF260()
{
    int v0; // r5

    (*(&off_80BF278 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bf284
int __noreturn sub_80BF284()
{
    int v0; // r5
    int v1; // r0

    sprite_decompress(12, 100);
    sprite_load(v0, 128, 12, 100);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0x400000;
    *v0 |= 2u;
    *(v0 + 8) = 4;
    return sub_80BF2D0();
}


// 0x80bf2d0
int sub_80BF2D0()
{
    int v0; // r5

    return (*(&off_80BF2E4 + *(v0 + 9)))();
}


// 0x80bf2fc
int __fastcall sub_80BF2FC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 60;
        *(v3 + 11) = 4;
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        *(v3 + 9) = 4;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80bf324
int sub_80BF324()
{
    int v0; // r5

    return (*(&off_80BF338 + *(v0 + 10)))();
}


// 0x80bf340
int sub_80BF340()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    unsigned int v4; // r6
    int v5; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 2;
        *(v0 + 32) = 0;
        *(v0 + 34) = 6;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 15;
        v4 = (*(v0 + 44) >> 12 << 12) + 50;
        sub_80DC0C0(*(v0 + 18), *(v0 + 19), 1, *(v0 + 60));
        v5 = *(v0 + 34);
        v2 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    return result;
}


// 0x80bf38a
int sub_80BF38A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf3b0
int sub_80BF3B0()
{
    int v0; // r5

    return (*(&off_80BF3C4 + *(v0 + 10)))();
}


// 0x80bf3cc
int __fastcall sub_80BF3CC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 1;
        *(v3 + 32) = 30;
        PlaySoundEffect(272, a2, a3);
        *(v3 + 11) = 4;
    }
    sub_80BF402(*(v3 + 32));
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        sprite_setPallete(4);
        result = 4;
        *(v3 + 10) = 4;
    }
    return result;
}


// 0x80bf402
void __fastcall sub_80BF402(signed int a1)
{
    signed int v1; // r1
    int v2; // r2

    if ( a1 > 20 )
    {
        if ( a1 <= 10 )
            v1 = 1;
        else
            v1 = 2;
    }
    else
    {
        v1 = 4;
    }
    v2 = 0;
    if ( a1 & v1 )
        v2 = 4;
    sprite_setPallete(v2);
}


// 0x80bf428
int sub_80BF428()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf44a
int sub_80BF44A()
{
    int v0; // r5

    return (*(&off_80BF45C + *(v0 + 10)))();
}


// 0x80bf464
int sub_80BF464()
{
    int v0; // r5
    unsigned int v1; // r6
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 100;
        *(v0 + 16) = 3;
        sprite_setPallete(0);
        v1 = (*(v0 + 44) >> 12 << 12) + 2;
        spawnType3_0xb6_80DC22C(*(v0 + 18), *(v0 + 19), 0, 0);
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bf4a4
int sub_80BF4A4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 16) = 1;
        sprite_setPallete(4);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 16;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf4d0
int sub_80BF4D0()
{
    int v0; // r5

    return (*(&off_80BF4E4 + *(v0 + 10)))();
}


// 0x80bf4ec
int __fastcall sub_80BF4EC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 16) = 1;
        *(v3 + 32) = 30;
        PlaySoundEffect(272, a2, a3);
        *(v3 + 11) = 4;
    }
    sub_80BF522(*(v3 + 32));
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        sprite_setPallete(0);
        result = 4;
        *(v3 + 10) = 4;
    }
    return result;
}


// 0x80bf522
void __fastcall sub_80BF522(signed int a1)
{
    signed int v1; // r1
    int v2; // r2

    if ( a1 > 20 )
    {
        if ( a1 <= 10 )
            v1 = 1;
        else
            v1 = 2;
    }
    else
    {
        v1 = 4;
    }
    v2 = 4;
    if ( a1 & v1 )
        v2 = 0;
    sprite_setPallete(v2);
}


// 0x80bf548
int sub_80BF548()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 20;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf56a
int sub_80BF56A()
{
    int v0; // r5

    return (*(&off_80BF57C + *(v0 + 10)))();
}


// 0x80bf588
int sub_80BF588()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    char v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r2

    if ( !*(v0 + 11) )
    {
        camera_initShakeEffect_80302a8(1, 10);
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    _VF = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ _VF) | (result == 0) )
    {
        *(v0 + 32) = 16;
        v4 = object_getEnemyDirection();
        v5 = *(v0 + 19);
        v6 = object_getCoordinatesForPanels(3 * v4 + *(v0 + 18));
        v7 = *(v0 + 52);
        __asm { SVC         6 }
        *(v0 + 64) = v6 - v7;
        __asm { SVC         6 }
        *(v0 + 72) = -*(v0 + 60);
        PlaySoundEffect(383, 16, v7);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bf5e0
signed int sub_80BF5E0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r6
    int v4; // r2
    int v5; // r4
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    signed int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 60) += *(v0 + 72);
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF800010 )
        {
            PlaySoundEffect(195, 260046864, v2);
            camera_initShakeEffect_80302a8(3, 30);
            v3 = *(v0 + 44);
            sub_80C53A6(*(v0 + 18), *(v0 + 19), 0, 0);
            sub_80DB48A(*(v0 + 18), *(v0 + 19), v4, 15);
            v5 = *(v0 + 22);
            v6 = sub_801BD3C(*(v0 + 18), *(v0 + 19), 5, 15);
            sub_80E11E0(v6, v7, v8, v9);
        }
        else
        {
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
        }
        *(v0 + 10) = 8;
        result = *v0 & 0xFD;
        *v0 = result;
    }
    return result;
}


// 0x80bf67e
int sub_80BF67E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bf69c
int sub_80BF69C()
{
    int v0; // r5
    _BYTE *v1; // r0

    v1 = *(v0 + 96);
    if ( v1 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80bf6ae
int __fastcall spawnType1Object_0x24_80BF6AE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(36, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bf6ec
void sub_80BF6EC()
{
    int v0; // r5

    (*(&off_80BF704 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80bf710
int __noreturn sub_80BF710()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r7
    char v3; // r0
    int v4; // r0
    int v5; // r3
    int v6; // r1
    int v7; // r2
    int *v8; // r0
    int *v9; // r0
    int v10; // r0
    int v11; // r0
    int v12; // r1

    v1 = 8 * *(v0 + 4);
    v2 = &byte_80BF7A8[v1];
    *(v0 + 40) = *&byte_80BF7A8[v1 + 2];
    v3 = byte_80BF7A8[v1];
    if ( v3 & 0x80 )
        sprite_decompress(v3 & 0x7F, v2[1]);
    sprite_load(v0, 128, *v2 & 0x7F, v2[1]);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    v4 = object_getFrontDirection(v0);
    v5 = *(*(v0 + 76) + 60);
    v6 = *(*(v0 + 76) + 52) + (v2[4] * v4 << 16);
    v7 = *(*(v0 + 76) + 56) + (v2[5] << 16);
    v8 = (v0 + 52);
    *v8 = v6;
    v8[1] = v7;
    v8[2] = v5;
    v9 = (v0 + 64);
    *v9 = v6;
    v9[1] = v7;
    v9[2] = v5;
    object_setPanelsFromCoordinates(v0);
    *(v0 + 60) = 0;
    *v0 |= 2u;
    v10 = object_getFlip(v0);
    sprite_setFlip(v0, v10);
    v11 = sub_800F29C(*(v0 + 40));
    sub_8010DF6(v11, v12);
    *(v0 + 8) = 4;
    return sub_80BF7BC();
}


// 0x80bf7bc
int sub_80BF7BC()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) )
        result = (*(&off_80BF7F4 + *(v0 + 9)))();
    else
        result = (*(&off_80BF7E4 + *(v0 + 9)))();
    return result;
}


// 0x80bf800
int sub_80BF800()
{
    int v0; // r5

    return (*(&off_80BF814 + *(v0 + 10)))();
}


// 0x80bf81c
signed int __fastcall sub_80BF81C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r0
    signed int result; // r0

    if ( *(v3 + 11) )
    {
        v4 = *(v3 + 32) + 1;
        *(v3 + 32) = v4;
        if ( v4 > 1 )
        {
            *(v3 + 32) = 0;
            v5 = *(v3 + 34) + 1;
            *(v3 + 34) = v5;
            if ( v5 > 15 )
            {
                sprite_disableAlpha();
                result = 4;
                *(v3 + 10) = 4;
                return result;
            }
        }
    }
    else
    {
        PlaySoundEffect(252, a2, a3);
        *(v3 + 32) = 0;
        *(v3 + 34) = 0;
        sprite_setPallete(25);
        *(v3 + 11) = 4;
    }
    return sub_8002C7A(*(v3 + 34));
}


// 0x80bf866
int sub_80BF866()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf888
int sub_80BF888()
{
    int v0; // r5

    return (*(&off_80BF89C + *(v0 + 10)))();
}


// 0x80bf8a8
int sub_80BF8A8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 10;
        *(v0 + 32) = 30;
        sub_80B8E30(30);
        PlaySoundEffect(148, v1, v2);
        *(v0 + 11) = 4;
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bf8da
int __fastcall sub_80BF8DA(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r2
    int v6; // r0
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 0;
        *(v3 + 34) = 0;
        sub_80B8E70(*(v3 + 96), 2);
        camera_initShakeEffect_80302a8(2, 106);
        *(v3 + 11) = 4;
    }
    if ( !*(v3 + 34) )
        PlaySoundEffect(299, a2, a3);
    v4 = *(v3 + 34) + 1;
    *(v3 + 34) = v4;
    if ( v4 >= 16 )
        *(v3 + 34) = 0;
    v5 = *(v3 + 32);
    v6 = 0;
    if ( !*(v3 + 32) || (v6 = 1, v5 == 8) || (v6 = 2, v5 == 16) )
        sub_80BFD02(v6);
    result = *(v3 + 32) + 1;
    *(v3 + 32) = result;
    if ( result > 106 )
    {
        result = 8;
        *(v3 + 10) = 8;
    }
    return result;
}


// 0x80bf94e
int sub_80BF94E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        sub_80B8E70(*(v0 + 96), 3);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf97c
int sub_80BF97C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 4;
        sub_80B8E58(*(v0 + 96));
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bf9b0
int sub_80BF9B0()
{
    int v0; // r5

    return (*(&off_80BF9C4 + *(v0 + 10)))();
}


// 0x80bf9cc
signed int sub_80BF9CC()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r6
    int v4; // ST00_4
    int v5; // r5
    signed int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 18);
        v2 = *(v0 + 19);
        v3 = *(v0 + 44);
        v4 = v0;
        v5 = *(v0 + 76);
        sub_80BFCD0(v1, v2, 0, 0);
        v0 = v4;
        *(v4 + 11) = 4;
    }
    result = *(v0 + 20);
    if ( !*(v0 + 20) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bf9fe
int sub_80BF9FE()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bfa1c
int sub_80BFA1C()
{
    int v0; // r5

    return (*(&off_80BFA30 + *(v0 + 10)))();
}


// 0x80bfa38
int __fastcall sub_80BFA38(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int result; // r0

    if ( !*(v3 + 11) )
    {
        PlaySoundEffect(315, a2, a3);
        *(v3 + 32) = 0;
        *(v3 + 52) -= 6553600 * object_getFrontDirection(v3);
        *(v3 + 60) = 6553600;
        *(v3 + 64) = 655360 * object_getFrontDirection(v3);
        *(v3 + 72) = -655360;
        *(v3 + 11) = 4;
    }
    *(v3 + 52) += *(v3 + 64);
    *(v3 + 60) += *(v3 + 72);
    v4 = *(v3 + 32);
    if ( v4 == 7 || v4 == 5 )
        sub_80BFD90(0);
    result = *(v3 + 32) + 1;
    *(v3 + 32) = result;
    if ( result >= 10 )
    {
        object_setCoordinatesFromPanels(v3);
        sprite_disableAlpha();
        result = 4;
        *(v3 + 10) = 4;
    }
    return result;
}


// 0x80bfaae
int sub_80BFAAE()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bfad8
int sub_80BFAD8()
{
    int v0; // r5

    return (*(&off_80BFAEC + *(v0 + 10)))();
}


// 0x80bfaf8
int sub_80BFAF8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r2
    int v9; // r0
    unsigned __int8 v10; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        v1 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v1 << 16, *(v0 + 52) + (v1 << 16), *(v0 + 56), *(v0 + 60) + (v2 << 16));
        *(v3 + 32) = 30;
        PlaySoundEffect(113, 30, v4);
        *(v0 + 32) = 40;
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 20 )
    {
        v5 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 0, *(v0 + 22), *(v0 + 23));
        SpawnT4BattleObjectWithId0(v0, v5 << 16, *(v0 + 52) + (v5 << 16), *(v0 + 56), *(v0 + 60) + (v6 << 16));
        *(v7 + 32) = 10;
        PlaySoundEffect(114, 10, v8);
    }
    v9 = *(v0 + 32);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v10) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80bfb74
int sub_80BFB74()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    char v3; // r0
    int v4; // r6
    char v5; // ST00_1
    int v6; // r1
    int v7; // ST08_4
    int v8; // ST04_4
    int v9; // r0
    int v10; // r0
    int v11; // r1
    int v12; // r2
    int v13; // r3
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 5;
        *(v0 + 32) = 0;
        sub_80B8E30(0);
        PlaySoundEffect(206, v1, v2);
        *(v0 + 11) = 4;
    }
    if ( *(v0 + 32) == 10 )
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v0 + 44);
        v5 = v3 + *(v0 + 18);
        sub_80C53A6(v5, *(v0 + 19), *(v0 + 14), 0);
        v8 = object_getCoordinatesForPanels(v5);
        v7 = v6;
        v9 = object_getFlip(v0);
        SpawnT4BattleObjectWithId0(v0, v9, v8, v7, 0x100000);
        v10 = camera_initShakeEffect_80302a8(2, 40);
        sub_80E11E0(v10, v11, v12, v13);
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result > 30 )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80bfbfa
int sub_80BFBFA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80bfc28
int sub_80BFC28()
{
    int v0; // r5

    return (*(&off_80BFC3C + *(v0 + 10)))();
}


// 0x80bfc44
signed int sub_80BFC44()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    signed int result; // r0

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 32) + 1;
        *(v0 + 32) = v1;
        if ( v1 > 2 )
        {
            *(v0 + 32) = 0;
            v2 = *(v0 + 34);
            v3 = __OFSUB__(v2--, 1);
            *(v0 + 34) = v2;
            if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            {
                *v0 &= 0xFDu;
                sprite_disableAlpha();
                result = 4;
                *(v0 + 10) = 4;
                return result;
            }
        }
    }
    else
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 96));
        *(v0 + 32) = 0;
        *(v0 + 34) = 15;
        *(v0 + 11) = 4;
    }
    return sub_8002C7A(*(v0 + 34));
}


// 0x80bfc94
int sub_80BFC94()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80bfcb2
int sub_80BFCB2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    _BYTE *v3; // r0

    v1 = sub_800F29C(*(v0 + 40));
    sub_8011044(v1, v2);
    v3 = *(v0 + 100);
    if ( v3 )
        *v3 = 0;
    return object_freeMemory();
}


// 0x80bfcd0
int __fastcall sub_80BFCD0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(37, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 100) = v6;
        if ( v6 )
            *v6 = 1;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80bfd02
int __fastcall sub_80BFD02(int a1)
{
    int v1; // r5
    int result; // r0
    int v3; // r6
    _BYTE *v4; // r0
    char *v5; // [sp+0h] [bp-1Ch]
    char v6; // [sp+4h] [bp-18h]

    v5 = *(&off_80BFD68 + a1);
    v6 = object_getFrontDirection(v1);
    while ( 1 )
    {
        result = *v5;
        if ( result == 127 )
            break;
        v3 = *(v1 + 44);
        v4 = sub_80D07A0(result * v6 + *(v1 + 18), v5[1] + *(v1 + 19), 1, 393216);
        *v4 |= 0x10u;
        v5 += 2;
    }
    return result;
}


// 0x80bfd90
int __fastcall sub_80BFD90(int a1)
{
    Battle *v1; // r5

    object_getFlip(v1);
    sub_80E33FA(0x10000, v1->x, v1->y - 0x10000, v1->z - 0x10000);
    object_getFlip(v1);
    return sub_80E33FA(0x10000, v1->x, v1->y - 0x10000, v1->z - 0x10000);
}


// 0x80bfdfc
void sub_80BFDFC()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80BFE18 + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
}


// 0x80bfe24
void __noreturn sub_80BFE24()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 8, 21);
    sprite_noShadow(v0);
    *v0 &= 0xFDu;
    v1 = *(*(v0 + 76) + 16) - *(v0 + 5) + *(v0 + 4);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 8) = 4;
    sprite_update(v0);
    sub_80BFE6E();
}


// 0x80bfe6e
int sub_80BFE6E()
{
    int v0; // r5

    return (*(&off_80BFE88 + *(v0 + 9)))();
}


// 0x80bfe8c
int sub_80BFE8C()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    int v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r0
    unsigned int v8; // r0
    int v9; // r0

    *(v0 + 16) = *(*(v0 + 76) + 16) - *(v0 + 5) + *(v0 + 4);
    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = v0 + 52;
    *v4 = v1[13];
    *(v4 + 4) = v2;
    *(v4 + 8) = v3;
    LOWORD(v4) = *(v0 + 6);
    *(v0 + 58) -= v4;
    *(v0 + 62) -= v4;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v5 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v5);
    v6 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v6);
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v8);
    v9 = sprite_getMosaicScalingParameters(*(v0 + 76));
    return (sprite_setAlpha)(v9);
}


// 0x80bff00
int __fastcall sub_80BFF00(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    int v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType1(38, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 76) = v8;
        *(v4 + 44) = 0;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80bff28
int __fastcall sub_80BFF28(int result, char a2)
{
    if ( result )
    {
        *(result + 16) = a2;
        *(result + 17) = -1;
    }
    return result;
}


// 0x80bff34
int __fastcall sub_80BFF34(int result)
{
    if ( result )
        *(result + 17) = -1;
    return result;
}


// 0x80bff3e
signed int __fastcall sub_80BFF3E(signed int result)
{
    if ( result )
        result = sprite_setFlip(result, *(result + 22) ^ *(result + 23) ^ 1);
    return result;
}


// 0x80bff56
signed int __fastcall sub_80BFF56(signed int result)
{
    Battle *v1; // r5
    int v2; // r0

    if ( result )
    {
        v1 = result;
        v2 = object_getFlip(result);
        result = sprite_setFlip(v1, v2);
    }
    return result;
}


// 0x80bff68
int sub_80BFF68()
{
    int v0; // r5

    return (*(&off_80BFF7C + *(v0 + 8)))();
}


// 0x80bff88
void __noreturn sub_80BFF88()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 4, 25);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    sprite_setAnimation(v0, 6u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80BFFC0();
}


// 0x80bffc0
int sub_80BFFC0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned int v3; // r0
    int v4; // r0
    int v5; // r0

    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v1 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v1);
    v2 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v2);
    v3 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v3);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    v5 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v5);
    return (*(&off_80C001C + *(v0 + 9)))();
}


// 0x80c0030
int sub_80C0030()
{
    int v0; // r5
    unsigned int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3
    unsigned __int8 v5; // cf
    int result; // r0

    sub_80C00CE();
    v1 = sub_800139A();
    v5 = __CFSHR__(v1, 2);
    result = v1 >> 2;
    if ( v5 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = sub_80C004C(0, v2, v3, v4);
    }
    return result;
}


// 0x80c004c
int __fastcall sub_80C004C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    result = sub_80C0116(a1, a2, a3, a4);
    if ( result )
    {
        sub_80C00CE();
        if ( *(v4 + 96) )
            sub_80C0144();
        result = sub_80C00EA();
    }
    return result;
}


// 0x80c006a
void sub_80C006A()
{
    ;
}


// 0x80c006e
void sub_80C006E()
{
    ;
}


// 0x80c0072
int sub_80C0072()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    sub_80C00CE();
    result = battle_isTimeStop();
    if ( v2 )
    {
        sub_80C00EA();
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            sub_80E1A86(*(*(v0 + 88) + 116));
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80c0098
int __fastcall sub_80C0098(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+4h] [bp-8h]

    object_spawnType1(39, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80c00b8
int __fastcall sub_80C00B8(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c00c2
int __fastcall sub_80C00C2(int result, char a2)
{
    if ( result )
        *(result + 16) = a2;
    return result;
}


// 0x80c00ce
int sub_80C00CE()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int result; // r0
    __int16 v5; // r1

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    result = *(v0 + 58) + 1;
    v5 = *(v0 + 62) + 1;
    *(v0 + 58) = result;
    *(v0 + 62) = v5;
    return result;
}


// 0x80c00ea
signed int sub_80C00EA()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        battle_isTimeStop();
        if ( v2 )
        {
            v3 = *(v0 + 76);
            if ( *(v3 + 36) )
            {
                if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
                {
                    UpdateBattleObjectSprite();
                    v1 = 1;
                }
            }
        }
    }
    return v1;
}


// 0x80c0116
int __fastcall sub_80C0116(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r7

    result = *(*(v4 + 76) + 36);
    if ( !*(*(v4 + 76) + 36) )
    {
        v6 = *(v4 + 88) + 116;
        sub_80E1A6A(result, a2, a3, a4);
        *(v4 + 32) = 32;
        *(v4 + 9) = 16;
        result = 0;
    }
    return result;
}


// 0x80c0136
signed int __fastcall sub_80C0136(signed int result)
{
    signed int v1; // r5

    v1 = result;
    if ( result )
    {
        result = 1;
        *(v1 + 96) = 1;
    }
    return result;
}


// 0x80c0144
int sub_80C0144()
{
    int v0; // r5

    *(v0 + 96) = 0;
    object_getFlip(v0);
    return sub_80E33FA(661764, *(v0 + 52), *(v0 + 56), *(v0 + 60));
}


// 0x80c0178
int sub_80C0178()
{
    int v0; // r5

    return (*(&off_80C018C + *(v0 + 8)))();
}


// 0x80c0198
void __noreturn sub_80C0198()
{
    int v0; // r5
    int v1; // r0

    *v0 &= 0xFDu;
    sprite_load(v0, 128, 8, 10);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    sprite_setAnimation(v0, 0xFu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80C01D8();
}


// 0x80c01d8
int sub_80C01D8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned int v3; // r0
    int v4; // r0
    int v5; // r0

    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v1 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v1);
    v2 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v2);
    v3 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v3);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    v5 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v5);
    return (*(&off_80C0234 + *(v0 + 9)))();
}


// 0x80c023c
int sub_80C023C()
{
    _BYTE *v0; // r5
    int result; // r0

    *v0 &= 0xFDu;
    v0[16] = 0;
    result = sub_80C031E();
    if ( result )
    {
        sub_80C02DA();
        result = sub_80C02F8();
    }
    return result;
}


// 0x80c025c
int sub_80C025C()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r0

    result = sub_80C031E();
    if ( result )
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 4;
            *(v0 + 32) = 0;
            *(v0 + 16) = 33;
        }
        v4 = *(v0 + 32) + 1;
        *(v0 + 32) = v4;
        if ( v4 == 2 )
            PlaySoundEffect(379, v2, v3);
        sub_80C02F8();
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            *(v0 + 32) = 0;
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80c02a6
int __fastcall sub_80C02A6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(40, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80c02be
int __fastcall sub_80C02BE(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c02ca
int __fastcall sub_80C02CA(int result)
{
    if ( result )
    {
        *(result + 9) = 4;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80c02da
int sub_80C02DA()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int result; // r0
    __int16 v5; // r1

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    result = *(v0 + 58) + 1;
    v5 = *(v0 + 62) + 1;
    *(v0 + 58) = result;
    *(v0 + 62) = v5;
    return result;
}


// 0x80c02f8
signed int sub_80C02F8()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                UpdateBattleObjectSprite();
                v1 = 1;
            }
        }
    }
    return v1;
}


// 0x80c031e
int sub_80C031E()
{
    int v0; // r5
    int result; // r0

    result = *(*(v0 + 76) + 36);
    if ( !*(*(v0 + 76) + 36) )
    {
        *(v0 + 8) = 8;
        result = 0;
    }
    return result;
}


// 0x80c0334
void sub_80C0334()
{
    int v0; // r5

    (*(&off_80C034C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c0358
signed int __noreturn sub_80C0358()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    sprite_load(v0, 128, 8, 19);
    v1 = *(v0 + 4);
    *(v0 + 16) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    sprite_setField0x3Bit5();
    v2 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v2);
    sprite_setColorShader(v0, *(v0 + 96));
    sprite_setFlip(v0, *(v0 + 6));
    *(v0 + 6) = 2;
    *v0 |= 2u;
    *(v0 + 8) = 4;
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        result = 4;
        *(v0 + 9) = 4;
    }
    return result;
}


// 0x80c03ae
int sub_80C03AE()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( *(v0 + 72) || (result = battle_isTimeStop(), v2) )
        result = (*(&off_80C03CC + *(v0 + 9)))();
    return result;
}


// 0x80c03d4
int sub_80C03D4()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    *v0 |= 2u;
    v1 = *(v0 + 6) - 1;
    *(v0 + 6) = v1;
    if ( !v1 )
    {
        *(v0 + 6) = 3;
        *v0 &= 0xFDu;
    }
    result = *(v0 + 5) - 1;
    *(v0 + 5) = result;
    if ( !result )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c0404
int sub_80C0404()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    *v0 |= 2u;
    v1 = *(v0 + 6) - 1;
    *(v0 + 6) = v1;
    if ( !v1 )
    {
        *(v0 + 6) = 3;
        *v0 &= 0xFDu;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    *(v0 + 60) -= *(v0 + 72);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c0448
int __fastcall sub_80C0448(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-8h]

    object_spawnType1(41, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v8;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 96) = v5;
        *(v4 + 18) = *(v8 + 18);
        *(v4 + 32) = *(v6 + 16);
        *(v4 + 64) = *(v8 + 64);
        *(v4 + 68) = *(v8 + 68);
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80c047a
int __fastcall sub_80C047A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    v6 = a1;
    result = sub_80C0448(a1, a2, a3, a4);
    if ( result )
    {
        *(result + 72) = v6;
        *(result + 60) = *(v4 + 60);
        *result |= 0x10u;
    }
    return result;
}


// 0x80c0498
int __fastcall sub_80C0498(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c04a2
int __fastcall sub_80C04A2(int result)
{
    if ( result )
        *(result + 17) = -1;
    return result;
}


// 0x80c04ac
int sub_80C04AC()
{
    int v0; // r5

    return (*(&off_80C04C0 + *(v0 + 8)))();
}


// 0x80c04cc
void __noreturn sub_80C04CC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2

    sprite_load(v0, 128, 8, 11);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    sprite_removeShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    PlaySoundEffect(140, 2, v2);
    sub_8010DF6(1, *(v0 + 4));
    *(v0 + 8) = 4;
    sub_80C0526();
}


// 0x80c0526
int sub_80C0526()
{
    int v0; // r5

    return (*(&off_80C0538 + *(v0 + 9)))();
}


// 0x80c0544
int sub_80C0544()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 22;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        sub_80C060A(4 * *(v0 + 32), 112 * *(v0 + 32) & 0xFF);
        result = sprite_setColorShader(v0, 8456);
    }
    return result;
}


// 0x80c0584
unsigned int sub_80C0584()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    unsigned int result; // r0
    unsigned int v4; // r0
    unsigned __int8 v5; // cf

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *v0 |= 2u;
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        *v0 |= 2u;
        v4 = *(v0 + 32);
        v5 = __CFSHR__(v4, 2);
        result = v4 >> 2;
        if ( v5 )
        {
            result = *v0 & 0xFD;
            *v0 = result;
        }
    }
    return result;
}


// 0x80c05c6
signed int sub_80C05C6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80C060A(0, 0);
        *(v0 + 32) = 8;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !((v1 < 0) ^ v2) )
        return sub_8002C7A(2 * *(v0 + 32));
    sprite_disableAlpha();
    *v0 &= 0xFDu;
    sub_8011044(1, *(v0 + 4));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c060a
int __fastcall sub_80C060A(int a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int v4; // r2
    int v5; // r1
    int v6; // r3
    int *v7; // r0
    int result; // r0

    v3 = *&math_sinTable[2 * a2] * a1 << 8;
    v4 = *(*(v2 + 76) + 56);
    v5 = *(*(v2 + 76) + 52) + (*&math_cosTable[2 * a2] * a1 << 8);
    v6 = *(*(v2 + 76) + 60) + v3;
    v7 = (v2 + 52);
    *v7 = v5;
    v7[1] = v4;
    v7[2] = v6;
    *(v2 + 58) += 2;
    result = *(v2 + 62) + 2;
    *(v2 + 62) = result;
    return result;
}


// 0x80c063c
int __fastcall sub_80C063C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(42, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80c065c
void sub_80C065C()
{
    int v0; // r5

    (*(&off_80C0674 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c0680
void __noreturn sub_80C0680()
{
    sub_801BE2A(0x1000000u);
}


// 0x80c06bc
int sub_80C06BC()
{
    int v0; // r5

    return (*(&off_80C06D0 + *(v0 + 10)))();
}


// 0x80c06dc
int sub_80C06DC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20;
        *(v0 + 64) = object_getFrontDirection(v0) << 17;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        *(v0 + 64) = 0;
        *(v0 + 10) = 4;
    }
    result = *(v0 + 52) + *(v0 + 64);
    *(v0 + 52) = result;
    return result;
}


// 0x80c0710
int sub_80C0710()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80c072e
int sub_80C072E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !((v1 < 0) ^ v2) )
        return sub_80C075E(2 * *(v0 + 32), 112 * *(v0 + 32) & 0xFF);
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c075e
int __fastcall sub_80C075E(int a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int v4; // r2
    int v5; // r1
    int v6; // r3
    int *v7; // r0
    int result; // r0

    v3 = *&math_sinTable[2 * a2] * a1 << 8;
    v4 = *(*(v2 + 76) + 56);
    v5 = *(*(v2 + 76) + 52) + (*&math_cosTable[2 * a2] * a1 << 8);
    v6 = *(*(v2 + 76) + 60) + v3;
    v7 = (v2 + 52);
    *v7 = v5;
    v7[1] = v4;
    v7[2] = v6;
    *(v2 + 58) += 2;
    result = *(v2 + 62) + 2;
    *(v2 + 62) = result;
    return result;
}


// 0x80c0790
int __fastcall sub_80C0790(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(43, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80c07bc
int sub_80C07BC()
{
    int v0; // r5

    return (*(&JumpTable80C07CC + *(v0 + 8)))();
}


// 0x80c07dc
int sub_80C07DC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0

    sprite_decompress(12, 80);
    *v0 |= 2u;
    sprite_load(v0, 128, 12, 80);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = 0;
    if ( *(v0 + 4) == 4 )
        v2 = 1;
    sprite_setPallete(v2);
    sprite_setColorShader(v0, 0x7FFF);
    *(v0 + 8) = 4;
    return sub_80C0840();
}


// 0x80c0840
int sub_80C0840()
{
    int v0; // r5

    (*(&off_80C0858 + *(v0 + 9)))();
    object_updateSprite();
    return sub_80C0DB0();
}


// 0x80c0870
int sub_80C0870()
{
    int v0; // r5

    return (*(&off_80C0884 + *(v0 + 10)))();
}


// 0x80c088c
int sub_80C088C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    __int16 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v0 + 11) )
    {
        *v0 |= 2u;
        v4 = *(v0 + 32) + 1;
        *(v0 + 32) = v4;
        if ( v4 & 1 )
            *v0 &= 0xFDu;
        v5 = *(v0 + 25);
        v6 = __OFSUB__(v5, 2);
        result = v5 - 2;
        *(v0 + 25) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *v0 |= 2u;
            *(v0 + 25) = 0;
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
        *(v0 + 25) = 31;
        PlaySoundEffect(148, v1, v2);
        *(v0 + 32) = 0;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c08ee
int sub_80C08EE()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 32) = 15;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c0912
int sub_80C0912()
{
    int v0; // r5

    return (*(&off_80C0924 + *(v0 + 10)))();
}


// 0x80c0938
void __fastcall __noreturn sub_80C0938(int a1, int a2)
{
    sub_80C0C9A(a1, a2);
}


// 0x80c0956
int __fastcall sub_80C0956(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *v3 &= 0xFDu;
            result = 8;
            *(v3 + 10) = 8;
        }
    }
    else
    {
        *(v3 + 16) = 2;
        PlaySoundEffect(190, a2, a3);
        *(v3 + 32) = 5;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c0988
void sub_80C0988()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 60) + *(v0 + 72);
        *(v0 + 60) = v1;
        if ( v1 >> 16 >= 160 )
        {
            *(v0 + 10) = 12;
            return;
        }
    }
    else
    {
        *(v0 + 32) = 4;
        *(v0 + 72) = 983040;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        *(v0 + 32) = 5;
        sub_80C0DC2();
    }
}


// 0x80c09c6
void sub_80C09C6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r0

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 60);
        v2 = *(v0 + 72);
        v3 = __OFADD__(v1, v2);
        v4 = v1 + v2;
        *(v0 + 60) = v4;
        if ( ((v4 >> 16 < 0) ^ v3) | (v4 >> 16 == 0) )
        {
            *(v0 + 60) = 0;
            *(v0 + 10) = 16;
            return;
        }
    }
    else
    {
        *(v0 + 32) = 1;
        *(v0 + 72) = -*(v0 + 72);
        *(v0 + 18) = *(v0 + 6);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v3 = __OFSUB__(v5--, 1);
    *(v0 + 32) = v5;
    if ( ((v5 < 0) ^ v3) | (v5 == 0) )
    {
        *(v0 + 32) = 3;
        sub_80C0DC2();
    }
}


// 0x80c0a0e
int sub_80C0A0E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 32) = 5;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
        *v0 |= 2u;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c0a4c
int sub_80C0A4C()
{
    int v0; // r5

    return (*(&off_80C0A60 + *(v0 + 10)))();
}


// 0x80c0a6c
int sub_80C0A6C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 16) = 3;
        *(v0 + 32) = 9;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c0a90
_BYTE *__fastcall sub_80C0A90(int a1, int a2, int a3)
{
    int v3; // r5
    _BYTE *v4; // r0
    signed int v5; // r0
    int v6; // r0
    _BYTE *result; // r0
    int v8; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0
    int v12; // r0
    int v13; // r0
    int v14; // r0

    if ( *(v3 + 11) )
    {
        v8 = (*(v3 + 104) + 1) & 7;
        *(v3 + 104) = v8;
        if ( v8 == 1 )
            PlaySoundEffect(191, 7, a3);
        v9 = *(v3 + 32);
        v10 = __OFSUB__(v9, 1);
        result = (v9 - 1);
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            *(v3 + 32) = 10;
            v11 = *(v3 + 34);
            v10 = __OFSUB__(v11--, 1);
            *(v3 + 34) = v11;
            if ( ((v11 < 0) ^ v10) | (v11 == 0) )
            {
                v13 = *(v3 + 96) - 1;
                *(v3 + 96) = v13;
                if ( v13 )
                {
                    *(v3 + 34) = 3;
                    v14 = object_getFrontDirection(v3);
                    sub_80C0D98(v14 + *(v3 + 18), *(v3 + 19));
                    result = (&loc_FC + 3);
                    *(v3 + 17) = -1;
                }
                else
                {
                    result = &dword_8;
                    *(v3 + 10) = 8;
                }
            }
            else
            {
                v12 = object_getFrontDirection(v3);
                result = sub_80C0D98(v12 + *(v3 + 18), *(v3 + 19));
            }
        }
    }
    else
    {
        v4 = sub_80B8E30(*(v3 + 4));
        *v4 |= 0x10u;
        *(v3 + 32) = 10;
        *(v3 + 34) = 3;
        v5 = 1;
        if ( *(v3 + 4) == 5 )
            v5 = 3;
        *(v3 + 96) = v5;
        v6 = object_getFrontDirection(v3);
        sub_80C0D98(v6 + *(v3 + 18), *(v3 + 19));
        result = dword_4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c0b4a
int sub_80C0B4A()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 16) = 0;
        *(v0 + 108) = 0;
        *(v0 + 32) = 10;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c0b76
int sub_80C0B76()
{
    int v0; // r5

    return (*(&off_80C0B88 + *(v0 + 10)))();
}


// 0x80c0b90
int __fastcall sub_80C0B90(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *v3 &= 0xFDu;
            result = 4;
            *(v3 + 10) = 4;
        }
    }
    else
    {
        *(v3 + 16) = 2;
        PlaySoundEffect(190, a2, a3);
        *(v3 + 32) = 5;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c0bc2
void sub_80C0BC2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 60) + *(v0 + 72);
        *(v0 + 60) = v1;
        if ( v1 >> 16 >= 160 )
        {
            *(v0 + 9) = 16;
            *(v0 + 10) = 0;
            return;
        }
    }
    else
    {
        *(v0 + 32) = 4;
        *(v0 + 72) = 983040;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        *(v0 + 32) = 5;
        sub_80C0DC2();
    }
}


// 0x80c0c04
int sub_80C0C04()
{
    int v0; // r5

    return (*(&off_80C0C18 + *(v0 + 10)))();
}


// 0x80c0c20
int __fastcall sub_80C0C20(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 11) )
    {
        v6 = *(v4 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            sub_80E1332(*(v4 + 76), 0, a3, a4);
            result = 4;
            *(v4 + 10) = 4;
        }
    }
    else
    {
        *(v4 + 32) = 10;
        result = 4;
        *(v4 + 11) = 4;
    }
    return result;
}


// 0x80c0c48
int sub_80C0C48()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // ST00_4
    int v4; // r5
    int v5; // r2
    int v6; // r3
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v0 + 11) )
    {
        v8 = *(v0 + 32);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        sub_80E199A(*(v0 + 44));
        v1 = *(v0 + 12);
        v2 = *(v0 + 13);
        v3 = v0;
        v4 = *(v0 + 76);
        sub_80CE224(v1, v2, v5, v6);
        *(v3 + 32) = 90;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c0c8c
int sub_80C0C8C()
{
    int v0; // r5

    **(v0 + 100) = 0;
    return object_freeMemory();
}


// 0x80c0c9a
int __fastcall __noreturn sub_80C0C9A(int a1, int a2)
{
    Battle *v2; // r5
    int result; // r0
    int v4; // r4
    unsigned int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r2
    bool v9; // zf
    bool v10; // nf
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r0
    u32 *v14; // r3
    int v15; // r2
    int v16; // r3
    int v17; // r4
    unsigned int v18; // r0
    int v19; // r1
    int v20; // r2
    int v21; // r3
    int v22; // [sp+0h] [bp+0h]
    int v23; // [sp+8h] [bp+8h]
    int v24; // [sp+14h] [bp+14h]
    int v25; // [sp+18h] [bp+18h]
    int v26; // [sp+1Ch] [bp+1Ch]
    int v27; // [sp+20h] [bp+20h]
    int v28; // [sp+24h] [bp+24h]
    int v29; // [sp+28h] [bp+28h]
    int v30; // [sp+2Ch] [bp+2Ch]
    int v31; // [sp+30h] [bp+30h]

    v25 = 0;
    v26 = 0;
    v29 = 255;
    v30 = 255;
    result = object_getPanelsExceptCurrentFilterred(4 * v2->Alliance, a2, *(&off_80C0D90 + v2->Alliance), 0);
    v24 = result;
    if ( result )
    {
        v31 = 0;
        v4 = 0;
        do
        {
            v5 = *(&v22 + v31);
            v6 = v5 >> 4;
            v7 = v5 & 7;
            v27 = v7;
            v28 = v6;
            v8 = v2->panelX;
            if ( v2->Alliance == v2->directionFlip )
            {
                v11 = __OFSUB__(v7, v8);
                v9 = v7 == v8;
                v10 = v7 - v8 < 0;
            }
            else
            {
                v11 = __OFSUB__(v8, v7);
                v9 = v8 == v7;
                v10 = v8 - v7 < 0;
            }
            if ( !((v10 ^ v11) | v9) )
            {
                if ( (v12 = object_getFrontDirection(v2),
                            v13 = v27 - v12,
                            v27 = v13,
                            v14 = v2->parent,
                            v15 = *(v14 + 18),
                            v16 = *(v14 + 19),
                            v13 == v15)
                    && v28 == v16
                    || object_checkPanelParameters(v13, v28, 0, 260046848) )
                {
                    *(&v23 + v4++) = v27 | 16 * v28;
                }
            }
            ++v31;
        }
        while ( v31 < v24 );
        v24 = v4;
        if ( v4 )
        {
            v17 = 0;
            do
            {
                v18 = *(&v23 + v17);
                v19 = v18 >> 4;
                v27 = v18 & 7;
                v28 = v18 >> 4;
                v20 = v27 - v2->panelX;
                if ( v20 < 0 )
                    v20 = v2->panelX - (v18 & 7);
                v21 = v19 - v2->panelY;
                if ( v21 < 0 )
                    v21 = v2->panelY - v19;
                if ( v20 < v29 || v20 <= v29 && (v19 < v30 || v19 <= v30 && v19 < v26) )
                {
                    v25 = v27;
                    v26 = v28;
                    v29 = v20;
                    v30 = v21;
                }
                ++v17;
            }
            while ( v17 < v24 );
        }
        result = v25;
    }
    return result;
}


// 0x80c0d98
_BYTE *__fastcall sub_80C0D98(int a1, int a2)
{
    int v2; // r5
    int v3; // r6

    v3 = *(v2 + 44);
    return sub_80C53A6(a1, a2, 0, 1310720);
}


// 0x80c0db0
int sub_80C0DB0()
{
    Battle *v0; // r5

    return sprite_setColorShader(v0, 1057 * v0->unk_19);
}


// 0x80c0dc2
void sub_80C0DC2()
{
    Battle *v0; // r5
    u32 v1; // r1
    u32 v2; // r2
    u32 v3; // r3
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3

    v1 = v0->x;
    v2 = v0->y;
    v3 = v0->z;
    v4 = sub_801BDDE(0x10u);
    SpawnT4BattleObjectWithId0(v0, v4, v5, v6, v7);
}


// 0x80c0dd8
int __fastcall sub_80C0DD8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType1(44, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 12) = v8;
        *(v4 + 19) = v9;
        *(v4 + 13) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
        *(v4 + 100) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c0e04
int sub_80C0E04()
{
    int v0; // r5

    return (*(&off_80C0E18 + *(v0 + 8)))();
}


// 0x80c0e24
void sub_80C0E24()
{
    int v0; // r5
    int v1; // r0
    int v2; // r5
    int v3; // r0
    int v4; // ST00_4
    char *v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r2
    int v9; // r3
    _DWORD *v10; // r0
    int v11; // r0
    int v12; // r5
    int v13; // r0
    int v14; // ST00_4
    int v15; // r0
    int v16; // r0
    int v17; // r5
    _BYTE *v18; // r0
    int v19; // r0
    int v20; // [sp-4h] [bp-Ch]

    v1 = sub_800F29C(*(*(v0 + 76) + 40));
    *(v0 + 96) = v1;
    if ( v1 == 2 )
    {
        v20 = v0;
        v2 = *(v0 + 76);
        v3 = sub_8013774(2, 44);
        v4 = v3;
        v5 = sub_8013774(v3, 41);
        sub_800FC9E(v5, v4);
        sprite_load(v20, 128, v6, v7);
        sprite_loadAnimationData(v20);
        sprite_hasShadow();
        *v20 |= 2u;
        v8 = *(*(v20 + 76) + 56);
        v9 = *(*(v20 + 76) + 60);
        v10 = (v20 + 52);
        *v10 = *(*(v20 + 76) + 52);
        v10[1] = v8;
        v10[2] = v9;
        v11 = sub_801002C();
        v0 = v20;
        sprite_setPallete(v11);
        if ( *(v20 + 96) == 2 )
        {
            v12 = *(v20 + 76);
            v13 = sub_8013774(2, 44);
            v14 = v13;
            v15 = sub_8013774(v13, 41);
            v16 = sub_8011420(v15, v14);
            v17 = *(v20 + 76);
            v0 = v20;
            if ( sub_8013774(v16, 44) )
            {
                v18 = *(v20 + 80);
                if ( v18 )
                {
                    v18[6] = 1;
                    *v18 |= 0x14u;
                }
            }
        }
        v19 = object_getFlip(v0);
        sprite_setFlip(v0, v19);
        *(v0 + 16) = *(v0 + 7) + 3;
        *(v0 + 17) = -1;
    }
    *(v0 + 8) = 4;
    sub_80C0EE2();
}


// 0x80c0ee2
void sub_80C0EE2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r4
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 7) )
        {
            if ( *(v0 + 96) == 2 )
                sub_80E1352(*(v0 + 76), 0);
            else
                sub_80E146C(*(v0 + 76));
        }
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        *v0 &= 0xFDu;
        v3 = *(v0 + 76);
        v4 = sub_800F29C(*(v3 + 40));
        sub_8011044(v4, v5);
        if ( !*(v0 + 7) )
        {
            if ( *(v0 + 96) == 2 )
                sub_80E13DC(v3);
            else
                sub_80E14AC(v3);
        }
        *(v0 + 8) = 8;
    }
    object_updateSpriteTimestop();
}


// 0x80c0f52
int __fastcall sub_80C0F52(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-10h]
    char v7; // [sp+4h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    object_spawnType1(45, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 7) = v7;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80c0f6c
int sub_80C0F6C()
{
    int v0; // r5

    return (*(&off_80C0F80 + *(v0 + 8)))();
}


// 0x80c0f8c
void __noreturn sub_80C0F8C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    _DWORD *v7; // r0

    v1 = sub_802D234();
    if ( v1 != 6 )
        LOBYTE(v1) = 3;
    *v0 = v1;
    sprite_load(v0, 128, 4, 16);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = sprite_getPallete(*(v0 + 76));
    __asm { SVC         6 }
    sprite_setPallete(v2 + 18);
    sprite_setAnimation(v0, 8u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v7 = *(v0 + 76);
    *(v0 + 96) = v7[13];
    *(v0 + 100) = v7[14];
    *(v0 + 104) = v7[15];
    *(v0 + 8) = 4;
    sub_80C0FE8();
}


// 0x80c0fe8
int sub_80C0FE8()
{
    int v0; // r5
    int v1; // r10
    int v2; // r0
    int v3; // r0
    unsigned int v4; // r0
    int v5; // r0
    int v6; // r0

    if ( sub_802D234() == 6 && *v0 & 4 && *(*(v1 + oToolkit_S2034880_Ptr) + 1) == 12 )
        *v0 &= 0xFBu;
    if ( *(v0 + 9) != 8 && *(*(v0 + 76) + 112) )
    {
        sprite_zeroColorShader();
        sprite_clearFinalPalette();
    }
    else
    {
        v2 = sprite_getColorShader(*(v0 + 76));
        sprite_setColorShader(v0, v2);
        v3 = sprite_getFinalPalette(*(v0 + 76));
        (sprite_setFinalPalette)(v3);
        v4 = sub_8002F3E(*(v0 + 76));
        (loc_8002F02)(v4);
        *(v0 + 23) = *(*(v0 + 76) + 23);
        v5 = object_getFlip(v0);
        sprite_setFlip(v0, v5);
        v6 = sprite_getMosaicScalingParameters(*(v0 + 76));
        (sprite_setAlpha)(v6);
    }
    return (*(&off_80C106C + *(v0 + 9)))();
}


// 0x80c1078
int sub_80C1078()
{
    int v0; // r5
    unsigned int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3
    unsigned __int8 v5; // cf
    int result; // r0

    sub_80C10FE();
    v1 = sub_800139A();
    v5 = __CFSHR__(v1, 2);
    result = v1 >> 2;
    if ( v5 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = sub_80C1094(0, v2, v3, v4);
    }
    return result;
}


// 0x80c1094
int __fastcall sub_80C1094(int a1, int a2, int a3, int a4)
{
    int result; // r0

    result = sub_80C1182(a1, a2, a3, a4);
    if ( result )
    {
        sub_80C114E();
        sub_80C10FE();
        result = sub_80169BE();
    }
    return result;
}


// 0x80c10ac
int sub_80C10AC()
{
    int v0; // r5
    int result; // r0

    sub_80C114E();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sub_80E1A86(*(*(v0 + 88) + 116));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c10c8
int __fastcall sub_80C10C8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+4h] [bp-8h]

    object_spawnType1(46, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80c10e8
int __fastcall sub_80C10E8(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c10f2
int __fastcall sub_80C10F2(int result, char a2)
{
    if ( result )
        *(result + 16) = a2;
    return result;
}


// 0x80c10fe
_DWORD *sub_80C10FE()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    __int16 v4; // r1
    _DWORD *result; // r0
    __int16 v6; // r1

    if ( *(*(v0 + 76) + 112) )
    {
        *(v0 + 52) = *(v0 + 96);
        *(v0 + 56) = *(v0 + 100);
        *(v0 + 60) = *(v0 + 104);
        result = (*(v0 + 102) - 1);
        v6 = *(v0 + 106) - 1;
        *(v0 + 58) = result;
        *(v0 + 62) = v6;
    }
    else
    {
        v1 = *(*(v0 + 76) + 56);
        v2 = *(*(v0 + 76) + 60);
        v3 = (v0 + 52);
        *v3 = *(*(v0 + 76) + 52);
        v3[1] = v1;
        v3[2] = v2;
        v4 = *(v0 + 62) - 1;
        --*(v0 + 58);
        *(v0 + 62) = v4;
        result = *(v0 + 76);
        *(v0 + 96) = result[13];
        *(v0 + 100) = result[14];
        *(v0 + 104) = result[15];
    }
    return result;
}


// 0x80c114e
signed int sub_80C114E()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    if ( sub_802D234() == 6 || (battle_isPaused(), v2) )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                battle_isTimeStop();
                if ( v2 )
                {
                    UpdateBattleObjectSprite();
                    v1 = 1;
                }
            }
        }
    }
    return v1;
}


// 0x80c1182
int __fastcall sub_80C1182(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r7

    result = *(*(v4 + 76) + 36);
    if ( !*(*(v4 + 76) + 36) )
    {
        v6 = *(v4 + 88) + 116;
        sub_80E1A6A(result, a2, a3, a4);
        *(v4 + 32) = 32;
        *(v4 + 9) = 8;
        result = 0;
    }
    return result;
}


// 0x80c11ac
int sub_80C11AC()
{
    int v0; // r5

    return (*(&off_80C11C0 + *(v0 + 8)))();
}


// 0x80c11cc
void __noreturn sub_80C11CC()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 4, 16);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v1);
    sprite_setAnimation(v0, 7u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80C1204(v0);
}


// 0x80c1204
int __usercall sub_80C1204@<R0>(Battle *obj@<R5>)
{
    u32 *v1; // r4
    int v2; // r0
    int v3; // r0
    unsigned int v4; // r0
    int v5; // r0
    int v6; // r0

    v1 = obj->parent;
    v2 = sprite_getColorShader(obj->parent);
    sprite_setColorShader(obj, v2);
    v3 = sprite_getFinalPalette(obj->parent);
    (sprite_setFinalPalette)(v3);
    v4 = sub_8002F3E(obj->parent);
    (loc_8002F02)(v4);
    obj->directionFlip = *(obj->parent + 23);
    v5 = object_getFlip(obj);
    sprite_setFlip(obj, v5);
    v6 = sprite_getMosaicScalingParameters(obj->parent);
    (sprite_setAlpha)(v6);
    (*(&off_80C1254 + obj->currAction))();
    return sub_80169BE();
}


// 0x80c1268
int __fastcall sub_80C1268(int a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    int result; // r0
    int v6; // r1

    result = sub_80C1492(a1, a2, a3, a4);
    if ( result )
    {
        result = sub_80C1466();
        if ( result )
        {
            *v4 &= 0xFDu;
            result = 97;
            v6 = v4[97] - 1;
            v4[97] = v6;
            if ( !v6 )
            {
                *v4 |= 2u;
                sub_80C1514(1);
                v4[9] = 4;
                result = 0;
                v4[10] = 0;
            }
        }
    }
    return result;
}


// 0x80c12a6
int __fastcall sub_80C12A6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    result = sub_80C1492(a1, a2, a3, a4);
    if ( result )
    {
        result = sub_80C1466();
        if ( result )
        {
            result = sub_80C14EC();
            if ( result )
            {
                *(v4 + 56) += *(v4 + 68);
                object_setPanelsFromCoordinates(v4);
                object_updateCollisionPanels(v4);
                result = 3 * (*(v4 + 100) ^ 1);
                if ( result == *(v4 + 19) )
                {
                    if ( *(v4 + 99) && 5 * (*(v4 + 22) ^ 1) + 1 != *(v4 + 18) )
                    {
                        *(v4 + 103) = 0;
                        *(v4 + 104) = *(v4 + 56);
                        *(v4 + 9) = 8;
                        result = 0;
                        *(v4 + 10) = 0;
                    }
                    else
                    {
                        sub_80C1538();
                        *(v4 + 9) = 12;
                        result = 0;
                        *(v4 + 10) = 0;
                    }
                }
            }
        }
    }
    return result;
}


// 0x80c1320
int __fastcall sub_80C1320(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int result; // r0
    int v6; // r2
    int v7; // r1

    result = sub_80C1492(a1, a2, a3, a4);
    if ( result )
    {
        result = sub_80C1466();
        if ( result )
        {
            result = sub_80C14EC();
            if ( result )
            {
                v6 = v4->extraVars[1] + 1;
                v4->extraVars[1] = v6;
                if ( v6 == v4->extraVars[5] )
                {
                    --v4->extraVars[3];
                    v4->extraVars[4] ^= 1u;
                    v4->vy = -v4->vy;
                    v7 = v4->panelY;
                    v4->x = object_getCoordinatesForPanels(v4->panelX);
                    v4->extraVars[1] = 0;
                    v4->currAction = 4;
                    result = 0;
                    v4->currPhase = 0;
                }
                else
                {
                    v4->x += v4->vx;
                    sub_80C14B2();
                    result = object_setPanelsFromCoordinates(v4);
                }
            }
        }
    }
    return result;
}


// 0x80c138e
signed int __fastcall sub_80C138E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int result; // r0

    result = sub_80C1492(a1, a2, a3, a4);
    if ( result )
    {
        result = sub_80C1466();
        if ( result )
        {
            result = sub_80C14EC();
            if ( result )
            {
                if ( *(v4 + 97) )
                {
                    --*(v4 + 97);
                    *(v4 + 56) += *(v4 + 68);
                    object_setPanelsFromCoordinates(v4);
                    result = object_updateCollisionPanels(v4);
                }
                else
                {
                    if ( *(v4 + 96) == 3 )
                        *(*(v4 + 76) + 124) = 1;
                    sub_80C1514(*(v4 + 100));
                    result = 8;
                    *(v4 + 8) = 8;
                }
            }
        }
    }
    return result;
}


// 0x80c13e4
int sub_80C13E4()
{
    int v0; // r5
    int result; // r0

    sub_80C1466();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sub_80E1A86(*(*(v0 + 88) + 116));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c1400
int __fastcall sub_80C1400(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r2
    char v7; // [sp+0h] [bp-10h]
    unsigned __int8 v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a3;
    v8 = a4;
    object_spawnType1(47, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 96) = v7;
        *(v4 + 97) = v8;
        *(v4 + 103) = 0;
        *(v4 + 99) = *(v9 + 103);
        *(v4 + 100) = *(v9 + 116);
        *(v4 + 101) = *(v9 + 117);
        *(v4 + 102) = *(v9 + 118);
        v6 = *(v9 + 68);
        *(v4 + 64) = *(v9 + 64);
        *(v4 + 68) = v6;
        *(v4 + 52) = *(v9 + 52);
        *(v4 + 56) = *(v9 + 56);
        *(v4 + 60) = *(v9 + 60);
    }
    return result;
}


// 0x80c1460
int __fastcall sub_80C1460(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80c1466
signed int sub_80C1466()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                battle_isTimeStop();
                if ( v2 )
                {
                    UpdateBattleObjectSprite();
                    v1 = 1;
                }
            }
        }
    }
    return v1;
}


// 0x80c1492
int __fastcall sub_80C1492(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r7

    result = *(*(v4 + 76) + 36);
    if ( !*(*(v4 + 76) + 36) )
    {
        v6 = *(v4 + 88) + 116;
        sub_80E1A6A(result, a2, a3, a4);
        *(v4 + 32) = 32;
        *(v4 + 9) = 16;
        result = 0;
    }
    return result;
}


// 0x80c14b2
int sub_80C14B2()
{
    int v0; // r5
    int v1; // r3
    int result; // r0

    v1 = *(v0 + 103) + *(v0 + 102);
    *(v0 + 103) = v1;
    result = 3072 * *&math_sinTable[2 * v1] * *&byte_80C14E4[4 * *(v0 + 100)];
    *(v0 + 56) = *(v0 + 104) + result;
    return result;
}


// 0x80c14ec
signed int sub_80C14EC()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // zf
    int v3; // r3

    v1 = 0;
    battle_isPaused();
    if ( v2 )
    {
        v3 = *(v0 + 76);
        if ( *(v3 + 36) )
        {
            if ( !(*(*(v3 + 84) + 60) & 0x80110C00) )
            {
                battle_isTimeStop();
                if ( v2 )
                    v1 = 1;
            }
        }
    }
    return v1;
}


// 0x80c1514
void __fastcall sub_80C1514(int result)
{
    Battle *v1; // r5
    u32 v2; // t1

    if ( result )
    {
        v2 = v1->z;
        SpawnT4BattleObjectWithId0(v1, (v1->Alliance ^ v1->directionFlip) << 8, v1->x, v1->y, 0);
    }
}


// 0x80c1538
int sub_80C1538()
{
    int v0; // r5
    int result; // r0

    result = *&byte_80C1558[4 * *(v0 + 100)];
    *(v0 + 68);
    __asm { SVC         6 }
    *(v0 + 97) = result;
    return result;
}


// 0x80c1570
int sub_80C1570()
{
    int v0; // r5

    return (*(&off_80C1580 + *(v0 + 8)))();
}


// 0x80c1590
void sub_80C1590()
{
    int v0; // r5
    int v1; // r0

    sprite_decompress(4, 29);
    sprite_load(v0, 128, 4, 29);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sprite_setPallete(3 * *(v0 + 100));
    *v0 &= 0xFDu;
    *(v0 + 8) = 4;
    sub_80C15EC();
}


// 0x80c15ec
void sub_80C15EC()
{
    int v0; // r5

    (*(&off_80C1600 + *(v0 + 9)))();
    object_updateSpriteTimestop();
}


// 0x80c1610
int sub_80C1610()
{
    int v0; // r5

    return (*(&off_80C1624 + *(v0 + 10)))();
}


// 0x80c1630
int __fastcall sub_80C1630(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    if ( *(v3 + 11) )
    {
        *v3 |= 2u;
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( !result )
        {
            *(v3 + 16) = 5;
            PlaySoundEffect(323, 2, a3);
            result = 4;
            *(v3 + 10) = 4;
        }
    }
    else
    {
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 24;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c166a
int sub_80C166A()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            *(v0 + 16) = 4;
            *(v0 + 32) = 30;
            result = 4;
            *(v0 + 11) = 4;
        }
    }
    return result;
}


// 0x80c1698
int sub_80C1698()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int result; // r0

    v1 = sub_80C18B0();
    if ( v1 )
    {
        *(v0 + 101) = v1;
        *(v0 + 102) = v2;
        *(v0 + 9) = 4;
    }
    else
    {
        *(v0 + 9) = 8;
    }
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80c16be
int sub_80C16BE()
{
    int v0; // r5

    return (*(&off_80C16D0 + *(v0 + 10)))();
}


// 0x80c16e0
int sub_80C16E0()
{
    int v0; // r5
    char v1; // r1
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            *v0 |= 2u;
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 11) = 1;
        sub_80C1820(*(v0 + 18), *(v0 + 19), 1);
        v1 = *(v0 + 102);
        *(v0 + 18) = *(v0 + 101);
        *(v0 + 19) = v1;
        object_setCoordinatesFromPanels(v0);
        sub_80C1820(*(v0 + 18), *(v0 + 19), 0);
        *(v0 + 32) = 2;
        result = *v0 & 0xFD;
        *v0 = result;
    }
    return result;
}


// 0x80c1734
signed int sub_80C1734()
{
    int v0; // r5
    signed int result; // r0

    if ( !*(v0 + 11) )
        *(v0 + 11) = 1;
    *(v0 + 16) = 1;
    result = 8;
    *(v0 + 10) = 8;
    return result;
}


// 0x80c174a
int sub_80C174A()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    if ( !*(v0 + 11) )
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
        *(v0 + 11) = 1;
        *(v0 + 32) = 10;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 16) = 2;
        sub_80C185C();
        sub_80C188C();
        PlaySoundEffect(266, v2, v3);
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80c1786
int sub_80C1786()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
        *(v0 + 11) = 1;
        *(v0 + 32) = 16;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c17b2
int sub_80C17B2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 76) = 0;
        *(v0 + 32) = 16;
        sub_80C1820(*(v0 + 18), *(v0 + 19), 1);
        *(v0 + 10) = 4;
    }
    *v0 &= 0xFDu;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c17e6
int sub_80C17E6()
{
    int v0; // r5

    **(v0 + 96) = 0;
    return object_freeMemory();
}


// 0x80c17f4
int __fastcall sub_80C17F4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _DWORD *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(50, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 100) = *(v4 + 4);
        *(v4 + 96) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c1820
void __fastcall sub_80C1820(char a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r4
    int v5; // ST04_4
    int v6; // r0
    int v7; // r4
    int v8; // r1

    v4 = a3;
    v5 = (v3->Alliance ^ v3->directionFlip) << 8;
    v6 = object_getCoordinatesForPanels(a1);
    v7 = *&byte_80C1854[4 * v4] | v5;
    SpawnT4BattleObjectWithId0(v3, v5, v6, v8, 0);
}


// 0x80c185c
void sub_80C185C()
{
    Battle *v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    v1 = (v0->Alliance ^ v0->directionFlip) << 8;
    v2 = object_getFrontDirection(v0);
    v3 = v0->panelY;
    v4 = object_getCoordinatesForPanels(v2 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v1, v4, v5, 0);
}


// 0x80c188c
_BYTE *sub_80C188C()
{
    int v0; // r5
    int v1; // r6
    char v2; // r0

    v1 = *(v0 + 44);
    v2 = object_getFrontDirection(v0);
    return sub_80C53A6(v2 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80c18b0
int sub_80C18B0()
{
    int v0; // r5
    int v1; // r10
    int v2; // r7
    int v3; // r0
    signed int v4; // r1
    unsigned int v5; // r2
    Battle *v6; // r3
    int result; // r0
    unsigned int v8; // r4
    Battle *v9; // r5
    int v10; // r1
    int v11; // r0
    int v12; // r1
    Battle *v13; // r4
    Battle *v14; // r5
    int v15; // r2
    unsigned int v16; // r3
    signed int v17; // r3
    Battle *v18; // r5
    int v19; // r1
    int v20; // r1
    int v21; // r1
    int v22; // r1
    int v23; // r1
    int v24; // r1
    int v25; // r1
    Battle *v26; // [sp-Ch] [bp-44h]
    int v27; // [sp-8h] [bp-40h]
    int v28; // [sp-8h] [bp-40h]
    int v29; // [sp-8h] [bp-40h]
    int v30; // [sp-4h] [bp-3Ch]
    int v31; // [sp-4h] [bp-3Ch]
    Battle *v32; // [sp+0h] [bp-38h]
    int v33; // [sp+10h] [bp-28h]
    unsigned __int8 v34; // [sp+20h] [bp-18h]

    v2 = *(v1 + oToolkit_S2034880_Ptr);
    v3 = *(&off_80C1A04 + *(v0 + 22));
    v4 = 0;
    v5 = 0;
    do
    {
        v6 = *(v2 + v3);
        if ( v6 )
        {
            *(&v32 + v5) = v6;
            v5 += 4;
        }
        v3 += 4;
        ++v4;
    }
    while ( v4 < 4 );
    result = v5 >> 2;
    if ( v5 >> 2 )
    {
        v8 = 0;
        do
        {
            v27 = result;
            v30 = v0;
            v9 = *(&v32 + result - 1);
            if ( sub_800F26C(v9->nameID) != 8 || v10 != 20 )
            {
                v11 = object_getFrontDirection(v9) + v9->panelX;
                v12 = v9->panelY;
            }
            else
            {
                v11 = 2 * object_getFrontDirection(v9) + v9->panelX;
                v12 = v9->panelY;
            }
            if ( !(object_getPanelParameters(v11, v12) & 0xF800000) )
            {
                *(&v33 + v8) = v9;
                v8 += 4;
            }
            v0 = v30;
            result = v27 - 1;
        }
        while ( v27 != 1 );
        result = v8 >> 2;
        if ( v8 >> 2 )
        {
            v13 = &v34;
            do
            {
                v28 = result;
                v31 = v0;
                v26 = *(&v33 + result - 1);
                v14 = *(v0 + 76);
                v15 = (v26->panelX - v14->panelX) * object_getFrontDirection(v14);
                if ( v15 >= 2 )
                {
                    if ( v16 )
                    {
                        if ( v34 >= v15 )
                        {
                            v34 = v15;
                            *(&v32 + v16) = v26;
                            v16 += 4;
                        }
                    }
                    else
                    {
                        v34 = v15;
                        v32 = v26;
                        v16 = 4;
                    }
                }
                v0 = v31;
                result = v28 - 1;
            }
            while ( v28 != 1 );
            v17 = v16 >> 2;
            result = v17;
            if ( v17 )
            {
                if ( v17 > 1 )
                {
                    v22 = 0;
                    do
                    {
                        v29 = result;
                        if ( v22 )
                        {
                            if ( (*(&v32 + v22))->panelY <= v13->panelY )
                                v13 = *(&v32 + v22);
                        }
                        else
                        {
                            v13 = v32;
                        }
                        v22 += 4;
                        --result;
                    }
                    while ( v29 != 1 );
                    if ( sub_800F26C(v13->nameID) != 8 || v23 != 20 )
                    {
                        result = object_getFrontDirection(v13) + v13->panelX;
                        v25 = v13->panelY;
                    }
                    else
                    {
                        result = 2 * object_getFrontDirection(v13) + v13->panelX;
                        v24 = v13->panelY;
                    }
                }
                else
                {
                    v18 = v32;
                    if ( sub_800F26C(v32->nameID) != 8 || v19 != 20 )
                    {
                        result = object_getFrontDirection(v18) + v18->panelX;
                        v21 = v18->panelY;
                    }
                    else
                    {
                        result = 2 * object_getFrontDirection(v18) + v18->panelX;
                        v20 = v18->panelY;
                    }
                }
            }
        }
    }
    return result;
}


// 0x80c1a10
void sub_80C1A10()
{
    int v0; // r5

    (*(&off_80C1A28 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c1a34
signed int __noreturn sub_80C1A34()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    sub_80C205C();
    sprite_load(v0, 128, 0, 11);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 40) = 438;
    *(v0 + 6) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c1a7c
int sub_80C1A7C()
{
    int v0; // r5

    return (*(&off_80C1A90 + *(v0 + 9)))();
}


// 0x80c1ab8
int __fastcall sub_80C1AB8(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 16) = 3;
        *v3 |= 2u;
        PlaySoundEffect(148, 2, a3);
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80c1aee
int sub_80C1AEE()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 0;
        sub_80C1ECE();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        if ( *(v0 + 5) )
            *(v0 + 9) = 8;
        else
            *(v0 + 9) = 36;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c1b2e
_BYTE *sub_80C1B2E()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    int v9; // r0
    _BYTE *result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 6) )
        {
            v11 = *(v0 + 32);
            v12 = __OFSUB__(v11, 1);
            result = (v11 - 1);
            *(v0 + 32) = result;
            if ( !(((result < 0) ^ v12) | (result == 0)) )
                return result;
        }
        else
        {
            result = (*(v0 + 32) - 1);
            *(v0 + 32) = result;
            if ( result == &dword_10 + 2 )
            {
                sub_80C2110();
                return sub_80C2000(0);
            }
            if ( result > 0 )
                return result;
            *(v0 + 16) = 0;
            sub_80B8E58(*(v0 + 100));
        }
        *(v0 + 6) = 0;
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    *(v0 + 11) = 4;
    *(v0 + 32) = 30;
    v1 = sub_80C1EF4(0);
    if ( v1 )
    {
        *(v0 + 23) = v3;
        *(v0 + 18) = v1;
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        v4 = object_getFlip(v0);
        sprite_setFlip(v0, v4);
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        *(v0 + 20) = v5;
        *(v0 + 21) = v6;
        object_reservePanel(v5, v6);
        *(v0 + 16) = 5;
        v9 = PlaySoundEffect(176, v7, v8);
        result = sub_80B8E30(v9);
    }
    else
    {
        result = byte_0 + 1;
        *(v0 + 6) = 1;
    }
    return result;
}


// 0x80c1bc8
int sub_80C1BC8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c1bec
_BYTE *sub_80C1BEC()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    _BYTE *result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 32) = 30;
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        v1 = sub_80C1EF4(1);
        if ( v1 )
        {
            *(v0 + 23) = v3;
            *(v0 + 18) = v1;
            *(v0 + 19) = v2;
            object_setCoordinatesFromPanels(v0);
            v4 = object_getFlip(v0);
            sprite_setFlip(v0, v4);
            v5 = *(v0 + 18);
            v6 = *(v0 + 19);
            *(v0 + 20) = v5;
            *(v0 + 21) = v6;
            object_reservePanel(v5, v6);
            *(v0 + 16) = 10;
            sub_80B8E30(10);
            sub_80C2000(1);
            PlaySoundEffect(240, v7, v8);
            result = (&dword_8 + 2);
            *(v0 + 34) = 10;
        }
        else
        {
            *(v0 + 6) = 1;
            result = sub_80C205C();
        }
        return result;
    }
    if ( *(v0 + 6) )
    {
        v10 = *(v0 + 32);
        v11 = __OFSUB__(v10, 1);
        result = (v10 - 1);
        *(v0 + 32) = result;
        if ( !(((result < 0) ^ v11) | (result == 0)) )
            return result;
LABEL_11:
        *(v0 + 6) = 0;
        *(v0 + 9) = 20;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    v12 = *(v0 + 32);
    v11 = __OFSUB__(v12--, 1);
    *(v0 + 32) = v12;
    if ( ((v12 < 0) ^ v11) | (v12 == 0) )
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 100));
        goto LABEL_11;
    }
    v13 = *(v0 + 34);
    v11 = __OFSUB__(v13, 1);
    result = (v13 - 1);
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v11) | (result == 0) )
    {
        *(v0 + 34) = 10;
        result = sub_80C2000(1);
    }
    return result;
}


// 0x80c1ca0
int sub_80C1CA0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 24;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c1cc4
int sub_80C1CC4()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    _BYTE *v7; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int result; // r0
    int v12; // r0
    unsigned __int8 v13; // vf
    int v14; // r0
    int v15; // r0
    int v16; // r1
    int v17; // r2

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 32) = 30;
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        v1 = sub_80C1EF4(2);
        if ( v1 )
        {
            *(v0 + 23) = v3;
            *(v0 + 18) = v1;
            *(v0 + 19) = v2;
            object_setCoordinatesFromPanels(v0);
            v4 = object_getFlip(v0);
            sprite_setFlip(v0, v4);
            v5 = *(v0 + 18);
            v6 = *(v0 + 19);
            *(v0 + 20) = v5;
            *(v0 + 21) = v6;
            object_reservePanel(v5, v6);
            *(v0 + 16) = 14;
            v7 = sub_80C20B4();
            v8 = sub_80B8E30(v7);
            sub_80B8E30(v8);
            PlaySoundEffect(185, v9, v10);
            result = 5;
            *(v0 + 34) = 5;
        }
        else
        {
            *(v0 + 6) = 1;
            result = sub_80C205C();
        }
        return result;
    }
    if ( *(v0 + 6) )
    {
        v12 = *(v0 + 32);
        v13 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v0 + 32) = result;
        if ( !(((result < 0) ^ v13) | (result == 0)) )
            return result;
LABEL_11:
        *(v0 + 6) = 0;
        *(v0 + 9) = 28;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    v14 = *(v0 + 32);
    v13 = __OFSUB__(v14--, 1);
    *(v0 + 32) = v14;
    if ( ((v14 < 0) ^ v13) | (v14 == 0) )
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 100));
        sub_80B8E58(*(v0 + 104));
        goto LABEL_11;
    }
    v15 = *(v0 + 34);
    v13 = __OFSUB__(v15, 1);
    result = v15 - 1;
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v13) | (result == 0) )
    {
        *(v0 + 34) = 5;
        *(v0 + 16) = 14;
        *(v0 + 17) = -1;
        sub_80C20B4();
        PlaySoundEffect(185, v16, v17);
        sub_80B8E7C(*(v0 + 100));
        result = sub_80B8E7C(*(v0 + 104));
    }
    return result;
}


// 0x80c1da0
int sub_80C1DA0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 32;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c1dc4
void sub_80C1DC4()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0
    int v12; // r1
    int v13; // r2

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 6) )
        {
            v9 = *(v0 + 32);
            v10 = __OFSUB__(v9--, 1);
            *(v0 + 32) = v9;
            if ( !(((v9 < 0) ^ v10) | (v9 == 0)) )
                return;
        }
        else
        {
            v11 = *(v0 + 32) - 1;
            *(v0 + 32) = v11;
            if ( v11 == 15 )
            {
                *(v0 + 16) = 12;
                *(v0 + 17) = -1;
                sub_80C2000(4);
                PlaySoundEffect(344, v12, v13);
                sub_80C2082(1);
                return;
            }
            if ( v11 > 0 )
                return;
        }
        *(v0 + 6) = 0;
        *(v0 + 9) = 36;
        *(v0 + 10) = 0;
        return;
    }
    *(v0 + 11) = 4;
    *(v0 + 32) = 30;
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    v1 = sub_80C1EF4(3);
    if ( v1 )
    {
        *(v0 + 23) = v3;
        *(v0 + 18) = v1;
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        v4 = object_getFlip(v0);
        sprite_setFlip(v0, v4);
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        *(v0 + 20) = v5;
        *(v0 + 21) = v6;
        object_reservePanel(v5, v6);
        *(v0 + 16) = 12;
        sub_80C2000(3);
        sub_80C2082(0);
        PlaySoundEffect(199, v7, v8);
        camera_initShakeEffect_80302a8(2, *(v0 + 32) + 30);
    }
    else
    {
        *(v0 + 6) = 1;
        sub_80C205C();
    }
}


// 0x80c1e7a
int sub_80C1E7A()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80c1eac
int __fastcall sub_80C1EAC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    object_spawnType1(51, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 96) = v5;
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c1ece
int __noreturn sub_80C1ECE()
{
    int v0; // r5
    int result; // r0

    result = object_getPanelsExceptCurrentFilterred(4 * *(v0 + 22), &off_80C1EEC, *(&off_80C1EEC + *(v0 + 22)), 0);
    *(v0 + 5) = result;
    return result;
}


// 0x80c1ef4
int __fastcall sub_80C1EF4(int a1)
{
    int v1; // r5
    int v2; // r4
    signed int v3; // r6
    unsigned __int8 *v4; // r7
    unsigned int v5; // r0
    bool v6; // zf
    int result; // r0
    int v8; // r3
    int v9; // r2
    int v10; // r3
    int v11; // r1
    int v12; // r1
    int v13; // r4
    int v14; // [sp-8h] [bp-24h]
    int v15; // [sp-4h] [bp-20h]
    int v16; // [sp+0h] [bp-1Ch]
    int v17; // [sp+4h] [bp-18h]
    signed int v18; // [sp+8h] [bp-14h]

    v16 = *(&off_80C1FE0 + a1);
    v17 = object_getEnemyDirection();
    v18 = 0;
    v2 = *(v1 + 4);
    while ( 2 )
    {
        v3 = 0;
        do
        {
            v4 = (v16 + 3 * v3);
            if ( *v4 == 255 )
                break;
            v5 = *(v1 + 108 + v2);
            v14 = (v5 & 7) + v4[1] * v17;
            v15 = (v5 >> 4) + v4[2];
            v6 = object_checkPanelParameters(v14, v15, 0x10000, 260571264) == 0;
            result = v14;
            if ( !v6 )
                goto LABEL_14;
            v8 = *(v1 + 76);
            v9 = *(v8 + 18);
            v10 = *(v8 + 19);
            if ( v14 == v9 && v15 == v10 )
                v18 = 1;
            ++v3;
        }
        while ( v3 < 6 );
        if ( ++v2 < *(v1 + 5) )
            continue;
        break;
    }
    if ( !v18 )
        return 0;
    v11 = *(v1 + 76);
    result = *(v11 + 18);
    v12 = *(v11 + 19);
LABEL_14:
    v13 = v2 + 1;
    if ( v13 >= *(v1 + 5) )
        LOBYTE(v13) = 0;
    *(v1 + 4) = v13;
    return result;
}


// 0x80c2000
_BYTE *__fastcall sub_80C2000(int a1)
{
    int v1; // r5
    int v2; // r0
    int v3; // r4
    int v4; // r6
    char v5; // r0

    v2 = 4 * a1;
    v3 = *&byte_80C202C[v2];
    v4 = *&byte_80C2048[v2] + *(v1 + 96);
    v5 = object_getFrontDirection(v1);
    return sub_80C53A6(v5 + *(v1 + 18), *(v1 + 19), *(v1 + 14), 0);
}


// 0x80c205c
int sub_80C205C()
{
    Battle *v0; // r5
    u32 *v1; // r1
    u8 v2; // r0
    int result; // r0

    v1 = v0->parent;
    v2 = *(v1 + 18);
    LOBYTE(v1) = *(v1 + 19);
    v0->panelX = v2;
    v0->panelY = v1;
    object_setCoordinatesFromPanels(v0);
    v0->z = 0;
    result = 655360 * object_getFrontDirection(v0);
    v0->x += result;
    return result;
}


// 0x80c2082
void __fastcall sub_80C2082(int a1)
{
    Battle *v1; // r5
    int v2; // r4
    char v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v2 = *(&dword_80C20B0 + a1);
    object_getFlip(v1);
    v3 = object_getFrontDirection(v1);
    v4 = v1->panelY;
    v5 = object_getCoordinatesForPanels(v3 + v1->panelX);
    SpawnT4BattleObjectWithId0(v1, v5, v5, v6, 0x100000);
}


// 0x80c20b4
_BYTE *sub_80C20B4()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r6
    _BYTE *result; // r0
    int v4; // r6
    char v5; // [sp-8h] [bp-18h]
    int v6; // [sp-4h] [bp-14h]

    v1 = 1;
    v2 = *&byte_80C2108[4 * *(v0 + 22)];
    while ( 1 )
    {
        result = (object_getFrontDirection(v0) * v1 + *(v0 + 18));
        if ( result < 1 || result > 6 )
            break;
        v5 = result;
        v6 = *(v0 + 19);
        if ( v2 & object_getPanelParameters(result, v6) )
        {
            v4 = *(v0 + 96) + 5;
            return sub_80C53A6(v5, v6, *(v0 + 14), 0x100000);
        }
        ++v1;
    }
    return result;
}


// 0x80c2110
void sub_80C2110()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
}


// 0x80c2138
void sub_80C2138()
{
    int v0; // r5

    (*(&off_80C2150 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c215c
signed int __noreturn sub_80C215C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    sub_80C2678();
    sprite_load(v0, 128, 0, 12);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_8010DF6(2, 36);
    *(v0 + 40) = 439;
    *(v0 + 6) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c21ac
int sub_80C21AC()
{
    int v0; // r5

    return (*(&off_80C21C0 + *(v0 + 9)))();
}


// 0x80c21e0
int __fastcall sub_80C21E0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 11) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 16) = 3;
        *v3 |= 2u;
        PlaySoundEffect(148, 2, a3);
        result = 3;
        *(v3 + 32) = 3;
    }
    return result;
}


// 0x80c2216
int sub_80C2216()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 0;
        sub_80C24F4();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        if ( *(v0 + 5) )
            *(v0 + 9) = 8;
        else
            *(v0 + 9) = 28;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c2256
_BYTE *sub_80C2256()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    _BYTE *result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 32) = 30;
        v1 = sub_80C2518(0);
        if ( v1 )
        {
            *(v0 + 23) = v3;
            *(v0 + 18) = v1;
            *(v0 + 19) = v2;
            object_setCoordinatesFromPanels(v0);
            v4 = object_getFlip(v0);
            sprite_setFlip(v0, v4);
            v5 = *(v0 + 18);
            v6 = *(v0 + 19);
            *(v0 + 20) = v5;
            *(v0 + 21) = v6;
            object_reservePanel(v5, v6);
            *(v0 + 16) = 10;
            sub_80B8E30(10);
            sub_80C26C8();
            sub_80C2600(0);
            PlaySoundEffect(184, v7, v8);
            result = dword_4;
            *(v0 + 34) = 4;
        }
        else
        {
            result = byte_0 + 1;
            *(v0 + 6) = 1;
        }
        return result;
    }
    if ( *(v0 + 6) )
    {
        v10 = *(v0 + 32);
        v11 = __OFSUB__(v10, 1);
        result = (v10 - 1);
        *(v0 + 32) = result;
        if ( !(((result < 0) ^ v11) | (result == 0)) )
            return result;
LABEL_11:
        *(v0 + 6) = 0;
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    v12 = *(v0 + 32);
    v11 = __OFSUB__(v12--, 1);
    *(v0 + 32) = v12;
    if ( ((v12 < 0) ^ v11) | (v12 == 0) )
    {
        *(v0 + 16) = 0;
        sub_80B8E58(*(v0 + 100));
        goto LABEL_11;
    }
    v13 = *(v0 + 34);
    v11 = __OFSUB__(v13, 1);
    result = (v13 - 1);
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v11) | (result == 0) )
    {
        *(v0 + 34) = 4;
        result = sub_80C2600(0);
    }
    return result;
}


// 0x80c2300
int sub_80C2300()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c2324
_BYTE *sub_80C2324()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    _BYTE *result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 6) )
        {
            v10 = *(v0 + 32);
            v11 = __OFSUB__(v10, 1);
            result = (v10 - 1);
            *(v0 + 32) = result;
            if ( !(((result < 0) ^ v11) | (result == 0)) )
                return result;
        }
        else
        {
            result = (*(v0 + 32) - 1);
            *(v0 + 32) = result;
            if ( result == &dword_10 + 2 )
            {
                sub_80C26A0();
                return sub_80C2600(1);
            }
            if ( result > 0 )
                return result;
            *(v0 + 16) = 0;
            sub_80B8E58(*(v0 + 100));
        }
        *(v0 + 6) = 0;
        *(v0 + 9) = 20;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    *(v0 + 11) = 4;
    *(v0 + 32) = 30;
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    v1 = sub_80C2518(1);
    if ( v1 )
    {
        *(v0 + 23) = v3;
        *(v0 + 18) = v1;
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        v4 = object_getFlip(v0);
        sprite_setFlip(v0, v4);
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        *(v0 + 20) = v5;
        *(v0 + 21) = v6;
        object_reservePanel(v5, v6);
        PlaySoundEffect(176, v7, v8);
        *(v0 + 16) = 5;
        result = sub_80B8E30(5);
    }
    else
    {
        *(v0 + 6) = 1;
        result = sub_80C2678();
    }
    return result;
}


// 0x80c23cc
int sub_80C23CC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 24;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c23f0
_BYTE *sub_80C23F0()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    _BYTE *result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 6) )
        {
            v10 = *(v0 + 32);
            v11 = __OFSUB__(v10, 1);
            result = (v10 - 1);
            *(v0 + 32) = result;
            if ( !(((result < 0) ^ v11) | (result == 0)) )
                return result;
        }
        else
        {
            result = (*(v0 + 32) - 1);
            *(v0 + 32) = result;
            if ( result == &dword_10 + 2 )
            {
                sub_80C26A0();
                return sub_80C2600(2);
            }
            if ( result > 0 )
                return result;
            *(v0 + 16) = 0;
            sub_80B8E58(*(v0 + 100));
        }
        *(v0 + 6) = 0;
        *(v0 + 9) = 28;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    *(v0 + 11) = 4;
    *(v0 + 32) = 30;
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    v1 = sub_80C2518(2);
    if ( v1 )
    {
        *(v0 + 23) = v3;
        *(v0 + 18) = v1;
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        v4 = object_getFlip(v0);
        sprite_setFlip(v0, v4);
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        *(v0 + 20) = v5;
        *(v0 + 21) = v6;
        object_reservePanel(v5, v6);
        PlaySoundEffect(176, v7, v8);
        *(v0 + 16) = 5;
        result = sub_80B8E30(5);
    }
    else
    {
        *(v0 + 6) = 1;
        result = sub_80C2678();
    }
    return result;
}


// 0x80c2498
int sub_80C2498()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            sub_8011044(2, 36);
            **(v0 + 84) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        *(v0 + 16) = 4;
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80c24d2
int __fastcall sub_80C24D2(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    object_spawnType1(52, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 96) = v5;
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 84) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c24f4
int __noreturn sub_80C24F4()
{
    int v0; // r5
    int result; // r0

    result = object_getPanelsExceptCurrentFilterred(4 * *(v0 + 22), &off_80C2510, *(&off_80C2510 + *(v0 + 22)), 0);
    *(v0 + 5) = result;
    return result;
}


// 0x80c2518
int __fastcall sub_80C2518(int a1)
{
    int v1; // r5
    int v2; // r4
    signed int v3; // r6
    unsigned __int8 *v4; // r7
    unsigned int v5; // r0
    bool v6; // zf
    int result; // r0
    int v8; // r3
    int v9; // r2
    int v10; // r3
    int v11; // r1
    int v12; // r1
    int v13; // r4
    int v14; // [sp-8h] [bp-24h]
    int v15; // [sp-4h] [bp-20h]
    int v16; // [sp+0h] [bp-1Ch]
    int v17; // [sp+4h] [bp-18h]
    signed int v18; // [sp+8h] [bp-14h]

    v16 = *(&off_80C25E4 + a1);
    v17 = object_getEnemyDirection();
    v18 = 0;
    v2 = *(v1 + 4);
    while ( 2 )
    {
        v3 = 0;
        do
        {
            v4 = (v16 + 3 * v3);
            if ( *v4 == 255 )
                break;
            v5 = *(v1 + 108 + v2);
            v14 = (v5 & 7) + v4[1] * v17;
            v15 = (v5 >> 4) + v4[2];
            v6 = object_checkPanelParameters(v14, v15, 0x10000, 260571264) == 0;
            result = v14;
            if ( !v6 )
                goto LABEL_14;
            v8 = *(v1 + 76);
            v9 = *(v8 + 18);
            v10 = *(v8 + 19);
            if ( v14 == v9 && v15 == v10 )
                v18 = 1;
            ++v3;
        }
        while ( v3 < 6 );
        if ( ++v2 < *(v1 + 5) )
            continue;
        break;
    }
    if ( !v18 )
        return 0;
    v11 = *(v1 + 76);
    result = *(v11 + 18);
    v12 = *(v11 + 19);
LABEL_14:
    v13 = v2 + 1;
    if ( v13 >= *(v1 + 5) )
        LOBYTE(v13) = 0;
    *(v1 + 4) = v13;
    return result;
}


// 0x80c2600
_BYTE *__fastcall sub_80C2600(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // r0
    int v4; // r4
    int v5; // r6

    v2 = a1;
    v3 = object_getFrontDirection(v1);
    v4 = *&byte_80C2640[4 * v2];
    v5 = *&byte_80C2654[4 * v2] + *(v1 + 96);
    return sub_80C53A6(v3 * *(&dword_80C2664 + v2) + *(v1 + 18), *(v1 + 19), *(v1 + 14) | *&byte_80C266C[4 * v2], 0);
}


// 0x80c2678
int sub_80C2678()
{
    Battle *v0; // r5
    u32 *v1; // r1
    u8 v2; // r0
    int result; // r0

    v1 = v0->parent;
    v2 = *(v1 + 18);
    LOBYTE(v1) = *(v1 + 19);
    v0->panelX = v2;
    v0->panelY = v1;
    object_setCoordinatesFromPanels(v0);
    v0->z = 0;
    result = -655360 * object_getFrontDirection(v0);
    v0->x += result;
    return result;
}


// 0x80c26a0
void sub_80C26A0()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
}


// 0x80c26c8
int sub_80C26C8()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int result; // r0

    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(2 * v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0);
    *(result + 32) = 30;
    return result;
}


// 0x80c26f0
int sub_80C26F0()
{
    int v0; // r5

    return (*(&JumpTable80C2700 + *(v0 + 8)))();
}


// 0x80c2710
int sub_80C2710()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 8, 11);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sprite_setPallete(*(&dword_80C276C + *(v0 + 4)));
    sprite_setColorShader(v0, 0x7FFF);
    *v0 |= 2u;
    *(v0 + 8) = 4;
    return sub_80C2770();
}


// 0x80c2770
int sub_80C2770()
{
    int v0; // r5

    (*(&off_80C2788 + *(v0 + 9)))();
    object_updateSpriteTimestop();
    return sub_80C2A3A();
}


// 0x80c2798
int sub_80C2798()
{
    int v0; // r5

    return (*(&off_80C27AC + *(v0 + 10)))();
}


// 0x80c27b4
int __fastcall sub_80C27B4(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    __int16 v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v3 + 11) )
    {
        *v3 |= 2u;
        v5 = *(v3 + 32) + 1;
        *(v3 + 32) = v5;
        if ( v5 & 1 )
            *v3 &= 0xFDu;
        v6 = *(v3 + 25);
        v7 = __OFSUB__(v6, 2);
        result = v6 - 2;
        *(v3 + 25) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *v3 |= 2u;
            *(v3 + 25) = 0;
            result = 4;
            *(v3 + 10) = 4;
        }
    }
    else
    {
        *(v3 + 25) = 31;
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 0;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c2804
int sub_80C2804()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            if ( object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 0) )
            {
                *(v0 + 20) = object_getFrontDirection(v0) + *(v0 + 18);
                *(v0 + 21) = 1;
                *(v0 + 104) = 1;
                *(v0 + 108) = object_getFlip(v0);
                *(v0 + 9) = 4;
                result = 0;
                *(v0 + 10) = 0;
            }
            else
            {
                result = 8;
                *(v0 + 8) = 8;
            }
        }
    }
    else
    {
        *(v0 + 32) = 30;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2854
int sub_80C2854()
{
    int v0; // r5

    return (*(&off_80C2868 + *(v0 + 10)))();
}


// 0x80c2878
signed int sub_80C2878()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r0
    int v5; // r3
    int v6; // r2
    int v7; // r3
    char v8; // zf
    signed int result; // r0
    int v10; // [sp-8h] [bp-Ch]
    int v11; // [sp-4h] [bp-8h]

    object_isValidPanel(*(v0 + 20), *(v0 + 21));
    if ( !v8 )
    {
        v1 = *(v0 + 20);
        v2 = *(v0 + 21);
        if ( !*(v0 + 104) )
            goto LABEL_11;
        do
        {
            v3 = 1;
            do
            {
                v10 = v1;
                v11 = v3;
                object_checkPanelParameters(v1, v3, *(&off_80C2904 + *(v0 + 22)), 0);
                v1 = v10;
                v2 = v11;
                if ( !v8 )
                {
                    v4 = v10 - object_getFrontDirection(v0);
                    v5 = *(v0 + 76);
                    v6 = *(v5 + 18);
                    v7 = *(v5 + 19);
                    if ( v4 != v6 || v11 != v7 )
                        object_checkPanelParameters(v4, v11, 16, 260046848);
                    else
                        v8 = 0;
                    v1 = v10;
                    v2 = v11;
                    if ( !v8 )
                    {
                        *(v0 + 20) = v10;
                        *(v0 + 21) = v11;
                        *(v0 + 104) = 0;
                        result = 4;
                        *(v0 + 10) = 4;
                        return result;
                    }
                }
LABEL_11:
                v3 = v2 + 1;
            }
            while ( v3 <= 3 );
            v1 += object_getFrontDirection(v0);
        }
        while ( (v1 - 1) <= 5 );
    }
    *(v0 + 10) = 0;
    result = 8;
    *(v0 + 9) = 8;
    return result;
}


// 0x80c290c
int sub_80C290C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 16) = 4;
        *(v0 + 76) = 0;
        *(v0 + 32) = 3;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2934
int sub_80C2934()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *(v0 + 10) = 12;
        }
    }
    else
    {
        *(v0 + 16) = 4;
        *(v0 + 32) = 3;
        *(v0 + 18) = *(v0 + 20) - object_getFrontDirection(v0);
        *(v0 + 19) = *(v0 + 21);
        object_setCoordinatesFromPanels(v0);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c296c
int sub_80C296C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r4
    int v3; // r1
    int v4; // r2
    int result; // r0
    int v6; // ST00_4
    int v7; // r6
    int v8; // r0
    int v9; // r4
    int v10; // r1
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 32) == 10 )
        {
            v6 = object_getFrontDirection(v0) + *(v0 + 18);
            v7 = *(v0 + 44);
            sub_80C53A6(v6, *(v0 + 19), 0, 0x100000);
            v8 = object_getCoordinatesForPanels(v6);
            v9 = (*(v0 + 108) << 8) | 0x27;
            SpawnT4BattleObjectWithId0(v0, 39, v8, v10, 0x100000);
        }
        v11 = *(v0 + 32);
        v12 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 16) = 5;
        *(v0 + 17) = 6;
        v1 = 4 * *(v0 + 4);
        v2 = *&byte_80C29F0[v1];
        sub_80B8E30(v1);
        PlaySoundEffect(176, v3, v4);
        *(v0 + 32) = 20;
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c29fc
int sub_80C29FC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *v0 &= 0xFDu;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 76) = 0;
        *(v0 + 16) = 4;
        *(v0 + 32) = 5;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c2a2c
int sub_80C2A2C()
{
    int v0; // r5

    **(v0 + 100) = 0;
    return object_freeMemory();
}


// 0x80c2a3a
int sub_80C2A3A()
{
    Battle *v0; // r5

    return sprite_setColorShader(v0, 1057 * v0->unk_19);
}


// 0x80c2a4c
int __fastcall sub_80C2A4C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(60, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 100) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c2a78
int sub_80C2A78()
{
    int v0; // r5

    return (*(&JumpTable80C2A8C + *(v0 + 8)))();
}


// 0x80c2a9c
int sub_80C2A9C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0

    sprite_load(v0, 128, 8, 11);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v1 + 16) = *(v0 + 18);
    v3 = sub_800FCFC(11);
    sprite_setPallete(v3);
    sprite_setColorShader(v0, 0x7FFF);
    *v0 |= 2u;
    *(v0 + 8) = 4;
    return sub_80C2AF8();
}


// 0x80c2af8
int sub_80C2AF8()
{
    int v0; // r5

    (*(&off_80C2B10 + *(v0 + 9)))();
    object_updateSpriteTimestop();
    return sub_80C2F84();
}


// 0x80c2b20
int sub_80C2B20()
{
    int v0; // r5

    return (*(&off_80C2B34 + *(v0 + 10)))();
}


// 0x80c2b3c
int __fastcall sub_80C2B3C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    __int16 v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v3 + 11) )
    {
        *v3 |= 2u;
        v5 = *(v3 + 32) + 1;
        *(v3 + 32) = v5;
        if ( v5 & 1 )
            *v3 &= 0xFDu;
        v6 = *(v3 + 25);
        v7 = __OFSUB__(v6, 2);
        result = v6 - 2;
        *(v3 + 25) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *v3 |= 2u;
            *(v3 + 25) = 0;
            result = 4;
            *(v3 + 10) = 4;
        }
    }
    else
    {
        *(v3 + 25) = 31;
        PlaySoundEffect(148, a2, a3);
        *(v3 + 32) = 0;
        result = 4;
        *(v3 + 11) = 4;
    }
    return result;
}


// 0x80c2b8c
int sub_80C2B8C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v0 + 11) )
    {
        v5 = *(v0 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 0) )
            {
                *(v1 + 12) = *(v0 + 22) ^ *(v0 + 23);
                result = 4;
                *(v0 + 9) = 4;
                *(v0 + 10) = 0;
            }
            else
            {
                result = 8;
                *(v0 + 8) = 8;
            }
        }
    }
    else
    {
        *(v0 + 32) = 60;
        SpawnT4BattleObjectWithId0(v0, 1310720, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
        PlaySoundEffect(119, v2, v3);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2be6
int sub_80C2BE6()
{
    int v0; // r5

    return (*(&off_80C2BF8 + *(v0 + 10)))();
}


// 0x80c2c14
signed int __noreturn sub_80C2C14()
{
    int v0; // r5
    _BYTE *v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r0
    int v6; // r1
    bool v7; // zf
    int v8; // r3
    signed __int16 v9; // r0
    int v10; // ST08_4
    signed int result; // r0
    int v12; // [sp-10h] [bp-18h]
    int v13; // [sp-Ch] [bp-14h]
    int v14; // [sp-8h] [bp-10h]
    int v15; // [sp-4h] [bp-Ch]

    v1[24] = 0;
    v1[22] = 0;
    v1[23] = 0;
    v2 = object_getFrontDirection(v0) + *(v0 + 18);
    do
    {
        v3 = 1;
        do
        {
            v14 = v2;
            v15 = v3;
            object_checkPanelParameters(v2, v3, *(&off_80C2F2C + *(v0 + 22)), 0);
            v2 = v14;
            v4 = v15;
            if ( !v7 )
            {
                v5 = v14 - object_getFrontDirection(v0);
                v6 = v15 - 1;
                if ( !v1[24] )
                {
                    v1[24] = v5;
                    v1[22] = v5;
                    v1[23] = v6;
                }
                v12 = v5;
                v13 = v15 - 1;
                object_isValidPanel(v5, v6);
                if ( !v7 )
                {
                    v8 = 126353536;
                    if ( *(v0 + 22) )
                        v8 = 193462400;
                    v1[20] = v12;
                    v1[21] = v13;
                    object_checkPanelParameters(v12, v13, 16, v8);
                }
                v2 = v14;
                v4 = v15;
                if ( !v7 )
                {
                    *(v0 + 20) = v14;
                    *(v0 + 21) = v15;
                    *(v0 + 34) = 0;
                    v9 = 30;
                    goto LABEL_16;
                }
            }
            v3 = v4 + 1;
        }
        while ( v3 <= 3 );
        v10 = v2 + object_getFrontDirection(v0);
        v7 = object_isValidPanel(v10, 1) == 0;
        v2 = v10;
    }
    while ( !v7 );
    *(v0 + 34) = 255;
    v9 = 15;
LABEL_16:
    *(v0 + 32) = v9;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80c2cb4
int sub_80C2CB4()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r1
    int v10; // r0
    int v11; // r2
    int result; // r0
    int v13; // r0
    unsigned __int8 v14; // vf

    if ( *(v0 + 11) )
    {
        v13 = *(v0 + 32);
        v14 = __OFSUB__(v13, 1);
        result = v13 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v14) | (result == 0) )
        {
            if ( *(v0 + 34) )
            {
                *(v0 + 10) = 0;
                result = 8;
                *(v0 + 9) = 8;
            }
            else
            {
                v1[25] = 1;
                result = 8;
                *(v0 + 10) = 8;
            }
        }
    }
    else
    {
        v2 = v1[20];
        v3 = v1[21];
        if ( *(v0 + 34) )
        {
            v4 = v1[22];
            v5 = v1[23];
        }
        v6 = *(v0 + 21);
        v7 = object_getCoordinatesForPanels(*(v0 + 20));
        SpawnT4BattleObjectWithId0(v0, v7, v7, v8, 0);
        v9 = *(v0 + 32);
        *(v10 + 32) = v9;
        PlaySoundEffect(189, v9, v11);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2d56
int sub_80C2D56()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 11) )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *(v0 + 10) = 16;
        }
    }
    else
    {
        *(v0 + 16) = 3;
        sprite_setFlip(v0, *(v1 + 12));
        *(v0 + 32) = 3;
        *(v0 + 18) = *(v0 + 20);
        *(v0 + 19) = *(v0 + 21);
        object_setCoordinatesFromPanels(v0);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2d8c
int __fastcall sub_80C2D8C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int result; // r0
    char v9; // zf
    int v10; // ST04_4
    int v11; // r6
    int v12; // r0
    int v13; // r4
    int v14; // r1
    int v15; // r0
    unsigned __int8 v16; // vf

    if ( *(v4 + 11) )
    {
        if ( *(v4 + 32) > 5 )
        {
            sub_80C2EB0();
            if ( !v9 )
                *(v5 + 25) = 1;
        }
        if ( *(v4 + 32) == 10 )
        {
            sub_80E11E0(10, a2, a3, a4);
            v10 = object_getFlipDirection(*(v5 + 12), 0) + *(v4 + 18);
            v11 = *(v4 + 44);
            sub_80C53A6(v10, *(v4 + 19), 0, 0x100000);
            v12 = object_getCoordinatesForPanels(v10);
            v13 = (*(v5 + 12) << 8) | 0x27;
            SpawnT4BattleObjectWithId0(v4, 39, v12, v14, 0x100000);
        }
        v15 = *(v4 + 32);
        v16 = __OFSUB__(v15, 1);
        result = v15 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v16) | (result == 0) )
        {
            result = 8;
            *(v4 + 10) = 8;
        }
    }
    else
    {
        *(v4 + 16) = 5;
        *(v4 + 17) = 6;
        sub_80B8E30(6);
        PlaySoundEffect(176, v6, v7);
        *(v4 + 32) = 20;
        result = 4;
        *(v4 + 11) = 4;
    }
    return result;
}


// 0x80c2e30
int sub_80C2E30()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 11) )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *(v0 + 10) = 24;
        }
    }
    else
    {
        *(v0 + 76) = 0;
        *(v0 + 16) = 3;
        sprite_setFlip(v0, *(v0 + 22) ^ *(v0 + 23) ^ 1);
        *(v0 + 32) = 3;
        *(v0 + 18) = *(v1 + 16);
        object_setCoordinatesFromPanels(v0);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2e6e
int sub_80C2E6E()
{
    int v0; // r5
    char v1; // r0
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            *(v0 + 10) = 0;
            result = 8;
            *(v0 + 9) = 8;
        }
    }
    else
    {
        *(v0 + 76) = 0;
        *(v0 + 16) = 15;
        *(v0 + 32) = 60;
        v1 = *(v0 + 20) + 1;
        if ( *(v0 + 22) != *(v0 + 23) )
            v1 = *(v0 + 20) - 1;
        sub_80C2FBC(v1);
        result = 4;
        *(v0 + 11) = 4;
    }
    return result;
}


// 0x80c2eb0
signed int sub_80C2EB0()
{
    int v0; // r5
    __int16 v1; // r1

    v1 = *(*(battle_findPlayer(*(v0 + 22)) + 88) + 44);
    return 1;
}


// 0x80c2ec4
BOOL __fastcall sub_80C2EC4(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r6
    char v4; // r0
    char *v5; // r3
    BOOL result; // r0
    char v7; // zf
    int v8; // r3

    v3 = a1;
    *(v2 + 12) = a1 & 1 ^ v1->Alliance ^ v1->directionFlip;
    v4 = object_getFrontDirection(v1);
    v5 = &byte_80C2F20[2 * v3];
    v1->futurePanelX += *v5 * v4;
    v1->futurePanelY += v5[1];
    v1->Timer2 = v3 + 1;
    result = object_isValidPanel(v1->futurePanelX, v1->futurePanelY);
    if ( !v7 )
    {
        v8 = 126353536;
        if ( v1->Alliance )
            v8 = 193462400;
        result = object_checkPanelParameters(v1->futurePanelX, v1->futurePanelY, 16, v8);
    }
    return result;
}


// 0x80c2f40
int sub_80C2F40()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v0 + 10) )
    {
        if ( *(v0 + 16) != 4 )
        {
            *(v0 + 16) = 4;
            *(v0 + 76) = 0;
            *(v0 + 32) = 5;
            result = 4;
            *(v0 + 10) = 4;
            return result;
        }
        goto LABEL_6;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
LABEL_6:
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c2f76
int sub_80C2F76()
{
    int v0; // r5

    **(v0 + 100) = 0;
    return object_freeMemory();
}


// 0x80c2f84
int sub_80C2F84()
{
    Battle *v0; // r5

    return sprite_setColorShader(v0, 1057 * v0->unk_19);
}


// 0x80c2f96
int __fastcall sub_80C2F96(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(61, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 100) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c2fbc
int __fastcall sub_80C2FBC(char a1)
{
    int v1; // r5
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3

    v2 = object_getCoordinatesForPanels(a1);
    sub_80E3FB4((*(v1 + 22) ^ *(v1 + 23)) << 8, v2, v3, 0)->Timer = 60;
    v5 = PlaySoundEffect(146, 60, v4);
    return sub_80E11E0(v5, v6, v7, v8);
}


// 0x80c3000
void sub_80C3000()
{
    int v0; // r5

    (*(&off_80C3018 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c3024
signed int __noreturn sub_80C3024()
{
    Battle *v0; // r5
    u32 *v1; // r4
    Battle *v2; // ST04_4
    u32 *v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    u32 v11; // r2
    u32 v12; // r3
    u32 *v13; // r0
    Battle *v14; // ST04_4
    u32 *v15; // r5
    int v16; // r0
    int v17; // r1
    int v18; // r0
    int v19; // r0
    int v20; // r1
    signed int result; // r0

    v1 = v0->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v2 = v0;
        v3 = v0->parent;
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        v0 = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 20));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(v0, 128, v7, v8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->objFlags |= 2u;
    v11 = v0->parent[14];
    v12 = v0->parent[15];
    v13 = &v0->x;
    *v13 = v0->parent[13];
    v13[1] = v11;
    v13[2] = v12;
    object_setPanelsFromCoordinates(v0);
    v14 = v0;
    v15 = v0->parent;
    v16 = sub_801002C();
    sprite_setPallete(v16);
    *&v14->extraVars[12] = sub_800F29C(*(v1 + 20));
    *&v14->extraVars[16] = v17;
    v18 = object_getFlip(v14);
    sprite_setFlip(v14, v18);
    v19 = sub_800F29C(*(v1 + 20));
    sub_8010DF6(v19, v20);
    sub_80E1352(v14->parent, 0xFu);
    result = 4;
    *&v14->currState = 4;
    return result;
}


// 0x80c30c2
int sub_80C30C2()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    if ( !sub_800EB6C(v0[22]) )
        *v0 &= 0xFDu;
    return (*(&off_80C30F4 + v0[9]))();
}


// 0x80c3100
int sub_80C3100()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    signed int v4; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 16) = 14;
        *(v0 + 34) = *(v0 + 4);
        if ( *(v0 + 108) == 2 )
        {
            v4 = *(v0 + 112);
            if ( !v4 )
            {
LABEL_9:
                sub_80B8E30(v4);
                goto LABEL_10;
            }
            if ( v4 >= 25 )
            {
                v4 -= 24;
                goto LABEL_9;
            }
        }
LABEL_10:
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c314e
int sub_80C314E()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    char v3; // r0
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 17) = -1;
        v1 = *(v0 + 100);
        if ( v1 )
        {
            *(v1 + 17) = -1;
            v2 = *(v0 + 80);
            if ( v2 )
                *(v2 + 17) = -1;
        }
        *(v0 + 32) = 18;
        v3 = object_getFrontDirection(v0);
        v4 = *(v0 + 44);
        sub_80D73D6(v3 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0x100000);
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        v8 = *(v0 + 34) - 1;
        *(v0 + 34) = v8;
        if ( v8 )
        {
            result = 0;
            *(v0 + 11) = 0;
        }
        else
        {
            *(v0 + 32) = 60;
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80c31b0
int sub_80C31B0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( *(v0 + 32) == 45 )
    {
        *(v0 + 100) = 0;
        *(v0 + 16) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        sub_80E13DC(*(v0 + 76));
        result = 0;
        **(v0 + 96) = 0;
    }
    return result;
}


// 0x80c31f0
int __fastcall sub_80C31F0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(69, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c3218
void sub_80C3218()
{
    int v0; // r5

    (*(&off_80C3230 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c323c
int __noreturn sub_80C323C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    _BYTE *v4; // r0

    sprite_decompress(12, 72);
    sprite_load(v0, 128, 12, 72);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    sub_80C3460();
    PlaySoundEffect(274, v2, v3);
    *(v0 + 14) = 0;
    *(v0 + 44) = 0;
    v4 = object_createCollisionData();
    if ( v4 )
    {
        object_setupCollisionData(v4, 23, 5, 0);
        object_setCollisionStatusEffect1(18);
        object_clearCollisionRegion();
        *(v0 + 8) = 4;
        sub_80C32B6();
    }
    return object_freeMemory();
}


// 0x80c32b6
void __noreturn sub_80C32B6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    v1 = (*(&off_80C32D0 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80c32d8
int sub_80C32D8()
{
    int v0; // r5

    return (*(&off_80C32EC + *(v0 + 10)))();
}


// 0x80c32f4
int sub_80C32F4()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 60;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c330e
int sub_80C330E()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c3322
int sub_80C3322()
{
    int v0; // r5

    return (*(&off_80C3334 + *(v0 + 10)))();
}


// 0x80c3348
signed int sub_80C3348()
{
    int v0; // r5
    signed int result; // r0

    *v0 &= 0xFDu;
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    *(v0 + 32) = 3;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80c3368
int sub_80C3368()
{
    int v0; // r5
    int result; // r0
    u32 v2; // r0
    char v3; // r1
    char v4; // r2
    int v5; // r3

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        v2 = battle_findPlayer(*(v0 + 22) ^ 1);
        if ( v2 )
        {
            v3 = *(v2 + 18);
            v4 = *(v2 + 19);
            *(v0 + 18) = v3;
            *(v0 + 19) = v4;
            v5 = *(v0 + 84);
            *(v5 + 10) = v3;
            *(v5 + 11) = v4;
            object_setCoordinatesFromPanels(v0);
            ++*(v0 + 58);
            ++*(v0 + 62);
            *(v0 + 32) = 3;
            result = 8;
            *(v0 + 10) = 8;
        }
        else
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80c33ae
int sub_80C33AE()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *v0 |= 2u;
        *(v0 + 16) = 2;
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80c33ca
void sub_80C33CA()
{
    u32 v0; // r5
    u32 v1; // [sp-4h] [bp-8h]

    if ( sprite_getFrameParameters() & 0x80 )
    {
        if ( *(v0 + 6) != 382 )
        {
            v1 = v0;
            v0 = battle_findPlayer(*(v0 + 22) ^ 1);
            if ( v0 )
            {
                sub_800FC7C();
                v0 = v1;
            }
        }
        *(v0 + 16) = 3;
        *(v0 + 32) = 60;
        object_setCollisionRegion(1);
        *(v0 + 10) = 16;
    }
    JUMPOUT(__CS__, v1);
}


// 0x80c3408
int sub_80C3408()
{
    int v0; // r5
    int v1; // r2
    int result; // r0
    int v3; // r0

    if ( sprite_getFrameParameters() & 0x40 )
        PlaySoundEffect(290, 64, v1);
    object_clearCollisionRegion();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        v3 = object_getEnemyDirection();
        SpawnT4BattleObjectWithId0(v0, v3, *(v0 + 52) - (v3 << 19), *(v0 + 56), 0x200000);
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3448
int sub_80C3448()
{
    int v0; // r5
    _BYTE *v1; // r1

    object_freeCollisionData(*(v0 + 84));
    v1 = *(v0 + 76);
    if ( v1 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80c3460
int sub_80C3460()
{
    Battle *v0; // r5
    u32 v1; // r0
    u8 v2; // ST00_1
    int v3; // ST04_4
    bool v4; // zf
    u8 v5; // r0
    char v6; // r1
    int result; // r0
    int v8; // [sp-4h] [bp-14h]

    v8 = v0->Alliance;
    v1 = battle_findPlayer(v8);
    if ( !v1
        || (v2 = *(v1 + 18),
                v3 = *(v1 + 19),
                v4 = object_checkPanelParameters(*(v1 + 18), v3, *&byte_80C34A8[8 * v8], *&byte_80C34A8[8 * v8 + 4]) == 0,
                v5 = v2,
                v6 = v3,
                v4) )
    {
        v5 = 5 * v0->Alliance + 1;
        v6 = 2;
    }
    v0->panelX = v5;
    v0->panelY = v6;
    object_setCoordinatesFromPanels(v0);
    result = 0;
    v0->z = 0;
    return result;
}


// 0x80c34b8
int __fastcall sub_80C34B8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType1(75, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v5;
        *v5 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c34e0
void sub_80C34E0()
{
    int v0; // r5

    (*(&off_80C34F8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c3504
int __noreturn sub_80C3504()
{
    int v0; // r5
    int v1; // r0

    sprite_decompress(12, 75);
    sprite_load(v0, 128, 12, 75);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    sub_80C36AE();
    *(v0 + 96) = 1;
    *(v0 + 8) = 4;
    return sub_80C3550();
}


// 0x80c3550
int sub_80C3550()
{
    return sub_80C3558();
}


// 0x80c3558
int sub_80C3558()
{
    int v0; // r5

    return (*(&off_80C356C + *(v0 + 10)))();
}


// 0x80c3584
signed int __fastcall sub_80C3584(int a1, int a2, int a3)
{
    int v3; // r5
    signed int result; // r0

    *(v3 + 32) = 20;
    PlaySoundEffect(288, a2, a3);
    result = 4;
    *(v3 + 10) = 4;
    return result;
}


// 0x80c3598
int sub_80C3598()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    _DWORD *v3; // r7
    int result; // r0

    v1 = *(v0 + 56) + *(v0 + 68);
    v2 = *(v0 + 60) + *(v0 + 72);
    v3 = (v0 + 52);
    *v3 = *(v0 + 52) + *(v0 + 64);
    v3[1] = v1;
    v3[2] = v2;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 6;
        *(v0 + 72) = -*(v0 + 72);
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80c35ce
int sub_80C35CE()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    _DWORD *v3; // r7
    int result; // r0
    int v5; // r1
    int v6; // r2

    v1 = *(v0 + 56) + *(v0 + 68);
    v2 = *(v0 + 60) + *(v0 + 72);
    v3 = (v0 + 52);
    *v3 = *(v0 + 52) + *(v0 + 64);
    v3[1] = v1;
    v3[2] = v2;
    *(v0 + 64) -= object_getEnemyDirection() << 18;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 16) = 2;
        if ( battle_findPlayer(*(v0 + 22) ^ 1) )
            sub_800FC7C();
        PlaySoundEffect(294, v5, v6);
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80c3630
int sub_80C3630()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 32) = 75;
        *(v0 + 16) = 3;
        result = 16;
        *(v0 + 10) = 16;
    }
    return result;
}


// 0x80c364a
int sub_80C364A()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 40;
        *(v0 + 16) = 4;
        *(v0 + 64) = 786432 * object_getEnemyDirection();
        *(v0 + 72) = 0x40000;
        result = 20;
        *(v0 + 10) = 20;
    }
    return result;
}


// 0x80c3678
int sub_80C3678()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    _DWORD *v3; // r7
    int result; // r0

    v1 = *(v0 + 56) + *(v0 + 68);
    v2 = *(v0 + 60) + *(v0 + 72);
    v3 = (v0 + 52);
    *v3 = *(v0 + 52) + *(v0 + 64);
    v3[1] = v1;
    v3[2] = v2;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c36a0
int sub_80C36A0()
{
    int v0; // r5

    **(v0 + 76) = 0;
    return object_freeMemory();
}


// 0x80c36ae
int sub_80C36AE()
{
    int v0; // r5
    int v1; // ST00_4
    int v2; // r6
    _DWORD *v3; // r0
    int v4; // r1
    int v5; // r2
    int result; // r0

    v1 = *(v0 + 22) ^ 1;
    v2 = object_getAllianceDirection(v1);
    v3 = battle_findPlayer(v1);
    v4 = v3[14];
    v5 = v3[15];
    *(v0 + 52) = v3[13] + 15728640 * v2;
    *(v0 + 56) = v4;
    *(v0 + 60) = v5 + 7340032;
    *(v0 + 64) = 786432 * object_getEnemyDirection();
    *(v0 + 72) = -262144;
    result = 0;
    *(v0 + 68) = 0;
    return result;
}


// 0x80c3700
int sub_80C3700()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 96) - 1;
    *(v0 + 96) = result;
    if ( !result )
    {
        result = 32;
        *(v0 + 96) = 32;
    }
    return result;
}


// 0x80c3710
int __fastcall sub_80C3710(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType1(76, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v5;
        *v5 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c3734
void sub_80C3734()
{
    int v0; // r5

    (*(&off_80C374C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c3758
void __noreturn sub_80C3758()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2

    sprite_decompress(12, 76);
    sprite_load(v0, 128, 12, 76);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    sub_80C390E();
    *(v0 + 32) = 40;
    PlaySoundEffect(278, v2, v3);
    *(v0 + 8) = 4;
    sub_80C37AC();
}


// 0x80c37ac
void sub_80C37AC()
{
    int v0; // r5

    (*(&off_80C37D0 + *(v0 + 10)))();
    JUMPOUT(__CS__, 135018418);
}


// 0x80c37ec
int sub_80C37EC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *(v0 + 32) = 16;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c3816
signed int __fastcall sub_80C3816(int a1, int a2, int a3)
{
    int v3; // r5
    unsigned int v4; // r0
    signed int result; // r0

    v4 = *(v3 + 60) - 0x40000;
    *(v3 + 60) = v4;
    result = v4 >> 16;
    if ( result <= 16 )
    {
        *(v3 + 16) = 1;
        *(v3 + 60) = 0;
        *(v3 + 32) = 30;
        PlaySoundEffect(212, 0x40000, a3);
        result = 8;
        *(v3 + 10) = 8;
    }
    return result;
}


// 0x80c383e
int sub_80C383E()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 16) = 2;
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80c3852
int sub_80C3852()
{
    int v0; // r5
    int result; // r0
    u32 v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r4
    int v6; // [sp-4h] [bp-8h]

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v6 = object_getEnemyDirection();
        v2 = battle_findPlayer(*(v0 + 22));
        if ( v2 )
        {
            v5 = *(v2 + 18) << 16;
            sub_80DE112(v0 + 64, *(v0 + 52) - (v6 << 20), *(v0 + 56), 655360);
        }
        *(v0 + 32) = 10;
        PlaySoundEffect(178, v3, v4);
        result = 16;
        *(v0 + 10) = 16;
    }
    return result;
}


// 0x80c38a0
int sub_80C38A0()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 12);
    if ( !*(v0 + 12) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            *(v0 + 16) = 3;
            result = 20;
            *(v0 + 10) = 20;
        }
    }
    return result;
}


// 0x80c38ba
int sub_80C38BA()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 16) = 0;
        *(v0 + 32) = 10;
        *(v0 + 60) = 0x100000;
        result = 24;
        *(v0 + 10) = 24;
    }
    return result;
}


// 0x80c38da
signed int sub_80C38DA()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        result = 0x40000;
        *(v0 + 60) += 0x40000;
    }
    else
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3900
int sub_80C3900()
{
    int v0; // r5

    **(v0 + 76) = 0;
    return object_freeMemory();
}


// 0x80c390e
int sub_80C390E()
{
    int v0; // r5
    int result; // r0

    *(v0 + 18) = *(battle_findPlayer(*(v0 + 22)) + 18);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 2162688 * object_getEnemyDirection();
    *(v0 + 60) = 3932160;
    result = *(v0 + 58) + 1;
    *(v0 + 58) = result;
    return result;
}


// 0x80c3946
int __fastcall sub_80C3946(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType1(77, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v5;
        *v5 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c3970
void sub_80C3970()
{
    int v0; // r5

    (*(&off_80C3988 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c3994
int sub_80C3994()
{
    int v0; // r5

    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    sub_80C46B0(*(v0 + 76));
    **(v0 + 64) = 0;
    return object_freeMemory();
}


// 0x80c39ba
int __noreturn sub_80C39BA()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r2

    sprite_decompress(8, 19);
    sprite_load(v0, 128, 8, 19);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 76) = sub_80C468C(0, v2, 0, 0);
    PlaySoundEffect(148, v3, v4);
    *(v0 + 32) = 100;
    *(v0 + 8) = 4;
    return sub_80C3A24();
}


// 0x80c3a24
signed int sub_80C3A24()
{
    int v0; // r5
    signed int result; // r0

    (*(&off_80C3A48 + *(v0 + 9)))();
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3a50
int sub_80C3A50()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( *(v0 + 32) <= 80 )
        *(v0 + 60) += 0x8000;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c3a78
int sub_80C3A78()
{
    int v0; // r5

    return (*(&off_80C3A8C + *(v0 + 10)))();
}


// 0x80c3a98
int sub_80C3A98()
{
    int v0; // r5
    int result; // r0
    int v2; // r2
    int v3; // r3

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 16) = 10;
    }
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 16) = 12;
        *(v0 + 34) = 24;
        ZeroFillByHalfword(v0 + 96, 0x12u, v2, v3);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c3aca
int sub_80C3ACA()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    sub_80C3CD0();
    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        sub_80C3B54();
        sub_80C3B54();
        v1 = *(v0 + 34) - 1;
        *(v0 + 34) = v1;
        if ( !v1 )
        {
            *(v0 + 32) = 12;
            result = 8;
            *(v0 + 10) = 8;
            return result;
        }
        *(v0 + 32) = 8;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 0;
        *(v0 + 11) = 0;
    }
    return result;
}


// 0x80c3b06
int sub_80C3B06()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result )
            return result;
        *(v0 + 11) = 1;
        *(v0 + 32) = 30;
        *(v0 + 16) = 0;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3b30
int __fastcall sub_80C3B30(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(79, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 64) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c3b54
void sub_80C3B54()
{
    int v0; // r5
    int v1; // r2
    int v2; // r1
    char v3; // r0
    signed int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3
    int v9; // r6

    if ( sub_80C3C2C() )
    {
        GetPositiveSignedRNG2();
        v2 = 7;
        v4 = v3 & 7;
        if ( v4 < 3 || (sub_800EC48(v4, 7, v1, &off_80C3BB0), (v4 = sub_80C3BC0(v5, v6, v7, v8)) == 0) )
            v4 = sub_80C3BC0(v4, v2, 0x10000, 0);
        if ( v4 )
        {
            *(v0 + 6 * v2 - 6 + v4 + 95) = 22;
            v9 = *(v0 + 44);
            sub_80C5F4A(v4, v2, 0, 0);
            sub_80C3CA0();
        }
    }
}


// 0x80c3bc0
int __fastcall sub_80C3BC0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *i; // r4
    int v7; // r0
    int v8; // r1
    int v9; // ST0C_4
    int v10; // r4
    int result; // r0
    int v16; // [sp-1Ch] [bp-44h]
    int v17; // [sp-18h] [bp-40h]
    int v18; // [sp-14h] [bp-3Ch]
    _BYTE *v19; // [sp-4h] [bp-2Ch]
    int v20; // [sp+0h] [bp-28h]

    v5 = 0;
    for ( i = (v4 + 116); ; i = v19 + 1 )
    {
        v7 = *i;
        if ( !*i )
            break;
        v19 = i;
        v8 = 3;
        do
        {
            v16 = v7;
            v17 = v8;
            v18 = a3;
            v9 = a4;
            v10 = object_getPanelParameters(v7, v8);
            v7 = v16;
            a3 = v18;
            a4 = v9;
            if ( !(v10 & v9) && (v10 & v18) == v18 && !*(v4 + 6 * v17 - 6 + v16 + 95) )
                *(&v20 + v5++) = 16 * v17 | v16;
            v8 = v17 - 1;
        }
        while ( v17 != 1 );
    }
    result = v5;
    if ( v5 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v5) & 7;
    }
    return result;
}


// 0x80c3c2c
int sub_80C3C2C()
{
    Battle *v0; // r5
    int v1; // r4
    u8 *v2; // r6
    int v3; // r1
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3

    v1 = v0->panelX;
    v2 = &v0->extraVars[20];
    if ( v0->Alliance == v0->directionFlip )
    {
        if ( v1 < 3 )
            v1 = 3;
    }
    else if ( v1 > 4 )
    {
        v1 = 4;
    }
    while ( 5 * (v0->Alliance ^ v0->directionFlip ^ 1) + 1 != v1 )
    {
        v1 += object_getFrontDirection(v0);
        sub_800EC48(v1, v3, v4, byte_80C3C90);
        if ( object_getPanelsInColumnFiltered(v5, v6, v7, v8) )
            *v2++ = v1;
    }
    *v2 = 0;
    return v0->extraVars[20];
}


// 0x80c3ca0
void sub_80C3CA0()
{
    Battle *v0; // r5
    u32 v1; // r2
    int v2; // r0
    int v3; // r4
    int v4; // r1
    int v5; // r2
    int v6; // r3

    object_getFrontDirection(v0);
    v1 = v0->y;
    v2 = sub_801BDDE(0xFu);
    v3 = ((v0->Alliance ^ v0->directionFlip) << 8) + 87;
    SpawnT4BattleObjectWithId0(v0, v2, v4, v5, v6);
}


// 0x80c3cd0
int sub_80C3CD0()
{
    int v0; // r5
    int v1; // r2
    signed int v2; // r3
    int result; // r0

    v1 = v0 + 96;
    v2 = 17;
    do
    {
        result = *(v1 + v2);
        if ( result - 1 >= 0 )
            *(v1 + v2) = result - 1;
        --v2;
    }
    while ( v2 >= 0 );
    return result;
}


// 0x80c3ce8
void sub_80C3CE8()
{
    int v0; // r5

    (*(&off_80C3D00 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c3d0c
int sub_80C3D0C()
{
    int v0; // r5

    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    sub_80C46B0(*(v0 + 76));
    **(v0 + 64) = 0;
    return object_freeMemory();
}


// 0x80c3d32
int __noreturn sub_80C3D32()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r2

    sprite_decompress(8, 19);
    sprite_load(v0, 128, 8, 19);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 76) = sub_80C468C(0, v2, 0, 0);
    PlaySoundEffect(148, v3, v4);
    *(v0 + 32) = 50;
    *(v0 + 8) = 4;
    return sub_80C3D9C();
}


// 0x80c3d9c
signed int sub_80C3D9C()
{
    int v0; // r5
    signed int result; // r0

    (*(&off_80C3DC0 + *(v0 + 9)))();
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3dc8
int sub_80C3DC8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c3ddc
int sub_80C3DDC()
{
    int v0; // r5

    return (*(&off_80C3DF0 + *(v0 + 10)))();
}


// 0x80c3e00
int sub_80C3E00()
{
    int v0; // r5
    int result; // r0
    int v2; // r2

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 16) = 8;
    }
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 16) = 13;
        PlaySoundEffect(253, 128, v2);
        *(v0 + 32) = 30;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c3e2e
int sub_80C3E2E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 16) = 9;
        *(v0 + 32) = 120;
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80c3e46
int sub_80C3E46()
{
    int v0; // r5
    __int16 *v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v1 = *(v0 + 32);
    if ( v1 == byte_69 )
        v1 = sub_80C3EBC();
    if ( v1 == (&word_54 + 1) )
        v1 = sub_80C3EBC();
    if ( v1 == &word_41 )
        v1 = sub_80C3EBC();
    if ( v1 == (&dword_2C + 1) )
        sub_80C3EBC();
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        *(v0 + 16) = 0;
        *(v0 + 32) = 20;
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80c3e88
int sub_80C3E88()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c3e98
int __fastcall sub_80C3E98(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType1(80, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 64) = v6;
        *v6 = 1;
    }
    return result;
}


// 0x80c3ebc
_BYTE *sub_80C3EBC()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80DD5B4(*(v0 + 18), *(v0 + 19), 0, 0);
}


// 0x80c3ee0
int sub_80C3EE0()
{
    int v0; // r5

    return (*(&off_80C3EF4 + *(v0 + 8)))();
}


// 0x80c3f00
void __noreturn sub_80C3F00()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, *(v0 + 4), *(v0 + 5));
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(v0 + 100);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = *(v0 + 7);
    if ( !*(v0 + 6) )
        v2 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v2);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    *(v0 + 8) = 4;
    sub_80C3F52();
}


// 0x80c3f52
void sub_80C3F52()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r0
    unsigned int v8; // r0
    int v9; // r0
    int v10; // r0
    char v11; // zf

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    *(v0 + 60) += *(v0 + 108);
    if ( *(v0 + 104) )
    {
        *(v0 + 56) -= 0x10000;
        *(v0 + 60) -= 0x10000;
    }
    else
    {
        *(v0 + 56) += 0x10000;
        *(v0 + 60) += 0x10000;
    }
    if ( !*(v0 + 120) )
        *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    if ( !*(v0 + 6) )
    {
        v5 = sprite_getPallete(*(v0 + 76));
        sprite_setPallete(v5);
    }
    if ( !*(v0 + 120) )
    {
        v6 = sprite_getColorShader(*(v0 + 76));
        sprite_setColorShader(v0, v6);
    }
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v8);
    if ( !*(v0 + 96) )
    {
        *(v0 + 23) = *(*(v0 + 76) + 23);
        v9 = object_getFlip(v0);
        sprite_setFlip(v0, v9);
    }
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v10);
    if ( *(v0 + 112) )
        sub_80C409C();
    battle_isTimeStop();
    if ( v11 )
    {
        battle_isPaused();
        if ( v11 )
        {
            if ( !(*(*(*(v0 + 76) + 84) + 60) & 0x80110C00) && (!*(v0 + 116) || *(*(v0 + 76) + 36) > 0) )
                object_updateSprite();
        }
    }
}


// 0x80c4038
int __fastcall sub_80C4038(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-1Ch]
    int v7; // [sp+4h] [bp-18h]
    int v8; // [sp+8h] [bp-14h]
    int v9; // [sp+Ch] [bp-10h]
    int v10; // [sp+10h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    v9 = a4;
    object_spawnType1(84, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 108) = v6;
        *(v4 + 104) = v7;
        *(v4 + 100) = v8;
        *(v4 + 96) = v9;
        *(v4 + 52) = *(v10 + 52);
        *(v4 + 56) = *(v10 + 56);
        *(v4 + 60) = *(v10 + 60);
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *v4 |= 0x14u;
        *(v4 + 112) = 0;
        *(v4 + 116) = 0;
    }
    return result;
}


// 0x80c4072
int __fastcall sub_80C4072(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c407c
int __fastcall sub_80C407C(int result)
{
    if ( result )
        *(result + 112) = 1;
    return result;
}


// 0x80c4086
int __fastcall sub_80C4086(int result)
{
    if ( result )
        *(result + 116) = 1;
    return result;
}


// 0x80c4090
int __fastcall sub_80C4090(int result)
{
    if ( result )
        *(result + 120) = 1;
    return result;
}


// 0x80c409c
int sub_80C409C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    object_setPanelsFromCoordinates(v0);
    v1 = 1572864 * (3 - *(v0 + 19));
    v2 = *(v0 + 60);
    *(v0 + 56) += v1;
    *(v0 + 60) = v2 + v1;
    ++*(v0 + 58);
    result = *(v0 + 62) + 1;
    *(v0 + 62) = result;
    return result;
}


// 0x80c40d8
int sub_80C40D8()
{
    int v0; // r5

    return (*(&off_80C40EC + *(v0 + 8)))();
}


// 0x80c40f8
signed int __noreturn sub_80C40F8()
{
    int v0; // r5
    unsigned __int8 *v1; // r0
    int v2; // r0
    int v3; // r0
    signed int result; // r0

    object_setPanelsFromCoordinates(v0);
    v1 = &dword_80C40D4 + 2 * *(v0 + 4);
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v2 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v2);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c4146
void sub_80C4146()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r0
    unsigned int v8; // r0
    int v9; // r0
    int v10; // r0
    signed __int16 v11; // r4
    char v12; // zf

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v5 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v5);
    v6 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v6);
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v8);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v9 = object_getFlip(v0);
    sprite_setFlip(v0, v9);
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v10);
    if ( !*(v0 + 96) )
    {
        v11 = 0;
        if ( *(*(v0 + 76) + 16) )
            v11 = 255;
        *(v0 + 62) = v11;
    }
    battle_isTimeStop();
    if ( v12 )
    {
        battle_isPaused();
        if ( v12 )
            object_updateSprite();
    }
}


// 0x80c41d8
int __fastcall sub_80C41D8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(85, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 52) = *(v6 + 52);
        *(v4 + 56) = *(v6 + 56);
        *(v4 + 60) = *(v6 + 60);
        *(v4 + 22) = *(v6 + 22);
        *(v4 + 76) = v6;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80c4204
int __fastcall sub_80C4204(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c4348
int sub_80C4348()
{
    int v0; // r5

    return (*(&off_80C435C + *(v0 + 8)))();
}


// 0x80c4368
void sub_80C4368()
{
    int v0; // r5
    char *v1; // r0
    int v2; // r0
    __int16 v3; // r0

    *(v0 + 84) = off_80C42D4[*(v0 + 4)];
    v1 = &byte_80C4320[2 * *(v0 + 4)];
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = 0;
    if ( !*(v0 + 5) )
        v2 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v2);
    v3 = *(v0 + 7);
    *(v0 + 16) = v3;
    sprite_setAnimation(v0, v3);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80C43C4();
}


// 0x80c43c4
int sub_80C43C4()
{
    int v0; // r5
    int v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r0
    unsigned int v8; // r0
    int v9; // r0

    v1 = *(v0 + 76);
    *(v0 + 16) = *(v1 + 16) + *(v0 + 7);
    v2 = *(v1 + 56);
    v3 = *(v1 + 60);
    v4 = (v0 + 52);
    *v4 = *(v1 + 52);
    v4[1] = v2;
    v4[2] = v3;
    if ( *(v0 + 96) )
    {
        *(v0 + 60) += 0x10000;
        *(v0 + 56) += 0x10000;
    }
    else if ( *(*(v0 + 84) + *(v0 + 16) - *(v0 + 7)) )
    {
        *(v0 + 60) = *(v1 + 60);
        *(v0 + 56) = *(v1 + 56);
    }
    else
    {
        *(v0 + 60) -= 0x10000;
        *(v0 + 56) -= 0x10000;
    }
    if ( !*(v0 + 11) )
        *v0 = *v0 & 0xFD | *v1 & 2;
    if ( !*(v0 + 5) )
    {
        v5 = sprite_getPallete(*(v0 + 76));
        sprite_setPallete(v5);
    }
    v6 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v6);
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v8);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v9 = object_getFlip(v0);
    sprite_setFlip(v0, v9);
    return (*(&off_80C4480 + *(v0 + 9)))();
}


// 0x80c4484
void sub_80C4484()
{
    int v0; // r5
    int v1; // r0
    char v2; // zf

    v1 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v1);
    if ( *(v0 + 6) )
    {
        sub_801BCD0();
    }
    else
    {
        battle_isTimeStop();
        if ( v2 )
            object_updateSprite();
    }
}


// 0x80c44a8
int __fastcall sub_80C44A8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(86, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80c44c8
int __fastcall sub_80C44C8(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c44d2
void __fastcall sub_80C44D2(int result)
{
    if ( result )
    {
        *(result + 17) = -1;
        sub_801BCD0();
    }
}


// 0x80c44e4
unsigned __int8 *__fastcall sub_80C44E4(unsigned __int8 *result)
{
    unsigned __int8 *v1; // r5

    if ( result )
    {
        result[11] = 1;
        v1 = result;
        result = (*result | 2);
        *v1 = result;
    }
    return result;
}


// 0x80c44fa
_BYTE *__fastcall sub_80C44FA(_BYTE *result)
{
    _BYTE *v1; // r5

    if ( result )
    {
        result[11] = 1;
        v1 = result;
        result = (*result & 0xFD);
        *v1 = result;
    }
    return result;
}


// 0x80c4510
int __fastcall sub_80C4510(int result)
{
    if ( result )
        *(result + 11) = 0;
    return result;
}


// 0x80c451a
int __fastcall sub_80C451A(int result, char a2)
{
    if ( result )
        *(result + 7) += a2;
    return result;
}


// 0x80c4526
int __fastcall sub_80C4526(int result, int a2)
{
    *(result + 96) = a2;
    return result;
}


// 0x80c4530
int sub_80C4530()
{
    int v0; // r5

    return (*(&off_80C4544 + *(v0 + 8)))();
}


// 0x80c4550
void __noreturn sub_80C4550()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0

    sprite_load(v0, 128, *(v0 + 4), *(v0 + 5));
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = sub_80C46CC();
    sprite_setPallete(v1);
    v2 = *(*(v0 + 76) + 16) + *(v0 + 7);
    *(v0 + 16) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80C458C();
}


// 0x80c458c
int sub_80C458C()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r0
    unsigned int v9; // r0
    int v10; // r0

    v1 = *(v0 + 76);
    v2 = *(v1 + 16) + *(v0 + 7);
    *(v0 + 16) = v2;
    if ( v2 != *(v0 + 17) )
    {
        sprite_setAnimation(v0, v2);
        sprite_loadAnimationData(v0);
    }
    v3 = *(v1 + 56);
    v4 = *(v1 + 60);
    if ( *(v0 + 96) )
    {
        v3 -= 0x10000;
        v4 -= 0x10000;
    }
    v5 = (v0 + 52);
    *v5 = *(v1 + 52);
    v5[1] = v3;
    v5[2] = v4;
    *v0 = *v0 & 0xFD | *v1 & 2;
    v6 = sub_80C46CC();
    sprite_setPallete(v6);
    v7 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v7);
    v8 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v8);
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v10 = object_getFlip(v0);
    sprite_setFlip(v0, v10);
    return (*(&off_80C4614 + *(v0 + 9)))();
}


// 0x80c461c
void sub_80C461C()
{
    int v0; // r5
    int v1; // r0

    v1 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v1);
    if ( __CFSHR__(sub_800139A(), 2) )
    {
        if ( !*(v0 + 6) )
            *v0 &= 0xFBu;
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        sub_80C464C();
    }
}


// 0x80c464c
void sub_80C464C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    char v3; // zf

    v1 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v1);
    if ( !*(v0 + 108) || !(*(*(*(v0 + 76) + 84) + 60) & 0x100800) )
    {
        v2 = *(v0 + 6);
        if ( v2 == 1 )
        {
            object_updateSpriteTimestop();
        }
        else if ( v2 == 2 )
        {
            sub_801BCD0();
        }
        else
        {
            battle_isTimeStop();
            if ( v3 )
                object_updateSprite();
        }
    }
}


// 0x80c468c
int __fastcall sub_80C468C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-10h]
    int v7; // [sp+4h] [bp-Ch]
    int v8; // [sp+8h] [bp-8h]

    v6 = a3;
    v7 = a4;
    object_spawnType1(87, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v8;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 96) = v6;
        *(v4 + 100) = v7;
        *v4 |= 4u;
    }
    return result;
}


// 0x80c46b0
int __fastcall sub_80C46B0(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80c46b6
int __fastcall sub_80C46B6(int result)
{
    if ( result )
        *(result + 17) = -1;
    return result;
}


// 0x80c46c0
int __fastcall sub_80C46C0(int result)
{
    *(result + 104) = 1;
    return result;
}


// 0x80c46c6
int __fastcall sub_80C46C6(int result)
{
    *(result + 108) = 1;
    return result;
}


// 0x80c46cc
int sub_80C46CC()
{
    int *v0; // r5
    int result; // r0
    signed int v2; // r4

    result = v0[25];
    if ( result == 255 )
        return sprite_getPallete(v0[19]);
    if ( v0[26] )
    {
        v2 = v0[25];
        if ( sub_8013774(result, 14) == 255 )
            v2 = 12;
        result = v2;
    }
    return result;
}


// 0x80c46fc
int sub_80C46FC()
{
    int v0; // r5

    return (*(&off_80C4710 + *(v0 + 8)))();
}


// 0x80c471c
void __noreturn sub_80C471C()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    int v3; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, 16, 90);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(v0 + 4);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v2);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    *(v0 + 8) = 4;
    sub_80C4766();
}


// 0x80c4766
void sub_80C4766()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r0
    unsigned int v8; // r0
    int v9; // r0
    int v10; // r0
    char v11; // zf

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v5 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v5);
    v6 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v6);
    v7 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v7);
    v8 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v8);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v9 = object_getFlip(v0);
    sprite_setFlip(v0, v9);
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v10);
    if ( *(*(v0 + 76) + 16) == *(v0 + 5) )
    {
        battle_isTimeStop();
        if ( v11 )
        {
            battle_isPaused();
            if ( v11 )
                object_updateSprite();
        }
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80c47ec
int __fastcall sub_80C47EC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType1(88, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 52) = *(v6 + 52);
        *(v4 + 56) = *(v6 + 56);
        *(v4 + 60) = *(v6 + 60);
        *(v4 + 22) = *(v6 + 22);
        *(v4 + 76) = v6;
        *(v4 + 5) = *(v6 + 16);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80c481c
int __fastcall sub_80C481C(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80c4828
int sub_80C4828()
{
    int v0; // r5

    return (*(&off_80C483C + *(v0 + 8)))();
}


// 0x80c4848
void __noreturn sub_80C4848()
{
    int v0; // r5
    int v1; // r4
    int v2; // ST04_4
    int v3; // r5
    int v4; // r0
    int v5; // ST00_4
    char *v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r3
    _DWORD *v13; // r0
    int v14; // r0
    int v15; // r0
    int v16; // r0
    int v17; // r1
    _BYTE *v18; // r0

    v1 = *(v0 + 76);
    if ( sub_800F29C(*(v1 + 40)) == 2 )
    {
        v2 = v0;
        v3 = *(v0 + 76);
        v4 = sub_8013774(2, 44);
        v5 = v4;
        v6 = sub_8013774(v4, 41);
        v0 = v2;
        sub_800FC9E(v6, v5);
    }
    else
    {
        v9 = sub_800F26C(*(v1 + 40));
        v8 = v10;
        v7 = v9;
    }
    sprite_load(v0, 128, v7, v8);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *v0 |= 2u;
    v11 = *(*(v0 + 76) + 56);
    v12 = *(*(v0 + 76) + 60);
    v13 = (v0 + 52);
    *v13 = *(*(v0 + 76) + 52);
    v13[1] = v11;
    v13[2] = v12;
    ++*(v0 + 58);
    ++*(v0 + 62);
    v14 = sub_801002C();
    sprite_setPallete(v14);
    v15 = object_getFlip(v0);
    sprite_setFlip(v0, v15);
    v16 = sub_800F29C(*(v1 + 40));
    sub_8010DF6(v16, v17);
    v18 = *(v0 + 80);
    if ( v18 )
    {
        v18[6] = 1;
        *v18 |= 0x14u;
    }
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    *(v0 + 8) = 4;
    sub_80C48FC();
}


// 0x80c48fc
void sub_80C48FC()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    if ( !sub_800EB6C(v0[22]) )
        *v0 &= 0xFDu;
    (*(&off_80C4930 + v0[4]))();
    object_updateSpriteTimestop();
}


// 0x80c493c
int sub_80C493C()
{
    int v0; // r5

    return (*(&off_80C4950 + *(v0 + 9)))();
}


// 0x80c4958
int sub_80C4958()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r1
    int v4; // r2
    int result; // r0

    sprite_clearFinalPalette();
    if ( !*(v0 + 11) )
    {
        sub_80E1352(*(v0 + 76), 0xFu);
        *(v0 + 32) = 0;
        *(v0 + 34) = 2;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 34);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 34) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *(v0 + 34) = *(v0 + 32) >> 2;
        sprite_forceWhitePallete();
        PlaySoundEffect(209, v3, v4);
    }
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result >= 120 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c49a4
int sub_80C49A4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        sub_80E13DC(*(v0 + 76));
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c49e4
int sub_80C49E4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1
    int v6; // ST00_4
    int v7; // r5
    int v8; // r1
    int v9; // r2

    if ( !*(v0 + 11) )
    {
        sub_80E1352(*(v0 + 76), 0xFu);
        sub_80101C4(*(v0 + 76));
        *(v0 + 32) = 0;
        sprite_forceWhitePallete();
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *v0 &= 0xFDu;
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        sub_80E13DC(*(v0 + 76));
        v6 = v0;
        v7 = *(v0 + 76);
        sub_80101AE(480);
        PlaySoundEffect(147, v8, v9);
        **(v6 + 96) = 0;
        result = 8;
        *(v6 + 8) = 8;
    }
    return result;
}


// 0x80c4a52
int sub_80C4A52()
{
    int v0; // r5

    return (*(&off_80C4A64 + *(v0 + 9)))();
}


// 0x80c4a6c
int sub_80C4A6C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r1
    int v4; // r2
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    sprite_clearFinalPalette();
    if ( !*(v0 + 11) )
    {
        sub_80E1352(*(v0 + 76), 0xFu);
        *(v0 + 32) = 30;
        PlaySoundEffect(119, v1, v2);
        PlaySoundEffect(209, v3, v4);
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5--, 1);
    *(v0 + 32) = v5;
    if ( !(((v5 < 0) ^ v6) | (v5 == 0)) )
        return sprite_forceWhitePallete();
    *(v0 + 9) = 4;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80c4aac
int sub_80C4AAC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 &= 0xFDu;
        v4 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v4, v5);
        sub_80E13DC(*(v0 + 76));
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c4aec
int __fastcall sub_80C4AEC(_BYTE *a1, int a2, int a3, int a4)
{
    int v4; // r5
    bool v5; // zf
    int result; // r0
    int v7; // r5
    int v8; // ST04_4
    u32 v9; // r1
    _BYTE *v10; // [sp+0h] [bp-Ch]
    int v11; // [sp+4h] [bp-8h]

    v10 = a1;
    object_spawnType1(93, a2, a3, a4);
    result = v4;
    v5 = v4 == 0;
    v7 = v11;
    if ( !v5 )
    {
        *(result + 96) = v10;
        *v10 = 1;
        *(result + 22) = *(v11 + 22);
        v8 = result;
        v9 = battle_findPlayer(*(v7 + 22));
        result = v8;
        *(v8 + 76) = v9;
    }
    return result;
}


// 0x80c4b18
void sub_80C4B18()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80C4B3C + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
    {
        battle_isPaused();
        if ( v1 )
            UpdateBattleObjectSprite();
    }
}


// 0x80c4b48
void __noreturn sub_80C4B48()
{
    int v0; // r5
    u8 v1; // r1

    sprite_load(v0, 128, 20, 22);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    sub_80C4C52();
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80C4B84();
}


// 0x80c4b84
int sub_80C4B84()
{
    int v0; // r5
    char v1; // r1
    int v2; // r5
    int v3; // r4
    int v4; // r2
    int v5; // r3
    _DWORD *v6; // r0
    int v7; // r0
    int result; // r0
    int v9; // [sp-4h] [bp-8h]

    sub_80C4C52();
    *(v0 + 16) = v1;
    *v0 |= 2u;
    if ( sub_800EB6C(*(v0 + 22)) )
    {
        *v0 |= 2u;
        if ( !*(v0 + 12) )
            *v0 &= 0xFDu;
    }
    else
    {
        *v0 &= 0xFDu;
    }
    nullsub_10();
    v9 = v0;
    v2 = *(v0 + 76);
    if ( object_getFlag() & 4 )
        *v9 &= 0xFDu;
    v3 = *(v9 + 76);
    v4 = *(v3 + 56);
    v5 = *(v3 + 60);
    v6 = (v9 + 52);
    *v6 = *(v3 + 52);
    v6[1] = v4;
    v6[2] = v5;
    *(v9 + 23) = *(v3 + 23);
    v7 = object_getFlip(v9);
    sprite_setFlip(v9, v7);
    if ( **(v9 + 100) )
    {
        result = sub_8015B54(*(v9 + 22));
        if ( result == 2 )
            return result;
        **(v9 + 100) = 0;
    }
    return object_freeMemory();
}


// 0x80c4c12
int __fastcall sub_80C4C12(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType1(94, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 100) = v5;
        *v5 = v4;
        *(v4 + 12) = 1;
        *v4 |= 4u;
    }
    return result;
}


// 0x80c4c3a
int __fastcall sub_80C4C3A(int result)
{
    *(result + 8) = 8;
    **(result + 100) = 0;
    return result;
}


// 0x80c4c46
int __fastcall sub_80C4C46(int result)
{
    *(result + 12) = 0;
    return result;
}


// 0x80c4c4c
int __fastcall sub_80C4C4C(int result)
{
    *(result + 12) = 1;
    return result;
}


// 0x80c4c52
int sub_80C4C52()
{
    int v0; // r5
    int result; // r0
    signed int v2; // r1

    result = sub_800F29C(*(*(v0 + 76) + 40));
    if ( v2 >= 35 )
        result = v2;
    return result;
}


// 0x80c4e58
void sub_80C4E58()
{
    int v0; // r5

    (*(&off_80C4E70 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c4e7c
int sub_80C4E7C()
{
    int v0; // r5
    _BYTE *v1; // r7
    int v2; // r1
    _BYTE *v3; // r0
    int v5; // r0
    int v6; // r1

    v1 = &off_80C4C78 + 12 * *(v0 + 4);
    *(v0 + 76) = v1;
    v2 = v1[5];
    if ( v2 != 255 )
    {
        sprite_load(v0, 128, v2, v1[6]);
        sprite_loadAnimationData(v0);
        sprite_noShadow(v0);
        *v0 |= 2u;
        *(v0 + 16) = v1[7];
        *(v0 + 17) = -1;
    }
    *(v0 + 14) = v1[3];
    object_setCoordinatesFromPanels(v0);
    sub_80C5090();
    *(v0 + 34) = 1;
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, *v1, v1[1], v1[2]);
        object_setCollisionHitEffect(v1[4]);
        if ( v1[9] )
            object_setCollisionStatusEffect1(v1[9]);
        v5 = v1[10];
        v6 = v1[11];
        if ( v1[10] )
            v5 = sub_801A4D0(v5, v6);
        object_presentCollisionData(v5, v6);
        *(v0 + 8) = 4;
        sub_80C4F02();
    }
    return object_freeMemory();
}


// 0x80c4f02
void __noreturn sub_80C4F02()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r2
    char v10; // zf
    signed int v11; // r2
    signed int v12; // r2
    signed int v13; // r2
    int v14; // [sp-8h] [bp-Ch]
    int v15; // [sp-8h] [bp-Ch]
    int v16; // [sp-8h] [bp-Ch]
    int v17; // [sp-4h] [bp-8h]
    int v18; // [sp-4h] [bp-8h]
    int v19; // [sp-4h] [bp-8h]

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_31;
    v1 = *(*(v0 + 84) + 112);
    if ( v1 )
    {
        if ( *(v0 + 4) == 12 )
            sub_80C5050();
        v7 = *(v0 + 18);
        v8 = *(v0 + 19);
        v9 = *(v0 + 4);
        if ( v9 == 7 || v9 == 21 )
            object_crackPanel(v7, v8);
        if ( v9 == 22 )
            object_breakPanel_dup2(v7, v8);
        if ( v9 == 34 )
        {
            v14 = *(v0 + 18);
            v17 = *(v0 + 19);
            object_isPanelSolid(v7, v8);
            if ( !v10 )
            {
                v11 = *(*(v0 + 76) + 8);
                if ( *(v0 + 22) )
                    v11 = 12;
                object_setPanelType(v14, v17, v11);
            }
        }
        else if ( v9 == 36 )
        {
            v15 = *(v0 + 18);
            v18 = *(v0 + 19);
            object_isPanelSolid(v7, v8);
            if ( !v10 )
            {
                v12 = *(*(v0 + 76) + 8);
                if ( *(v0 + 22) )
                    v12 = 11;
                object_setPanelType(v15, v18, v12);
            }
        }
        else
        {
            v16 = *(v0 + 18);
            v19 = *(v0 + 19);
            object_isPanelSolid(v7, v8);
            if ( !v10 )
            {
                v13 = *(*(v0 + 76) + 8);
                if ( v13 != 255 )
                    object_setPanelType(v16, v19, v13);
            }
        }
        goto LABEL_31;
    }
    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = *(v0 + 34);
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v0 + 32) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        v5 = object_getFrontDirection(v0) + *(v0 + 18);
        *(v0 + 18) = v5;
        v6 = *(v0 + 19) + *(v0 + 5);
        *(v0 + 19) = v6;
        *(v0 + 5) = 0;
        if ( object_isValidPanel(v5, v6) )
        {
            object_setCoordinatesFromPanels(v0);
            sub_80C5090();
            object_updateCollisionPanels(v0);
            v4 = 0;
            *(v0 + 11) = 0;
            goto LABEL_32;
        }
        if ( *(v0 + 4) == 12 )
            sub_80C5014();
LABEL_31:
        object_clearCollisionRegion();
        v4 = 8;
        *(v0 + 8) = 8;
    }
LABEL_32:
    object_presentCollisionData(v4, v1);
}


// 0x80c4ffe
int __fastcall sub_80C4FFE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-18h]
    char v7; // [sp+4h] [bp-14h]
    char v8; // [sp+8h] [bp-10h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(0, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80c5014
int sub_80C5014()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // ST00_4
    int v4; // ST04_4
    int v5; // r4
    int v6; // r6

    camera_initShakeEffect_80302a8(3, 40);
    PlaySoundEffect(195, v1, v2);
    v3 = *(v0 + 18) - 2 * object_getFrontDirection(v0);
    v4 = *(v0 + 19);
    v5 = *(v0 + 22);
    sub_801BD3C(v3, v4, 0, 17);
    v6 = *(v0 + 44);
    return object_spawnCollisionRegion(v3, v4, *(v0 + 14), 0);
}


// 0x80c5050
int sub_80C5050()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    char v3; // ST00_1
    int v4; // ST04_4
    int v5; // r4
    int v6; // r6

    camera_initShakeEffect_80302a8(3, 40);
    PlaySoundEffect(195, v1, v2);
    v3 = *(v0 + 18);
    v4 = *(v0 + 19);
    v5 = *(v0 + 22);
    sub_801BD3C(*(v0 + 18), v4, 0, 15);
    v6 = *(v0 + 44);
    return object_spawnCollisionRegion(v3, v4, *(v0 + 14), 0);
}


// 0x80c5090
int sub_80C5090()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 4);
    if ( result == 29 )
    {
        *(v0 + 56) += 0x10000;
        result = *(v0 + 60) + 0x10000;
        *(v0 + 60) = result;
    }
    return result;
}


// 0x80c50b8
void sub_80C50B8()
{
    int v0; // r5

    (*(&off_80C50D0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c50dc
int sub_80C50DC()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 34) = 1;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 4, 5, *(v0 + 5));
        object_setCollisionHitEffect(13);
        v3 = sub_80C518C();
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80C5116();
    }
    return object_freeMemory();
}


// 0x80c5116
void __noreturn sub_80C5116()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_9;
    v1 = *(*(v0 + 84) + 112);
    if ( v1 )
        goto LABEL_9;
    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = *(v0 + 34);
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v0 + 32) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        v5 = object_getFrontDirection(v0) + *(v0 + 18);
        *(v0 + 18) = v5;
        if ( object_isValidPanel(v5, *(v0 + 19)) )
        {
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            v4 = 0;
            *(v0 + 11) = 0;
            goto LABEL_10;
        }
LABEL_9:
        object_clearCollisionRegion();
        v4 = 8;
        *(v0 + 8) = 8;
    }
LABEL_10:
    object_presentCollisionData(v4, v1);
}


// 0x80c5176
int __fastcall sub_80C5176(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(1, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80c518c
int sub_80C518C()
{
    int v0; // r5
    int result; // r0

    result = *&byte_80C50AC[4 * *(v0 + 4)];
    *(*(v0 + 84) + 100) = result;
    return result;
}


// 0x80c51ac
int sub_80C51AC()
{
    int v0; // r5

    return (*(&off_80C51C0 + *(v0 + 8)))();
}


// 0x80c51cc
void __noreturn sub_80C51CC()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r7
    _BYTE *v3; // r0
    char v4; // t1
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    int v9; // [sp+0h] [bp-8h]

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 0);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    object_setCoordinatesFromPanels(v0);
    v1 = object_getFrontDirection(v0);
    v2 = &byte_80C51A0[3 * *(v0 + 4)];
    *(v0 + 96) = v2;
    *(v0 + 64) = v1 * *v2 << 16;
    v3 = object_createCollisionData();
    if ( !v3 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v9);
    }
    v4 = *(v0 + 4);
    object_setupCollisionData(v3, 4, 5, 0);
    if ( v2[1] )
        object_setCollisionStatusEffect1(v2[1]);
    v5 = sub_801A146();
    object_presentCollisionData(v5, v6);
    PlaySoundEffect(v2[2], v7, v8);
    *(v0 + 8) = 4;
}


// 0x80c524c
void __noreturn sub_80C524C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112)
        || battle_isBattleOver()
        || (*(v0 + 52) += *(v0 + 64),
                object_setPanelsFromCoordinates(v0),
                object_updateCollisionPanels(v0),
                (v1 = object_isCurrentPanelValid()) == 0) )
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v1, v2);
        object_updateSprite();
    }
}


// 0x80c529a
int __fastcall sub_80C529A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(2, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80c52b0
int battle_t3id3_main_80c52b0()
{
    int v0; // r5

    return (*(&off_80C52C4 + *(v0 + 8)))();
}


// 0x80c52d0
int sub_80C52D0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    _BYTE *v3; // r0
    _BYTE *v4; // r7
    int v6; // r1
    int v7; // r0
    int v8; // r0

    if ( object_isCurrentPanelValid() )
    {
        v1 = *(v0 + 19);
        *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
        *(v0 + 56) = v2;
        v3 = object_createCollisionData();
        v4 = v3;
        if ( v3 )
        {
            object_setupCollisionData(v3, *(v0 + 7), *(v0 + 6), *(v0 + 96));
            v4[1] = *(v0 + 4);
            object_setCollisionHitEffect(*(v0 + 5));
            v7 = *(v0 + 100);
            if ( v7 )
                object_setCollisionStatusEffect1(v7);
            v8 = *(v0 + 104);
            if ( v8 )
                v8 = sub_801A4D0(v8, *(v0 + 108));
            object_presentCollisionData(v8, v6);
            *(v0 + 8) = 4;
            sub_80C532E();
        }
    }
    return object_freeMemory();
}


// 0x80c532e
void __noreturn sub_80C532E()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = *(*(v0 + 84) + 112);
    v2 = *(v0 + 112);
    if ( v2 )
        *v2 = v1 & 0xC000000;
    if ( v1 || (v3 = *(v0 + 32), v4 = __OFSUB__(v3, 1), v5 = v3 - 1, *(v0 + 32) = v5, ((v5 < 0) ^ v4) | (v5 == 0)) )
    {
        object_clearCollisionRegion();
        object_freeCollisionData(*(v0 + 84));
        object_freeMemory();
    }
    else
    {
        object_presentCollisionData(v5, v2);
    }
}


// 0x80c536a
int __fastcall object_spawnCollisionRegion(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    unsigned int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(3, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 96) = v6;
        *(v4 + 100) = v6 >> 8;
        *(v4 + 104) = (v6 >> 16) & 0xFF;
        *(v4 + 108) = v6 >> 24;
        *(v4 + 112) = 0;
    }
    return result;
}


// 0x80c53a6
_BYTE *__fastcall sub_80C53A6(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = object_spawnCollisionRegion(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80c53c0
void sub_80C53C0()
{
    int v0; // r5

    (*(&off_80C53D8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c53e4
int sub_80C53E4()
{
    _BYTE *v0; // r5

    if ( v0[6] )
        object_crackPanel(v0[18], v0[19]);
    return object_genericDestroy();
}


// 0x80c53fa
signed int sub_80C53FA()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    __int16 v3; // r0
    int v4; // r1
    int v5; // r0
    _BYTE *v6; // r0
    _BYTE *v7; // r7
    int v8; // r0
    int v9; // r1
    signed int result; // r0

    if ( !object_isCurrentPanelValid() )
        return object_freeMemory();
    if ( *(v0 + 5) & 0x80 )
    {
        *(v0 + 5) &= 0x7Fu;
        *(v0 + 100) = 128;
    }
    sprite_load(v0, 128, 12, 14);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = byte_80C54D0[*(v0 + 7) + 12];
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    object_setCoordinatesFromPanels(v0);
    v3 = object_getFrontDirection(v0);
    if ( *(v0 + 7) == 1 )
    {
        *(v0 + 52) = *(v0 + 52);
    }
    else
    {
        *(v0 + 54) -= 40 * v3;
        *(v0 + 52) += getBattleArmPositionMaybe_8018810(*(*(v0 + 76) + 40), 18, *(v0 + 22), *(v0 + 23)) << 16;
        *(v0 + 60) += v4 << 16;
    }
    v5 = *(v0 + 5) << 16;
    *(v0 + 56) += v5;
    *(v0 + 60) += v5;
    v6 = object_createCollisionData();
    v7 = v6;
    if ( !v6 )
        return object_freeMemory();
    object_setupCollisionData(v6, 10, 5, 3);
    v7[1] = 1;
    v8 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v8, v9);
    *(v0 + 32) = 4;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c54e0
char *__noreturn sub_80C54E0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    __int64 v3; // r0
    char *result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        result = &dword_8;
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = (*(&off_80C551C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
        LODWORD(v3) = *(v0 + 18);
        HIDWORD(v3) = *(v0 + 19);
        result = object_highlightPanel(v3);
    }
    return result;
}


// 0x80c552a
int sub_80C552A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    char v3; // r0
    char v4; // r0
    int v5; // r1
    int v6; // r1
    char v7; // r0
    int result; // r0

    if ( !**(v0 + 96) )
        goto LABEL_10;
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
    {
        v2 = *(v0 + 5);
        if ( *(v0 + 5) )
        {
            *(v0 + 5) = v2 - 1;
            v3 = object_getFrontDirection(v0);
            sub_80C5590(v3 + *(v0 + 18), *(v0 + 19));
            if ( *(v0 + 100) )
            {
                sub_80C5590(v4, v5 - 1);
                sub_80C5590(v7, v6 + 2);
            }
        }
    }
    result = *(v0 + 4) - 1;
    *(v0 + 4) = result;
    if ( !result )
    {
LABEL_10:
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c5578
int __fastcall sub_80C5578(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(4, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v5;
        result = BasicBattleObjectInitialize(v4, v7, v8, v9);
    }
    return result;
}


// 0x80c5590
void __fastcall sub_80C5590(char a1, int a2)
{
    int v2; // r5
    int v3; // r4
    int v4; // r6
    int v5; // r7

    v3 = *(v2 + 4);
    v4 = *(v2 + 44);
    v5 = *(v2 + 96);
    *(sub_80C5578(a1, a2, *(v2 + 14), 0) + 76) = *(v2 + 76);
}


// 0x80c55b0
void sub_80C55B0()
{
    int v0; // r5

    (*(&off_80C55C8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c55d4
int sub_80C55D4()
{
    int v0; // r5

    *(**(v0 + 76) - 1) = *(v0 + 76);
    return object_genericDestroy();
}


// 0x80c55e4
int __noreturn sub_80C55E4()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v4; // r0
    int v5; // r1

    sprite_load(v0, 128, 16, 28);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setPanelsFromCoordinates(v0);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, 3);
        object_setCollisionHitEffect(255);
        v4 = object_clearCollisionRegion();
        object_presentCollisionData(v4, v5);
        *(**(v0 + 76) + 1) = *(v0 + 76);
        *(v0 + 8) = 4;
        sub_80C5654();
    }
    return object_freeMemory();
}


// 0x80c5654
void __noreturn sub_80C5654()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
        {
            if ( *(*(v0 + 84) + 112) )
                object_clearCollisionRegion();
            v1 = (*(&off_80C56AC + *(v0 + 9)))();
        }
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c56b4
char *sub_80C56B4()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r4
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r1
    unsigned int v10; // r0
    unsigned __int8 v11; // cf
    char *result; // r0
    __int64 v13; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 7);
        v2 = object_getCoordinatesForPanels(*(v0 + 6));
        v3 = *(v0 + 5);
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v4);
        *(v0 + 68) = v5;
        *(v0 + 72) = v6;
        *(v0 + 32) = *(v0 + 5);
        *(v0 + 11) = 4;
    }
    v7 = *(v0 + 32);
    v8 = __OFSUB__(v7--, 1);
    *(v0 + 32) = v7;
    if ( (v7 < 0) ^ v8 )
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        object_isCurrentPanelSolid();
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v9 = *(v0 + 72);
    *(v0 + 60) += v9;
    *(v0 + 72) = v9 - 24576;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v10 = *(v0 + 32);
    v11 = __CFSHR__(v10, 3);
    result = (v10 >> 3);
    if ( v11 )
    {
        LODWORD(v13) = *(v0 + 6);
        HIDWORD(v13) = *(v0 + 7);
        result = object_highlightPanel(v13);
    }
    return result;
}


// 0x80c5760
int __fastcall sub_80C5760(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int result; // r0

    v4 = *(v3 + 34);
    v5 = __OFSUB__(v4--, 1);
    *(v3 + 34) = v4;
    if ( (v4 < 0) ^ v5 )
    {
        PlaySoundEffect(112, a2, a3);
        *(v3 + 34) = 8;
    }
    v6 = *(v3 + 32);
    v5 = __OFSUB__(v6--, 1);
    *(v3 + 32) = v6;
    if ( (v6 < 0) ^ v5 )
    {
        SpawnT4BattleObjectWithId0(v3, v3 + 64, *(v3 + 52), *(v3 + 56), *(v3 + 60));
        *(v3 + 32) = 26;
    }
    result = *(v3 + 4) - 1;
    *(v3 + 4) = result;
    if ( !result )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80c579e
int __fastcall sub_80C579E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-8h]

    object_spawnType3(5, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 14) = 4;
        *(v4 + 44) = v5;
        *(v4 + 76) = v6;
    }
    return result;
}


// 0x80c57c0
void sub_80C57C0()
{
    int v0; // r5

    (*(&off_80C57D8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c57e4
int sub_80C57E4()
{
    int v0; // r5

    *(**(v0 + 76) - 1) = *(v0 + 76);
    return object_genericDestroy();
}


// 0x80c57f4
void sub_80C57F4()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0
    char *v6; // r1
    u8 v7; // r0
    int v8; // [sp+0h] [bp-8h]

    sprite_load(v0, 128, 16, 23);
    sprite_noShadow(v0);
    *v0 |= 2u;
    sprite_setPallete(4 * *(v0 + 4));
    object_setPanelsFromCoordinates(v0);
    v1 = *(v0 + 22) ^ *(v0 + 23);
    if ( *(v0 + 18) - *(v0 + 6) < 0 )
        v1 ^= 1u;
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v8);
    }
    object_setupCollisionData(v2, 10, 5, 3);
    object_setCollisionHitEffect(2);
    v3 = object_clearCollisionRegion();
    object_presentCollisionData(v3, v4);
    *(v0 + 34) = 15;
    v5 = *(v0 + 18) - *(v0 + 6);
    if ( v5 < 0 )
        v5 = *(v0 + 6) - *(v0 + 18);
    v6 = byte_80C5A12;
    if ( v5 > 1 )
        v6 = byte_80C5A18;
    *(v0 + 96) = v6;
    v7 = *v6;
    *(v0 + 16) = *v6;
    *(v0 + 17) = v7;
    sprite_setAnimation(v0, v7);
    sprite_loadAnimationData(v0);
    *(v0 + 8) = 4;
    sub_80C5886();
}


// 0x80c5886
void __noreturn sub_80C5886()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( !v3 )
            goto LABEL_6;
        if ( !*(*(v0 + 84) + 112) )
        {
            v1 = (*(&off_80C58D8 + *(v0 + 9)))();
LABEL_6:
            object_presentCollisionData(v1, v2);
            return;
        }
    }
    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80c58e0
char *sub_80C58E0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // r1
    _BYTE *v7; // r1
    int v8; // r0
    char v9; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r1
    int v13; // r2
    unsigned int v14; // r0
    unsigned __int8 v15; // cf
    char *result; // r0
    __int64 v17; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        v1 = *(v0 + 7);
        v2 = object_getCoordinatesForPanels(*(v0 + 6));
        *(v0 + 32) = 48;
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v3);
        *(v0 + 68) = v4;
        *(v0 + 72) = v5;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v6 = *(v0 + 72);
    *(v0 + 60) += v6;
    *(v0 + 72) = v6 - 20480;
    v7 = *(v0 + 96);
    v8 = *(v0 + 32);
    switch ( v8 )
    {
        case 40:
            v9 = v7[1];
            break;
        case 32:
            v9 = v7[2];
            break;
        case 24:
            v9 = v7[3];
            break;
        case 16:
            v9 = v7[4];
            break;
        case 4:
            v9 = v7[5];
            break;
        default:
            goto LABEL_14;
    }
    *(v0 + 16) = v9;
LABEL_14:
    v10 = *(v0 + 32);
    v11 = __OFSUB__(v10--, 1);
    *(v0 + 32) = v10;
    if ( (v10 < 0) ^ v11 )
    {
        *(v0 + 18) = *(v0 + 6);
        *(v0 + 19) = *(v0 + 7);
        *(v0 + 60) = 196608;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_setCollisionRegion(1);
        *(v0 + 16) = 5;
        PlaySoundEffect(464, v12, v13);
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    v14 = *(v0 + 32);
    v15 = __CFSHR__(v14, 3);
    result = (v14 >> 3);
    if ( v15 )
    {
        LODWORD(v17) = *(v0 + 6);
        HIDWORD(v17) = *(v0 + 7);
        result = object_highlightPanel(v17);
    }
    return result;
}


// 0x80c59b6
int sub_80C59B6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
        *(v0 + 32) = 26;
    }
    if ( *(v0 + 32) <= 8 )
    {
        *v0 &= 0xFDu;
        if ( *(v0 + 32) & 2 )
            *v0 |= 2u;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c59f6
int __fastcall sub_80C59F6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(6, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 14) = 2;
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c5a34
void sub_80C5A34()
{
    int v0; // r5

    (*(&off_80C5A4C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c5a58
int sub_80C5A58()
{
    int v0; // r5
    __int16 v1; // r0
    _BYTE *v2; // r0
    int v4; // r0
    int v5; // r1

    if ( object_isCurrentPanelValid() )
    {
        sprite_load(v0, 128, 16, 36);
        sprite_noShadow(v0);
        *v0 |= 2u;
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        sprite_setPallete(0);
        v1 = *(v0 + 4) + 40;
        *(v0 + 4) = v1;
        *(v0 + 32) = v1;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 56) -= 0x10000;
        *(v0 + 60) = -65536;
        v2 = object_createCollisionData();
        if ( v2 )
        {
            object_setupCollisionData(v2, 72, 42, 1);
            object_setCollisionHitEffect(1);
            v4 = object_clearCollisionRegion();
            object_presentCollisionData(v4, v5);
            *(v0 + 8) = 4;
            sub_80C5AD4();
        }
    }
    return object_freeMemory();
}


// 0x80c5ad4
void __noreturn sub_80C5AD4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_10;
    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x1000 )
    {
        if ( !*(*(v0 + 84) + 112) )
            goto LABEL_8;
    }
    else
    {
        if ( !*(*(v0 + 84) + 1) )
            goto LABEL_8;
        *(v0 + 32) = 3;
    }
    object_clearCollisionRegion();
    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x3800000 )
        *v0 &= 0xFDu;
LABEL_8:
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
LABEL_10:
        object_clearCollisionRegion();
        v3 = 8;
        *(v0 + 8) = 8;
        goto LABEL_11;
    }
    v3 = sub_80C5B40();
LABEL_11:
    object_presentCollisionData(v3, v4);
}


// 0x80c5b40
signed int sub_80C5B40()
{
    int v0; // r5
    signed int result; // r0

    result = *(v0 + 32);
    if ( result == *(v0 + 4) - 40 )
    {
        object_setCollisionRegion(1);
        *(v0 + 56) += 0x10000;
        *(v0 + 60) = 0;
        result = 1;
    }
    else if ( result == *(v0 + 4) - 42 )
    {
        result = 2;
    }
    else
    {
        if ( result != 2 )
            return result;
        result = 1;
    }
    *(v0 + 16) = result;
    return result;
}


// 0x80c5b76
int __fastcall sub_80C5B76(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(7, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c5bb0
void sub_80C5BB0()
{
    int v0; // r5

    (*(&off_80C5BC8 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c5bd4
int __noreturn sub_80C5BD4()
{
    int v0; // r5
    char v1; // r0
    char *v2; // r4
    _BYTE *v3; // r0
    int v5; // r0
    int v6; // r1

    sprite_load(v0, 128, 12, 2);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *v0 |= 2u;
    v1 = 1;
    if ( *(v0 + 4) == 2 )
        v1 = 3;
    *(v0 + 16) = v1;
    *(v0 + 17) = -1;
    v2 = &byte_80C5BA0[4 * *(v0 + 4)];
    *(v0 + 96) = v2;
    sprite_setPallete(v2[3]);
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, *v2, v2[1], v2[2]);
        v5 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v5, v6);
        *(v0 + 8) = 4;
        sub_80C5C40();
    }
    return object_freeMemory();
}


// 0x80c5c40
void __noreturn sub_80C5C40()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( !v3 )
            goto LABEL_6;
        if ( !*(*(v0 + 84) + 112) )
        {
            v1 = (*(&off_80C5C94 + *(v0 + 9)))();
LABEL_6:
            object_presentCollisionData(v1, v2);
            return;
        }
    }
    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80c5c9c
int sub_80C5C9C()
{
    int v0; // r5
    int v1; // r9
    _DWORD *v2; // r7
    _DWORD *v3; // r9
    int v4; // r1
    int v5; // r6
    int v6; // r2
    int v7; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r7
    int v12; // [sp-4h] [bp-14h]

    v12 = v1;
    if ( !*(v0 + 11) )
    {
        v2 = (v0 + 64);
        *v2 = 190054 * object_getFrontDirection(v0);
        v2[1] = -10240;
        v2[2] = 132710;
        *(v0 + 32) = 40;
        *(v0 + 11) = 4;
    }
    v3 = (v0 + 52);
    v4 = *(v0 + 56);
    v5 = *(v0 + 72) + *(v0 + 68);
    v6 = *(v0 + 60) + v5;
    *v3 = *(v0 + 52) + *(v0 + 64);
    v3[1] = v4;
    v3[2] = v6;
    *(v0 + 72) = v5;
    v7 = *(v0 + 32) - 1;
    *(v0 + 32) = v7;
    if ( !v7 )
    {
        *v0 &= 0xFDu;
        v8 = convertBattleObjectXYToPanelXY_800E24C();
        *(v0 + 18) = v8;
        *(v0 + 19) = v9;
        v10 = *(v0 + 84);
        *(v10 + 10) = v8;
        *(v10 + 11) = v9;
        if ( object_isValidPanel(v8, v9) )
            object_isCurrentPanelSolid();
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        *v0 &= 0xFDu;
    }
    return v12;
}


// 0x80c5d84
signed int sub_80C5D84()
{
    int v0; // r5
    int v1; // r0
    int v2; // r6
    int v3; // r6
    signed int result; // r0

    object_clearCollisionRegion();
    v1 = *(v0 + 4);
    if ( v1 == 1 )
    {
        v2 = *(v0 + 44);
        sub_80C6018(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    else if ( v1 == 2 )
    {
        v3 = *(v0 + 44);
        sub_80C68B0(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c5dbc
int __fastcall sub_80C5DBC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(8, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = 0;
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v7;
    }
    return result;
}


// 0x80c5ddc
void sub_80C5DDC()
{
    int v0; // r5

    (*(&off_80C5DF4 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c5e00
int sub_80C5E00()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0
    char v3; // r3
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 32) = *(v0 + 5);
    v1 = object_createCollisionData();
    if ( !v1 )
        return object_freeMemory();
    v3 = 3;
    if ( *(v0 + 6) )
    {
        v3 = 1;
        if ( *(v0 + 6) != 1 )
            v3 = 0;
    }
    object_setupCollisionData(v1, 10, 5, v3);
    object_setCollisionHitEffect(0);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c5e44
void __noreturn sub_80C5E44()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( !(*v0 & 0x10) && battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80C5E7C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c5e84
int sub_80C5E84()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2

    if ( !(*(v0 + 32) & 4) )
    {
        LODWORD(v1) = *(v0 + 18);
        HIDWORD(v1) = *(v0 + 19);
        object_highlightPanel(v1);
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        if ( *(v0 + 7) && !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            sprite_load(v0, 128, 16, 38);
            sprite_noShadow(v0);
            *v0 |= 2u;
            *(v0 + 16) = 0;
            *(v0 + 17) = 0;
            sprite_setAnimation(v0, 0);
            sprite_loadAnimationData(v0);
            v5 = object_getFlip(v0);
            sprite_setFlip(v0, v5);
            object_setCollisionRegion(1);
            if ( *(v0 + 4) )
                sub_8109794(*(v0 + 18), *(v0 + 19));
            PlaySoundEffect(185, v6, v7);
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80c5f0c
int sub_80C5F0C()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
    }
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c5f2c
int __fastcall sub_80C5F2C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(9, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80c5f4a
_BYTE *__fastcall sub_80C5F4A(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80C5F2C(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80c5f60
void sub_80C5F60()
{
    int v0; // r5

    (*(&off_80C5F78 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c5f84
int __noreturn sub_80C5F84()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    sprite_load(v0, 128, 12, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    *(v0 + 32) = *(v0 + 5);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 4, 5, 3);
        v3 = sub_801A146();
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80C5FDE();
    }
    return object_freeMemory();
}


// 0x80c5fde
void __noreturn sub_80C5FDE()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver()
        || (v2 = *(v0 + 32), v3 = __OFSUB__(v2, 1), --v2, *(v0 + 32) = v2, (v2 < 0) ^ v3)
        || *(*(v0 + 84) + 112) )
    {
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(0, v1);
    }
}


// 0x80c6018
int __fastcall sub_80C6018(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(10, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80c60a8
void sub_80C60A8()
{
    int v0; // r5

    (*(&off_80C60C0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c60cc
int __noreturn sub_80C60CC()
{
    int v0; // r5
    unsigned int v1; // r6
    int v2; // r4
    char *v3; // r7
    int v4; // r1
    int v5; // r2
    char v6; // r0
    int v7; // r0
    _BYTE *v8; // r0
    int v10; // r1
    int v11; // r0
    signed int v12; // r0

    v1 = *(v0 + 96);
    v2 = *(v0 + 4);
    v3 = &byte_80C6038[16 * v2];
    *(v0 + 76) = v3;
    v4 = v3[5];
    v5 = v3[6];
    if ( v2 == 6 )
    {
        v4 = (v1 >> 16) & 0xFF;
        v5 = v1 >> 24;
    }
    sprite_load(v0, 128, v4, v5);
    sprite_loadAnimationData(v0);
    if ( v3[10] )
        sprite_hasShadow();
    else
        sprite_noShadow(v0);
    v6 = v3[7];
    if ( v2 == 6 )
        v6 = v1 >> 4;
    *(v0 + 16) = v6;
    *(v0 + 17) = -1;
    *v0 |= 2u;
    if ( v2 != 6 || v1 >> 24 != 35 )
    {
        v7 = object_getFlip(v0);
        sprite_setFlip(v0, v7);
    }
    else
    {
        sub_8002EAC();
    }
    sprite_setPallete(*(v0 + 7));
    *(v0 + 14) = v3[3];
    *(v0 + 7) = v3[9];
    object_setPanelsFromCoordinates(v0);
    *(v0 + 64) = object_getFrontDirection(v0) * *(v3 + 3);
    *(v0 + 100) = v3[8];
    v8 = object_createCollisionData();
    if ( v8 )
    {
        object_setupCollisionData(v8, *v3, v3[1], v3[2]);
        object_setCollisionHitEffect(v3[4]);
        v11 = v3[11];
        if ( v3[11] )
            v11 = object_setCollisionStatusEffect1(v11);
        object_presentCollisionData(v11, v10);
        v12 = 0;
        if ( *(v0 + 6) )
            v12 = -73728;
        *(v0 + 72) = v12;
        *(v0 + 8) = 4;
        sub_80C619C();
    }
    return object_freeMemory();
}


// 0x80c619c
int __noreturn sub_80C619C()
{
    int v0; // r5
    int v1; // r2
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r1
    int v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    object_removeCollisionData();
    if ( *(v0 + 4) == 2 )
        sub_801A100();
    else
        object_spawnCollisionEffect();
    v2 = *(*(v0 + 84) + 112);
    if ( v2 )
    {
LABEL_15:
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        v3 = 8;
        *(v0 + 8) = 8;
        goto LABEL_16;
    }
    if ( !*(v0 + 5) )
    {
        *(v0 + 60) += *(v0 + 72);
        v4 = *(v0 + 19);
        v5 = object_getCoordinatesForPanels(*(v0 + 18));
        v6 = *(v0 + 52);
        v7 = *(v0 + 64) + v6;
        *(v0 + 52) = v7;
        if ( sub_800E6E8(v7, v6, v5)
            && (v8 = *(v0 + 7), v9 = __OFSUB__(v8, 1), --v8, *(v0 + 7) = v8, ((v8 < 0) ^ v9) | (v8 == 0)) )
        {
            if ( *(v0 + 4) == 5 )
            {
                object_setCoordinatesFromPanels(v0);
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
            }
        }
        else
        {
            object_setPanelsFromCoordinates(v0);
            object_updateCollisionPanels(v0);
            v3 = object_isCurrentPanelValid();
            if ( v3 )
                goto LABEL_16;
        }
        goto LABEL_15;
    }
    v3 = *(v0 + 5) - 1;
    *(v0 + 5) = v3;
    if ( !v3 )
    {
        v3 = *(v0 + 4);
        if ( v3 == 2 )
            v3 = PlaySoundEffect(394, 0, v1);
    }
LABEL_16:
    object_presentCollisionData(v3, v2);
    result = *(v0 + 100);
    if ( result )
        result = object_highlightCurrentCollisionPanels();
    return result;
}


// 0x80c6248
int __fastcall sub_80C6248(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-8h]

    object_spawnType3(11, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 76) = v8;
        *(v4 + 96) = v6;
    }
    return result;
}


// 0x80c6264
_BYTE *__fastcall sub_80C6264(int a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80C6248(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80c6280
int sub_80C6280()
{
    int v0; // r5

    return (*(&off_80C6294 + *(v0 + 8)))();
}


// 0x80c62a0
signed int sub_80C62A0()
{
    int v0; // r5
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c62b0
int sub_80C62B0()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
        goto LABEL_10;
    if ( *(v0 + 6) == 2 )
        return (*(&off_80C62EC + *(v0 + 9)))();
    if ( *(*(v0 + 76) + 9) != *(&dword_80C62F4 + *(v0 + 6)) )
    {
LABEL_10:
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    result = battle_isTimeStop();
    if ( v2 )
        return (*(&off_80C62EC + *(v0 + 9)))();
    return result;
}


// 0x80c62f8
_BYTE *sub_80C62F8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    _BYTE *result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 5);
        sub_80C6358();
        *(v0 + 34) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = &dword_8;
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = *(v0 + 34);
        v2 = __OFSUB__(v3, 1);
        result = (v3 - 1);
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            *(v0 + 34) = 12;
            result = sub_80C63AE();
        }
    }
    return result;
}


// 0x80c6330
int __fastcall sub_80C6330(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(14, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c6358
int sub_80C6358()
{
    int v0; // r5
    signed int v1; // r6
    char *v2; // r3
    bool v3; // zf
    int v4; // r2
    int result; // r0
    int v6; // r3
    int v7; // r4
    int v8; // r7
    int v9; // [sp-8h] [bp-18h]
    int v10; // [sp-4h] [bp-14h]

    v1 = 0;
    do
    {
        v2 = &byte_80C639C[2 * v1];
        v9 = *(v0 + 18) + *v2;
        v10 = *(v0 + 19) + v2[1];
        v3 = object_isValidPanel(v9, v10) == 0;
        result = v9;
        if ( !v3 )
        {
            v6 = *(v0 + 6) << 8;
            v7 = *(v0 + 5) | v6;
            v8 = *(v0 + 76);
            result = sub_80E21AC(v9, v10, v4, v6);
        }
        ++v1;
    }
    while ( v1 < 9 );
    return result;
}


// 0x80c63ae
_BYTE *sub_80C63AE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r6
    _BYTE *result; // r0
    int v4; // r6
    int v5; // r6

    v1 = *(v0 + 6);
    if ( v1 == 1 )
    {
        v4 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
    }
    else if ( v1 == 2 )
    {
        v5 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
    }
    else
    {
        v2 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
    }
    return result;
}


// 0x80c6414
void sub_80C6414()
{
    int v0; // r5

    (*(&off_80C642C + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80c6438
void sub_80C6438()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r2

    v0->objFlags |= 2u;
    sprite_load(v0, 128, 12, 19);
    sprite_noShadow(v0);
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->vz = 0x80000;
    v1 = v0->panelY;
    v0->x = object_getCoordinatesForPanels(v0->panelX);
    v0->y = v2;
    v0->z = 0x1000000;
    PlaySoundEffect(161, v2, v3);
    v0->currState = 4;
    sub_80C647C();
}


// 0x80c647c
void sub_80C647C()
{
    int v0; // r5

    (*(&off_80C6494 + *(v0 + 9)))();
    object_updateSprite();
}


// 0x80c64a0
int sub_80C64A0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r6
    _BYTE *v6; // r0

    v1 = *(v0 + 60);
    v2 = *(v0 + 72);
    v3 = __OFSUB__(v1, v2);
    result = v1 - v2;
    *(v0 + 60) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 60) = 0;
        v5 = *(v0 + 44);
        v6 = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
        if ( v6 )
            *v6 |= 0x10u;
        if ( object_checkPanelParameters(
                     *(v0 + 18),
                     *(v0 + 19),
                     *&byte_80C6514[8 * *(v0 + 22) + 4],
                     *&byte_80C6514[8 * *(v0 + 22)]) )
        {
            if ( sub_800D668(*(v0 + 18), *(v0 + 19), *(v0 + 22) ^ 1) )
                object_setPanelAlliance(*(v0 + 18), *(v0 + 19), *(v0 + 4));
        }
        result = 4;
        *(v0 + 9) = 4;
    }
    return result;
}


// 0x80c6524
signed int __fastcall sub_80C6524(int a1, int a2, int a3)
{
    int v3; // r5
    signed int result; // r0

    *(v3 + 16) = 1;
    PlaySoundEffect(162, a2, a3);
    result = 8;
    *(v3 + 9) = 8;
    return result;
}


// 0x80c6536
int sub_80C6536()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters() & 0x80;
    if ( result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c6548
int __fastcall sub_80C6548(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(15, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c6580
int cornfiestaRelatedObject_80C6580()
{
    int v0; // r5

    return (*(&off_80C6594 + *(v0 + 8)))();
}


// 0x80c65a0
int sub_80C65A0()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0
    int v3; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 64) = object_getFrontDirection(v0);
    v1 = object_createCollisionData();
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, 61, 5, 0);
    v3 = *(v0 + 84);
    *(v3 + 2) = 0;
    object_presentCollisionData(0, v3);
    *(v0 + 5) = 2;
    *(v0 + 34) = 12;
    *(v0 + 8) = 4;
    result = *(v0 + 4);
    if ( *(v0 + 4) )
    {
        *(v0 + 9) = 4;
        if ( result != 255 )
            result = sub_80C673A();
    }
    return result;
}


// 0x80c65ee
void __noreturn sub_80C65EE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        if ( *(v0 + 9) == 4 )
        {
            object_clearCollisionRegion();
        }
        else
        {
            sub_80C673A();
            *(v0 + 9) = 4;
            *(v0 + 10) = 0;
        }
    }
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80C6648 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c6650
signed int sub_80C6650()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 18) += *(v0 + 64);
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c667c
int sub_80C667C()
{
    int v0; // r5

    return (*(&off_80C6690 + *(v0 + 10)))();
}


// 0x80c6698
signed int sub_80C6698()
{
    int v0; // r5
    int v1; // r0
    int v2; // r7
    int v3; // r1
    int v4; // r2
    signed int result; // r0

    v1 = *(v0 + 108);
    if ( !v1 )
    {
        *(v0 + 108) = 1;
        v1 = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        if ( v1 & 0x10 )
            object_setPanelType(*(v0 + 18), *(v0 + 19), 6);
    }
    v2 = *(v0 + 84);
    sub_80C6726(v1);
    object_setCollisionRegion(1);
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    PlaySoundEffect(112, v3, v4);
    *(v0 + 32) = 12;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80c66e4
int __fastcall sub_80C66E4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0
    int v9; // r0

    v4 = *(v3 + 104);
    *(v3 + 104) = v4 + 1;
    if ( !(v4 & 7) )
        PlaySoundEffect(112, 7, a3);
    v5 = *(v3 + 34) - 1;
    *(v3 + 34) = v5;
    if ( !v5 )
        sub_80C6774();
    v6 = *(v3 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v7 )
    {
        v9 = *(v3 + 5) - 1;
        *(v3 + 5) = v9;
        if ( v9 )
        {
            result = 0;
            *(v3 + 10) = 0;
        }
        else
        {
            object_clearCollisionRegion();
            result = 8;
            *(v3 + 8) = 8;
        }
    }
    return result;
}


// 0x80c6726
int __fastcall sub_80C6726(int a1)
{
    int v1; // r5

    object_updateCollisionData(a1, 4, 5, 1);
    return sub_8019F8C(*(v1 + 14));
}


// 0x80c673a
int sub_80C673A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r6
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int result; // r0

    v1 = object_getFrontDirection(v0);
    sub_81096FA(v1 + *(v0 + 18), *(v0 + 19), v2, dword_80C6764);
    v3 = *(v0 + 22) ^ *(v0 + 23);
    result = object_getPanelRegion(v4, v5, v6, v7);
    *(v0 + 96) = result;
    return result;
}


// 0x80c6774
void sub_80C6774()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r6

    v1 = *(v0 + 96);
    while ( v1 )
    {
        --v1;
        v2 = sub_80C67A4(*(v0 + v1 + 100) & 7, *(v0 + v1 + 100) >> 4);
        if ( v2 )
        {
            v4 = *(v0 + 4) + 1;
            v5 = *(v0 + 44);
            sub_80C67D8(v2, v3, *(v0 + 14), 0);
        }
    }
}


// 0x80c67a4
int __fastcall sub_80C67A4(int result, int a2)
{
    char *v2; // r4

    v2 = eBattleObjectsLinkedListStart;
    while ( 1 )
    {
        v2 = *(v2 + 1);
        if ( v2 == eBattleObjectsLinkedListSentinel )
            break;
        if ( (v2[18] & 0xF) == 3 && v2[17] == 16 && result == v2[34] && a2 == v2[35] )
            return 0;
    }
    return result;
}


// 0x80c67d8
int __fastcall sub_80C67D8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(16, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80c67f8
void sub_80C67F8()
{
    int v0; // r5

    (*(&off_80C6810 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c681c
int __noreturn sub_80C681C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2

    sprite_load(v0, 128, 20, 18);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    object_setCoordinatesFromPanels(v0);
    PlaySoundEffect(187, v1, v2);
    *(v0 + 8) = 4;
    return sub_80C6854();
}


// 0x80c6854
int sub_80C6854()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r6
    int v5; // r7
    int v6; // r0

    if ( *(v0 + 10) )
        goto LABEL_8;
    if ( !*(v0 + 11) )
        *(v0 + 11) = 4;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 7;
        v4 = *(v0 + 44);
        v5 = *(&dword_80C68AC + *(v0 + 34));
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        result = *(v0 + 34) + 1;
        *(v0 + 34) = result;
        if ( result >= 3 )
        {
            *(v0 + 10) = 4;
            *(v0 + 32) = 20;
LABEL_8:
            v6 = *(v0 + 32);
            v2 = __OFSUB__(v6, 1);
            result = v6 - 1;
            *(v0 + 32) = result;
            if ( ((result < 0) ^ v2) | (result == 0) )
            {
                result = 8;
                *(v0 + 8) = 8;
            }
            return result;
        }
    }
    return result;
}


// 0x80c68b0
int __fastcall sub_80C68B0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(17, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80c6946
int sub_80C6946()
{
    int v0; // r5

    return (*(&off_80C6958 + *(v0 + 8)))();
}


// 0x80c6964
int sub_80C6964()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r1

    v1 = *(v0 + 19);
    *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
    *(v0 + 56) = v2;
    *(v0 + 96) = &byte_80C68D4[6 * *(v0 + 4)];
    *(v0 + 64) = object_getFrontDirection(v0);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 61, 5, 0);
    v5 = *(v0 + 84);
    *(v5 + 2) = 0;
    object_presentCollisionData(0, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c69ac
void __noreturn sub_80C69AC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) && !(object_getFlag() & 0x100) )
    {
        object_setFlag1(256);
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    v1 = (*(&off_80C6A00 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80c6a08
signed int sub_80C6A08()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 18) += *(v0 + 64);
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c6a34
int sub_80C6A34()
{
    int v0; // r5

    return (*(&off_80C6A48 + *(v0 + 10)))();
}


// 0x80c6a50
signed int __fastcall sub_80C6A50(int a1)
{
    int v1; // r5
    _BYTE *v2; // r7
    unsigned __int8 *v3; // r0
    int v4; // r3
    int v5; // r1
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r4
    int v10; // r7
    int v11; // r1
    int v12; // r2
    int v13; // r4
    signed int result; // r0

    v2 = *(v1 + 84);
    sub_80C6AB8(a1);
    v3 = *(v1 + 96);
    v4 = *v3;
    v2[1] = v4;
    v5 = *(v1 + 4);
    if ( v5 == 12 || v5 == 16 || v5 == 14 || v5 == 17 || v5 == 18 )
    {
        v13 = (object_getFlip(v1) << 8) + *(*(v1 + 96) + 2);
        SpawnT4BattleObjectWithId0(v1, v1 + 64, *(v1 + 52), *(v1 + 56), *(v1 + 60));
    }
    else
    {
        v6 = v3[2];
        v7 = v2[10];
        v8 = v2[11];
        v9 = *(v1 + 22);
        v10 = *(v1 + 60);
        sub_801BD3C(v7, v8, v6, v4);
    }
    if ( *(*(v1 + 96) + 4) )
        PlaySoundEffect(*(*(v1 + 96) + 4), v11, v12);
    result = 4;
    *(v1 + 10) = 4;
    return result;
}


// 0x80c6aac
signed int sub_80C6AAC()
{
    int v0; // r5
    signed int result; // r0

    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c6ab8
int __fastcall sub_80C6AB8(int a1)
{
    int v1; // r5
    int v2; // r3
    int result; // r0

    object_updateCollisionData(a1, 4, 5, *(*(v1 + 96) + 1));
    sub_8019F8C(*(v1 + 14));
    v2 = *(v1 + 96);
    result = *(v2 + 3);
    if ( *(v2 + 3) )
        result = object_setCollisionStatusEffect1(result);
    return result;
}


// 0x80c6ada
int __fastcall sub_80C6ADA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(18, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80c6b40
void sub_80C6B40()
{
    int v0; // r5

    (*(&off_80C6B58 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c6b64
signed int sub_80C6B64()
{
    int v0; // r5
    char *v1; // r4
    u8 v2; // r0
    int v3; // r0
    _BYTE *v4; // r7
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r1
    int v9; // r2
    signed int result; // r0

    if ( !object_isCurrentPanelValid() )
        return object_freeMemory();
    if ( !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10) )
        return object_freeMemory();
    v1 = &byte_80C6B00[4 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, 16, *v1);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v2 = v1[1];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    *(v0 + 32) = v1[2];
    *(v0 + 34) = 4;
    sprite_setPallete(0);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    sub_80C6CFC(*(v0 + 18), *(v0 + 19), v1[3]);
    object_setCoordinatesFromPanels(v0);
    v4 = object_createCollisionData();
    if ( !v4 )
        return object_freeMemory();
    v5 = 4;
    if ( v1[3] != 255 )
        v5 = 10;
    object_setupCollisionData(v4, v5, 5, 3);
    v4[1] = 1;
    v6 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v6, v7);
    PlaySoundEffect(166, v8, v9);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c6c14
int __noreturn sub_80C6C14()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = (*(&off_80C6C58 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80c6c6a
int sub_80C6C6A()
{
    int v0; // r5
    int v1; // r0
    signed int v2; // r0
    char v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r4
    int v7; // r6
    int result; // r0

    if ( !*(v0 + 10) )
        *(v0 + 10) = 1;
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
    {
        v2 = *(v0 + 4);
        if ( v2 < 12 || v2 > 14 )
        {
            v3 = object_getFrontDirection(v0) + *(v0 + 18);
            v4 = *(v0 + 19);
        }
        else
        {
            v3 = sub_80C6D1E();
        }
        v6 = *(v0 + 4);
        v7 = *(v0 + 44);
        sub_80C6CE4(v3, v4, v5, 0);
        *(v0 + 9) = 4;
    }
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 54) = 240;
        result = object_clearCollisionRegion();
    }
    return result;
}


// 0x80c6cba
int sub_80C6CBA()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 4) >= 12 )
    {
        result = *(v0 + 34) - 1;
        *(v0 + 34) = result;
        if ( result )
            return result;
    }
    else
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
    }
    *(v0 + 54) = 240;
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c6ce4
int __fastcall sub_80C6CE4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(22, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, 0);
    return result;
}


// 0x80c6cfc
int __fastcall sub_80C6CFC(int result, int a2, signed int a3)
{
    if ( a3 != 255 )
    {
        if ( a3 == 3 )
            object_crackPanel(result, a2);
        if ( a3 == 1 )
            object_breakPanel_dup1(result, a2);
        object_setPanelType(result, a2, a3);
    }
    return result;
}


// 0x80c6d1e
int sub_80C6D1E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // ST00_4
    bool v4; // zf
    int v5; // r1
    int v6; // ST00_4
    int v7; // r1

    if ( *(v0 + 5) )
        return object_getFrontDirection(v0) + *(v0 + 18);
    v2 = object_getFrontDirection(v0);
    if ( sub_8109708(v2 + *(v0 + 18), *(v0 + 19), byte_80C6DB8[8 * (*(v0 + 22) ^ *(v0 + 23)) + *(v0 + 18)]) )
        goto LABEL_13;
    result = object_getFrontDirection(v0) + *(v0 + 18);
    if ( *(v0 + 19) != 1 )
    {
        v3 = result;
        v4 = sub_8109708(result, *(v0 + 19) - 1, 22) == 0;
        result = v3;
        if ( !v4 )
        {
            *(v0 + 5) = 1;
            return result;
        }
    }
    v5 = *(v0 + 19) + 1;
    if ( v5 > 3 || (v6 = result, v4 = sub_8109708(result, v5, 23) == 0, result = v6, v4) )
    {
LABEL_13:
        result = object_getFrontDirection(v0) + *(v0 + 18);
        v7 = *(v0 + 19);
    }
    else
    {
        *(v0 + 5) = 2;
    }
    return result;
}


// 0x80c6dcc
void sub_80C6DCC()
{
    int v0; // r5

    (*(&off_80C6DF0 + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80c6dfc
int __noreturn sub_80C6DFC()
{
    int v0; // r5
    int v1; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    ++*(v0 + 62);
    ++*(v0 + 58);
    sprite_load(v0, 128, 16, 32);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 8) = 4;
    return sub_80C6E50();
}


// 0x80c6e50
int sub_80C6E50()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(v0 + 4) != 4 && *(*(v0 + 76) + 9) != 11 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) == 4 || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80C6E8C + *(v0 + 9)))();
    }
    return result;
}


// 0x80c6e90
_BYTE *sub_80C6E90()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    _BYTE *result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80C6F08(*(v0 + 6));
    }
    sub_80C7030(*(v0 + 7));
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = &dword_8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = (*(v0 + 34) - 1);
        *(v0 + 34) = result;
        if ( !result )
        {
            *(v0 + 34) = 30;
            result = sub_80C6F50(30, *(v0 + 7));
        }
    }
    return result;
}


// 0x80c6ee0
int __fastcall sub_80C6EE0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(23, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c6f08
__int64 __fastcall __noreturn sub_80C6F08(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r4
    signed int v4; // r6
    bool v5; // zf
    __int64 result; // r0
    __int64 v7; // [sp-8h] [bp-18h]

    v2 = a1;
    v3 = *&byte_80C6F48[4 * v1->Alliance];
    v4 = 1;
    do
    {
        LODWORD(v7) = object_getFrontDirection(v1) * v4 + v1->panelX;
        HIDWORD(v7) = v1->panelY;
        v5 = (object_getPanelParameters(v7, SHIDWORD(v7)) & v3) == 0;
        result = v7;
        if ( !v5 )
            break;
        if ( v7 == v2 )
            break;
        if ( v7 <= 1 )
            break;
        if ( v7 >= 6 )
            break;
        ++v4;
    }
    while ( v4 <= 5 );
    return result;
}


// 0x80c6f50
_BYTE *__fastcall sub_80C6F50(__int16 a1, int a2)
{
    int v2; // r5
    signed int v3; // r6
    int v4; // ST04_4
    bool v5; // zf
    int v6; // r1
    signed int v7; // ST04_4
    int v8; // r6
    int v9; // r6
    _BYTE *result; // r0
    int v11; // ST04_4
    int v12; // r6
    __int16 v13; // [sp+0h] [bp-18h]
    _BYTE *v14; // [sp+4h] [bp-14h]

    v13 = a1;
    v14 = a2;
    v3 = 0;
    do
    {
        v4 = v3 - 1 + *(v2 + 19);
        v5 = object_isValidPanel(v14, v4) == 0;
        v6 = v4;
        if ( !v5 )
        {
            v7 = v3;
            v8 = *(v2 + 44);
            v3 = v7;
            *(sub_80C53A6(v14, v6, *(v2 + 14), 0) + 16) = v13;
        }
        ++v3;
    }
    while ( v3 <= 2 );
    v9 = 1;
    do
    {
        result = (object_getFrontDirection(v2) * v9 + *(v2 + 18));
        if ( result == v14 )
            break;
        v11 = v9;
        v12 = *(v2 + 44);
        result = sub_80C53A6(result, *(v2 + 19), *(v2 + 14), 0);
        *(result + 16) = v13;
        v9 = v11 + 1;
    }
    while ( v11 + 1 <= 4 );
    return result;
}


// 0x80c6fc8
int __fastcall sub_80C6FC8(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // ST08_4
    int v5; // r7
    signed int v6; // r6
    int result; // r0
    int v8; // r7
    int v9; // [sp+4h] [bp-18h]

    v9 = a2;
    v4 = byte_80C7028[*(v3 + 4)];
    v5 = *(v3 + 76);
    sub_80E3A92(a2, *(v3 + 19), a3, 1);
    v6 = 1;
    do
    {
        result = object_getFrontDirection(v3) * v6 + *(v3 + 18);
        if ( result == v9 )
            break;
        v8 = *(v3 + 76);
        result = sub_80E3A92(result, *(v3 + 19), v9, 0);
        ++v6;
    }
    while ( v6 <= 4 );
    return result;
}


// 0x80c7030
int __fastcall sub_80C7030(int a1)
{
    Battle *v1; // r5
    int v2; // r4
    signed int v3; // r6
    signed int v4; // r6
    __int64 v5; // r0
    int v7; // [sp-4h] [bp-10h]

    v2 = a1;
    v3 = 0;
    do
    {
        v7 = v3 - 1 + v1->panelY;
        if ( object_isValidPanel(v2, v7) )
            object_highlightPanel(__PAIR__(v7, v2));
        ++v3;
    }
    while ( v3 <= 2 );
    v4 = 1;
    do
    {
        LODWORD(v5) = object_getFrontDirection(v1) * v4 + v1->panelX;
        if ( v5 == v2 )
            break;
        HIDWORD(v5) = v1->panelY;
        LODWORD(v5) = object_highlightPanel(v5);
        ++v4;
    }
    while ( v4 <= 4 );
    return v5;
}


// 0x80c7074
void sub_80C7074()
{
    int v0; // r5

    (*(&off_80C708C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c7098
int __noreturn sub_80C7098()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r1
    int v5; // r2

    sprite_load(v0, 128, 20, 14);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    object_setCoordinatesFromPanels(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    PlaySoundEffect(216, v2, v3);
    *(v0 + 8) = 4;
    return sub_80C70D8(4, v4, v5);
}


// 0x80c70d8
int __fastcall sub_80C70D8(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        v4 = *(v3 + 44);
        object_spawnCollisionRegion(*(v3 + 18), *(v3 + 19), a3, 0);
        object_breakPanelLoud(*(v3 + 18), *(v3 + 19));
    }
    v5 = *(v3 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80c7114
int __fastcall sub_80C7114(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(24, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c7132
int __fastcall sub_80C7132(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    Battle *v5; // r5
    char *i; // r7
    int result; // r0
    char v8; // zf
    int v9; // [sp-8h] [bp-34h]
    int v10; // [sp-4h] [bp-30h]
    int v11; // [sp+0h] [bp-2Ch]
    int v12; // [sp+4h] [bp-28h]
    int v13; // [sp+8h] [bp-24h]
    int v14; // [sp+Ch] [bp-20h]
    int v15; // [sp+18h] [bp-14h]

    v11 = a1;
    v12 = a2;
    v13 = a3;
    v14 = a4;
    v15 = object_getFrontDirection(v5);
    for ( i = *(&off_80C7188 + v4); ; i += 2 )
    {
        result = *i;
        if ( result == 127 )
            break;
        v9 = result * v15 + v11;
        v10 = i[1] + v12;
        object_isValidPanel(v9, v10);
        if ( !v8 )
            sub_80C7114(v9, v10, v13, v14);
    }
    return result;
}


// 0x80c71a4
int sub_80C71A4()
{
    int v0; // r5

    return (*(&off_80C71B8 + *(v0 + 8)))();
}


// 0x80c71c4
int __noreturn sub_80C71C4()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 19);
    sprite_hasShadow();
    *v0 |= 2u;
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = byte_80C7248[2 * *(v0 + 4)];
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    v5 = object_setupCollisionData(v3, 19, 20, 3);
    object_presentCollisionData(v5, v6);
    PlaySoundEffect(148, v7, v8);
    object_setFlag1(64);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c7250
void __noreturn sub_80C7250()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    if ( battle_isBattleOver() || *(v0 + 11) == 1 )
    {
        *(v0 + 9) = 2;
        *(v0 + 10) = 0;
    }
    sprite_clearFinalPalette();
    sub_801AD9E();
    v1 = sub_801B394(&off_80C7284);
    object_presentCollisionData(v1, v2);
    object_updateSpritePaused();
}


// 0x80c72b0
int sub_80C72B0()
{
    int v0; // r5
    int result; // r0

    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80c72bc
int sub_80C72BC()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 11);
    if ( result == 3 )
    {
        *(v0 + 9) = 9;
        result = 0;
        *(v0 + 10) = 0;
    }
    else if ( result == 4 )
    {
        *(v0 + 9) = 10;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c72dc
int sub_80C72DC()
{
    int v0; // r5
    char v1; // r1
    int v2; // r1
    int v3; // r2
    int result; // r0

    v1 = *(v0 + 21);
    *(v0 + 18) = *(v0 + 20);
    *(v0 + 19) = v1;
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    PlaySoundEffect(148, v2, v3);
    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80c7306
int __fastcall sub_80C7306(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r0

    if ( !*(v4 + 10) )
    {
        *(v4 + 10) = 4;
        sub_80E1E20(*(v4 + 18), *(v4 + 19), a3, a4);
        PlaySoundEffect(198, v5, v6);
        sub_80C73BE();
        *(v4 + 16) = 1;
    }
    result = *(v4 + 11);
    if ( result == 5 )
    {
        *(v4 + 16) = 0;
        v8 = *(v4 + 100);
        if ( v8 )
            sub_80E1E3E(v8);
        *(v4 + 9) = 8;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80c734e
signed int sub_80C734E()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    _DWORD *v4; // r1
    signed int result; // r0

    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    PlaySoundEffect(112, v1, v2);
    object_clearCollisionRegion();
    v3 = *(v0 + 100);
    if ( v3 )
        sub_80E1E3E(v3);
    v4 = *(v0 + 96);
    if ( *v4 == v0 )
        *v4 = 0;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c7382
_BYTE *__fastcall sub_80C7382(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _DWORD *v6; // r7
    _BYTE *result; // r0
    int v8; // [sp+0h] [bp-14h]
    int v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(25, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 20) = v8;
        *(v4 + 21) = v9;
        object_reservePanel(v8, v9);
        result = v4;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *result |= 0x10u;
    }
    return result;
}


// 0x80c73be
int sub_80C73BE()
{
    int v0; // r5
    int v1; // r4
    int v2; // r6
    int result; // r0

    v1 = 1;
    do
    {
        v2 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), v1, *(v0 + 14), 0);
        if ( result )
            *(result + 32) = *(&off_80C73FC + *(v0 + 4));
        ++v1;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x80c740c
int sub_80C740C()
{
    int v0; // r5

    return (*(&off_80C7420 + *(v0 + 8)))();
}


// 0x80c742c
signed int sub_80C742C()
{
    int v0; // r5
    __int16 v1; // r0
    signed int result; // r0

    v1 = *&byte_80C7448[2 * *(v0 + 4)];
    *(v0 + 32) = v1;
    *(v0 + 34) = v1;
    *(v0 + 6) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c7450
int sub_80C7450()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        *(v0 + 5) = sub_80C7572();
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80C747C + *(v0 + 9)))();
    }
    return result;
}


// 0x80c7484
int sub_80C7484()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    v1 = *(v0 + 11);
    if ( v1 == 1 )
    {
        sub_80C78DC();
LABEL_12:
        *(v0 + 11) = 0;
        goto LABEL_13;
    }
    if ( v1 == 2 )
        sub_80C758E();
    if ( v1 == 4 )
    {
        sub_80C78F8();
        *(v0 + 6) = 1;
        goto LABEL_12;
    }
    if ( v1 == 5 || *(v0 + 6) && *(*(v0 + 76) + 9) != 11 )
    {
        sub_80C791E();
        *(v0 + 6) = 0;
        goto LABEL_12;
    }
LABEL_13:
    result = *(*(v0 + 76) + 9);
    if ( result == 9 )
    {
        result = *(v0 + 5);
        if ( *(v0 + 5) )
        {
            v3 = *(v0 + 34);
            v4 = __OFSUB__(v3, 1);
            result = v3 - 1;
            *(v0 + 34) = result;
            if ( ((result < 0) ^ v4) | (result == 0) )
            {
                *(v0 + 34) = *(v0 + 32);
                sub_80C776C(&dword_80C751C, 9, 16, 260571264);
            }
        }
    }
    return result;
}


// 0x80c7524
int sub_80C7524()
{
    int v0; // r5
    int result; // r0

    *(v0 + 9) = 0;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80c7530
int sub_80C7530()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80c7544
int __fastcall sub_80C7544(_DWORD *a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _DWORD *v6; // r7
    int result; // r0
    _DWORD *v8; // [sp+0h] [bp-14h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a3;
    object_spawnType3(26, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 96) = v8;
        *v8 = v4;
        *v6 = v4 + 100;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c7572
int sub_80C7572()
{
    int v0; // r5
    int result; // r0
    signed int v2; // r3

    result = 0;
    v2 = 0;
    do
    {
        if ( *(v0 + 4 * v2 + 100) )
            ++result;
        ++v2;
    }
    while ( v2 < 3 );
    return result;
}


// 0x80c758e
signed int __noreturn sub_80C758E()
{
    int v0; // r5
    int v1; // r5
    int *v2; // r0
    int v3; // r6
    int v8; // r3
    int v10; // [sp+0h] [bp-30h]
    int v11; // [sp+Ch] [bp-24h]

    v1 = *(v0 + 76);
    if ( !(object_getFlag() & 0xA000) )
        sub_80C7632(&dword_80C7600, 40960, 16, 260571264);
    v2 = &(&off_80C760C)[2 * *(v10 + 22)];
    v3 = object_getPanelsExceptCurrentFilterred(v2, &off_80C760C, *v2, v2[1]);
    if ( !v3 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    sub_80C761C(*(&v11 + v3) & 7, *(&v11 + v3) >> 4, 0, v8);
    return 1;
}


// 0x80c761c
void __fastcall sub_80C761C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r6

    v5 = *(v4 + 4);
    v6 = *(v4 + 44);
    sub_80C7382(a1, a2, *(v4 + 14), a4);
}


// 0x80c7632
void __fastcall __noreturn sub_80C7632(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    char *v6; // r7
    signed int v7; // r4
    int v8; // r6
    int v13; // r3
    int v14; // [sp+0h] [bp-30h]
    int v15; // [sp+4h] [bp-2Ch]
    int v16; // [sp+8h] [bp-28h]

    v14 = a3;
    v15 = a4;
    v5 = 16 * *(v4 + 22);
    if ( (*(*(v4 + 76) + 38) >> 2) >= *(*(v4 + 76) + 36) )
        v5 += 8;
    v6 = &byte_80C7698[v5];
    v7 = 0;
    v8 = 0;
    do
        v8 += object_getPanelsInColumnFiltered(v6[v7++], &v16, v14, v15);
    while ( v7 < 8 );
    if ( v8 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        sub_80C761C(*(&v16 + v8) & 7, *(&v16 + v8) >> 4, 0, v13);
    }
}


// 0x80c76b8
void __fastcall sub_80C76B8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r4
    char v7; // r0
    signed int v8; // r4
    signed int v9; // r4
    int v10; // r0
    int v15; // r3
    int v16; // [sp-8h] [bp-40h]
    int v17; // [sp+0h] [bp-38h]
    int v18; // [sp+4h] [bp-34h]
    int v19; // [sp+8h] [bp-30h]
    int v20; // [sp+Ch] [bp-2Ch]
    int v21; // [sp+10h] [bp-28h]

    v19 = a1;
    v20 = a2;
    v17 = a3;
    v18 = a4;
    v5 = 0;
    v6 = 3;
    if ( (*(*(v4 + 76) + 38) >> 2) >= *(*(v4 + 76) + 36) )
        v6 = 1;
    GetPositiveSignedRNG2();
    if ( (v7 & 3) < v6 )
    {
        v8 = 0;
        do
        {
            v16 = byte_80C7764[3 * *(v4 + 22) + v8];
            if ( object_checkPanelParameters(v16, v20, v17, v18) )
                *(&v21 + v5++) = v16 | 16 * v20;
            ++v8;
        }
        while ( v8 < 3 );
        if ( v5 )
            goto LABEL_17;
    }
    v9 = 0;
    do
    {
        v10 = byte_80C7764[3 * *(v4 + 22) + v9];
        if ( v10 != v19 )
            v5 += object_getPanelsInColumnIgnoreRowFiltered(v10, v20, v17, v18);
        ++v9;
    }
    while ( v9 < 3 );
    if ( v5 )
    {
LABEL_17:
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        sub_80C761C(*(&v21 + v5) & 7, *(&v21 + v5) >> 4, 1, v15);
    }
}


// 0x80c776c
int __fastcall __noreturn sub_80C776C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    char *v6; // r7
    signed int v7; // r4
    int v8; // r6
    unsigned int v13; // r0
    unsigned int v14; // r1
    int result; // r0
    int v16; // r3
    _BYTE *v17; // r2
    int v18; // [sp+0h] [bp-30h]
    int v19; // [sp+4h] [bp-2Ch]
    int v20; // [sp+8h] [bp-28h]

    v18 = a3;
    v19 = a4;
    v5 = 16 * *(v4 + 22);
    if ( (*(*(v4 + 76) + 38) >> 2) >= *(*(v4 + 76) + 36) )
        v5 += 8;
    v6 = &byte_80C77EC[v5];
    v7 = 0;
    v8 = 0;
    do
        v8 += object_getPanelsInColumnFiltered(v6[v7++], &v20, v18, v19);
    while ( v7 < 8 );
    if ( !v8 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    v13 = *(&v20 + v8);
    v14 = v13 >> 4;
    result = v13 & 7;
    v16 = 0;
    while ( 1 )
    {
        v17 = *(v4 + 4 * v16 + 100);
        if ( v17 )
            break;
        if ( ++v16 >= 3 )
            return 0;
    }
    v17[20] = result;
    v17[21] = v14;
    v17[11] = 3;
    return result;
}


// 0x80c780c
int __fastcall sub_80C780C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r4
    char v7; // r0
    signed int v8; // r4
    signed int v9; // r4
    int result; // r0
    unsigned int v15; // r0
    unsigned int v16; // r1
    signed int v17; // r3
    _BYTE *v18; // r2
    int v19; // [sp-8h] [bp-40h]
    int v20; // [sp+0h] [bp-38h]
    int v21; // [sp+4h] [bp-34h]
    int v22; // [sp+8h] [bp-30h]
    int v23; // [sp+Ch] [bp-2Ch]
    int v24; // [sp+10h] [bp-28h]

    v22 = a1;
    v23 = a2;
    v20 = a3;
    v21 = a4;
    v5 = 0;
    v6 = 3;
    if ( (*(*(v4 + 76) + 38) >> 2) >= *(*(v4 + 76) + 36) )
        v6 = 1;
    GetPositiveSignedRNG2();
    if ( (v7 & 3) < v6 )
    {
        v8 = 0;
        do
        {
            v19 = byte_80C78D4[3 * *(v4 + 22) + v8];
            if ( object_checkPanelParameters(v19, v23, v20, v21) )
                *(&v24 + v5++) = v19 | 16 * v23;
            ++v8;
        }
        while ( v8 < 3 );
        if ( v5 )
            goto LABEL_20;
    }
    v9 = 0;
    do
    {
        result = byte_80C78D4[3 * *(v4 + 22) + v9];
        if ( result != v22 )
        {
            result = object_getPanelsInColumnIgnoreRowFiltered(result, v23, v20, v21);
            v5 += result;
        }
        ++v9;
    }
    while ( v9 < 3 );
    if ( v5 )
    {
LABEL_20:
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v15 = *(&v24 + v5);
        v16 = v15 >> 4;
        result = v15 & 7;
        v17 = 1;
        while ( 1 )
        {
            v18 = *(v4 + 4 * v17 + 100);
            if ( v18 )
                break;
            if ( ++v17 >= 3 )
                return result;
        }
        v18[20] = result;
        v18[21] = v16;
        v18[11] = 3;
    }
    return result;
}


// 0x80c78dc
signed int sub_80C78DC()
{
    int v0; // r5
    signed int v1; // r3
    int v2; // r1
    signed int result; // r0

    v1 = 0;
    do
    {
        v2 = *(v0 + 4 * v1 + 100);
        if ( v2 )
        {
            result = 1;
            *(v2 + 11) = 1;
        }
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80c78f8
signed int sub_80C78F8()
{
    int v0; // r5
    signed int v1; // r3
    int v2; // r1
    signed int result; // r0

    v1 = 0;
    do
    {
        v2 = *(v0 + 4 * v1 + 100);
        if ( v2 )
        {
            result = *(*(v0 + 76) + 19);
            if ( result == *(v2 + 19) )
            {
                result = 4;
                *(v2 + 11) = 4;
            }
        }
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80c791e
signed int sub_80C791E()
{
    int v0; // r5
    signed int v1; // r3
    int v2; // r1
    signed int result; // r0

    v1 = 0;
    do
    {
        v2 = *(v0 + 4 * v1 + 100);
        if ( v2 )
        {
            result = 5;
            *(v2 + 11) = 5;
        }
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80c793c
int sub_80C793C()
{
    int v0; // r5

    return (*(&off_80C7950 + *(v0 + 8)))();
}


// 0x80c795c
signed int sub_80C795C()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 6) = 0;
    *(v0 + 34) = *&byte_80C7978[2 * *(v0 + 4)];
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c7980
int sub_80C7980()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 12 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80C79B0 + *(v0 + 9)))();
    }
    return result;
}


// 0x80c79bc
int sub_80C79BC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
LABEL_7:
        if ( *(v0 + 6) < *(v0 + 5) )
            sub_80C7A94();
        *(v0 + 6) = 0;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    if ( *(v0 + 32) >= (*(v0 + 34) >> 1) )
        sub_80C7B88();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
        goto LABEL_7;
    return result;
}


// 0x80c7a06
int sub_80C7A06()
{
    int v0; // r5
    int result; // r0

    result = *(*(*(v0 + 76) + 88) + 160);
    if ( result == 20 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c7a20
int __fastcall sub_80C7A20(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0
    int v9; // r1

    if ( *(v4 + 10) )
    {
        v6 = *(v4 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 32) = result;
        if ( (result < 0) ^ v7 )
        {
            v8 = *(v4 + 6);
            v9 = *(v4 + 5);
            if ( v8 >= v9 )
            {
                result = 8;
                *(v4 + 8) = 8;
            }
            else
            {
                sub_80C7BCC(v8, v9, a3, a4);
                ++*(v4 + 6);
                result = 18;
                *(v4 + 32) = 18;
            }
        }
    }
    else
    {
        *(v4 + 10) = 4;
        result = 18;
        *(v4 + 32) = 18;
    }
    return result;
}


// 0x80c7a58
int sub_80C7A58()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 80);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80c7a6c
int __fastcall sub_80C7A6C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    object_spawnType3(27, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 76) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 80) = v6;
        *v6 = v4;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c7a94
unsigned __int8 *__noreturn sub_80C7A94()
{
    unsigned __int8 *v0; // r5
    signed int v1; // r4
    int v2; // r0
    char v3; // r0
    signed int v4; // r4
    unsigned __int8 *result; // r0
    unsigned __int8 *v6; // r6
    signed int v7; // r7
    int v8; // r2
    unsigned __int8 *v9; // r6
    int v14; // r2
    int v15; // [sp+0h] [bp-28h]

    v1 = 0;
    v2 = v0[5];
    if ( v2 == 1 )
    {
        result = object_getPanelsExceptCurrentFilterred(
                             8 * v0[22],
                             &byte_80C7B78[8 * v0[22]],
                             *&byte_80C7B78[8 * v0[22]],
                             *&byte_80C7B78[8 * v0[22] + 4]);
        v9 = result;
        if ( result )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            v14 = v0[121];
            v0[v14 + 96] = *(&v15 + v9);
            v0[121] = v14 + 1;
            result = &v0[v0[6] + 116];
            *result = 1;
        }
    }
    else
    {
        if ( v2 != 3 )
            v1 = 8;
        GetPositiveSignedRNG2();
        v4 = byte_80C7B50[(v3 & 7) + v1];
        result = object_getPanelsExceptCurrentFilterred(
                             8 * v0[22],
                             &byte_80C7B64[8 * v0[22]],
                             *&byte_80C7B64[8 * v0[22]],
                             *&byte_80C7B64[8 * v0[22] + 4]);
        v6 = result;
        if ( result )
        {
            sub_8000C72(&v15, result, result);
            v7 = 0;
            do
            {
                v8 = v0[121];
                v0[v8 + 96] = *(&v15 + v7);
                v0[121] = v8 + 1;
                ++v7;
            }
            while ( v7 < v4 && v7 < v6 );
            result = &v0[v0[6] + 116];
            *result = v7;
        }
    }
    return result;
}


// 0x80c7b88
char *sub_80C7B88()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    int v3; // r7
    int v4; // r4
    unsigned int v5; // r0
    __int64 v6; // r0
    char *result; // r0

    v1 = *(*(v0 + 6) + 115 + v0);
    v2 = 0;
    v3 = 0;
    while ( v2 < *(v0 + 6) - 1 )
        v3 += *(v2++ + 116 + v0);
    v4 = 0;
    do
    {
        v5 = *(v3 + 96 + v0 + v4);
        HIDWORD(v6) = v5 >> 4;
        LODWORD(v6) = v5 & 7;
        result = object_highlightPanel(v6);
        ++v4;
    }
    while ( v4 < v1 );
    return result;
}


// 0x80c7bcc
int __fastcall sub_80C7BCC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    signed int v6; // r4
    int v7; // r7
    int v8; // r4
    unsigned int v9; // r0
    int v10; // ST04_4
    int v11; // r6
    int result; // r0

    v5 = *(*(v4 + 6) + 116 + v4);
    v6 = 0;
    v7 = 0;
    while ( v6 < *(v4 + 6) )
        v7 += *(v6++ + 116 + v4);
    v8 = 0;
    do
    {
        v9 = *(v7 + 96 + v4 + v8);
        v10 = v5;
        v11 = *(v4 + 44);
        result = sub_80C7D50(v9 & 7, v9 >> 4, *(v4 + 14), a4);
        v5 = v10;
        ++v8;
    }
    while ( v8 < v10 );
    return result;
}


// 0x80c7c18
void sub_80C7C18()
{
    int v0; // r5

    (*(&off_80C7C30 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c7c3c
int __noreturn sub_80C7C3C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 20, 20);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    if ( *(v0 + 4) == 1 )
    {
        object_setupCollisionData(v2, 10, 5, 3);
        object_setCollisionStatusEffect1(16);
    }
    else
    {
        object_setupCollisionData(v2, 4, 5, 3);
    }
    v4 = object_setCollisionHitEffect(3);
    object_presentCollisionData(v4, v5);
    PlaySoundEffect(302, v6, v7);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c7cc0
void __noreturn sub_80C7CC0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80C7D04 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c7d08
int sub_80C7D08()
{
    int v0; // r5
    int result; // r0
    __int64 v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    if ( *(v0 + 10) )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        LODWORD(v2) = *(v0 + 18);
        HIDWORD(v2) = *(v0 + 19);
        object_highlightPanel(v2);
        v3 = *(v0 + 34);
        v4 = __OFSUB__(v3--, 1);
        *(v0 + 34) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_clearCollisionRegion();
        v5 = *(v0 + 32);
        v4 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 15;
        result = 10;
        *(v0 + 34) = 10;
    }
    return result;
}


// 0x80c7d50
int __fastcall sub_80C7D50(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(28, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c7d78
int sub_80C7D78()
{
    int v0; // r5

    return (*(&off_80C7D8C + *(v0 + 8)))();
}


// 0x80c7d98
int sub_80C7D98()
{
    int v0; // r5
    char v1; // zf
    int v2; // r1
    int v3; // r1
    int v4; // r0
    _BYTE *v5; // r0
    int v7; // r0
    int v8; // r1
    _DWORD *v9; // r0

    battle_isBattleOver();
    if ( v1 )
    {
        if ( object_isCurrentPanelValid() )
        {
            v2 = *(v0 + 19);
            *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
            *(v0 + 56) = v3;
            *(v0 + 60) = 6815744;
            *v0 |= 3u;
            sprite_load(v0, 128, 16, 5);
            sprite_hasShadow();
            *(v0 + 16) = 0;
            sprite_setAnimation(v0, 0);
            sprite_loadAnimationData(v0);
            v4 = object_getFlip(v0);
            sprite_setFlip(v0, v4);
            *(v0 + 72) = 0;
            v5 = object_createCollisionData();
            if ( v5 )
            {
                object_setupCollisionData(v5, 21, 5, 1);
                object_setCollisionHitEffect(0);
                v7 = object_clearCollisionRegion();
                object_presentCollisionData(v7, v8);
                v9 = *(v0 + 96);
                if ( v9 )
                    ++*v9;
                *(v0 + 8) = 4;
                sub_80C7E24();
            }
        }
    }
    return object_freeMemory();
}


// 0x80c7e24
void __noreturn sub_80C7E24()
{
    int v0; // r5
    _DWORD *v1; // r0
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        sub_80C7EC8();
        object_clearCollisionRegion();
        v1 = *(v0 + 96);
        if ( v1 )
            --*v1;
        *(v0 + 8) = 8;
    }
    else
    {
        (*(&off_80C7E68 + *(v0 + 9)))();
        object_updateSprite();
        object_presentCollisionData(v2, v3);
    }
}


// 0x80c7e6c
int sub_80C7E6C()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 10) || *(v0 + 62) >= 30 )
    {
        v2 = *(v0 + 72) + 0x2000;
        *(v0 + 72) = v2;
        v3 = *(v0 + 60);
        v4 = __OFSUB__(v3, v2);
        result = v3 - v2;
        *(v0 + 60) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            object_isCurrentPanelSolid();
    }
    else
    {
        object_setCollisionRegion(1);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80c7ec8
int sub_80C7EC8()
{
    int v0; // r5
    int v1; // r3
    int *v2; // r6
    int v3; // ST00_4
    int *v4; // ST04_4
    int v5; // r7
    int v6; // r6
    int v7; // r1
    int v8; // r2

    v1 = 0;
    v2 = &dword_80C7F00;
    do
    {
        v3 = v1;
        v4 = v2;
        GetRNG2();
        v5 = v2[1];
        v6 = *v2;
        sub_80E1084(2, *(v0 + 52), *(v0 + 56), 0);
        v2 = v4 + 2;
        v1 = v3 + 1;
    }
    while ( v3 - 1 < 0 );
    return PlaySoundEffect(217, v7, v8);
}


// 0x80c7f20
int __fastcall sub_80C7F20(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(29, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 96) = v6;
    }
    return result;
}


// 0x80c7f40
void sub_80C7F40()
{
    int v0; // r5

    (*(&off_80C7F58 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c7f64
int __noreturn sub_80C7F64()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    *(v0 + 54) += 136 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 16, 18);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    object_setCollisionRegion(8);
    v4 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c7fdc
void __noreturn sub_80C7FDC()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_11;
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    if ( *(*(v0 + 76) + 9) != 11 )
    {
LABEL_11:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        battle_isTimeStop();
        if ( v1 )
        {
            v2 = (*(&off_80C8028 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80c802c
int sub_80C802C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *&byte_80C8068[2 * *(v0 + 4)];
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80c8070
int __fastcall sub_80C8070(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(30, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c8098
int sub_80C8098()
{
    int v0; // r5

    return (*(&off_80C80AC + *(v0 + 8)))();
}


// 0x80c80b8
int sub_80C80B8()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_createCollisionData();
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, 4, 5, 3);
    v3 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v3, v4);
    SpawnT4BattleObjectWithId0(v0, v5, *(v0 + 52), *(v0 + 56), 0x200000);
    PlaySoundEffect(262, v6, v7);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8100
void __noreturn sub_80C8100()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        battle_isTimeStop();
        if ( v1 )
        {
            v2 = (*(&off_80C8140 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80c8144
char *sub_80C8144()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r2
    __int64 v7; // r0
    char *result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 5);
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !(((v1 < 0) ^ v2) | (v1 == 0)) )
        goto LABEL_7;
    v3 = object_getFrontDirection(v0) + *(v0 + 18);
    *(v0 + 18) = v3;
    if ( object_isValidPanel(v3, *(v0 + 19)) )
    {
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v4 = *(v0 + 5);
        *(v0 + 32) = v4;
        SpawnT4BattleObjectWithId0(v0, v4, *(v0 + 52), *(v0 + 56), 0x200000);
        PlaySoundEffect(262, v5, v6);
LABEL_7:
        LODWORD(v7) = *(v0 + 18);
        HIDWORD(v7) = *(v0 + 19);
        return object_highlightPanel(v7);
    }
    object_clearCollisionRegion();
    result = &dword_8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c81a6
int __fastcall sub_80C81A6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(31, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c81cc
void sub_80C81CC()
{
    int v0; // r5

    (*(&off_80C81E4 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c81f0
signed int __noreturn sub_80C81F0()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 12);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 13;
    *(v0 + 17) = 13;
    sprite_setAnimation(v0, 0xDu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8232
int sub_80C8232()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 11 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80C8264 + *(v0 + 9)))();
    }
    return result;
}


// 0x80c8268
char *sub_80C8268()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    char *result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80C832E(*(v0 + 6));
        *(v0 + 32) = *(v0 + 5);
        *(v0 + 34) = 1;
        sub_80C82D0();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !(((v1 < 0) ^ v2) | (v1 == 0)) )
        return sub_80C8310(*(v0 + 6));
    result = &dword_8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c829c
int sub_80C829C()
{
    sub_80C8368();
    return object_genericDestroy();
}


// 0x80c82a8
int __fastcall sub_80C82A8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(32, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c82d0
int sub_80C82D0()
{
    int v0; // r5
    char v1; // r4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r6
    int v6; // r7
    int v7; // r5
    int v8; // r3
    int result; // r0
    int v10; // [sp+0h] [bp-18h]
    int v11; // [sp+4h] [bp-14h]

    v1 = 1;
    do
    {
        v2 = object_getFrontDirection(v0) * v1 + *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 44);
        v6 = (*(v0 + 5) << 16) | 0xB000003;
        v7 = *(v0 + 76);
        sub_80CC9FC(v2, v3, v4, v8);
        v0 = v11;
        v1 = v10 + 1;
        result = *(v11 + 6);
    }
    while ( v10 + 1 <= result );
    return result;
}


// 0x80c8310
char *__fastcall sub_80C8310(signed int a1)
{
    Battle *v1; // r5
    signed int v2; // r4
    signed int v3; // r6
    __int64 v4; // r0
    char *result; // r0

    v2 = 1;
    v3 = a1;
    do
    {
        LODWORD(v4) = object_getFrontDirection(v1) * v2 + v1->panelX;
        HIDWORD(v4) = v1->panelY;
        result = object_highlightPanel(v4);
        ++v2;
    }
    while ( v2 <= v3 );
    return result;
}


// 0x80c832e
int __fastcall sub_80C832E(signed int a1)
{
    Battle *v1; // r5
    signed int v2; // r4
    signed int v3; // r6
    bool v4; // zf
    int v5; // r3
    int result; // r0
    int v7; // [sp-8h] [bp-14h]
    int v8; // [sp-4h] [bp-10h]

    v2 = 1;
    v3 = a1;
    do
    {
        v7 = object_getFrontDirection(v1) * v2 + v1->panelX;
        v8 = v1->panelY;
        v4 = object_isValidPanel(v7, v8) == 0;
        result = v7;
        if ( v4 )
            break;
        result = sub_80E1B1E(v7, v8, 4 * (v2++ - 1), v5);
    }
    while ( v2 <= v3 );
    return result;
}


// 0x80c8368
int sub_80C8368()
{
    int v0; // r5
    signed int v1; // r4
    int result; // r0

    v1 = 0;
    do
    {
        result = *(v0 + 4 * v1 + 96);
        if ( result )
            result = sub_80E1B3C(result);
        ++v1;
    }
    while ( v1 < 5 );
    return result;
}


// 0x80c8388
void sub_80C8388()
{
    int v0; // r5

    (*(&off_80C83AC + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80c83b8
int __noreturn sub_80C83B8()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r3
    int v3; // r2
    int v4; // r3
    u8 v9; // r0
    _BYTE *v10; // r0
    int result; // r0
    int v12; // r0
    int v13; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = *&byte_80C8454[4 * *(v0 + 4)];
    v2 = &byte_80C846C[2 * *(v0 + 5)];
    v3 = *v2;
    v4 = v2[1] * v1;
    *(v0 + 64) = v3 * v1;
    *(v0 + 68) = v4;
    __asm { SVC         6 }
    *(v0 + 32) = *&byte_80C8488[4 * *(v0 + 5)];
    sprite_load(v0, 128, 8, 12);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v9 = *(&dword_80C8480 + *(v0 + 5));
    *(v0 + 16) = v9;
    *(v0 + 17) = v9;
    sprite_setAnimation(v0, v9);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    sprite_setFlip(v0, *(&dword_80C8478 + *(v0 + 5)));
    v10 = object_createCollisionData();
    if ( !v10 )
        return object_freeMemory();
    object_setupCollisionData(v10, 4, 5, 3);
    v12 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v12, v13);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8498
void __noreturn sub_80C8498()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(v0 + 4) == 4 || (v1 = battle_isTimeStop(), v3) )
            v1 = (*(&off_80C84DC + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c84e0
int sub_80C84E0()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    LODWORD(v1) = *(v0 + 18);
    HIDWORD(v1) = *(v0 + 19);
    object_highlightPanel(v1);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c8514
int __fastcall sub_80C8514(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(33, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c853c
void sub_80C853C()
{
    int v0; // r5

    (*(&off_80C8560 + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80c856c
signed int __noreturn sub_80C856C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 1572864 * object_getFrontDirection(v0);
    *(v0 + 60) = 0x100000;
    sprite_load(v0, 128, 16, 35);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 1;
    *(v0 + 17) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c85c0
int sub_80C85C0()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) == 4 || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80C85EC + *(v0 + 9)))();
    }
    return result;
}


// 0x80c85f4
int sub_80C85F4()
{
    int v0; // r5
    int result; // r0
    int v6; // r1
    int v7; // r0

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 60) -= *(v0 + 72);
        object_setPanelsFromCoordinates(v0);
        v7 = *(v0 + 32);
        _VF = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
            {
                *(v0 + 9) = 4;
                result = 0;
                *(v0 + 10) = 0;
            }
            else
            {
                result = 8;
                *(v0 + 8) = 8;
            }
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 64) = object_getFrontDirection(v0) << 18;
        __asm { SVC         6 }
        *(v0 + 32) = 0;
        result = 0x100000;
        v6 = *(v0 + 32);
        __asm { SVC         6 }
        *(v0 + 72) = 0x100000;
    }
    return result;
}


// 0x80c8660
signed int __fastcall __noreturn sub_80C8660(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r4
    int v5; // r6
    int v6; // r4
    int v7; // r6
    signed int result; // r0
    int v9; // [sp-8h] [bp-14h]
    int v10; // [sp-4h] [bp-10h]

    PlaySoundEffect(285, a2, a3);
    v4 = *(v3 + 4) | 0x100;
    v5 = *(v3 + 44);
    sub_80C8806(*(v3 + 18), *(v3 + 19), *(v3 + 14), 256);
    v9 = object_getFrontDirection(v3) + *(v3 + 18);
    v10 = *(v3 + 19);
    if ( object_getPanelParameters(v9, v10) & 0x10 )
    {
        v6 = *(v3 + 4);
        v7 = *(v3 + 44);
        sub_80C8806(v9, v10, *(v3 + 14), 0);
    }
    result = 8;
    *(v3 + 8) = 8;
    return result;
}


// 0x80c86b0
int __fastcall sub_80C86B0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(34, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c8708
int __noreturn sub_80C8708()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 12, 26);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 10, 5, 3);
    v4 = object_setCollisionHitEffect(2);
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c876c
void __noreturn sub_80C876C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        if ( *(v0 + 4) == 4 || (v1 = battle_isTimeStop(), v3) )
            v1 = (*(&off_80C87B4 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c87b8
int sub_80C87B8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80c87dc
int __noreturn sub_80C87DC()
{
    unsigned __int8 *v0; // r5

    if ( object_getPanelParameters(v0[18], v0[19]) & 0x10 && v0[4] >= 2 && v0[5] )
        object_crackPanel(v0[18], v0[19]);
    return object_genericDestroy();
}


// 0x80c8806
int __fastcall sub_80C8806(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(35, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c882c
void sub_80C882C()
{
    int v0; // r5

    (*(&off_80C8844 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c8850
int __noreturn sub_80C8850()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 12, 0);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 7;
    *(v0 + 17) = 7;
    sprite_setAnimation(v0, 7u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setPanelsFromCoordinates(v0);
    *(v0 + 8) = 4;
    return sub_80C8892();
}


// 0x80c8892
int sub_80C8892()
{
    int v0; // r5
    int result; // r0

    if ( !battle_isBattleOver() )
        return (*(&off_80C88C0 + *(v0 + 9)))();
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c88c8
signed int sub_80C88C8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r4
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r1
    unsigned int v10; // r0
    unsigned __int8 v11; // cf
    signed int result; // r0
    __int64 v13; // r0
    __int64 v14; // r0
    __int64 v15; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 7);
        v2 = object_getCoordinatesForPanels(*(v0 + 6));
        v3 = *(v0 + 5);
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v4);
        *(v0 + 68) = v5;
        *(v0 + 72) = v6;
        *(v0 + 32) = *(v0 + 5);
        *(v0 + 11) = 4;
    }
    v7 = *(v0 + 32);
    v8 = __OFSUB__(v7--, 1);
    *(v0 + 32) = v7;
    if ( (v7 < 0) ^ v8 )
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        object_isCurrentPanelSolid();
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v9 = *(v0 + 72);
    *(v0 + 60) += v9;
    *(v0 + 72) = v9 - 12288;
    object_setPanelsFromCoordinates(v0);
    v10 = *(v0 + 32);
    v11 = __CFSHR__(v10, 3);
    result = v10 >> 3;
    if ( v11 )
    {
        result = *(v0 + 4);
        if ( result >= 4 )
        {
            LODWORD(v13) = *(v0 + 6);
            HIDWORD(v13) = *(v0 + 7);
            object_highlightPanel(v13);
            LODWORD(v14) = *(v0 + 6);
            HIDWORD(v14) = *(v0 + 7) - 1;
            object_highlightPanel(v14);
            LODWORD(v15) = *(v0 + 6);
            HIDWORD(v15) = *(v0 + 7) + 1;
            result = object_highlightPanel(v15);
        }
    }
    return result;
}


// 0x80c89a4
signed int sub_80C89A4()
{
    int v0; // r5
    signed int result; // r0

    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80c89ac
int __fastcall sub_80C89AC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(36, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 14) = 0;
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c89c8
int sub_80C89C8()
{
    int v0; // r5
    int v1; // r4
    int v2; // r7
    int v3; // r6
    int result; // r0

    v1 = *(v0 + 22);
    sub_801BD3C(*(v0 + 18), *(v0 + 19), *(&dword_80C8A5C + (*(v0 + 4) & 3)), 4);
    v2 = *&byte_80C8A3C[4 * *(v0 + 4)];
    v3 = *(v0 + 44);
    object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 0, 0);
    result = *(v0 + 4);
    if ( result == 5 )
        sub_80C8A60(*(v0 + 18), *(v0 + 19), 1);
    if ( result == 1 )
        sub_80C8A60(*(v0 + 18), *(v0 + 19), 1);
    return result;
}


// 0x80c8a60
void __fastcall __noreturn sub_80C8A60(int a1, int a2, int a3)
{
    int v3; // [sp+0h] [bp-10h]
    int v4; // [sp+4h] [bp-Ch]

    v3 = a1;
    v4 = a2;
    if ( a3 || !(object_getPanelParameters(a1, a2) & 0x40) )
        object_crackPanel(v3, v4);
}


// 0x80c8a7a
signed int __fastcall sub_80C8A7A(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    _BYTE *v5; // r7
    signed int result; // r0

    v5 = sub_80C89AC(a1, a2, a3, a4);
    v5[6] = v4->panelX + 3 * object_getFrontDirection(v4);
    v5[7] = v4->panelY;
    result = 35;
    v5[5] = 35;
    return result;
}


// 0x80c8aa4
void sub_80C8AA4()
{
    int v0; // r5

    (*(&off_80C8ABC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c8ac8
int __noreturn sub_80C8AC8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 26);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    v4 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v4, v5);
    *(v0 + 11) = 0;
    *(v0 + 7) = object_getFrontDirection(v0);
    PlaySoundEffect(262, v6, v7);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8b3e
void __noreturn sub_80C8B3E()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        battle_isTimeStop();
        if ( v1 )
        {
            v2 = (*(&off_80C8B7C + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80c8b80
int sub_80C8B80()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r4
    int v4; // r1
    int v5; // r2
    int v6; // [sp-8h] [bp-10h]
    int v7; // [sp-4h] [bp-Ch]

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        result = *(v0 + 5) + *(v0 + 6);
        *(v0 + 32) = result;
        return result;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    v2 = *(v0 + 6);
    if ( result == v2 )
    {
        object_clearCollisionRegion();
        result = 240;
        *(v0 + 62) = 240;
        return result;
    }
    if ( result < v2 || result == 0 )
    {
        v6 = *(v0 + 7) + *(v0 + 18);
        v7 = *(v0 + 19);
        if ( object_isValidPanel(v6, v7) )
        {
            *(v0 + 18) = v6;
            v3 = object_getPanelParameters(v6, v7);
            if ( v3 & 0x10 && (!*(v0 + 11) || !(*&byte_80C8C3C[4 * *(v0 + 22)] & v3)) )
                goto LABEL_13;
        }
        else if ( *(v0 + 4) )
        {
            *(v0 + 11) = 1;
            *(v0 + 7) = -*(v0 + 7);
            sprite_setFlip(v0, *(v0 + 22) ^ *(v0 + 23) ^ 1);
LABEL_13:
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            object_setCollisionRegion(1);
            *(v0 + 62) = 0;
            PlaySoundEffect(262, v4, v5);
            result = *(v0 + 5) + *(v0 + 6);
            *(v0 + 32) = result;
            return result;
        }
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c8c44
int sub_80C8C44()
{
    return object_genericDestroy();
}


// 0x80c8c4c
int __fastcall sub_80C8C4C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(37, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c8c74
void sub_80C8C74()
{
    int v0; // r5

    (*(&off_80C8C98 + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80c8ca4
int __noreturn sub_80C8CA4()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 2);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    v4 = 4;
    if ( *(v0 + 6) )
        v4 = 10;
    object_setupCollisionData(v2, v4, 5, 3);
    v5 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v5, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8d10
void __noreturn sub_80C8D10()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        if ( *(v0 + 4) == 4 || (v1 = battle_isTimeStop(), v3) )
            v1 = (*(&off_80C8D58 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c8d64
int __fastcall sub_80C8D64(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(247, 4, a3);
        result = 5;
        *(v3 + 32) = 5;
    }
    return result;
}


// 0x80c8d8e
int sub_80C8D8E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        result = *(v0 + 5) - 5;
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80c8dbc
int sub_80C8DBC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 2;
        result = 2;
        *(v0 + 32) = 2;
    }
    return result;
}


// 0x80c8de0
int __fastcall sub_80C8DE0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(38, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c8e08
void sub_80C8E08()
{
    int v0; // r5

    (*(&off_80C8E20 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c8e2c
signed int __noreturn sub_80C8E2C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 27);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c8e6e
int sub_80C8E6E()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 12 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80C8EA0 + *(v0 + 9)))();
    }
    return result;
}


// 0x80c8eac
char *sub_80C8EAC()
{
    int v0; // r5
    char *result; // r0

    result = *(v0 + 11);
    if ( result == &byte_0[1] )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    else if ( result == &byte_0[2] )
    {
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
        result = sub_80C8FDC();
    }
    return result;
}


// 0x80c8ed0
int sub_80C8ED0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80C8FA0();
        *(v0 + 16) = 2;
        *(v0 + 34) = 0;
    }
    sub_80C8FDC();
    v3 = *(v0 + 34);
    v4 = __OFSUB__(v3--, 1);
    *(v0 + 34) = v3;
    if ( ((v3 < 0) ^ v4) | (v3 == 0) )
    {
        PlaySoundEffect(299, v1, v2);
        *(v0 + 34) = 16;
    }
    result = *(v0 + 11);
    if ( result == 3 )
    {
        *(v0 + 16) = 3;
        *(v0 + 9) = 0;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c8f14
int sub_80C8F14()
{
    int v0; // r5
    int v1; // r1
    int result; // r0
    int v7; // r0

    if ( *(v0 + 10) )
    {
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        v7 = *(v0 + 32);
        _VF = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            object_setCoordinatesFromPanels(v0);
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = *(v0 + 7) - *(v0 + 19);
        *(v0 + 68) = v1 << 18;
        result = 1572864 * v1;
        __asm { SVC         6 }
        *(v0 + 32) = 0;
    }
    return result;
}


// 0x80c8f60
int sub_80C8F60()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80c8f74
int __fastcall sub_80C8F74(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(39, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c8fa0
int sub_80C8FA0()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // r0
    int v3; // r6
    int result; // r0

    v1 = 0;
    do
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v0 + 44);
        result = object_spawnCollisionRegion(-v2 * v1 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        if ( result )
            *(result + 32) = *(v0 + 5);
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80c8fdc
char *sub_80C8FDC()
{
    Battle *obj; // r5
    signed int i; // r4
    __int64 currPanel; // r0
    char *result; // r0

    i = 0;
    do
    {
        LODWORD(currPanel) = -object_getFrontDirection(obj) * i + obj->panelX;
        HIDWORD(currPanel) = obj->panelY;
        result = object_highlightPanel(currPanel);
        ++i;
    }
    while ( i < 3 );
    return result;
}


// 0x80c8ffc
void sub_80C8FFC()
{
    int v0; // r5

    (*(&off_80C9014 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c9024
void __noreturn sub_80C9024()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    sprite_load(v0, 128, 20, 5);
    *(v0 + 16) = 11;
    sprite_setAnimation(v0, 0xBu);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    sprite_update(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 64) = object_getFrontDirection(v0);
    *(v0 + 14) = 5;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v2 = object_setupCollisionData(v1, 4, 5, 0);
        object_presentCollisionData(v2, v3);
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80c9074
void __noreturn sub_80C9074()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    char v3; // zf
    int v4; // r0
    int v5; // r1

    object_removeCollisionData();
    if ( *(*(v0 + 84) + 112) )
    {
        PlaySoundEffect(189, v1, v2);
        object_clearCollisionRegion();
        sub_80C913C();
    }
    battle_isBattleOver();
    if ( v3
        && (*(v0 + 18) += *(v0 + 64),
                object_setCoordinatesFromPanels(v0),
                object_updateCollisionPanels(v0),
                (v4 = object_isCurrentPanelValid()) != 0) )
    {
        object_presentCollisionData(v4, v5);
    }
    else
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 12;
    }
}


// 0x80c90dc
int sub_80C90DC()
{
    int v0; // r5
    int v1; // r4
    char v2; // zf
    int v3; // r0
    int v4; // r1
    int v5; // r6
    int v6; // r1
    int v7; // r7
    int v8; // r0
    int v9; // r2
    int v10; // r1
    int v11; // r3
    int *v12; // r0
    int result; // r0

    v1 = *(v0 + 76);
    *v0 = *v0 & 0xFD | *v1 & 2;
    sub_802CE30();
    if ( v2 )
        goto LABEL_6;
    v3 = sub_800F26C(*(v1 + 40));
    v5 = sub_8018842(v3, v4, 27) << 16;
    v7 = v6 << 16;
    v8 = object_getFrontDirection(v0);
    v9 = *(v1 + 56);
    v10 = *(v1 + 52) + v5 * -v8;
    v11 = *(v1 + 60) + v7;
    v12 = (v0 + 52);
    *v12 = v10;
    v12[1] = v9;
    v12[2] = v11;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
LABEL_6:
        sub_802CDE6();
        *v0 &= 0xFDu;
        result = 12;
        *(v0 + 8) = 12;
    }
    return result;
}


// 0x80c913c
int __noreturn sub_80C913C()
{
    int v0; // r5
    int result; // r0
    int *v2; // r1
    int v3; // [sp-8h] [bp-Ch]
    int v4; // [sp-4h] [bp-8h]

    v3 = *(v0 + 18);
    v4 = *(v0 + 19);
    if ( !(object_getPanelParameters(v3, v4) & 0x600000) )
        return 0;
    result = sub_800AE54(v3, v4, 1 - *(v0 + 22));
    if ( !result )
        return 0;
    *(v0 + 76) = result;
    v2 = &dword_203CFB0;
    if ( !*(v0 + 22) )
        v2 = &dword_203CFBC;
    v2[2] = result;
    v2[1] = v0;
    *v2 = 0;
    return result;
}


// 0x80c9184
int __fastcall sub_80C9184(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    sub_8003374(40, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80c91a0
void sub_80C91A0()
{
    int v0; // r5

    (*(&off_80C91B8 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c91c4
signed int __noreturn sub_80C91C4()
{
    int v0; // r5
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 34);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c91fe
int sub_80C91FE()
{
    Battle *obj; // r5
    int result; // r0
    char isTimeStop; // zf

    if ( battle_isBattleOver() || LOBYTE(obj->objParams) != 4 && *(obj->parent + 9) != 12 )
    {
        result = 8;
        *&obj->currState = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( isTimeStop )
            result = (*(&off_80C9234 + obj->currAction))();
    }
    return result;
}


// 0x80c9238
int __fastcall sub_80C9238(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r1
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0
    int result; // r0
    int v10; // r0
    int v11; // r1

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 4;
        *(v3 + 96) = 0;
        *(v3 + 32) = 4 * *(v3 + 6) * *(v3 + 5) + *(v3 + 6);
        *(v3 + 34) = *(v3 + 6);
        v4 = *(v3 + 6);
        sub_80C92F4(*(v3 + 96));
        *(v3 + 100) = 0;
    }
    v5 = *(v3 + 100) - 1;
    *(v3 + 100) = v5;
    if ( v5 <= 0 )
    {
        PlaySoundEffect(296, a2, a3);
        *(v3 + 100) = 16;
    }
    v6 = *(v3 + 32);
    v7 = __OFSUB__(v6--, 1);
    *(v3 + 32) = v6;
    if ( ((v6 < 0) ^ v7) | (v6 == 0) )
    {
        result = 8;
        *(v3 + 8) = 8;
    }
    else
    {
        sub_80C9360(*(v3 + 96));
        v8 = *(v3 + 34);
        v7 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v3 + 34) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            v10 = (*(v3 + 96) + 1) & 3;
            *(v3 + 96) = v10;
            *(v3 + 16) = byte_80C92C4[4 * *(v3 + 22) + v10];
            *(v3 + 34) = *(v3 + 6);
            v11 = *(v3 + 6);
            result = sub_80C92F4(*(v3 + 96));
        }
    }
    return result;
}


// 0x80c92cc
Battle *__fastcall sub_80C92CC(char r0PanelX, int r1PanelY, int r2Element, int r3)
{
    Battle *obj; // r5
    int v5; // r6
    Battle *outObj; // r0
    char panelX; // [sp+0h] [bp-14h]
    u8 panelY; // [sp+4h] [bp-10h]
    u8 element; // [sp+8h] [bp-Ch]
    Battle *parent; // [sp+Ch] [bp-8h]

    panelX = r0PanelX;
    panelY = r1PanelY;
    element = r2Element;
    object_spawnType3(41, r1PanelY, r2Element, r3);
    outObj = obj;
    if ( obj )
    {
        obj->panelX = panelX;
        obj->panelY = panelY;
        obj->Element = element;
        *&obj->damage = v5;
        obj->parent = &parent->objFlags;
        *&obj->Alliance = *&parent->Alliance;
        obj->objFlags |= 0x10u;
    }
    return outObj;
}


// 0x80c92f4
int __fastcall sub_80C92F4(int a1)
{
    int v1; // r5
    char *v2; // r4
    signed int v3; // r6
    char *v4; // r2
    bool v5; // zf
    __int64 v6; // r0
    int v7; // r1
    int v8; // r6
    __int64 v10; // [sp-8h] [bp-1Ch]
    __int16 v11; // [sp+4h] [bp-10h]

    v2 = &byte_80C93B0[4 * byte_80C93C4[4 * *(v1 + 22) + a1]];
    v3 = 0;
    do
    {
        v4 = &v2[2 * v3];
        LODWORD(v10) = *v4 + *(v1 + 18);
        HIDWORD(v10) = v4[1] + *(v1 + 19);
        v5 = object_isValidPanel(v10, SHIDWORD(v10)) == 0;
        v6 = v10;
        if ( !v5 )
        {
            object_highlightPanel(v10);
            v7 = HIDWORD(v10);
            HIDWORD(v10) = v3;
            v8 = *(v1 + 44);
            LODWORD(v6) = object_spawnCollisionRegion(v10, v7, *(v1 + 14), 0);
            v3 = HIDWORD(v10);
            *(v6 + 32) = v11;
        }
        ++v3;
    }
    while ( v3 <= 1 );
    return v6;
}


// 0x80c9360
__int64 __fastcall sub_80C9360(int a1)
{
    unsigned __int8 *v1; // r5
    char *v2; // r4
    signed int v3; // r6
    char *v4; // r2
    bool v5; // zf
    __int64 result; // r0
    __int64 v7; // [sp-8h] [bp-1Ch]

    v2 = &byte_80C93B0[4 * byte_80C93C4[4 * v1[22] + a1]];
    v3 = 0;
    do
    {
        v4 = &v2[2 * v3];
        LODWORD(v7) = *v4 + v1[18];
        HIDWORD(v7) = v4[1] + v1[19];
        v5 = object_isValidPanel(v7, SHIDWORD(v7)) == 0;
        result = v7;
        if ( !v5 )
        {
            object_highlightPanel(v7);
            result = v7;
        }
        ++v3;
    }
    while ( v3 <= 1 );
    return result;
}


// 0x80c93cc
void battle_BDT_main_80c93cc()
{
    int v0; // r5

    (*(&off_80C93E4 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c93f0
int battle_BDT_destroy_80c93f0()
{
    int v0; // r5
    int result; // r0
    _DWORD *v2; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v2 = *(v0 + 76);
        if ( v2 )
            *v2 = 0;
        result = object_genericDestroy();
    }
    return result;
}


// 0x80c940c
int __noreturn battle_BDT_init_80c940c()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    _BYTE *v4; // r7
    int v6; // r1
    int v7; // r0

    sprite_load(v0, 128, 16, 22);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = 0;
    if ( *(v0 + 4) == 2 || *(v0 + 5) == 12 )
        v1 = 2;
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    object_setCoordinatesFromPanels(v0);
    v3 = object_createCollisionData();
    v4 = v3;
    if ( v3 )
    {
        object_setupCollisionData(v3, 4, 5, 1);
        v4[1] = 1;
        object_setCollisionHitEffect(3);
        if ( *(v0 + 6) )
            object_setCollisionStatusEffect1(*(v0 + 6));
        v7 = *(v0 + 7);
        if ( *(v0 + 7) )
            v7 = sub_801A4D0(v7, 1);
        object_presentCollisionData(v7, v6);
        battle_BDT_80c956c();
    }
    return object_freeMemory();
}


// 0x80c94bc
int __noreturn battle_BDT_update_80c94bc()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver()
        || *(*(v0 + 84) + 112) & 0xFF800000
        || ((*(&off_80C9504 + *(v0 + 9)))(), (v1 = object_isCurrentPanelValid()) == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v1, v2);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80c950c
int battle_BDT_update2_80c950c()
{
    int v0; // r5
    int result; // r0
    int v2; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        v2 = *(v0 + 5) - 1;
        *(v0 + 5) = v2;
        if ( v2 )
            battle_BDT_80c956c();
        ++*(v0 + 16);
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c954c
int __fastcall spawnThunderObjectMaybe_80c954c(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(42, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
    }
    return result;
}


// 0x80c956c
void __noreturn battle_BDT_80c956c()
{
    FindOpponentForThunderObject();
}


// 0x80c95ec
void __noreturn FindOpponentForThunderObject()
{
    int v0; // r5

    if ( !(*(v0 + 22) ^ *(v0 + 23)) )
        CheckIfThunderObjectFindsOpponentByGoingRight();
    CheckIfThunderObjectFindsOpponentByGoingLeft();
}


// 0x80c9620
int __noreturn CheckIfThunderObjectFindsOpponentByGoingRight()
{
    int v0; // r4
    int v1; // r5
    int v2; // r6
    int v3; // r7
    int result; // r0

    v2 = *(v1 + 18);
LABEL_2:
    v3 = 3;
    while ( 1 )
    {
        result = object_getPanelParameters(v2, v3);
        if ( result & v0 )
            return result;
        if ( !--v3 )
        {
            if ( ++v2 != 7 )
                goto LABEL_2;
            return result;
        }
    }
}


// 0x80c9640
int __noreturn CheckIfThunderObjectFindsOpponentByGoingLeft()
{
    int v0; // r4
    int v1; // r5
    int v2; // r6
    int v3; // r7
    int result; // r0

    v2 = *(v1 + 18);
LABEL_2:
    v3 = 3;
    while ( 1 )
    {
        result = object_getPanelParameters(v2, v3);
        if ( result & v0 )
            return result;
        if ( !--v3 )
        {
            if ( --v2 )
                goto LABEL_2;
            return result;
        }
    }
}


// 0x80c96a0
void sub_80C96A0()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80C96BC + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
}


// 0x80c96c8
int __noreturn sub_80C96C8()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r2

    v1 = &byte_80C9664[6 * *(v0 + 5)];
    *(v0 + 100) = v1;
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = v1[2];
    *(v0 + 17) = -1;
    sprite_setPallete(v1[5]);
    object_setPanelsFromCoordinates(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    PlaySoundEffect(160, v3, v4);
    *(v0 + 64) = *(v0 + 52);
    *(v0 + 68) = *(v0 + 56);
    *(v0 + 72) = *(v0 + 60);
    *(v0 + 8) = 4;
    return sub_80C9726();
}


// 0x80c9726
int sub_80C9726()
{
    int v0; // r5
    int v1; // r5
    int result; // r0
    _BYTE *v3; // [sp-4h] [bp-8h]

    (*(&off_80C976C + *(v0 + 9)))();
    *v0 |= 2u;
    if ( !sub_800EB6C(*(v0 + 22)) )
        *v0 &= 0xFDu;
    v3 = v0;
    v1 = *(v0 + 76);
    result = sub_801032C();
    if ( result & 0x100000 )
    {
        result = *v3 & 0xFD;
        *v3 = result;
    }
    return result;
}


// 0x80c9774
int sub_80C9774()
{
    int v0; // r5
    int v1; // r3
    int result; // r0

    v1 = *(v0 + 76);
    *(v0 + 52) = *(v1 + 52) + *(v0 + 64);
    *(v0 + 56) = *(v1 + 56) + *(v0 + 68);
    *(v0 + 60) = *(v1 + 60) + *(v0 + 72);
    *v0 = *v0 & 0xFD | *v1 & 2;
    result = **(v0 + 96);
    if ( !result )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c97b4
int sub_80C97B4()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *v0 |= 2u;
        v1 = *(v0 + 100);
        *(v0 + 16) = *(v1 + 3);
        *(v0 + 32) = *(v1 + 4);
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c97e0
int __fastcall sub_80C97E0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(43, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v7 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80c980c
void nullsub_101()
{
    ;
}


// 0x80c980e
void nullsub_102()
{
    ;
}


// 0x80c9810
void nullsub_93()
{
    ;
}


// 0x80c9814
void nullsub_94()
{
    ;
}


// 0x80c9816
void nullsub_95()
{
    ;
}


// 0x80c9824
void sub_80C9824()
{
    int v0; // r5

    (*(&off_80C983C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c9848
int __noreturn sub_80C9848()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2

    sprite_load(v0, 128, 16, 6);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 100) = *(v0 + 18);
    *(v0 + 104) = *(v0 + 19);
    *(v0 + 96) = &byte_80C9818[3 * *(v0 + 4)];
    *(v0 + 64) = object_getFrontDirection(v0);
    *(v0 + 68) = 2 * *(v0 + 5) - 1;
    *(v0 + 7) = 0;
    *(v0 + 6) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 6, 5, 1);
        v4 = object_setCollisionHitEffect(10);
        object_presentCollisionData(v4, v5);
        PlaySoundEffect(180, v6, v7);
        *(v0 + 8) = 4;
        sub_80C98DC();
    }
    return object_freeMemory();
}


// 0x80c98dc
char *__noreturn sub_80C98DC()
{
    int v0; // r5
    int v1; // r4
    int v2; // r4
    signed int v3; // r1
    char *v4; // r0
    int v5; // r2
    int v6; // r0
    int v7; // r2
    __int64 v8; // r0
    char *result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        object_clearCollisionRegion();
        result = &dword_8;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = *(v0 + 84);
        if ( *(v1 + 112) )
            object_clearCollisionRegion();
        v2 = *(v1 + 10);
        (*(&off_80C9960 + *(v0 + 9)))();
        if ( !*(v0 + 7) )
        {
            v4 = object_getPanelDataOffset(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
            v5 = *(v0 + 22);
            v3 = v4[3] ^ v5;
            if ( v4[3] != v5 )
            {
                v3 = 1;
                *(v0 + 7) = 1;
            }
        }
        v6 = *(v0 + 8);
        if ( v6 != 8 )
        {
            v6 = *(*(v0 + 84) + 10);
            if ( v6 != v2 )
                v6 = object_setCollisionRegion(1);
        }
        object_presentCollisionData(v6, v3);
        v7 = *(v0 + 84);
        LODWORD(v8) = *(v7 + 10);
        HIDWORD(v8) = *(v7 + 11);
        result = object_highlightPanel(v8);
    }
    return result;
}


// 0x80c9964
signed int sub_80C9964()
{
    int v0; // r5
    char *v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3
    unsigned int v9; // r7
    int v10; // r0
    int v11; // ST00_4
    int v12; // r1
    char v13; // r0
    int v14; // r2
    char v15; // r1
    int v16; // r1
    int v17; // r0
    char *v18; // r0
    int v19; // r1
    int v20; // r2
    int v21; // r3
    int v22; // r0
    int v23; // r1
    int v24; // r2
    int v25; // r3
    int v26; // r1
    int v27; // r0
    int v28; // r3
    int v29; // r6
    int v30; // r1
    int v31; // r1
    char v32; // zf
    signed int result; // r0

    sub_80C9B64();
    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 100);
        v2 = *(v0 + 104);
        v3 = *(v0 + 64);
        v4 = *(v0 + 68);
        if ( *(*(v0 + 96) + 1) )
        {
            v5 = sub_80C9AAA(v1, v2, v3, v4);
            if ( !v7 )
                goto LABEL_18;
        }
        else
        {
            v5 = sub_80C9A58(v1, v2, v3, v4);
        }
        *(v0 + 108) = v5;
        *(v0 + 112) = v6;
        *(v0 + 64) = v7;
        *(v0 + 68) = v8;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v9 = *(*(v0 + 96) + 2);
    v10 = *(v0 + 32) + 1;
    *(v0 + 32) = v10;
    if ( v10 == v9 >> 1 )
    {
        v11 = v10;
        v12 = *(v0 + 112);
        v13 = convertXYToPanelXY_800E258(*(v0 + 108));
        v14 = *(v0 + 84);
        *(v14 + 10) = v13;
        *(v14 + 11) = v15;
        v10 = v11;
    }
    if ( v10 == v9 )
    {
        v16 = **(v0 + 96);
        if ( **(v0 + 96) )
        {
            v17 = *(v0 + 6) + 1;
            *(v0 + 6) = v17;
            if ( v17 >= v16 )
                goto LABEL_18;
        }
        *(v0 + 100) = *(v0 + 18);
        *(v0 + 104) = *(v0 + 19);
        v18 = *(v0 + 100);
        v19 = *(v0 + 104);
        v20 = *(v0 + 64);
        v21 = *(v0 + 68);
        if ( !*(*(v0 + 96) + 1) )
        {
            v22 = sub_80C9A58(v18, v19, v20, v21);
LABEL_14:
            *(v0 + 108) = v22;
            *(v0 + 112) = v23;
            *(v0 + 64) = v24;
            *(v0 + 68) = v25;
            object_updateCollisionPanels(v0);
            *(v0 + 32) = 0;
            goto LABEL_15;
        }
        v22 = sub_80C9AAA(v18, v19, v20, v21);
        if ( v24 )
            goto LABEL_14;
LABEL_18:
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
LABEL_15:
    v26 = *(v0 + 104);
    v27 = object_getCoordinatesForPanels(*(v0 + 100));
    v28 = *(v0 + 112);
    v29 = *(v0 + 32);
    *(v0 + 52) = sub_80C9B36(v27, v30, *(v0 + 108));
    *(v0 + 56) = v31;
    object_setPanelsFromCoordinates(v0);
    object_isPanelSolid(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v32 )
        goto LABEL_18;
    result = object_isValidPanel(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v32 )
        goto LABEL_18;
    return result;
}


// 0x80c9a58
int __fastcall sub_80C9A58(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // ST00_4
    int v7; // ST08_4
    int v8; // r0
    int v9; // r1
    int v10; // ST08_4
    int v11; // ST08_4
    char v13; // [sp+0h] [bp-10h]

    v13 = a1;
    v5 = a2 + a4;
    if ( (v5 - 1) > 2 )
    {
        v6 = a1;
        v7 = a3;
        PlaySoundEffect(182, v5, a3);
        a1 = v6;
        a3 = v7;
    }
    v8 = a1 + a3;
    v9 = *(v4 + 22);
    if ( *(v4 + 22) )
    {
        if ( v8 < 1 )
        {
            v11 = -a3;
            PlaySoundEffect(182, v9, -a3);
            LOBYTE(a3) = v11;
        }
    }
    else if ( v8 > 6 )
    {
        v10 = -a3;
        PlaySoundEffect(182, v9, -a3);
        LOBYTE(a3) = v10;
    }
    return object_getCoordinatesForPanels(v13 + a3);
}


// 0x80c9aaa
int __fastcall sub_80C9AAA(char *a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    char *v6; // ST00_4
    int v7; // ST0C_4
    int v8; // ST04_4
    int v9; // ST08_4
    int v10; // ST08_4
    int v11; // ST0C_4
    char *v12; // r0
    int v13; // r1
    bool v14; // zf
    char *v15; // r4
    char *v16; // r0
    char *v17; // r4
    int result; // r0
    int v19; // [sp-8h] [bp-18h]
    int v20; // [sp-4h] [bp-14h]
    char *v21; // [sp+0h] [bp-10h]
    int v22; // [sp+0h] [bp-10h]
    int v23; // [sp+0h] [bp-10h]
    int v24; // [sp+4h] [bp-Ch]
    int v25; // [sp+4h] [bp-Ch]

    v21 = a1;
    v24 = a2;
    v5 = a2 + a4;
    if ( (v5 - 1) > 2 )
    {
        v6 = a1;
        v8 = v5;
        v9 = a3;
        v7 = -a4;
        PlaySoundEffect(182, v5, a3);
        a1 = v6;
        v5 = v8;
        a3 = v9;
        a4 = v7;
    }
    if ( &a1[a3 - 1] > 5 )
    {
        v10 = -a3;
        v11 = a4;
        PlaySoundEffect(182, v5, -a3);
        a3 = v10;
        a4 = v11;
    }
    v12 = v21;
    v13 = v24;
    if ( !*(v4 + 7) )
        goto LABEL_12;
    v19 = v21;
    v20 = v24;
    v22 = a3;
    v25 = a4;
    v12 = object_getPanelDataOffset(&v12[a3], v13 + a4);
    v15 = v12;
    v14 = v12 == 0;
    LOBYTE(v12) = v19;
    a3 = v22;
    if ( !v14 && v15[3] != *(v4 + 22) )
        goto LABEL_12;
    v23 = -v22;
    v16 = object_getPanelDataOffset(v19 - a3, v20 + v25);
    v17 = v16;
    v14 = v16 == 0;
    result = v19;
    if ( !v14 && v17[3] != *(v4 + 22) )
    {
        PlaySoundEffect(182, v20, v23);
        LOBYTE(v12) = v19;
        LOBYTE(a3) = v23;
LABEL_12:
        result = object_getCoordinatesForPanels(v12 + a3);
    }
    return result;
}


// 0x80c9b36
int __fastcall sub_80C9B36(int a1, int a2, int a3)
{
    int v3; // r6

    __asm
    {
        SVC         6
        SVC         6
    }
    return a1 + (a3 - a1) * v3;
}


// 0x80c9b64
int sub_80C9B64()
{
    int v0; // r5
    int result; // r0
    __int16 v2; // r0

    result = *(v0 + 4);
    if ( result == 3 )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        result = v2 & 3;
        if ( result == 3 )
        {
            object_getFlip(v0);
            result = sub_80E33FA(v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        }
    }
    return result;
}


// 0x80c9ba4
int __fastcall sub_80C9BA4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(46, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80c9bc4
void sub_80C9BC4()
{
    int v0; // r5

    (*(&off_80C9BDC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80c9be8
signed int sub_80C9BE8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    signed int result; // r0

    if ( !object_isCurrentPanelValid() )
        return object_freeMemory();
    sprite_load(v0, 128, 20, 4);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    *(v0 + 32) = 2;
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 0);
    object_setCollisionRegion(1);
    v3 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v3, v4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80c9c5c
void __noreturn sub_80C9C5C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = (*(&off_80C9C90 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80c9ca2
int sub_80C9CA2()
{
    int v0; // r5
    int result; // r0
    char v2; // r0
    int v3; // r6
    int v4; // r2

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v0 + 44);
        sub_80C9CDA(v2 + *(v0 + 18), *(v0 + 19), v4, *(v0 + 60));
        result = 4;
        *(v0 + 9) = 4;
    }
    return result;
}


// 0x80c9cc4
int sub_80C9CC4()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c9cda
int __fastcall sub_80C9CDA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(47, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, 0);
    return result;
}


// 0x80c9d00
void sub_80C9D00()
{
    int v0; // r5

    (*(&off_80C9D18 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80c9d24
int sub_80C9D24()
{
    Battle *v0; // r5

    if ( object_isCurrentPanelValid() )
    {
        sprite_load(v0, 128, 16, 29);
        sprite_noShadow(v0);
        sub_80C9F18();
    }
    return object_freeMemory();
}


// 0x80c9d9e
void __noreturn sub_80C9D9E()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = battle_isTimeStop();
    if ( v3 )
        v1 = (*(&off_80C9DD4 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80c9de0
int sub_80C9DE0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( *(v0 + 32) == 30 )
    {
        *v0 |= 2u;
        *(v0 + 16) = 0;
        *(v0 + 17) = -1;
        object_clearCollisionRegion();
        PlaySoundEffect(324, v1, v2);
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        *(v0 + 16) = 1;
        *(v0 + 34) = 3;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80c9e20
int sub_80C9E20()
{
    int v0; // r5
    char v1; // r0
    int v2; // ST00_4
    char v3; // r0
    int v4; // r6
    int v5; // r1
    int v6; // r2
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0
    int v10; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        *(v0 + 32) = 10;
        GetPositiveSignedRNG2();
        v2 = *(&dword_80C9E84 + (v1 & 3)) << 16;
        v3 = object_getFrontDirection(v0);
        v4 = *(v0 + 44);
        sub_80C6ADA(v3 + *(v0 + 18), *(v0 + 19), *(v0 + 14), v2);
        PlaySoundEffect(185, v5, v6);
    }
    v7 = *(v0 + 32);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v8) | (result == 0) )
    {
        v10 = *(v0 + 34);
        v8 = __OFSUB__(v10--, 1);
        *(v0 + 34) = v10;
        if ( ((v10 < 0) ^ v8) | (v10 == 0) )
        {
            *(v0 + 16) = 2;
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80c9e88
int sub_80C9E88()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80c9ea6
int __fastcall sub_80C9EA6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(48, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80c9ece
int *__fastcall sub_80C9ECE(int a1, int a2, int a3)
{
    int v3; // r10
    int *result; // r0
    int v5; // r0
    int v6; // r3

    result = (*(v3 + oToolkit_S2034880_Ptr) + 160);
    do
    {
        sub_80C9EE6(result);
        result = (v5 + 4);
    }
    while ( v6 != 1 );
    return result;
}


// 0x80c9ee6
void __fastcall sub_80C9EE6(int *a1)
{
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // ST00_4

    v2 = *a1;
    if ( v2 )
    {
        if ( *(v2 + 40) != 218 )
        {
            v3 = *(v2 + 84);
            if ( v3 )
            {
                if ( !(*(v3 + 64) & 0x348000) )
                {
                    v4 = v2;
                    sub_800F898(v2);
                    sub_80C9EA6(*(v4 + 18), *(v4 + 19), v1, 0);
                }
            }
        }
    }
}


// 0x80c9f18
void __noreturn sub_80C9F18()
{
    Battle *v0; // r5
    int v1; // r2
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3

    object_getFrontDirection(v0);
    sub_81096FA(v0->panelX, v0->panelY, v1, &off_80C9F64);
    sub_800D120(v2, v3, v4, v5);
}


// 0x80c9f78
int sub_80C9F78()
{
    int v0; // r5

    return (*(&JumpTable80C9F88 + *(v0 + 8)))();
}


// 0x80c9f98
int sub_80C9F98()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    char *v3; // r4
    int v4; // r0
    _BYTE *v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r2

    if ( *(v0 + 4) == 1 )
        sub_80CA234();
    if ( object_isCurrentPanelValid() )
    {
        *v0 |= 3u;
        sprite_load(v0, 128, 12, 23);
        sprite_noShadow(v0);
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        v1 = object_getFlip(v0);
        sprite_setFlip(v0, v1);
        *(v0 + 96) = 1;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        v2 = 2 * *(v0 + 4);
        v3 = &byte_80CA064[v2];
        v4 = byte_80CA064[v2 + 1];
        *(v0 + 100) = v4;
        *(v0 + 34) = v4;
        sprite_setPallete(*v3);
        v5 = object_createCollisionData();
        if ( v5 )
        {
            object_setupCollisionData(v5, 18, 5, 1);
            sub_801A146();
            if ( *(v0 + 5) )
                object_setCollisionStatusEffect1(*(v0 + 5));
            v7 = *(v0 + 4);
            if ( v7 == 3 )
                v7 = sub_801A4D0(84, 5);
            object_presentCollisionData(v7, v6);
            PlaySoundEffect(184, v8, v9);
            *(v0 + 8) = 4;
            sub_80CA074();
        }
    }
    return object_freeMemory();
}


// 0x80ca074
void __noreturn sub_80CA074()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    battle_isBattleOver();
    if ( v1 )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        sub_80CA0B0();
        object_updateSprite();
        object_presentCollisionData(v2, v3);
    }
    else
    {
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
}


// 0x80ca0b0
int sub_80CA0B0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    unsigned __int8 v4; // vf
    int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        v2 = *(v0 + 34);
        v3 = *(v0 + 96);
        v4 = __OFSUB__(v2, v3);
        result = v2 - v3;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 34) = *(v0 + 100);
            result = object_setCollisionRegion(1);
        }
    }
    else
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ca0e2
int __fastcall sub_80CA0E2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(49, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v9;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 32) = *(v4 + 6);
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80ca104
int __fastcall sub_80CA104(char a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    signed int v5; // r7
    int v6; // r7
    int v7; // ST10_4
    char *i; // r7
    int result; // r0
    char v10; // [sp+0h] [bp-28h]
    int v11; // [sp+4h] [bp-24h]
    int v12; // [sp+8h] [bp-20h]
    int v13; // [sp+Ch] [bp-1Ch]
    char v14; // [sp+18h] [bp-10h]

    if ( v5 > 3 )
        v5 = 3;
    v10 = a1;
    v11 = a2;
    v12 = a3;
    v13 = a4;
    v14 = object_getFrontDirection(v4);
    v6 = 4 * v5;
    v7 = *&byte_80CA170[v6];
    for ( i = *(&off_80CA160 + v6); ; i += 2 )
    {
        result = *i;
        if ( result == 127 )
            break;
        sub_80CA0E2(result * v14 + v10, i[1] + v11, v12, v13);
    }
    return result;
}


// 0x80ca19e
int __fastcall sub_80CA19E(char a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    signed int v5; // r7
    int v6; // r7
    int v7; // ST10_4
    char *i; // r7
    int result; // r0
    char v10; // [sp+0h] [bp-28h]
    int v11; // [sp+4h] [bp-24h]
    int v12; // [sp+8h] [bp-20h]
    int v13; // [sp+Ch] [bp-1Ch]
    char v14; // [sp+18h] [bp-10h]

    if ( v5 > 3 )
        v5 = 3;
    v10 = a1;
    v11 = a2;
    v12 = a3;
    v13 = a4;
    v14 = object_getFrontDirection(v4);
    v6 = 4 * v5;
    v7 = *&byte_80CA208[v6];
    for ( i = *(&off_80CA1F8 + v6); ; i += 2 )
    {
        result = *i;
        if ( result == 127 )
            break;
        sub_80CA0E2(result * v14 + v10, i[1] + v11, v12, v13);
    }
    return result;
}


// 0x80ca234
int __noreturn sub_80CA234()
{
    int v0; // r5
    int v1; // r3
    char *i; // r1
    int v3; // r2
    int result; // r0
    int v5; // r1

    v1 = object_getPanelDataOffset(*(v0 + 18), *(v0 + 19))[2];
    for ( i = &byte_80CA25C; ; i += 3 )
    {
        v3 = *i;
        if ( v3 == 255 || v3 == v1 )
            break;
    }
    result = i[2];
    v5 = i[1];
    return result;
}


// 0x80ca2a8
void sub_80CA2A8()
{
    int v0; // r5

    (*(&off_80CA2C0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ca2cc
int sub_80CA2CC()
{
    return object_genericDestroy();
}


// 0x80ca2d4
int __noreturn sub_80CA2D4()
{
    int v0; // r5
    int v1; // r2
    u8 v2; // r0
    char *v3; // r1
    int v4; // r0
    int v5; // r0
    _BYTE *v6; // r0
    _BYTE *v7; // r7
    int result; // r0
    char v9; // r3
    int v10; // r0
    int v11; // r1
    int v12; // r1
    int v13; // r2

    v1 = 7;
    if ( *(v0 + 4) == 4 )
        v1 = 87;
    sprite_load(v0, 128, 16, v1);
    if ( *(v0 + 4) == 4 )
        sprite_noShadow(v0);
    else
        sprite_hasShadow();
    *v0 |= 2u;
    v2 = 0;
    if ( *(v0 + 4) == 4 && *(v0 + 19) != 1 )
        v2 = 1;
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    v3 = &byte_80CA26C[12 * *(v0 + 4)];
    *(v0 + 64) = *(v3 + 1);
    if ( *(v0 + 5) != 3 )
    {
        v4 = *(v3 + 2);
        if ( *(v0 + 19) == 3 )
            v4 = -v4;
        *(v0 + 68) = v4;
    }
    *(v0 + 76) = v3;
    *(v0 + 32) = 0;
    sprite_setPallete(0);
    v5 = object_getFlip(v0);
    sprite_setFlip(v0, v5);
    object_setCoordinatesFromPanels(v0);
    v6 = object_createCollisionData();
    v7 = v6;
    if ( !v6 )
        return object_freeMemory();
    v9 = 1;
    if ( *(v0 + 7) )
        v9 = 3;
    object_setupCollisionData(v6, 4, 5, v9);
    v7[1] = 1;
    v10 = object_setCollisionHitEffect(4);
    object_presentCollisionData(v10, v11);
    sub_80CA510();
    PlaySoundEffect(183, v12, v13);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80ca3a0
int __noreturn sub_80CA3A0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_12;
    if ( *(*(v0 + 84) + 112) & 0xFF800000 )
    {
        object_clearCollisionRegion();
        *(v0 + 96) = *(v0 + 18);
    }
    (*(&off_80CA404 + *(v0 + 9)))();
    if ( !*(*(v0 + 84) + 1) && *(v0 + 18) != *(v0 + 96) )
        object_setCollisionRegion(1);
    v1 = object_isCurrentPanelValid();
    if ( !v1 )
    {
LABEL_12:
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v1, v2);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80ca408
int sub_80CA408()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int result; // r0

    ++*(v0 + 32);
    v1 = *(v0 + 6);
    if ( v1 == 2 )
    {
        *(v0 + 52) += *(v0 + 64) * object_getFlipDirection(*(v0 + 22) ^ 1, *(v0 + 23));
    }
    else if ( v1 == 1 )
    {
        v4 = *(v0 + 68);
        v5 = *(v0 + 56) + v4;
        *(v0 + 56) = v5;
        if ( v4 >= 0 )
        {
            if ( v5 >= 3407872 )
            {
                *(v0 + 6) = 2;
                goto LABEL_15;
            }
        }
        else if ( v5 <= 0x40000 )
        {
            *(v0 + 6) = 2;
            goto LABEL_15;
        }
    }
    else
    {
        v2 = *(v0 + 64) * object_getFrontDirection(v0);
        v3 = *(v0 + 52) + v2;
        *(v0 + 52) = v3;
        if ( *(v0 + 68) )
        {
            if ( v2 >= 0 )
            {
                if ( v3 >= *&byte_80CA4C4[4 * *(v0 + 5)] )
                {
                    *(v0 + 6) = 1;
                    goto LABEL_15;
                }
            }
            else if ( v3 <= *&byte_80CA4B4[4 * *(v0 + 5)] )
            {
                *(v0 + 6) = 1;
LABEL_15:
                object_setCoordinatesFromPanels(v0);
                goto LABEL_17;
            }
        }
    }
    object_setPanelsFromCoordinates(v0);
LABEL_17:
    object_updateCollisionPanels(v0);
    result = *(*(v0 + 84) + 12);
    if ( *(*(v0 + 84) + 12) )
        result = sub_80CA510();
    return result;
}


// 0x80ca4d8
int __fastcall sub_80CA4D8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(50, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80ca4f6
int __fastcall sub_80CA4F6(int a1, int a2, int a3)
{
    int v3; // r5

    return sub_80CA4D8(5 * (*(v3 + 22) ^ *(v3 + 23)) + 1, 3, a3, 0x100000);
}


// 0x80ca510
int sub_80CA510()
{
    int v0; // r5
    int result; // r0

    result = *(*(v0 + 76) + 3);
    if ( *(*(v0 + 76) + 3) )
    {
        result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        if ( result & 0x10 )
        {
            if ( (result & 0x20) != 32 * *(v0 + 22) )
                object_setPanelType(*(v0 + 18), *(v0 + 19), 6);
        }
    }
    return result;
}


// 0x80ca544
void sub_80CA544()
{
    int v0; // r5

    (*(&off_80CA55C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ca568
void __noreturn sub_80CA568()
{
    Battle *v0; // r5
    int v1; // r0

    object_setCoordinatesFromPanels(v0);
    SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
    v1 = object_getPanelParameters(v0->panelX, v0->panelY);
    if ( v1 & 0x10 )
    {
        if ( !(v1 & 0xF880080) )
            object_breakPanel(v0->panelX, v0->panelY);
    }
    sub_8109794(v0->panelX, v0->panelY);
}


// 0x80ca61a
void __noreturn sub_80CA61A()
{
    int v0; // r5
    unsigned int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r1
    int v6; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
        goto LABEL_13;
    v1 = *(v0 + 60);
    if ( (v1 >> 16) < 20 )
    {
        v2 = *(v0 + 72) + v1;
        *(v0 + 60) = v2;
        goto LABEL_10;
    }
    v3 = *(v0 + 19);
    v4 = object_getCoordinatesForPanels(*(v0 + 18));
    v5 = *(v0 + 52);
    v6 = *(v0 + 64) + v5;
    *(v0 + 52) = v6;
    if ( sub_800E6E8(v6, v5, v4) )
    {
        v7 = *(v0 + 4);
        v8 = __OFSUB__(v7--, 1);
        *(v0 + 4) = v7;
        if ( ((v7 < 0) ^ v8) | (v7 == 0) )
            goto LABEL_13;
    }
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = object_isCurrentPanelValid();
    if ( !v2 )
    {
LABEL_13:
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        v2 = 8;
        *(v0 + 8) = 8;
    }
LABEL_10:
    object_presentCollisionData(v2, v1);
}


// 0x80ca686
int __fastcall sub_80CA686(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(51, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80ca69c
_BYTE *__fastcall sub_80CA69C(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80CA686(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80ca6b8
int sub_80CA6B8()
{
    int v0; // r5

    return (*(&off_80CA6CC + *(v0 + 8)))();
}


// 0x80ca6d8
int sub_80CA6D8()
{
    int v0; // r5
    unsigned int v1; // r1
    signed int v2; // r2

    object_setCoordinatesFromPanels(v0);
    if ( object_isCurrentPanelValid() && object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
    {
        v1 = 100991744;
        if ( *(v0 + 6) || (v2 = *(v0 + 18), v2 == 1) || v2 >= 6 )
            v1 = 100991232;
        sub_8011504(0x103041Bu, v1);
    }
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    return object_freeMemory();
}


// 0x80ca7ac
void __noreturn sub_80CA7AC()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        *(v0 + 96) = *(v0 + 18);
        object_clearCollisionRegion();
    }
    (*(&off_80CA828 + *(v0 + 9)))();
    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
    {
        if ( !*(*(v0 + 84) + 1) )
        {
            if ( *(v0 + 18) == *(v0 + 96) )
            {
LABEL_8:
                object_updateSprite();
                object_presentCollisionData(v2, v3);
                return;
            }
            object_setCollisionRegion(1);
        }
        LODWORD(v1) = *(v0 + 18);
        HIDWORD(v1) = *(v0 + 19);
        object_highlightPanel(v1);
        goto LABEL_8;
    }
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80ca834
int sub_80CA834()
{
    int v0; // r5
    int result; // r0
    signed __int16 v2; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( !*(v0 + 100) && 5 * (*(v0 + 22) ^ 1) + 1 == *(v0 + 18) )
    {
        *(v0 + 100) = 1;
        object_updateCollisionData(1, 6, 5, 1);
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        object_setCoordinatesFromPanels(v0);
        v2 = 8;
        if ( *(v0 + 6) )
            v2 = 16;
        *(v0 + 32) = v2;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80ca88e
int sub_80CA88E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    signed int v4; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        object_setCollisionRegion(1);
        v2 = *(v0 + 5) - 1;
        *(v0 + 5) = v2;
        if ( v2 )
        {
            result = 8;
            *(v0 + 32) = 8;
        }
        else
        {
            if ( *(v0 + 6) )
            {
                *(v0 + 64) = -*(v0 + 64);
                *(v0 + 23) ^= 1u;
                v3 = object_getFlip(v0);
                v4 = sprite_setFlip(v0, v3);
            }
            else
            {
                v4 = 0x40000;
                *(v0 + 72) = 0x40000;
            }
            object_updateCollisionData(v4, 6, 5, 3);
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80ca8e2
signed int sub_80CA8E2()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) += *(v0 + 72);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ca90e
int __fastcall sub_80CA90E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(52, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80ca938
void sub_80CA938()
{
    int v0; // r5

    (*(&off_80CA950 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ca95c
int __noreturn sub_80CA95C()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    sprite_load(v0, 128, 12, 0);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 1;
    *(v0 + 17) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    if ( *(v0 + 4) != 2 )
        sprite_setPallete(4);
    object_setPanelsFromCoordinates(v0);
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v3 = 4;
        if ( *(v0 + 4) != 2 )
            v3 = 21;
        object_setupCollisionData(v1, v3, 5, 3);
        object_setCollisionHitEffect(255);
        v4 = object_clearCollisionRegion();
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 4;
        sub_80CA9CA();
    }
    return object_freeMemory();
}


// 0x80ca9ca
void __noreturn sub_80CA9CA()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    else
    {
        if ( !*(*(v0 + 84) + 112) )
        {
            v1 = (*(&off_80CAA24 + *(v0 + 9)))();
            object_presentCollisionData(v1, v2);
            return;
        }
        v3 = *(v0 + 4);
    }
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80caa2c
signed int sub_80CAA2C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r1

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 7);
        v2 = object_getCoordinatesForPanels(*(v0 + 6));
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v3);
        *(v0 + 68) = v4;
        *(v0 + 72) = v5;
        *(v0 + 32) = 50;
        *(v0 + 11) = 4;
    }
    v6 = *(v0 + 32);
    v7 = __OFSUB__(v6--, 1);
    *(v0 + 32) = v6;
    if ( (v6 < 0) ^ v7 )
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        object_isCurrentPanelSolid();
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v8 = *(v0 + 72);
    *(v0 + 60) += v8;
    *(v0 + 72) = v8 - 12288;
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80cab14
signed int sub_80CAB14()
{
    int v0; // r5
    signed int result; // r0

    object_clearCollisionRegion();
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cab28
int __fastcall sub_80CAB28(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(53, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 14) = 0;
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80cab44
int __fastcall sub_80CAB44(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // r0
    int v9; // r4

    v5 = a2;
    v6 = a3;
    v7 = a4;
    v8 = 3 * object_getFrontDirection(v4) + v4->panelX;
    v9 = ((v4->panelY << 8) + v8) << 16;
    return sub_80CAB28(v8, v5, v6, v7);
}


// 0x80cab68
int sub_80CAB68()
{
    int v0; // r5

    return (*(&off_80CAB7C + *(v0 + 8)))();
}


// 0x80cab88
signed int sub_80CAB88()
{
    int v0; // r5
    signed int result; // r0

    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cab90
int sub_80CAB90()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = *(*(v0 + 76) + 9);
        if ( result != 11 && result != 10 )
        {
            result = battle_isTimeStop();
            if ( v2 )
                result = (*(&off_80CABC8 + *(v0 + 9)))();
        }
    }
    return result;
}


// 0x80cabd0
int sub_80CABD0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(&dword_80CABFC + *(v0 + 4));
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80cac00
int __fastcall sub_80CAC00(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    v5 = *(v4 + 10);
    if ( !*(v4 + 10) )
    {
        *(v4 + 10) = 4;
        sub_80CAC82(v5, 4);
    }
    v6 = *(v4 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v7 )
    {
        sub_80CAD14(*(v4 + 6), *(v4 + 7), a3, a4);
        *(v4 + 9) = 0;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80cac44
int sub_80CAC44()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 80);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80cac58
int __fastcall sub_80CAC58(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-14h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a3;
    object_spawnType3(54, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 80) = v6;
        *v6 = v4;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cac82
int __fastcall __noreturn sub_80CAC82(int a1, int a2)
{
    int v2; // r5
    int v3; // r4
    int v4; // r1
    int v5; // r7
    unsigned int v10; // r0
    int v11; // r7
    int v12; // r0
    int v14; // [sp+0h] [bp-4h]
    int v15; // [sp+4h] [bp+0h]

    v14 = *(*(v2 + 96) + 19);
    v3 = 0;
    v5 = object_getPanelsInRowFiltered(v14, a2, *&byte_80CAD04[8 * *(v2 + 22)], *&byte_80CAD04[8 * *(v2 + 22) + 4]);
    if ( v5 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v10 = *(&v15 + v5);
        v4 = v10 >> 4;
        v3 = v10 & 7;
    }
    v11 = object_getPanelsIgnoreColumnFiltered(
                    v14,
                    v4,
                    *&byte_80CAD04[8 * *(v2 + 22)],
                    *&byte_80CAD04[8 * *(v2 + 22) + 4]);
    if ( v11 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v12 = *(&v15 + v11);
    }
    return v3;
}


// 0x80cad14
int __fastcall sub_80CAD14(int result, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r6

    if ( result )
    {
        v5 = *(v4 + 4);
        v6 = *(v4 + 44);
        result = sub_80CAEC8(result, a2, *(v4 + 14), a4);
    }
    return result;
}


// 0x80cad28
void sub_80CAD28()
{
    int v0; // r5

    (*(&off_80CAD40 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80cad4c
int __noreturn sub_80CAD4C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 255;
    *(v0 + 64) = object_getEnemyDirection() * *&byte_80CADCC[4 * *(v0 + 4)];
    *(v0 + 72) = 0x10000;
    sprite_load(v0, 128, 8, 13);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 23;
    *(v0 + 17) = 23;
    sprite_setAnimation(v0, 0x17u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    object_setCollisionHitEffect(2);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cade0
void __noreturn sub_80CADE0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80CAE20 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80cae28
int __fastcall sub_80CAE28(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int result; // r0

    if ( *(v3 + 10) )
    {
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( result == 36 )
        {
            object_setCollisionRegion(1);
            result = 16;
            *(v3 + 62) = 16;
        }
        else if ( result <= 0 )
        {
            *(v3 + 16) = 24;
            PlaySoundEffect(255, a2, a3);
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
        else if ( result < 36 && result >= 30 )
        {
            result = *(v3 + 72) + *(v3 + 60);
            *(v3 + 60) = result;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        v4 = object_getFlip(v3);
        SpawnT4BattleObjectWithId0(v3, v4 << 8, *(v3 + 52), *(v3 + 56), 0);
        PlaySoundEffect(235, v5, v6);
        result = 42;
        *(v3 + 32) = 42;
    }
    return result;
}


// 0x80cae94
signed int sub_80CAE94()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(*(v0 + 84) + 112) || (result = object_isCurrentPanelValid()) == 0 )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80caec0
int sub_80CAEC0()
{
    return object_genericDestroy();
}


// 0x80caec8
int __fastcall sub_80CAEC8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(55, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80caef0
void sub_80CAEF0()
{
    int v0; // r5

    (*(&off_80CAF08 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80caf14
signed int __noreturn sub_80CAF14()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 1310720 * object_getFrontDirection(v0);
    *(v0 + 60) = 2621440;
    sprite_load(v0, 128, 8, 13);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 22;
    *(v0 + 17) = 22;
    sprite_setAnimation(v0, 0x16u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = 4 * *(v0 + 4);
    *(v0 + 96) = *&byte_80CAF78[v2];
    *(v0 + 100) = *&byte_80CAF8C[v2];
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80caf9c
int sub_80CAF9C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80CAFC4 + *(v0 + 9)))();
    }
    return result;
}


// 0x80cafc8
int sub_80CAFC8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r4
    int v4; // r6
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0
    __int64 v12; // r0
    int v13; // r1

    if ( *(v0 + 10) )
    {
        v9 = *(v0 + 32);
        v10 = __OFSUB__(v9--, 1);
        *(v0 + 32) = v9;
        if ( (v9 < 0) ^ v10 )
        {
            if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & *&byte_80CB070[4 * *(v0 + 22)] )
            {
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
                sub_80CB0AE();
            }
            *(v0 + 8) = 8;
            result = 0;
            *(v0 + 34) = 0;
        }
        else
        {
            v11 = *(v0 + 34) + 1;
            *(v0 + 34) = v11;
            if ( !__CFSHR__(v11, 3) )
            {
                LODWORD(v12) = *(v0 + 20);
                HIDWORD(v12) = *(v0 + 21);
                object_highlightPanel(v12);
            }
            *(v0 + 52) += *(v0 + 64);
            *(v0 + 56) += *(v0 + 68);
            v13 = *(v0 + 72);
            *(v0 + 60) += v13;
            *(v0 + 72) = v13 + *(v0 + 100);
            result = object_setPanelsFromCoordinates(v0);
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = *(v0 + 21);
        v2 = object_getCoordinatesForPanels(*(v0 + 20));
        v3 = *(v0 + 96);
        v4 = *(v0 + 100);
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v5);
        *(v0 + 68) = v6;
        *(v0 + 72) = v7;
        *(v0 + 32) = *(v0 + 96);
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80cb078
int sub_80CB078()
{
    return object_genericDestroy();
}


// 0x80cb080
int __fastcall sub_80CB080(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(56, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 20) = v7;
        *(v4 + 21) = v8;
        *(v4 + 18) = *(v10 + 18);
        *(v4 + 19) = *(v10 + 19);
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cb0ae
int sub_80CB0AE()
{
    int v0; // r5
    int v1; // r6
    int result; // r0

    v1 = *(v0 + 44);
    result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    if ( result )
        *(result + 32) = 5;
    return result;
}


// 0x80cb0dc
void sub_80CB0DC()
{
    int v0; // r5

    (*(&off_80CB100 + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80cb10c
signed int __noreturn sub_80CB10C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 13);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 20;
    *(v0 + 17) = 20;
    sprite_setAnimation(v0, 0x14u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    PlaySoundEffect(167, v2, v3);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cb154
int sub_80CB154()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) == 4 || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80CB180 + *(v0 + 9)))();
    }
    return result;
}


// 0x80cb184
void sub_80CB184()
{
    int v0; // r5
    int v1; // r0

    if ( *(v0 + 10) )
    {
        v1 = *(v0 + 32) - 1;
        *(v0 + 32) = v1;
        if ( v1 == 13 )
        {
            sub_80CB208(1, 13);
            sub_80CB208(2, 13);
        }
        else if ( v1 == 7 )
        {
            sub_80CB248(2);
        }
        else if ( v1 <= 0 )
        {
            sub_80CB248(1);
            *(v0 + 8) = 8;
            *(v0 + 34) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        sub_80CB208(0, 32);
        *(v0 + 32) = 32;
    }
}


// 0x80cb1da
int sub_80CB1DA()
{
    return object_genericDestroy();
}


// 0x80cb1e2
int __fastcall sub_80CB1E2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(57, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cb208
_BYTE *__fastcall sub_80CB208(int a1, __int16 a2)
{
    int v2; // r5
    __int16 v3; // r6
    int v4; // ST04_4
    bool v5; // zf
    _BYTE *result; // r0
    int v7; // r1
    int v8; // r6
    _BYTE *v9; // [sp-8h] [bp-18h]
    __int16 v10; // [sp-4h] [bp-14h]

    v3 = a2;
    v9 = (object_getEnemyDirection() * a1 + *(v2 + 18));
    v4 = *(v2 + 19);
    v5 = object_isValidPanel(v9, v4) == 0;
    result = v9;
    v7 = v4;
    if ( !v5 )
    {
        v10 = v3;
        v8 = *(v2 + 44);
        result = sub_80C53A6(v9, v7, *(v2 + 14), 0);
        if ( result )
            *(result + 16) = v10;
    }
    return result;
}


// 0x80cb248
void __fastcall sub_80CB248(int a1)
{
    Battle *v1; // r5
    int v2; // r0
    int v3; // r1
    int v4; // [sp-8h] [bp-14h]

    v4 = object_getEnemyDirection() * a1 + v1->panelX;
    if ( object_isValidPanel(v4, v1->panelY) )
    {
        object_getFlip(v1);
        v2 = object_getCoordinatesForPanels(v4);
        SpawnT4BattleObjectWithId0(v1, v2, v2, v3, 0);
    }
}


// 0x80cb284
void sub_80CB284()
{
    int v0; // r5

    (*(&off_80CB29C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80cb2a8
int __noreturn sub_80CB2A8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 43);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 7, 5, 3);
    v4 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v4, v5);
    *(v0 + 100) = 40 * object_getFrontDirection(v0) * (*(v0 + 5) - *(v0 + 18)) >> 1;
    *(v0 + 104) = *&byte_80CB344[4 * *(v0 + 4)];
    *(v0 + 32) = (&off_80CB358)[*(v0 + 4)];
    *(v0 + 34) = 64;
    *(v0 + 72) = 0x400000;
    sub_80CB434();
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cb368
void __noreturn sub_80CB368()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            (*(&off_80CB39C + *(v0 + 9)))();
        else
            object_presentCollisionData(v1, v2);
    }
}


// 0x80cb3a0
signed int sub_80CB3A0()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r1
    int v5; // r4
    int v6; // r6
    __int64 v7; // r0
    signed int result; // r0

    v1 = *(v0 + 84);
    if ( *(v1 + 112) )
    {
        object_clearCollisionRegion();
        *(v1 + 112) = 0;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        v4 = *(v0 + 104) + *(v0 + 72);
        *(v0 + 72) = v4;
        *(v0 + 34) = HIWORD(v4);
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        sub_80CB45C();
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        LODWORD(v7) = *(v0 + 18);
        HIDWORD(v7) = *(v0 + 19);
        object_highlightPanel(v7);
        if ( *(v0 + 18) != v5 || (result = *(v0 + 19), result != v6) )
            result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80cb3fc
int sub_80CB3FC()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80cb410
int __fastcall sub_80CB410(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(58, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *(v4 + 22) = *(v11 + 22);
    }
    return result;
}


// 0x80cb434
int sub_80CB434()
{
    int v0; // r5
    int v1; // r1
    int v2; // r6
    int result; // r0

    object_getCoordinatesForPanels(1);
    *(v0 + 112) = v1;
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    result = object_getCoordinatesForPanels(*(v0 + 5)) + v2;
    __asm { SVC         6 }
    *(v0 + 108) = result;
    return result;
}


// 0x80cb45c
int sub_80CB45C()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // t1
    int v3; // r2
    int result; // r0

    v1 = object_getEnemyDirection();
    v2 = *(v0 + 18);
    v3 = 2 * (*(v0 + 34) & 0xFF);
    *(v0 + 52) = *(v0 + 108) + (*&math_sinTable[v3] * *(v0 + 100) << 8) * -v1;
    result = *&math_cosTable[v3] * *(v0 + 100) << 8;
    *(v0 + 56) = *(v0 + 112) + result;
    return result;
}


// 0x80cb49c
void sub_80CB49C()
{
    int v0; // r5

    (*(&off_80CB4B4 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80cb4c0
int sub_80CB4C0()
{
    int v0; // r5

    if ( *(v0 + 4) < 3 )
        **(v0 + 76) = 0;
    return object_genericDestroy();
}


// 0x80cb4d4
int __noreturn sub_80CB4D4()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    _BYTE *v3; // r7
    int v5; // r1
    char v6; // r3
    signed int v7; // r2
    int v8; // r0
    int v9; // r1

    sprite_load(v0, 128, 16, 55);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 64) = object_getFrontDirection(v0) * *&byte_80CB58C[4 * *(v0 + 4)];
    *(v0 + 18) -= object_getFrontDirection(v0);
    object_setCoordinatesFromPanels(v0);
    v2 = object_createCollisionData();
    v3 = v2;
    if ( v2 )
    {
        v5 = 4;
        v6 = 3;
        v7 = *(v0 + 4);
        if ( v7 >= 6 )
        {
            v6 = *(v0 + 5);
            if ( v7 == 9 )
                v5 = 37;
        }
        object_setupCollisionData(v2, v5, 5, v6);
        v3[1] = 0;
        v8 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v8, v9);
        if ( *(v0 + 4) < 3 )
            **(v0 + 76) = 3;
        if ( *(v0 + 4) == 9 )
        {
            sub_801A4D0(20, 2);
            sprite_setPallete(1);
        }
        *(v0 + 100) = 10;
        *(v0 + 8) = 4;
        sub_80CB5B4();
    }
    return object_freeMemory();
}


// 0x80cb5b4
void __noreturn sub_80CB5B4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_11;
    if ( *(*(v0 + 84) + 112) )
    {
        if ( *(v0 + 4) < 6 )
            goto LABEL_11;
        object_clearCollisionRegion();
        *(v0 + 96) = *(v0 + 18);
    }
    (*(&off_80CB624 + *(v0 + 9)))();
    sub_80CB6B0();
    if ( *(v0 + 11) && !*(*(v0 + 84) + 1) && *(v0 + 18) != *(v0 + 96) )
        object_setCollisionRegion(4);
    v1 = object_isCurrentPanelValid();
    if ( v1 )
    {
        object_presentCollisionData(v1, v2);
        return;
    }
LABEL_11:
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80cb628
int sub_80CB628()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    char v3; // r0
    int v4; // r0

    v1 = *(v0 + 11);
    if ( v1 == 2 )
        goto LABEL_9;
    if ( v1 == 1 )
    {
        v4 = *(v0 + 32) - 1;
        *(v0 + 32) = v4;
        if ( v4 )
            return object_updateCollisionPanels(v0);
        *(v0 + 11) = 2;
LABEL_9:
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        return object_updateCollisionPanels(v0);
    }
    result = sprite_getFrameParameters();
    if ( !(result & 0x80) )
        return result;
    *(v0 + 16) = 1;
    *(v0 + 18) += object_getFrontDirection(v0);
    object_setCoordinatesFromPanels(v0);
    object_setCollisionRegion(4);
    v3 = 2;
    if ( *(v0 + 4) < 3 )
    {
        *(v0 + 32) = 15;
        v3 = 1;
    }
    *(v0 + 11) = v3;
    return object_updateCollisionPanels(v0);
}


// 0x80cb686
int __fastcall sub_80CB686(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _DWORD *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(59, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        if ( *(v4 + 4) < 3 )
        {
            *(v4 + 76) = v6;
            *v6 = 2;
        }
        *(v4 + 22) = *(v11 + 22);
    }
    return result;
}


// 0x80cb6b0
int sub_80CB6B0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    result = *(v0 + 4);
    if ( result == 9 )
    {
        v2 = *(v0 + 100);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 100) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 100) = 5;
            result = sub_80CB6CA();
        }
    }
    return result;
}


// 0x80cb6ca
int sub_80CB6CA()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
}


// 0x80cb6f8
void sub_80CB6F8()
{
    int v0; // r5

    (*(&off_80CB710 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80cb71c
int sub_80CB71C()
{
    int v0; // r5
    _BYTE *v1; // r0
    char *v3; // r3
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v3 = &byte_80CB6F0[3 * *(v0 + 4)];
        object_setupCollisionData(v1, *v3, v3[1], v3[2]);
        v4 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v4, v5);
        *(v0 + 34) = 1;
        *(v0 + 8) = 4;
        sub_80CB762();
    }
    return object_freeMemory();
}


// 0x80cb762
void __noreturn sub_80CB762()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = *(v0 + 84);
    if ( !*(v1 + 1) )
        goto LABEL_4;
    if ( *(v1 + 112) )
    {
        PlaySoundEffect(195, v1, *(v1 + 1));
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    else if ( !battle_isBattleOver() )
    {
LABEL_4:
        v2 = (*(&off_80CB7B4 + *(v0 + 9)))();
        object_presentCollisionData(v2, v3);
        return;
    }
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80cb7bc
int sub_80CB7BC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r1
    int v5; // r2
    int v6; // r0
    int v7; // r4
    int v8; // r0
    int v9; // r1
    int v10; // r6
    char v11; // r0
    int v12; // [sp-8h] [bp-18h]
    int v13; // [sp-4h] [bp-14h]

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 10) = 0;
            *(v0 + 18) += object_getFrontDirection(v0);
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            result = object_isValidPanel(*(v0 + 18), *(v0 + 19));
            if ( !result )
            {
                object_clearCollisionRegion();
                camera_initShakeEffect_80302a8(3, 40);
                PlaySoundEffect(195, v4, v5);
                v6 = object_getFrontDirection(v0);
                v7 = ((*(v0 + 22) ^ *(v0 + 23)) << 8) + 96;
                v12 = *(v0 + 18) - v6;
                v13 = *(v0 + 19);
                v8 = object_getCoordinatesForPanels(v12);
                SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0);
                v10 = *(v0 + 44) >> *(v0 + 6);
                object_spawnCollisionRegion(v12, v13, 0, 0);
                if ( *(v0 + 5) )
                    object_crackPanel(v12, v13);
                v11 = v12 | 16 * v13;
                *(v0 + 5) = v11;
                v11 -= 16;
                *(v0 + 6) = v11;
                *(v0 + 7) = v11 + 32;
                sub_8000C72(v0 + 5, 3, 3);
                *(v0 + 34) = 3;
                *(v0 + 32) = 14;
                *(v0 + 9) = 4;
                result = 0;
                *(v0 + 10) = 0;
            }
        }
    }
    else
    {
        *(v0 + 10) = 1;
        result = *(v0 + 34);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80cb898
int sub_80CB898()
{
    int v0; // r5
    unsigned int v1; // r0
    signed int v2; // r1
    char v3; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( *(v0 + 32) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
    }
    else
    {
        *(v0 + 32) = 4;
        v1 = *(v0 + *(v0 + 34) + 4);
        v2 = v1 >> 4;
        v3 = v1 & 7;
        if ( v2 && v2 <= 3 )
        {
            v4 = object_getCoordinatesForPanels(v3);
            SpawnT4BattleObjectWithId0(v0, v4, v4, v5, 393216);
        }
        v6 = *(v0 + 34);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v0 + 34) = result;
        if ( (result < 0) ^ v7 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80cb8de
int __fastcall sub_80CB8DE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(60, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80cb900
void sub_80CB900()
{
    int v0; // r5

    (*(&off_80CB918 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80cb924
int __fastcall sub_80CB924(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int result; // r0
    int v6; // r0

    v4 = *(v3 + 9);
    if ( v4 == 1 )
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
    }
    else if ( v4 != 2 )
    {
        *(v3 + 9) = 1;
        *(v3 + 16) = 1;
        return PlaySoundEffect(292, a2, a3);
    }
    --**(v3 + 104);
    **(v3 + 108) = 0;
    v6 = *(v3 + 112);
    sub_80E5BA2();
    return object_genericDestroy();
}


// 0x80cb964
void __noreturn sub_80CB964()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x1021025u, 0xC0D0000u);
}


// 0x80cb9e2
void __noreturn sub_80CB9E2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || sub_801156A(0) == -1 || *(*(v0 + 84) + 112) & 0xF800000 )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80CBA2C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80cba34
int sub_80CBA34()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        sub_80CBAFA();
        *(v0 + 16) = 0;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cba52
int sub_80CBA52()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( object_isCurrentPanelValid() )
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 1;
            v2 = *(v0 + 100);
            if ( v2 )
            {
                *(v0 + 68) = v2 * *(v0 + 96);
                *(v0 + 64) = 0;
            }
            else
            {
                *(v0 + 32) = *(v0 + 34);
                object_setCoordinatesFromPanels(v0);
            }
        }
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        sub_80CBAFA();
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        result = 2;
        *(v0 + 9) = 2;
    }
    return result;
}


// 0x80cbab8
int __fastcall sub_80CBAB8(unsigned int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    unsigned int v8; // [sp+0h] [bp-18h]
    int v9; // [sp+4h] [bp-14h]
    int v10; // [sp+8h] [bp-10h]
    int v11; // [sp+Ch] [bp-Ch]
    int v12; // [sp+10h] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    v11 = a4;
    object_spawnType3(61, a2, a3, 0);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v10;
        *(v4 + 112) = v9;
        *(v4 + 108) = v11;
        *(v4 + 18) = v8 & 7;
        *(v4 + 19) = v8 >> 4;
        *(v4 + 14) = 2;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v12 + 22);
        *(v4 + 104) = v6;
        *(v4 + 76) = v12;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cbaf2
int __fastcall sub_80CBAF2(int result)
{
    *(result + 36) = 0;
    return result;
}


// 0x80cbafa
int sub_80CBAFA()
{
    int v0; // r5
    int result; // r0
    signed int v2; // r2
    int v3; // r1

    result = 5 * (*(v0 + 22) ^ 1) + 1;
    if ( result == *(v0 + 18) )
    {
        result = sub_80103F8(*(v0 + 22) ^ 1);
        v2 = 1;
        v3 = *(v0 + 19);
        if ( v3 != 1 )
        {
            result = *(result + 19);
            if ( result <= v3 )
            {
                if ( result == v3 )
                    v2 = 0;
                else
                    v2 = -1;
            }
        }
        *(v0 + 100) = v2;
    }
    return result;
}


// 0x80cbb44
int sub_80CBB44()
{
    int v0; // r5

    return (*(&off_80CBB58 + *(v0 + 8)))();
}


// 0x80cbb64
int sub_80CBB64()
{
    int v0; // r5
    _DWORD *v1; // r3

    v1 = *(v0 + 76);
    if ( v1 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80cbb76
signed int __noreturn sub_80CBB76()
{
    int v0; // r5
    int v1; // r0
    signed __int16 v2; // r0
    _BYTE *v3; // r0
    _BYTE *v4; // r7
    int v5; // r1
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r1
    int v10; // r2
    int v11; // r0
    int v12; // r1
    signed int result; // r0
    int v14; // [sp+0h] [bp-8h]

    object_setCoordinatesFromPanels(v0);
    sprite_load(v0, 128, 16, 0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 40) = 212;
    v2 = 50;
    if ( *(v0 + 4) )
        v2 = 150;
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    v3 = object_createCollisionData();
    v4 = v3;
    if ( !v3 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v14);
    }
    v5 = 19;
    v6 = 20;
    if ( *(v0 + 4) )
    {
        v5 = 14;
        v6 = 15;
    }
    object_setupCollisionData(v3, v5, v6, 3);
    v4[1] = 1;
    object_setCollisionHitEffect(255);
    v7 = object_clearCollisionRegion();
    object_presentCollisionData(v7, v8);
    if ( !*(v0 + 4) )
        **(v0 + 76) = v0;
    object_setFlag1(64);
    *(v0 + 32) = 15;
    *(v0 + 34) = 0;
    sub_8002C7A(0);
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    PlaySoundEffect(274, v9, v10);
    v11 = *(v0 + 18);
    *(v0 + 20) = v11;
    v12 = *(v0 + 19);
    *(v0 + 21) = v12;
    object_reservePanel(v11, v12);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cbc38
void __noreturn sub_80CBC38()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf
    int v4; // r0
    int v5; // r1

    sprite_clearFinalPalette();
    v1 = *(v0 + 36);
    v2 = *(v0 + 100);
    *(v0 + 100) = v1;
    if ( v1 != v2 )
    {
        *(v0 + 96) = 1;
        *(v0 + 34) = 20;
    }
    battle_isTimeStop();
    if ( v3 && (*(v0 + 5) == 1 || battle_isBattleOver()) )
        *(v0 + 36) = 0;
    if ( *(v0 + 4) )
        sub_801ADFA();
    else
        sub_801AD12();
    sub_801B394(&off_80CBC8C);
    object_updateSprite();
    object_presentCollisionData(v4, v5);
}


// 0x80cbcb0
// write access to const memory has been detected, the output may be wrong!
int sub_80CBCB0()
{
    int v0; // r5
    __int16 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r1
    int v6; // r2

    v1 = *(v0 + 34) + 1;
    *(v0 + 34) = v1;
    sub_8002C7A(v1);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        sprite_disableAlpha();
        *(v0 + 9) = 8;
        HIWORD(dword_8) = 0;
        sub_80CC006(0, v5, v6);
    }
    return result;
}


// 0x80cbcf4
int sub_80CBCF4()
{
    int v0; // r5

    return (*(&off_80CBD08 + *(v0 + 10)))();
}


// 0x80cbd10
void __noreturn sub_80CBD10()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2

    if ( *(v0 + 96) )
    {
        v1 = *(v0 + 34) - 1;
        *(v0 + 34) = v1;
        if ( !v1 )
            *(v0 + 96) = 0;
    }
    object_setPanelsFromCoordinates(v0);
    v2 = object_updateCollisionPanels(v0);
    sub_80CC006(v2, v3, v4);
}


// 0x80cbd32
signed int sub_80CBD32()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r0
    int v5; // r6
    int v6; // ST00_4
    int v7; // r2
    int v8; // r0
    int v9; // r6
    int v10; // r4
    int v11; // r1
    int v12; // r2
    signed int result; // r0

    sprite_setColorShader(v0, byte_80CBDE4[(*(v0 + 32) & 4u) >> 2]);
    v3 = *(v0 + 32) - 1;
    *(v0 + 32) = v3;
    if ( v3 )
        JUMPOUT(&locret_80CBE48);
    if ( *(v0 + 4) )
    {
        v9 = *(v0 + 44);
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 0, 0);
        v10 = *(v0 + 22);
        sub_801BD3C(*(v0 + 18), *(v0 + 19), 0, 15);
        v8 = PlaySoundEffect(271, v11, v12);
    }
    else
    {
        PlaySoundEffect(195, v1, v2);
        v4 = object_getPanelDataOffset(*(v0 + 18), *(v0 + 19))[3] ^ 1;
        *(v0 + 22) = v4;
        v5 = *(v0 + 44);
        v6 = *&byte_80CBDD8[4 * v4];
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 0, *(v0 + 60));
        sub_80E2FE8(v6, 2, v7, 0);
        v8 = camera_initShakeEffect_80302a8(1, 30);
    }
    sub_802EF5C(v8);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cbde6
signed int __noreturn sub_80CBDE6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    signed int result; // r0
    _DWORD *v4; // r0

    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( !(v1 & 0x300000) )
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        PlaySoundEffect(112, 0x8000, v2);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x80000);
    }
    object_clearCollisionRegion();
    v4 = clearEntryOfBattleStateBattleObjectList_800F656();
    sub_802EF5C(v4);
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cbe4a
int __fastcall sub_80CBE4A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    __int16 v8; // r3
    char v9; // [sp+0h] [bp-14h]
    char v10; // [sp+4h] [bp-10h]
    char v11; // [sp+8h] [bp-Ch]
    int v12; // [sp+Ch] [bp-8h]

    v9 = a1;
    v10 = a2;
    v11 = a3;
    object_spawnType3(62, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v9;
        *(v4 + 19) = v10;
        *(v4 + 14) = v11;
        *(v4 + 44) = v5;
        v8 = *(v12 + 22);
        *(v4 + 22) = v8;
        if ( !*(v4 + 4) )
            *(v4 + 76) = v6;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v8, 0);
    }
    return result;
}


// 0x80cbe82
signed int __fastcall sub_80CBE82(int a1, _DWORD *a2)
{
    Battle *v2; // r5
    _DWORD *v3; // r4
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r6
    int v8; // r1
    int v9; // r1
    BOOL v10; // r0
    int v12; // [sp-4h] [bp-10h]

    v3 = a2;
    if ( (a2[19] - 96) == v2 && !a2[24] )
    {
        v12 = a1;
        if ( object_getFrontDirection(v2) != ((a2[13] >> 16) - (a1 >> 16) + 2) >> 31 )
        {
            v4 = v3[14];
            v5 = convertXYToPanelXY_800E258(v12);
            if ( object_checkPanelParameters(v5, v6, 16, 109051904) )
            {
                v7 = object_getFrontDirection(v2);
                v8 = *(v3 + 19);
                if ( (object_getCoordinatesForPanels(*(v3 + 18)) - v3[13]) * v7 > 0 )
                {
                    v9 = v12;
LABEL_8:
                    v3[13] = v9;
                    return 1;
                }
                v10 = object_checkPanelParameters(*(v3 + 18) + v7, *(v3 + 19), 16, 109576320);
                v9 = v12;
                if ( v10 )
                    goto LABEL_8;
            }
        }
    }
    return 0;
}


// 0x80cbf04
signed int __fastcall sub_80CBF04(int a1, _DWORD *a2)
{
    int v2; // r5
    _DWORD *v3; // r4
    int v4; // r1
    int v5; // r0
    int v6; // r1
    BOOL v7; // r0
    int v9; // [sp-4h] [bp-Ch]

    v3 = a2;
    if ( a2[19] - 96 == v2 && !a2[24] )
    {
        v9 = a1;
        if ( object_getFrontDirection(v2) == ((a2[13] >> 16) - (v9 >> 16) - v9) >> 31 )
        {
            a2 = v9;
        }
        else
        {
            v4 = v3[14];
            v5 = convertXYToPanelXY_800E258(v9);
            v7 = object_checkPanelParameters(v5, v6, 16, 109051904);
            a2 = v9;
            if ( !v7 )
                *(v2 + 5) = 1;
        }
    }
    v3[13] = a2;
    return 1;
}


// 0x80cbf54
signed int __fastcall sub_80CBF54(int a1)
{
    int v1; // r5
    int v2; // r2
    _BYTE *v3; // r5
    char v4; // r1

    v2 = *(a1 + 76) - 96;
    if ( v2 != v1 )
        return 0;
    *(a1 + 32) = 60;
    *(a1 + 10) = 4;
    *(a1 + 76) = 0;
    *(v2 + 96) = 0;
    v3 = a1;
    object_clearFlag(64);
    object_setFlag1(0x80000);
    v4 = v3[19];
    v3[20] = v3[18];
    v3[21] = v4;
    return 1;
}


// 0x80cbf8c
int sub_80CBF8C()
{
    int v0; // r5
    int result; // r0
    char v2; // r1

    *(v0 + 32) = 60;
    *(v0 + 10) = 4;
    object_clearFlag(64);
    object_setFlag1(0x80000);
    result = *(v0 + 18);
    v2 = *(v0 + 19);
    *(v0 + 20) = result;
    *(v0 + 21) = v2;
    return result;
}


// 0x80cbfae
int __fastcall sub_80CBFAE(int a1, int a2, int a3)
{
    sub_80E2FE8(129, 2, a3, 0);
    return camera_initShakeEffect_80302a8(1, 30);
}


// 0x80cc006
BOOL __fastcall __noreturn sub_80CC006(int a1, int a2, int a3)
{
    _BYTE *v3; // r5
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    BOOL result; // r0

    sub_800EC48(v3[18], v3[19], a3, byte_80CC024);
    result = object_checkPanelParameters(v4, v5, v6, v7);
    if ( !result )
        v3[5] = 1;
    return result;
}


// 0x80cc044
int sub_80CC044()
{
    int v0; // r5

    return (*(&off_80CC058 + *(v0 + 8)))();
}


// 0x80cc064
void __noreturn sub_80CC064()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 0, 0);
    PlaySoundEffect(252, v1, v2);
    *(v0 + 8) = 4;
    sub_80CC090();
}


// 0x80cc090
void __noreturn sub_80CC090()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
        *(v0 + 8) = 8;
    sprite_update(v0);
}


// 0x80cc0b2
int __fastcall sub_80CC0B2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(63, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80cc0e8
void sub_80CC0E8()
{
    int v0; // r5

    (*(&off_80CC104 + *(v0 + 8)))();
    sub_80169BE();
    object_updateSpritePaused();
}


// 0x80cc110
void __noreturn sub_80CC110()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    char v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 40;
    ++*(v0 + 60);
    ++*(v0 + 56);
    sprite_load(v0, 128, 16, 42);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 44) = *&byte_80CC0D8[4 * *(v0 + 4)];
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 12, 13, 3);
        object_setCollisionHitEffect(6);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        *(v0 + 7) = 0;
        v5 = *(v0 + 19);
        *(v0 + 20) = *(v0 + 18);
        *(v0 + 21) = v5;
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80cc1a0
void __noreturn sub_80CC1A0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *&byte_80CC200[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
        {
            object_clearCollisionRegion();
            *(v0 + 10) = 12;
        }
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80CC1F0 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80cc208
int sub_80CC208()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( *(v0 + 7) == 2 )
    {
        *(v0 + 7) = 0;
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        if ( !*(v0 + 11) )
        {
            *(v0 + 11) = 4;
            *(v0 + 32) = 120;
        }
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1, 1);
        result = v1 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80cc23e
int sub_80CC23E()
{
    int v0; // r5

    return (*(&off_80CC250 + *(v0 + 10)))();
}


// 0x80cc260
int sub_80CC260()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( !__CFSHR__(v2, 3) )
            object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), 8, *(v0 + 22));
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v4 )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 1;
        *(v0 + 32) = 20;
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80cc29e
int sub_80CC29E()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    char v4; // r0
    __int16 v5; // r0
    int v6; // r2

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            v4 = 2;
            if ( *(v0 + 22) )
                v4 = 5;
            *(v0 + 18) = v4;
            object_setCoordinatesFromPanels(v0);
            *(v0 + 62) = 20;
            object_updateCollisionPanels(v0);
            *(v0 + 64) = object_getEnemyDirection() * *&byte_80CC310[4 * *(v0 + 4)];
            *(v0 + 16) = 2;
            sprite_hasShadow();
            object_setCollisionRegion(1);
            v5 = *&byte_80CC0D0[2 * *(v0 + 4)];
            *(v0 + 36) = v5;
            *(v0 + 38) = v5;
            PlaySoundEffect(255, byte_80CC0D0, v6);
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 1;
        result = 5;
        *(v0 + 32) = 5;
    }
    return result;
}


// 0x80cc36c
int sub_80CC36C()
{
    int v0; // r5
    char v1; // r1
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 25 )
        {
            result = 0;
            *(v0 + 16) = 0;
        }
        else if ( result < 0 )
        {
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        v1 = *(v0 + 21);
        *(v0 + 18) = *(v0 + 20);
        *(v0 + 19) = v1;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 62) = 40;
        object_updateCollisionPanels(v0);
        *(v0 + 16) = 3;
        sprite_noShadow(v0);
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80cc3b8
int sub_80CC3B8()
{
    int v0; // r5

    return (*(&off_80CC3CC + *(v0 + 10)))();
}


// 0x80cc3dc
int sub_80CC3DC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 4;
        result = 14;
        *(v0 + 32) = 14;
    }
    return result;
}


// 0x80cc400
int sub_80CC400()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 62) = 255;
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 5;
        result = 2;
        *(v0 + 32) = 2;
    }
    return result;
}


// 0x80cc428
signed int sub_80CC428()
{
    int v0; // r5
    signed int result; // r0

    result = *(*(v0 + 76) + 9);
    if ( result != 12 )
    {
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80cc43a
int sub_80CC43A()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 25 )
        {
            result = 0;
            *(v0 + 16) = 0;
        }
        else if ( result < 0 )
        {
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 62) = 40;
        *(v0 + 16) = 3;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80cc472
int sub_80CC472()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80cc486
int __fastcall sub_80CC486(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-10h]
    char v9; // [sp+4h] [bp-Ch]
    int v10; // [sp+8h] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(64, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *(v4 + 100) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *v4 |= 0x10u;
        sub_80CC110();
    }
    return result;
}


// 0x80cc4c4
void sub_80CC4C4()
{
    int v0; // r5

    (*(&off_80CC4E0 + *(v0 + 8)))();
    sub_80169BE();
    object_updateSprite();
}


// 0x80cc4ec
void __noreturn sub_80CC4EC()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    ++*(v0 + 60);
    ++*(v0 + 56);
    sprite_load(v0, 128, 16, 41);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 41, 0, 0);
        v3 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80cc562
void __noreturn sub_80CC562()
{
    int v0; // r5
    int v1; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(0, v1);
    }
}


// 0x80cc584
_BYTE *__fastcall sub_80CC584(char a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    _BYTE *result; // r0
    char v6; // [sp+0h] [bp-10h]
    char v7; // [sp+4h] [bp-Ch]
    int v8; // [sp+8h] [bp-8h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(65, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4[18] = v6;
        v4[19] = v7;
        v4[22] = *(v8 + 22);
        sub_80CC4EC();
    }
    return result;
}


// 0x80cc5a8
int sub_80CC5A8()
{
    int v0; // r5

    return (*(&off_80CC5BC + *(v0 + 8)))();
}


// 0x80cc5c8
int sub_80CC5C8()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    if ( object_isCurrentPanelValid() )
        sub_8011504(0x100040Fu, 0x4050000u);
    SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
    return object_freeMemory();
}


// 0x80cc668
void __noreturn sub_80CC668()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    __int64 v4; // r0
    int v5; // r0
    int v6; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = *(*(v0 + 84) + 112);
    if ( !v1 )
    {
LABEL_4:
        (*(&off_80CC6E4 + *(v0 + 9)))();
        if ( !*(*(v0 + 84) + 1) )
        {
            if ( *(v0 + 18) == *(v0 + 96) )
            {
LABEL_8:
                object_updateSprite();
                object_presentCollisionData(v5, v6);
                return;
            }
            object_setCollisionRegion(1);
        }
        LODWORD(v4) = *(v0 + 18);
        HIDWORD(v4) = *(v0 + 19);
        object_highlightPanel(v4);
        goto LABEL_8;
    }
    if ( !(v1 & 0x800000) )
    {
        *(v0 + 96) = *(v0 + 18);
        object_clearCollisionRegion();
        PlaySoundEffect(301, v2, v3);
        goto LABEL_4;
    }
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80cc6e8
int sub_80CC6E8()
{
    int v0; // r5
    int v1; // ST00_4
    int v2; // ST04_4
    signed int v3; // r0

    v1 = *(v0 + 52);
    v2 = *(v0 + 56);
    *(v0 + 34) += *(v0 + 104);
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) = 6144 * *&math_sinTable[2 * (*(v0 + 34) >> 8)] + *(v0 + 108);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v3 = *(v0 + 18);
    if ( v3 < 1 || v3 > 6 )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    return object_highlightCurrentCollisionPanels();
}


// 0x80cc73c
int __fastcall sub_80CC73C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(66, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80cc76c
void sub_80CC76C()
{
    int v0; // r5

    (*(&off_80CC784 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80cc790
int __noreturn sub_80CC790()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    __int16 v6; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 20;
    sprite_load(v0, 128, 16, 57);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 64, 13, 3);
    v4 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v4, v5);
    v6 = *&byte_80CC764[2 * *(v0 + 4)];
    *(v0 + 36) = v6;
    *(v0 + 38) = v6;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cc800
void __noreturn sub_80CC800()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver()
        || (v1 = object_applyDamage(0), (v1 < 0) ^ v2)
        || *&byte_80CC860[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = battle_isTimeStop();
        if ( v5 )
            v3 = (*(&off_80CC850 + *(v0 + 9)))();
        object_presentCollisionData(v3, v4);
    }
}


// 0x80cc868
int __fastcall sub_80CC868(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(183, 4, a3);
        result = *(v3 + 5);
        *(v3 + 32) = result;
    }
    return result;
}


// 0x80cc892
int sub_80CC892()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        result = 1;
        *(v0 + 32) = 1;
    }
    return result;
}


// 0x80cc8ba
int __fastcall sub_80CC8BA(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    if ( *(v3 + 10) )
    {
        *(v3 + 52) += *(v3 + 64);
        object_setPanelsFromCoordinates(v3);
        object_updateCollisionPanels(v3);
        result = object_isCurrentPanelValid();
        if ( !result )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v3 + 8) = 8;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(179, 4, a3);
        result = *&byte_80CC908[4 * *(v3 + 4)] * object_getFrontDirection(v3);
        *(v3 + 64) = result;
    }
    return result;
}


// 0x80cc918
int __fastcall sub_80CC918(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(67, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cc944
int sub_80CC944()
{
    int v0; // r5

    return (*(&off_80CC958 + *(v0 + 8)))();
}


// 0x80cc964
int sub_80CC964()
{
    int v0; // r5
    _BYTE *v1; // r0
    _BYTE *v2; // r4
    int result; // r0
    int v4; // r1
    int v5; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    v1 = object_createCollisionData();
    v2 = v1;
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, *(v0 + 7), *(v0 + 6), *(v0 + 96));
    object_setCollisionHitEffect(*(v0 + 5));
    v2[1] = *(v0 + 4);
    v5 = *(v0 + 100);
    if ( v5 )
        v5 = object_setCollisionStatusEffect1(v5);
    object_presentCollisionData(v5, v4);
    *(v0 + 32) = *(v0 + 104);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cc9aa
void __noreturn sub_80CC9AA()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver()
        || *&byte_80CC9F4[4 * *(v0 + 22)] & *(*(v0 + 84) + 112)
        || (v1 = *(v0 + 108), *(*(v0 + 76) + 9) != v1)
        || (v2 = *(v0 + 32), v3 = __OFSUB__(v2, 1), v4 = v2 - 1, *(v0 + 32) = v4, ((v4 < 0) ^ v3) | (v4 == 0)) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v4, v1);
    }
}


// 0x80cc9fc
int __fastcall sub_80CC9FC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    unsigned int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(68, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 100) = v6 >> 8;
        *(v4 + 104) = (v6 >> 16) & 0xFF;
        *(v4 + 108) = v6 >> 24;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cca40
int sub_80CCA40()
{
    int v0; // r5

    return (*(&off_80CCA54 + *(v0 + 8)))();
}


// 0x80cca60
void sub_80CCA60()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r2

    v0->objFlags |= 2u;
    sprite_load(v0, 128, 12, 0);
    sprite_noShadow(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v0->currAnimation = 0;
    v0->currAnimationCpy = -1;
    v0->vz = 0x80000;
    v2 = v0->panelY;
    v0->x = object_getCoordinatesForPanels(v0->panelX);
    v0->y = v3;
    v0->z = 0x1000000;
    PlaySoundEffect(261, v3, v4);
    v0->currState = 4;
    sub_80CCAB8();
}


// 0x80ccab8
void sub_80CCAB8()
{
    int v0; // r5

    if ( battle_isBattleOver() )
    {
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
    }
    else
    {
        (*(&off_80CCAE4 + *(v0 + 9)))();
        object_updateSprite();
    }
}


// 0x80ccaf4
// write access to const memory has been detected, the output may be wrong!
int __fastcall sub_80CCAF4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r1
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // r6

    v4 = *(v3 + 60);
    v5 = *(v3 + 72);
    v6 = __OFSUB__(v4, v5);
    result = v4 - v5;
    *(v3 + 60) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v3 + 60) = 0;
        PlaySoundEffect(289, v5, a3);
        v8 = *(v3 + 44);
        if ( sub_80C53A6(*(v3 + 18), *(v3 + 19), 2, *(v3 + 60)) )
            byte_0[3] |= 0x10u;
        if ( object_checkPanelParameters(
                     *(v3 + 18),
                     *(v3 + 19),
                     *&byte_80CCBC0[8 * *(v3 + 22) + 4],
                     *&byte_80CCBC0[8 * *(v3 + 22)]) )
        {
            if ( object_checkPanelParameters(
                         *(v3 + 18),
                         *(v3 + 19),
                         *&byte_80CCBB0[8 * *(v3 + 22) + 4],
                         *&byte_80CCBB0[8 * *(v3 + 22)]) )
            {
                if ( sub_800D668(*(v3 + 18), *(v3 + 19), *(v3 + 22) ^ 1) )
                    object_setPanelAlliance(*(v3 + 18), *(v3 + 19), *(v3 + 22));
            }
            result = 4;
            *(v3 + 9) = 4;
        }
        else
        {
            SpawnT4BattleObjectWithId0(v3, v3 + 64, *(v3 + 52), *(v3 + 56), *(v3 + 60) + 0x100000);
            **(v3 + 96) = 0;
            result = object_freeMemory();
        }
    }
    return result;
}


// 0x80ccbd0
signed int sub_80CCBD0()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 1;
    result = 8;
    *(v0 + 9) = 8;
    return result;
}


// 0x80ccbdc
int sub_80CCBDC()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        *(v0 + 16) = 2;
        *(v0 + 32) = 60;
        result = 12;
        *(v0 + 9) = 12;
    }
    return result;
}


// 0x80ccbf6
int sub_80CCBF6()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        **(v0 + 96) = 0;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ccc1e
int sub_80CCC1E()
{
    return object_freeMemory();
}


// 0x80ccc26
int __fastcall sub_80CCC26(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-10h]
    char v9; // [sp+4h] [bp-Ch]
    int v10; // [sp+8h] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(69, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = 1;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80ccc48
int sub_80CCC48()
{
    int v0; // r5

    return (*(&off_80CCC5C + *(v0 + 8)))();
}


// 0x80ccc68
void sub_80CCC68()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r2

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 19);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    *(v0 + 72) = 0x80000;
    v1 = *(v0 + 19);
    *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
    *(v0 + 56) = v2;
    *(v0 + 60) = 12582912;
    if ( !*(v0 + 4) )
        PlaySoundEffect(161, v2, v3);
    *(v0 + 8) = 4;
    sub_80CCCBC();
}


// 0x80cccbc
void sub_80CCCBC()
{
    int v0; // r5

    (*(&off_80CCCD4 + *(v0 + 9)))();
    object_updateSprite();
}


// 0x80ccce0
// write access to const memory has been detected, the output may be wrong!
int __fastcall sub_80CCCE0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r1
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // r6

    v4 = *(v3 + 60);
    v5 = *(v3 + 72);
    v6 = __OFSUB__(v4, v5);
    result = v4 - v5;
    *(v3 + 60) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v3 + 60) = 0;
        if ( !*(v3 + 4) )
            PlaySoundEffect(162, v5, a3);
        v8 = *(v3 + 44);
        if ( sub_80C53A6(*(v3 + 18), *(v3 + 19), 0, *(v3 + 60)) )
            byte_4B = -13;
        result = 4;
        *(v3 + 9) = 4;
    }
    return result;
}


// 0x80ccd24
signed int sub_80CCD24()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 1;
    result = 8;
    *(v0 + 9) = 8;
    return result;
}


// 0x80ccd30
int sub_80CCD30()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters() & 0x80;
    if ( result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ccd42
int sub_80CCD42()
{
    return object_freeMemory();
}


// 0x80ccd4a
int __fastcall sub_80CCD4A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(70, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80ccd70
void sub_80CCD70()
{
    int v0; // r5

    (*(&off_80CCD88 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80ccd94
int __noreturn sub_80CCD94()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 255;
    sprite_load(v0, 128, 16, 66);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    object_setCollisionHitEffect(255);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80ccdfc
void __noreturn sub_80CCDFC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *&byte_80CCE5C[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80CCE48 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80cce64
int sub_80CCE64()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    __int64 v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( !__CFSHR__(v2, 3) )
        {
            LODWORD(v3) = *(v0 + 18);
            HIDWORD(v3) = *(v0 + 19);
            object_highlightPanel(v3);
        }
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v5 )
        {
            object_setCollisionRegion(1);
            *(v0 + 62) = 0;
            sprite_hasShadow();
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 6);
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80cceac
int sub_80CCEAC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 60;
        *(v0 + 32) = 60;
    }
    return result;
}


// 0x80cced0
int sub_80CCED0()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int result; // r0
    int v6; // r4
    int v7; // r6
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // ST00_4

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v6 = *(v0 + 18);
        v7 = *(v0 + 19);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v8 = *(v0 + 32);
        v9 = __OFSUB__(v8--, 1);
        *(v0 + 32) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) || !object_isCurrentPanelValid() )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            if ( *(v0 + 18) != v6 || *(v0 + 19) != v7 )
                object_setCollisionRegion(1);
            v10 = *(v0 + 18);
            object_getPanelParameters(v10, *(v0 + 19));
            result = v10;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = *&byte_80CCF6C[4 * *(v0 + 4)];
        v2 = object_getFrontDirection(v0);
        v3 = 2 * *(v0 + 5);
        v4 = byte_80CCF80[v3 + 1] * v1;
        *(v0 + 64) = byte_80CCF80[v3] * -v2 * v1;
        *(v0 + 68) = v4;
        result = *(v0 + 7);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80ccf88
int sub_80CCF88()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ccfac
int __fastcall sub_80CCFAC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(71, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80ccfdc
int sub_80CCFDC()
{
    int v0; // r5

    return (*(&off_80CCFF0 + *(v0 + 8)))();
}


// 0x80ccffc
void __noreturn sub_80CCFFC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int v4; // r0
    int v5; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 4, 9);
    sprite_noShadow(v0);
    sprite_setPallete(*(v0 + 4));
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 14) = 0;
    *(v0 + 40) = *(v0 + 4) + 214;
    v2 = 4 * *(v0 + 4);
    *(v0 + 96) = &byte_80CCFD4[v2];
    LOWORD(v2) = *&byte_80CCFD4[v2 + 2];
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    *(v0 + 32) = dword_5A0;
    v3 = object_createCollisionData();
    if ( v3 )
    {
        v4 = object_setupCollisionData(v3, 19, 20, 0);
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 4;
        sub_80CD08C();
    }
    object_freeMemory();
}


// 0x80cd08c
void __noreturn sub_80CD08C()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    sub_801B394(&off_80CD0B8);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80cd0e0
int __fastcall sub_80CD0E0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    PlaySoundEffect(148, a2, a3);
    *(v3 + 34) = **(v3 + 96);
    *(v3 + 9) = 8;
    result = 0;
    *(v3 + 10) = 0;
    return result;
}


// 0x80cd0f8
int sub_80CD0F8()
{
    int v0; // r5

    return (*(&off_80CD10C + *(v0 + 10)))();
}


// 0x80cd114
signed int __fastcall sub_80CD114(int a1, int a2, int a3)
{
    int v3; // r5
    signed int result; // r0

    PlaySoundEffect(173, a2, a3);
    sub_80E541A(v3, *(v3 + 22), 0);
    result = 4;
    *(v3 + 10) = 4;
    return result;
}


// 0x80cd12c
int sub_80CD12C()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 108) = 3;
        *(v0 + 9) = 9;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cd144
int sub_80CD144()
{
    int v0; // r5

    return (*(&off_80CD158 + *(v0 + 10)))();
}


// 0x80cd160
int sub_80CD160()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r0

    if ( !*(v0 + 100) || (result = *(v0 + 101), !*(v0 + 101)) )
    {
        v2 = *(v0 + 108) - 1;
        *(v0 + 108) = v2;
        if ( !v2 )
            *(v0 + 108) = 3;
        v3 = *(v0 + 108);
        v4 = *(*(v0 + 96) + 1);
        if ( !*(*(v0 + 96) + 1) )
            sub_80CD26C(v4, v3);
        sub_80CD236(v4, v3);
    }
    return result;
}


// 0x80cd1ae
int sub_80CD1AE()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cd1be
int sub_80CD1BE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    *(v0 + 100) = 0;
    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(0);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        PlaySoundEffect(112, 0x8000, v2);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    sub_80E544C(v0);
    object_clearCollisionRegion();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cd236
int __fastcall __noreturn sub_80CD236(int a1, int a2)
{
    Battle *v2; // r5
    int v3; // r6
    int v4; // r0
    int v5; // r1
    int v6; // r6
    int v7; // r0
    int v8; // ST04_4
    bool v9; // zf
    int result; // r0
    int v11; // [sp-8h] [bp-18h]

    v3 = a2;
    v4 = object_getFrontDirection(v2);
    v5 = v3;
    v6 = -v4;
    v7 = 5 * (v2->Alliance ^ v2->directionFlip ^ 1) + 1;
    while ( 1 )
    {
        v11 = v7;
        v8 = v5;
        v9 = (object_getPanelParameters(v7, v5) & 0x800000) == 0;
        result = v11;
        v5 = v8;
        if ( v9 )
            break;
        v7 = v11 + v6;
        if ( !(v11 + v6) || v7 >= 7 )
            return 0;
    }
    return result;
}


// 0x80cd26c
int __fastcall __noreturn sub_80CD26C(int a1, int a2)
{
    Battle *v2; // r5
    int v3; // ST04_4
    int v4; // r6
    int v5; // ST00_4
    int v6; // r1
    bool v7; // zf
    int result; // r0

    v3 = a2;
    v4 = object_getFrontDirection(v2);
    v5 = object_getClosestPanelMatchingRowFiltered(
                 v2->Alliance ^ v2->directionFlip,
                 v3,
                 *&byte_80CD2A4[8 * v2->Alliance],
                 *&byte_80CD2A4[8 * v2->Alliance + 4])
         + v4;
    v7 = (object_getPanelParameters(v5, v6) & 0x800000) == 0;
    result = v5;
    if ( !v7 )
        result = 0;
    return result;
}


// 0x80cd2b4
int __fastcall sub_80CD2B4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    __int16 v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(72, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 22) = v9;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v9, 1);
    }
    return result;
}


// 0x80cd2ec
void sub_80CD2EC()
{
    int v0; // r5

    (*(&off_80CD304 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80cd310
void __noreturn sub_80CD310()
{
    int v0; // r5
    char v1; // r0
    _BYTE *v2; // r0
    char v3; // r3
    int v4; // r0

    if ( !__CFSHL__(*(v0 + 4), 25) )
        *v0 |= 2u;
    sprite_load(v0, 128, 12, 46);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1 & 0x7F ^ *(v0 + 4));
    *(v0 + 14) = 5;
    sprite_setPallete(2 * *(v0 + 4));
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 64) = 655360 * object_getFlipDirection(*(v0 + 22) ^ *(v0 + 4) & 0x7F, *(v0 + 23));
    v2 = object_createCollisionData();
    if ( v2 )
    {
        v3 = 8;
        if ( *(v0 + 4) & 1 )
            v3 = 4;
        v4 = object_setupCollisionData(v2, 30, 5, v3);
        *(v4 + 46) = 0;
        object_presentCollisionData(v4, 0);
        *(v0 + 8) = 4;
        sub_80CD3B0();
    }
    object_freeMemory();
}


// 0x80cd3b0
void __noreturn sub_80CD3B0()
{
    int v0; // r5
    _BYTE *v1; // r0
    _BYTE *v2; // r1
    int v3; // r0

    object_removeCollisionData();
    if ( *(v0 + 96) && *(*(v0 + 84) + 112) )
        goto LABEL_8;
    v1 = *(v0 + 100);
    if ( v1 )
    {
        if ( !*v1 )
            goto LABEL_8;
    }
    if ( battle_isBattleOver() )
    {
        v2 = *(v0 + 100);
        if ( v2 )
            *v2 = 0;
LABEL_8:
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
        return;
    }
    v3 = (*(&off_80CD410 + *(v0 + 9)))();
    object_presentCollisionData(v3, *(v0 + 4) << 25);
}


// 0x80cd414
signed int sub_80CD414()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r7
    bool v4; // zf
    signed int result; // r0
    _BYTE *v6; // r1
    int v7; // [sp-8h] [bp-14h]
    int v8; // [sp-4h] [bp-10h]

    if ( *(*(v0 + 84) + 112) & 0x800000 )
        goto LABEL_11;
    *(v0 + 52) += *(v0 + 64);
    v1 = convertBattleObjectXYToPanelXY_800E24C();
    *(v0 + 18) = v1;
    *(v0 + 19) = v2;
    v3 = *(v0 + 84);
    *(v3 + 10) = v1;
    *(v3 + 11) = v2;
    v7 = v1;
    v8 = v2;
    v4 = object_isValidPanel(v1, v2) == 0;
    result = v7;
    if ( v4
        || !__CFSHL__(*(v0 + 4), 25)
        && (result = object_checkPanelParameters(v7, v8, *&byte_80CD478[8 * *(v0 + 22)], *&byte_80CD478[8 * *(v0 + 22) + 4])) == 0 )
    {
LABEL_11:
        object_clearCollisionRegion();
        v6 = *(v0 + 100);
        if ( v6 )
            *v6 = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80cd488
int __fastcall sub_80CD488(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    __int16 v10; // [sp+8h] [bp-Ch]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(73, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 22) = v10;
        *(v4 + 44) = v5;
        *(v4 + 100) = v6;
        if ( v6 )
            *v6 = 1;
    }
    return result;
}


// 0x80cd4ac
int __fastcall sub_80CD4AC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int v7; // r1
    int v8; // r2

    v5 = 5 * (*(v4 + 22) ^ *(v4 + 23) ^ 1) + 1;
    v6 = 1;
    do
        sub_80CD488(v5, v6++, *(v4 + 22) << *(v4 + 23), a4);
    while ( v6 <= 3 );
    return PlaySoundEffect(173, v7, v8);
}


// 0x80cd4ec
int sub_80CD4EC()
{
    int v0; // r5

    return (*(&off_80CD500 + *(v0 + 8)))();
}


// 0x80cd50c
int __noreturn sub_80CD50C()
{
    Battle *obj; // r5
    char v1; // r0
    int v2; // r0
    int v3; // r1
    int v4_x; // ST08_4
    int v5_y; // ST0C_4
    int v6; // r0
    u32 v7; // r1
    int v8; // r1
    _BYTE *v9; // r0
    int result; // r0
    CollisionData *v11; // r0
    int v12; // r0
    int v13; // r1
    int v14; // r1
    int v15; // r0
    _DWORD *v16; // r7
    int v17; // r1

    obj->objFlags |= 2u;
    sprite_load(obj, 128, 12, 36);
    *&obj->currAnimation = 0;
    sprite_setAnimation(obj, 0);
    sprite_loadAnimationData(obj);
    sprite_hasShadow();
    obj->nameID = 213;
    if ( LOBYTE(obj->objParams) )
        goto LABEL_10;
    v1 = BYTE2(obj->objParams);
    obj->futurePanelX = v1;
    obj->futurePanelY = HIBYTE(obj->objParams);
    v2 = object_getCoordinatesForPanels(v1);
    v4_x = v2;
    v5_y = v3;
    v6 = calcAngle_800117C(v3 - obj->y, v2 - obj->x);
    obj->pad_0C[0] = v6;
    obj->vx = sub_80011A0(v6, 180224);
    obj->vy = v7;
    obj->vz = sub_800120E(&obj->x, v4_x, v5_y, 0);
    obj->Timer = v8;
    if ( v8 )
    {
LABEL_10:
        obj->HP = 100;
        obj->maxHP = 100;
        obj->Timer = 6000;
        v9 = object_createCollisionData();
        if ( v9 )
        {
            object_setupCollisionData(v9, 79, 15, 3);
            v11 = obj->collisionData;
            v11->selfDamage = 100;
            v11->staminaDmg_counterDisabler = 30;
            object_clearCollisionRegion();
            v12 = object_setCollisionHitEffect(10);
            object_presentCollisionData(v12, v13);
            obj->currState = 4;
            sub_80CD5F8();
        }
        sub_802EF5C(0);
        clearEntryOfBattleStateBattleObjectList_800F656();
        result = object_freeMemory();
    }
    else
    {
        v14 = HIBYTE(obj->objParams);
        v15 = object_getCoordinatesForPanels(BYTE2(obj->objParams));
        v16 = &obj->x;
        *v16 = v15;
        v16[1] = v17;
        v16[2] = 0;
        sub_802EF5C(v15);
        clearEntryOfBattleStateBattleObjectList_800F656();
        result = object_genericDestroy();
    }
    return result;
}


// 0x80cd5f8
void __noreturn sub_80CD5F8()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sub_801AD12();
    object_spawnCollisionEffect();
    sub_80CD7A0();
    if ( !v0[4] )
        sub_800F672();
    sub_801B750(&off_80CD62C);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80cd654
int sub_80CD654()
{
    int v0; // r5
    int v1; // r0
    int v2; // r3
    int v3; // r4
    int v4; // r6
    int result; // r0
    int v6; // r1
    int v7; // r2
    _DWORD *v8; // r7
    char v9; // r0
    char v10; // r1
    int v11; // r7
    int *v12; // r7
    int v13; // r1

    if ( *(v0 + 4) )
    {
        object_setCollisionRegion(1);
        *v0 |= 0x10u;
        *(v0 + 9) = 9;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        v1 = *(v0 + 32) - 1;
        *(v0 + 32) = v1;
        if ( !v1
            || (v2 = *(v0 + 64),
                    v3 = *(v0 + 68),
                    v4 = *(v0 + 72) - 10240,
                    *(v0 + 72) = v4,
                    result = *(v0 + 52) + v2,
                    v6 = *(v0 + 56) + v3,
                    v7 = *(v0 + 60) + v4,
                    v7 <= 0) )
        {
            v9 = *(v0 + 6);
            v10 = *(v0 + 7);
            *(v0 + 18) = v9;
            *(v0 + 19) = v10;
            v11 = *(v0 + 84);
            *(v11 + 10) = v9;
            *(v11 + 11) = v10;
            v12 = (v0 + 52);
            *v12 = object_getCoordinatesForPanels(v9);
            v12[1] = v13;
            v12[2] = 0;
            object_isCurrentPanelSolid();
        }
        v8 = (v0 + 52);
        *v8 = result;
        v8[1] = v6;
        v8[2] = v7;
    }
    return result;
}


// 0x80cd6fc
void sub_80CD6FC()
{
    ;
}


// 0x80cd700
int sub_80CD700()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r1
    int v4; // r2

    object_clearCollisionRegion();
    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(1);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else if ( *(v0 + 11)
                 || (*(v0 + 11) = 4, *v0 &= 0xFDu, *(v0 + 36))
                 || (SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60)), *(v0 + 96)) )
    {
        result = battle_isTimeStop();
        if ( result )
            return result;
    }
    else
    {
        result = PlaySoundEffect(112, v3, v4);
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cd78e
int sub_80CD78E()
{
    int v0; // r5

    sub_80CD7D0();
    object_freeCollisionData(*(v0 + 84));
    return object_freeMemory();
}


// 0x80cd7a0
int sub_80CD7A0()
{
    int v0; // r5
    int result; // r0
    int v2; // r7

    result = *(v0 + 96);
    if ( !result )
    {
        v2 = *(v0 + 84);
        result = *(v2 + 132);
        if ( *(v2 + 132) )
        {
            *(v0 + 96) = 1;
            object_clearCollisionRegion();
            *v0 &= 0xFDu;
            *(v0 + 36) = 0;
            *(v0 + 9) = 2;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80cd7d0
int sub_80CD7D0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r6
    int v4; // ST00_4
    int v5; // r2
    int v6; // r1
    int v7; // r2

    result = *(v0 + 96);
    if ( result )
    {
        v2 = object_getPanelDataOffset(*(v0 + 18), *(v0 + 19))[3] ^ 1;
        *(v0 + 22) = v2;
        v3 = *(v0 + 44);
        v4 = *&byte_80CD828[4 * v2];
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 1, *(v0 + 60));
        sub_80E2FE8(v4, 2, v5, 0);
        camera_initShakeEffect_80302a8(1, 60);
        result = PlaySoundEffect(195, v6, v7);
    }
    return result;
}


// 0x80cd830
int __fastcall sub_80CD830(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    int v8; // [sp+0h] [bp-Ch]
    int v9; // [sp+4h] [bp-8h]

    v8 = a1;
    object_spawnType3(74, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 100) = v8;
        *(v4 + 44) = v5;
        v7 = *(v9 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80cd858
int __fastcall sub_80CD858(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r1
    int v7; // [sp+0h] [bp-1Ch]
    char v8; // [sp+4h] [bp-18h]
    char v9; // [sp+8h] [bp-14h]
    __int16 v10; // [sp+10h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a4;
    object_spawnType3(74, a2, a3, a4);
    result = v7;
    if ( v4 )
    {
        *(v4 + 44) = v10;
        *(v4 + 22) = v9;
        *v4 |= 0x10u;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 52) = object_getCoordinatesForPanels(v7);
        *(v4 + 56) = v6;
        result = 0;
        *(v4 + 60) = 0;
    }
    return result;
}


// 0x80cd886
int __fastcall sub_80CD886(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // ST0C_4
    int v9; // r4

    v5 = a1;
    v6 = a2;
    v7 = a3;
    v8 = a4;
    v9 = (*(v4 + 18) + 3 * object_getFrontDirection(v4)) << 16;
    return sub_80CD830(v5, v6, v7, v8);
}


// 0x80cd8ec
int sub_80CD8EC()
{
    int v0; // r5

    return (*(&off_80CD900 + *(v0 + 8)))();
}


// 0x80cd90c
int sub_80CD90C()
{
    int v0; // r5
    _DWORD *v1; // r0

    v1 = *(v0 + 76);
    if ( v1 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80cd91e
int __noreturn sub_80CD91E()
{
    int v0; // r5
    int v1; // r2
    int v2; // r4
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    u8 v7; // r0
    int v8; // r1
    int v9; // r2
    signed __int16 v10; // r1
    __int16 v11; // r0
    _BYTE *v12; // r0
    int v14; // r0
    int v15; // r1

    object_setCoordinatesFromPanels(v0);
    v2 = *(v0 + 96);
    if ( !*(v0 + 76)
        || (sub_81096FA(*(v0 + 18), *(v0 + 19), v1, byte_80CDAC8), object_checkPanelParameters(v3, v4, v5, v6)) )
    {
        *v0 |= 2u;
        sprite_load(v0, 128, 12, 35);
        v7 = *v2;
        *(v0 + 16) = *v2;
        *(v0 + 17) = v7;
        sprite_setAnimation(v0, v7);
        sprite_loadAnimationData(v0);
        sprite_hasShadow();
        sub_8002EAC();
        *(v0 + 60) = 0;
        *(v0 + 20) = *(v0 + 18);
        PlaySoundEffect(148, v8, v9);
        v10 = 216;
        if ( *(v0 + 4) == 1 )
            v10 = 217;
        *(v0 + 40) = v10;
        v11 = *(v2 + 2);
        *(v0 + 36) = v11;
        *(v0 + 38) = v11;
        v12 = object_createCollisionData();
        if ( v12 )
        {
            object_setupCollisionData(v12, *(v2 + 6), *(v2 + 7), 3);
            v14 = object_clearCollisionRegion();
            object_presentCollisionData(v14, v15);
            *(v0 + 8) = 4;
            sub_80CD9CA();
        }
    }
    else
    {
        **(v0 + 76) = 0;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x80000);
    }
    return object_freeMemory();
}


// 0x80cd9ca
void __noreturn sub_80CD9CA()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    sprite_clearFinalPalette();
    if ( battle_isBattleOver() )
        *(v0 + 36) = 0;
    sub_801AD12();
    sub_801B394(&off_80CD9F4);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80cda1c
int sub_80CDA1C()
{
    int v0; // r5
    int result; // r0
    int v2; // r3
    int v3; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v2 = 260571264;
        if ( *(*(v0 + 96) + 4) & 2 )
            v2 = 59244672;
        if ( object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 65552, v2) )
        {
            *(v0 + 16) = *(*(v0 + 96) + 1);
            *(v0 + 32) = 60;
            object_setCollisionRegion(1);
            *(v0 + 9) = 8;
            *(v0 + 10) = 0;
            if ( *(v0 + 4) > 1 )
                object_reservePanel(*(v0 + 20), *(v0 + 21));
            result = *(*(v0 + 96) + 4);
            if ( result & 1 )
            {
                *(v0 + 10) = 8;
                result = 15;
                *(v0 + 32) = 15;
            }
        }
        else
        {
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x80000);
            object_removePanelReserve(*(v0 + 20), *(v0 + 21));
            object_clearCollisionRegion();
            v3 = *v0 & 0xFD;
            *v0 = v3;
            sub_802EF5C(v3);
            clearEntryOfBattleStateBattleObjectList_800F656();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80cdad8
int sub_80CDAD8()
{
    int v0; // r5

    return (*(&off_80CDAEC + *(v0 + 10)))();
}


// 0x80cdafc
int sub_80CDAFC()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r1
    int v4; // r2

    if ( *(v0 + 32) == 60 )
        v1 = *(v0 + 4);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sprite_setUnk0x2c(872415232);
        *(v0 + 32) = 60;
        PlaySoundEffect(193, v3, v4);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80cdb2c
int sub_80CDB2C()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sprite_setUnk0x2c(738197504);
        *(v0 + 32) = 60;
        PlaySoundEffect(193, v2, v3);
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80cdb50
int sub_80CDB50()
{
    int v0; // r5
    int result; // r0
    int v2; // r2

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        sprite_setUnk0x2c(469762048);
        *(v0 + 32) = 30;
        if ( !(*(*(v0 + 96) + 4) & 1) )
            PlaySoundEffect(194, 1, v2);
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80cdb80
int sub_80CDB80()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        if ( *(*(v0 + 96) + 4) & 1 )
        {
            *(v0 + 9) = 9;
        }
        else
        {
            sub_80CDCBC();
            *(v0 + 9) = 2;
        }
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cdbac
int sub_80CDBAC()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
        *(v0 + 32) = 8;
    }
    *v0 = *v0 & 0xFD | 2 * ((*(v0 + 32) >> 1) & 1);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 2;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cdbe8
signed int __noreturn sub_80CDBE8()
{
    int v0; // r5
    int v1; // r2
    signed int result; // r0
    char v3; // zf
    int v4; // r0
    int v5; // r0

    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    object_clearCollisionRegion();
    if ( object_getFlag2() & 0x8000 )
        goto LABEL_17;
    if ( *(v0 + 36) )
    {
LABEL_13:
        PlaySoundEffect(112, 0x8000, v1);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        goto LABEL_14;
    }
    if ( !(*(*(v0 + 96) + 4) & 1) )
    {
LABEL_17:
        v4 = object_getFlag2();
        if ( v4 & 0x8000 )
        {
            if ( v4 & 0x300000 )
            {
                sub_800F90E(2);
            }
            else
            {
                result = sub_800F8CE(v4);
                if ( !result )
                    return result;
                if ( result != 1 )
                    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
            }
            goto LABEL_14;
        }
        goto LABEL_13;
    }
    result = battle_isTimeStop();
    if ( v3 )
    {
        sub_80CDCBC();
LABEL_14:
        v5 = *v0 & 0xFD;
        *v0 = v5;
        sub_802EF5C(v5);
        clearEntryOfBattleStateBattleObjectList_800F656();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80cdc7c
int __fastcall sub_80CDC7C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char *v8; // r3
    char v9; // [sp+0h] [bp-1Ch]
    char v10; // [sp+4h] [bp-18h]
    char v11; // [sp+8h] [bp-14h]

    v9 = a1;
    v10 = a2;
    v11 = a3;
    object_spawnType3(75, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v9;
        *(v4 + 19) = v10;
        *(v4 + 22) = v11;
        *(v4 + 44) = v5;
        v8 = &byte_80CD8AC[8 * *(v4 + 4)];
        *(v4 + 96) = v8;
        if ( *(v4 + 4) > 1 )
        {
            *(v4 + 76) = v6;
            *v6 = v4;
        }
        *v4 |= 0x10u;
        result = sub_800F614(v4, *(v4 + 22), v8[5]);
    }
    return result;
}


// 0x80cdcbc
signed int sub_80CDCBC()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r0
    int v3; // r6
    int v4; // ST00_4
    int v5; // r2
    int v6; // r1
    int v7; // r2

    result = battle_isBattleOver();
    if ( !result )
    {
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        v2 = object_getPanelDataOffset(*(v0 + 18), *(v0 + 19))[3] ^ 1;
        *(v0 + 22) = v2;
        v3 = *(v0 + 44);
        v4 = *&byte_80CDD30[4 * v2];
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
        sub_80E2FE8(v4, 2, v5, 0);
        camera_initShakeEffect_80302a8(1, 30);
        PlaySoundEffect(195, v6, v7);
        result = *(v0 + 4);
        if ( result == 1 )
            result = camera_initShakeEffect_80302a8(3, 60);
    }
    return result;
}


// 0x80cdd44
int sub_80CDD44()
{
    int v0; // r5

    return (*(&off_80CDD58 + *(v0 + 8)))();
}


// 0x80cdd64
void __noreturn sub_80CDD64()
{
    int v0; // r5
    int v1; // r1

    *v0 |= 3u;
    sprite_load(v0, 128, 12, 34);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sub_8002EAC();
    *(v0 + 40) = 218;
    *(v0 + 32) = 6000;
    *(v0 + 34) = 60;
    *(v0 + 6) = 2;
    *(v0 + 36) = 1;
    *(v0 + 38) = 1;
    sub_80CDF18(1, v1);
}


// 0x80cddfc
void __noreturn sub_80CDDFC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    sprite_clearFinalPalette();
    sub_801AD12();
    v1 = (*(&off_80CDE20 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
    object_updateSprite();
}


// 0x80cde44
signed int __noreturn sub_80CDE44()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_clearCollisionRegion();
    v1 = object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    sub_802EF5C(v1);
    clearEntryOfBattleStateBattleObjectList_800F656();
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cde68
int sub_80CDE68()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned int v3; // r0
    unsigned int v4; // r0
    unsigned int v5; // r1
    int v6; // r7
    int v7; // r1
    int v8; // r2

    result = *(v0 + 6) - 1;
    *(v0 + 6) = result;
    if ( !result )
    {
        *(v0 + 6) = 2;
        v2 = *(v0 + 34) - 1;
        *(v0 + 34) = v2;
        if ( v2 )
        {
            v3 = *(v0 + 120) + 1;
            if ( *(v0 + 116) <= v3 )
                v3 = 0;
            *(v0 + 120) = v3;
            v4 = *(v0 + 96 + v3);
            v5 = v4 >> 4;
            LOBYTE(v4) = v4 & 7;
            *(v0 + 18) = v4;
            *(v0 + 19) = v5;
            v6 = *(v0 + 84);
            *(v6 + 10) = v4;
            *(v6 + 11) = v5;
            object_setCoordinatesFromPanels(v0);
            result = PlaySoundEffect(275, v7, v8);
        }
        else
        {
            object_setCollisionRegion(1);
            *v0 &= 0xFDu;
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80cdec8
int sub_80CDEC8()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 36) && !*(*(v0 + 84) + 112) )
        object_isCurrentPanelSolid();
    object_clearCollisionRegion();
    *(v0 + 9) = 2;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80cdef8
int __fastcall sub_80CDEF8(int a1, int a2, int a3)
{
    int v3; // r5

    PlaySoundEffect(112, a2, a3);
    SpawnT4BattleObjectWithId0(v3, v3 + 64, *(v3 + 52), *(v3 + 56), *(v3 + 60));
    object_freeCollisionData(*(v3 + 84));
    return object_freeMemory();
}


// 0x80cdf18
int __fastcall __noreturn sub_80CDF18(int a1, int a2)
{
    int v2; // r5
    int v3; // r0

    v3 = object_getPanelsExceptCurrentFilterred(
                 8 * *(v2 + 22),
                 a2,
                 *&byte_80CDF50[8 * *(v2 + 22)],
                 *&byte_80CDF50[8 * *(v2 + 22) + 4]);
    if ( !v3 )
        return 0;
    *(v2 + 116) = v3;
    sub_8000C72(v2 + 96, v3, 20);
    return *(v2 + 96) & 7;
}


// 0x80cdf60
int __fastcall sub_80CDF60(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-Ch]

    v7 = a1;
    object_spawnType3(76, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = v7;
        *(v4 + 44) = v5;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 0);
    }
    return result;
}


// 0x80cdf84
int sub_80CDF84()
{
    int v0; // r5

    return (*(&off_80CDF98 + *(v0 + 8)))();
}


// 0x80cdfa4
int sub_80CDFA4()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    *(v0 + 18) = 1;
    *(v0 + 19) = 1;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 0, 24, 0);
        object_setCollisionRegion(128);
        v3 = object_setFlag1(0x1000000);
        object_presentCollisionData(v3, v4);
        *(v0 + 96) = *(v0 + 84) + 132;
        *(v0 + 100) = 0;
        *(v0 + 8) = 4;
        sub_80CDFEE();
    }
    return object_freeMemory();
}


// 0x80cdfee
void __noreturn sub_80CDFEE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    if ( !*(v0 + 5) )
    {
        if ( !battle_isBattleOver() )
        {
            v1 = (*(&off_80CE02C + *(v0 + 9)))();
            object_presentCollisionData(v1, v2);
            return;
        }
        sub_802CEA6(*(v0 + 22));
    }
    object_clearCollisionRegion();
    object_freeCollisionData(*(v0 + 84));
    object_freeMemory();
}


// 0x80ce034
int sub_80CE034()
{
    int v0; // r5
    _WORD *v1; // r2
    signed int v2; // r3
    int result; // r0

    v1 = *(v0 + 96);
    v2 = 1;
    while ( 1 )
    {
        result = *v1;
        if ( *v1 )
            break;
        ++v1;
        if ( ++v2 > 4 )
            return result;
    }
    *(v0 + 4) = v2;
    object_clearCollisionRegion();
    *(v0 + 9) = 4;
    *(v0 + 10) = 0;
    return sub_80CE05E();
}


// 0x80ce05e
int sub_80CE05E()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 100) )
    {
        result = battle_isTimeStop();
        if ( !result )
            sub_80CE0A4();
    }
    else
    {
        sub_802CEA6(*(v0 + 22));
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ce0a4
void __noreturn sub_80CE0A4()
{
    int v0; // r5

    object_getPanelsFiltered(
        8 * *(v0 + 22),
        &byte_80CE0DC[8 * *(v0 + 22)],
        *&byte_80CE0DC[8 * *(v0 + 22)],
        *&byte_80CE0DC[8 * *(v0 + 22) + 4]);
}


// 0x80ce0ec
int __fastcall sub_80CE0EC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-10h]
    int v9; // [sp+8h] [bp-8h]

    v8 = a1;
    object_spawnType3(77, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v8;
        *(v4 + 14) = 0;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 48) = v6;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80ce118
int sub_80CE118()
{
    int v0; // r5

    return (*(&off_80CE12C + *(v0 + 8)))();
}


// 0x80ce138
void __noreturn sub_80CE138()
{
    int v0; // r5

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 80);
    *(v0 + 16) = 4;
    sprite_setAnimation(v0, 4u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 10485760;
    *(v0 + 32) = 0;
    *(v0 + 8) = 4;
    sub_80CE178();
}


// 0x80ce178
void sub_80CE178()
{
    int v0; // r5

    (*(&off_80CE190 + *(v0 + 9)))();
    object_updateSprite();
}


// 0x80ce198
int sub_80CE198()
{
    int v0; // r5
    int v5; // r0
    int result; // r0

    ++*(v0 + 32);
    __asm { SVC         6 }
    v5 = *(v0 + 62);
    _VF = __OFSUB__(v5, 3);
    result = v5 - 3;
    if ( (result < 0) ^ _VF )
    {
        *v0 &= 0xFDu;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        *(v0 + 62) = result;
    }
    return result;
}


// 0x80ce1d6
int sub_80CE1D6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        v1 = *(v0 + 44);
        if ( !*(v0 + 44) )
            v1 = *(*(v0 + 76) + 38);
        object_addHP(*(v0 + 76), v1);
        PlaySoundEffect(138, v2, v3);
        SpawnT4BattleObjectWithId0(v0, *(v0 + 76) + 64, *(*(v0 + 76) + 52), *(*(v0 + 76) + 56), *(*(v0 + 76) + 60));
        *(v0 + 32) = 60;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80ce21c
int sub_80CE21C()
{
    return object_freeMemory();
}


// 0x80ce224
int __fastcall sub_80CE224(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    int v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    object_spawnType3(78, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 76) = v9;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80ce24c
void sub_80CE24C()
{
    int v0; // r5

    (*(&off_80CE264 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ce270
void __noreturn sub_80CE270()
{
    int v0; // r5

    *(v0 + 14) = *(&dword_80CE2B0 + *(v0 + 4));
    sub_8011504(0x1090C02u, 0x4050100u);
}


// 0x80ce2b4
void __noreturn sub_80CE2B4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80CE300 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80ce308
int sub_80CE308()
{
    int v0; // r5
    int v1; // r9
    _DWORD *v2; // r7
    _DWORD *v3; // r9
    int v4; // r1
    int v5; // r6
    int v6; // r2
    int v7; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r7
    int v12; // [sp-4h] [bp-14h]

    v12 = v1;
    if ( !*(v0 + 11) )
    {
        v2 = (v0 + 64);
        *v2 = 190054 * object_getFrontDirection(v0);
        v2[1] = -10240;
        v2[2] = 132710;
        *(v0 + 32) = 40;
        *(v0 + 11) = 4;
    }
    v3 = (v0 + 52);
    v4 = *(v0 + 56);
    v5 = *(v0 + 72) + *(v0 + 68);
    v6 = *(v0 + 60) + v5;
    *v3 = *(v0 + 52) + *(v0 + 64);
    v3[1] = v4;
    v3[2] = v6;
    *(v0 + 72) = v5;
    v7 = *(v0 + 32) - 1;
    *(v0 + 32) = v7;
    if ( !v7 )
    {
        *v0 &= 0xFDu;
        v8 = convertBattleObjectXYToPanelXY_800E24C();
        *(v0 + 18) = v8;
        *(v0 + 19) = v9;
        v10 = *(v0 + 84);
        *(v10 + 10) = v8;
        *(v10 + 11) = v9;
        if ( object_isValidPanel(v8, v9) )
            object_isCurrentPanelSolid();
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        *v0 &= 0xFDu;
    }
    return v12;
}


// 0x80ce3c4
signed int sub_80CE3C4()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    int v3; // r2
    signed int result; // r0

    object_clearCollisionRegion();
    v1 = 1;
    if ( !*(*(v0 + 84) + 112) )
        v1 = 15;
    v2 = *(v0 + 22);
    sub_80CE468(*(v0 + 18), *(v0 + 19), byte_80CE421[*(v0 + 4)], v1);
    sub_80CE424(*(v0 + 18), *(v0 + 19), byte_80CE41E[*(v0 + 4)], v1);
    PlaySoundEffect(*&byte_80CE418[2 * *(v0 + 4)], byte_80CE418, v3);
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80ce424
int __fastcall sub_80CE424(int a1, int a2, signed int a3, int a4)
{
    int v4; // r6
    char *v5; // r4
    int result; // r0

    v4 = a1;
    v5 = *(&off_8019B78 + a4);
    result = *v5;
    if ( result != 127 )
        object_setPanelType(result + v4, v5[1] + a2, a3);
    return result;
}


// 0x80ce44e
int __fastcall sub_80CE44E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(79, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v7;
    }
    return result;
}


// 0x80ce468
int __fastcall sub_80CE468(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    Battle *v5; // r5
    int v6; // r7
    int v7; // r8
    int v8; // ST0C_4
    int v9; // ST10_4
    int v10; // ST14_4
    int v11; // r6
    int v12; // r0
    int v13; // r1
    int v14; // r2
    int v15; // r7
    int v16; // r3
    int v17; // r4
    int v18; // r3
    bool v19; // zf
    int v20; // r0
    int v21; // r1
    int result; // r0
    int v23; // r3
    int v24; // r1
    int v25; // r2
    int v26; // r3
    int v27; // r0
    int v28; // r0
    int v29; // r0
    int v30; // r1
    int v31; // [sp-8h] [bp-2Ch]
    int v32; // [sp-4h] [bp-28h]
    int v33; // [sp+0h] [bp-24h]
    int v34; // [sp+0h] [bp-24h]
    int v35; // [sp+4h] [bp-20h]
    int v36; // [sp+4h] [bp-20h]
    int v37; // [sp+8h] [bp-1Ch]
    int v38; // [sp+8h] [bp-1Ch]
    int v39; // [sp+Ch] [bp-18h]
    int v40; // [sp+Ch] [bp-18h]
    int v41; // [sp+Ch] [bp-18h]
    int v42; // [sp+10h] [bp-14h]

    v7 = v6;
    v8 = a1;
    v9 = a2;
    v10 = a3;
    v39 = a4;
    v11 = object_getAllianceDirection(v4);
    v12 = v8;
    v13 = v9;
    v14 = v10;
    if ( __CFSHL__(v39, 25) )
    {
        v23 = 8 * v39 & 0x3FF;
        v24 = 3;
        v25 = *&byte_8019C34[v23];
        v26 = *&byte_8019C34[v23 + 4];
        do
        {
            v27 = 6;
            do
            {
                v34 = v27;
                v36 = v24;
                v38 = v25;
                v41 = v26;
                v19 = object_checkPanelParameters(v27, v24, v25, v26) == 0;
                v28 = v34;
                v24 = v36;
                v25 = v38;
                v26 = v41;
                if ( !v19 )
                {
                    v29 = object_getCoordinatesForPanels(v34);
                    SpawnT4BattleObjectWithId0(v5, v29, v29, v30, 0);
                    v28 = v34;
                    v24 = v36;
                    v25 = v38;
                    v26 = v41;
                }
                v27 = v28 - 1;
            }
            while ( v27 );
            --v24;
        }
        while ( v24 );
        result = v42;
    }
    else
    {
        if ( v39 << 25 )
        {
            v15 = *(&off_8019B78 + (4 * v39 & 0x1FF));
            v16 = 0;
            while ( 1 )
            {
                v37 = v12;
                v40 = v13;
                v17 = *(v15 + v16);
                if ( v17 == 127 )
                    break;
                v18 = v16 + 1;
                v31 = v12 + v17 * v11;
                v32 = v13 + *(v15 + v18);
                v33 = v14;
                v35 = v18 + 1;
                v19 = object_isValidPanel(v31, v32) == 0;
                v14 = v33;
                v16 = v35;
                if ( !v19 )
                {
                    v19 = object_getPanelDataOffset(v31, v32)[2] == 0;
                    v14 = v33;
                    v16 = v35;
                    if ( !v19 )
                    {
                        v20 = object_getCoordinatesForPanels(v31);
                        SpawnT4BattleObjectWithId0(v5, v20, v20, v21, v7);
                        v14 = v33;
                        v16 = v35;
                    }
                }
                v12 = v37;
                v13 = v40;
            }
        }
        result = v42;
    }
    return result;
}


// 0x80ce530
void sub_80CE530()
{
    int v0; // r5

    (*(&off_80CE548 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ce554
int sub_80CE554()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2

    if ( object_isCurrentPanelValid() )
    {
        sprite_load(v0, 128, 16, 23);
        sprite_noShadow(v0);
        *v0 |= 2u;
        sprite_setPallete(4 * *(v0 + 4));
        object_setCoordinatesFromPanels(v0);
        v1 = object_getFrontDirection(v0);
        *(v0 + 64) = 786432 * v1;
        *(v0 + 32) = 12;
        *(v0 + 52) -= 9437184 * v1;
        *(v0 + 72) = 786432;
        *(v0 + 60) = 9699328;
        v2 = object_getFlip(v0);
        sprite_setFlip(v0, v2);
        v3 = object_createCollisionData();
        if ( v3 )
        {
            object_setupCollisionData(v3, 10, 5, 3);
            object_setCollisionHitEffect(2);
            v5 = object_clearCollisionRegion();
            object_presentCollisionData(v5, v6);
            *(v0 + 16) = 4;
            *(v0 + 17) = 4;
            sprite_setAnimation(v0, 4u);
            sprite_loadAnimationData(v0);
            PlaySoundEffect(179, v7, v8);
            *(v0 + 8) = 4;
            sub_80CE5F0();
        }
    }
    return object_freeMemory();
}


// 0x80ce5f0
void __noreturn sub_80CE5F0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( !v3 )
            goto LABEL_6;
        if ( !*(*(v0 + 84) + 112) )
        {
            v1 = (*(&off_80CE644 + *(v0 + 9)))();
LABEL_6:
            object_presentCollisionData(v1, v2);
            return;
        }
    }
    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80ce64c
char *sub_80CE64C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    unsigned int v3; // r0
    unsigned __int8 v4; // cf
    char *result; // r0
    __int64 v6; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) -= *(v0 + 72);
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *(v0 + 60) = 0x40000;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_setCollisionRegion(1);
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    v3 = *(v0 + 32);
    v4 = __CFSHR__(v3, 3);
    result = (v3 >> 3);
    if ( v4 )
    {
        LODWORD(v6) = *(v0 + 18);
        HIDWORD(v6) = *(v0 + 19);
        result = object_highlightPanel(v6);
    }
    return result;
}


// 0x80ce690
int sub_80CE690()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
        *(v0 + 32) = 12;
        PlaySoundEffect(464, v1, v2);
        if ( *(v0 + 5) )
            sub_8109794(*(v0 + 18), *(v0 + 19));
    }
    if ( *(v0 + 32) <= 8 )
    {
        *v0 &= 0xFDu;
        if ( *(v0 + 32) & 2 )
            *v0 |= 2u;
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v4 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ce6e6
int __fastcall sub_80CE6E6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(80, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80ce70c
void sub_80CE70C()
{
    int v0; // r5

    (*(&off_80CE724 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80ce730
void __noreturn sub_80CE730()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x70402u, 0x4050300u);
}


// 0x80ce782
int __noreturn sub_80CE782()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) & 0xF800000 )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80CE7C0 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80ce7c4
signed int sub_80CE7C4()
{
    int v0; // r5
    signed int result; // r0

    if ( object_isCurrentPanelValid() )
    {
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    else
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        result = 2;
        *(v0 + 9) = 2;
    }
    return result;
}


// 0x80ce7ee
int __fastcall sub_80CE7EE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    int v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(81, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v9;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = 2;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80ce81c
int sub_80CE81C()
{
    int v0; // r5

    return (*(&off_80CE830 + *(v0 + 8)))();
}


// 0x80ce83c
void __noreturn sub_80CE83C()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    sub_8011504(0x1000C0Bu, 0x7050100u);
}


// 0x80ce87c
void __noreturn sub_80CE87C()
{
    int v0; // r5
    char v1; // zf
    __int64 v2; // r0
    int v3; // r0
    int v4; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        *(v0 + 104) = 1;
        object_clearCollisionRegion();
    }
    battle_isTimeStop();
    if ( v1 )
        (*(&off_80CE8CC + *(v0 + 9)))();
    if ( *(*(v0 + 84) + 1) )
    {
        LODWORD(v2) = *(v0 + 18);
        HIDWORD(v2) = *(v0 + 19);
        object_highlightPanel(v2);
    }
    v3 = battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
    object_presentCollisionData(v3, v4);
}


// 0x80ce8d8
int sub_80CE8D8()
{
    int v0; // r5

    return (*(&off_80CE8EC + *(v0 + 10)))();
}


// 0x80ce8f4
int sub_80CE8F4()
{
    int v0; // r5
    int result; // r0
    int v2; // r1

    *(v0 + 32) = 8;
    *(v0 + 96) = *(v0 + 6);
    *(v0 + 10) = 4;
    result = *(v0 + 5);
    if ( *(v0 + 5) )
    {
        result = *(v0 + 104);
        if ( result )
        {
            v2 = *(v0 + 96);
            *(v0 + 108) = *(v0 + 6) - v2;
            *(v0 + 112) = 1;
            *(v0 + 9) = 4;
            *(v0 + 10) = 0;
            result = *(v0 + 5);
            if ( result == 1 )
                result = sub_80E8612(*(v0 + 76), v2, 0);
        }
    }
    return result;
}


// 0x80ce932
int sub_80CE932()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        v5 = *(v0 + 52) + *(v0 + 64);
        *(v0 + 52) = v5;
        result = convertXYToPanelXY_800E258(v5);
        if ( result != *(v0 + 18) )
        {
            *(v0 + 18) = result;
            *(*(v0 + 84) + 10) = result;
            result = object_setCollisionRegion(1);
        }
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        v2 = *(v0 + 96);
        v3 = __OFSUB__(v2--, 1);
        *(v0 + 96) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) || *(v0 + 5) && *(v0 + 104) )
        {
            *(v0 + 112) = 1;
            if ( *(v0 + 5) == 1 )
            {
                result = sub_80E8612(*(v0 + 76), *(v0 + 96), *(v0 + 6) - *(v0 + 96));
            }
            else
            {
                *(v0 + 108) = *(v0 + 6) - *(v0 + 96);
                *(v0 + 9) = 4;
                result = 0;
                *(v0 + 10) = 0;
            }
        }
        else
        {
            result = 8;
            *(v0 + 32) = 8;
        }
    }
    return result;
}


// 0x80ce9a4
int sub_80CE9A4()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 104) != 2 )
        return (*(&off_80CE9C4 + *(v0 + 10)))();
    result = 1;
    *(v0 + 104) = 1;
    return result;
}


// 0x80ce9cc
signed int sub_80CE9CC()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 32) = 8;
    *(v0 + 96) = *(v0 + 7);
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80ce9dc
int sub_80CE9DC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        object_setCollisionRegion(1);
        v2 = *(v0 + 96) - 1;
        *(v0 + 96) = v2;
        if ( v2 )
        {
            result = 8;
            *(v0 + 32) = 8;
        }
        else
        {
            *(v0 + 9) = 8;
            *(v0 + 10) = 0;
            result = -*(v0 + 64);
            *(v0 + 64) = result;
        }
    }
    return result;
}


// 0x80cea0a
int sub_80CEA0A()
{
    int v0; // r5

    return (*(&off_80CEA1C + *(v0 + 10)))();
}


// 0x80cea24
int sub_80CEA24()
{
    int v0; // r5
    int result; // r0

    *(v0 + 32) = 8;
    *(v0 + 96) = *(v0 + 108);
    *(v0 + 10) = 4;
    result = *(v0 + 96);
    if ( !result )
    {
        *(v0 + 8) = 8;
        result = object_clearCollisionRegion();
    }
    return result;
}


// 0x80cea42
signed int sub_80CEA42()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    signed int result; // r0
    int v5; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        v5 = *(v0 + 52) + *(v0 + 64);
        *(v0 + 52) = v5;
        result = convertXYToPanelXY_800E258(v5);
        if ( result != *(v0 + 18) )
        {
            *(v0 + 18) = result;
            *(*(v0 + 84) + 10) = result;
            result = object_setCollisionRegion(1);
        }
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        v2 = *(v0 + 96);
        v3 = __OFSUB__(v2--, 1);
        *(v0 + 96) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            *(v0 + 8) = 8;
            result = object_clearCollisionRegion();
        }
        else
        {
            result = 8;
            *(v0 + 32) = 8;
        }
    }
    return result;
}


// 0x80cea88
int sub_80CEA88()
{
    int v0; // r5
    _DWORD *v1; // r7

    v1 = *(v0 + 100);
    if ( v0 == *v1 )
        *v1 = 0;
    object_freeCollisionData(*(v0 + 84));
    return object_freeMemory();
}


// 0x80ceaa2
int __fastcall sub_80CEAA2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(82, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        result = BasicBattleObjectInitialize(v4, v7, v8, v9);
        *(result + 100) = v5;
        *result |= 0x10u;
    }
    return result;
}


// 0x80ceac2
int __fastcall sub_80CEAC2(int result, signed int a2, int a3)
{
    int v3; // r5
    signed int v4; // r4
    int v5; // r7
    int v6; // r5

    v4 = a2;
    v5 = a3;
    if ( v3 == result )
        v4 = 1;
    if ( result )
    {
        v6 = result;
        result = object_setCoordinatesFromPanels(result);
        *(v6 + 104) = v4;
        *(v6 + 108) = v5;
        *(v6 + 112) = 1;
        *(v6 + 9) = 4;
        *(v6 + 10) = 0;
    }
    return result;
}


// 0x80ceaee
int __fastcall sub_80CEAEE(int result)
{
    if ( result )
        result = *(result + 112);
    return result;
}


// 0x80ceb00
void sub_80CEB00()
{
    int v0; // r5

    (*(&off_80CEB18 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ceb24
signed int __noreturn sub_80CEB24()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 18);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 30;
    *(v0 + 17) = 30;
    sprite_setAnimation(v0, 0x1Eu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80ceb66
int sub_80CEB66()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80CEB8C + *(v0 + 9)))();
    }
    return result;
}


// 0x80ceb9c
int sub_80CEB9C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 11;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cebbe
int sub_80CEBBE()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 60) += *(v0 + 72);
        object_setPanelsFromCoordinates(v0);
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 31;
        *(v0 + 52) += 2490368 * object_getFrontDirection(v0);
        *(v0 + 60) = 5505024;
        *(v0 + 64) = 393216 * object_getFrontDirection(v0);
        *(v0 + 72) = 393216;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80cec1a
char *sub_80CEC1A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // ST04_1
    int v4; // r0
    unsigned __int8 v5; // vf
    unsigned int v6; // r0
    unsigned __int8 v7; // cf
    char *result; // r0

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4--, 1);
        *(v0 + 32) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
        {
            *(v0 + 9) = 12;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = sub_80CED78();
        *(v0 + 100) = v1;
        *(v0 + 104) = v2;
        v3 = v2;
        *(v0 + 18) = v1 - 2 * object_getFrontDirection(v0);
        *(v0 + 19) = v3;
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 12582912;
        *(v0 + 16) = 32;
        *(v0 + 32) = 10;
        *(v0 + 34) = 0;
    }
    v6 = *(v0 + 34) + 1;
    *(v0 + 34) = v6;
    v7 = __CFSHR__(v6, 3);
    result = (v6 >> 3);
    if ( !v7 )
        result = object_highlightPanel(*(v0 + 100));
    return result;
}


// 0x80cec7c
char *sub_80CEC7C()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r2
    int v3; // r1
    int v4; // r2
    int v5; // r0
    unsigned __int8 v6; // vf
    char *result; // r0
    unsigned int v8; // r0
    unsigned __int8 v9; // cf

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        v1 = object_getFrontDirection(v0);
        v2 = &byte_80CED18[8 * *(v0 + 4)];
        v3 = *v2;
        v4 = *(v2 + 1);
        *(v0 + 64) = v3 * v1;
        *(v0 + 72) = -v4;
        *(v0 + 32) = *&byte_80CED3C[4 * *(v0 + 4)];
        goto LABEL_8;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) += *(v0 + 72);
    object_setPanelsFromCoordinates(v0);
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5--, 1);
    *(v0 + 32) = v5;
    if ( !(((v5 < 0) ^ v6) | (v5 == 0)) )
    {
LABEL_8:
        v8 = *(v0 + 34) + 1;
        *(v0 + 34) = v8;
        v9 = __CFSHR__(v8, 3);
        result = (v8 >> 3);
        if ( !v9 )
            result = object_highlightPanel(*(v0 + 100));
        return result;
    }
    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & *&byte_80CED50[4 * *(v0 + 22)] )
        object_crackPanel(*(v0 + 18), *(v0 + 19));
    result = &dword_8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80ced58
int __fastcall sub_80CED58(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(83, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
    }
    return result;
}


// 0x80ced78
int sub_80CED78()
{
    int v0; // r5
    int v1; // r2
    int v2; // ST00_4
    int v3; // ST04_4
    int result; // r0
    signed int v6; // r4
    int v7; // r6
    char *v8; // r2
    int v9; // r0
    char v10; // r1
    int v11; // r2
    int v12; // r0
    int v13; // r1
    int v14; // r4
    int v15; // r0
    int v19; // [sp+0h] [bp-34h]
    int v20; // [sp+4h] [bp-30h]
    int v21; // [sp+8h] [bp-2Ch]
    int v22; // [sp+Ch] [bp-28h]

    if ( *(v0 + 5)
        || (v1 = *(v0 + 96), v2 = *(v1 + 18), v3 = *(v1 + 19), _ZF = object_isCurrentPanelValid() == 0, result = v2, _ZF) )
    {
        v6 = 0;
        v7 = 0;
        do
        {
            v8 = &byte_80CEE1C[2 * v6];
            v9 = *v8;
            v10 = v8[1];
            v11 = *(v0 + 22);
            if ( v9 )
                LOBYTE(v9) = 7 - v9;
            *(&v22 + v7++) = v9 | 16 * v10;
            ++v6;
        }
        while ( v6 < 4 );
        v21 = -object_getFrontDirection(v0);
        v12 = 8 * *(v0 + 22);
        v13 = *&byte_80CEE28[v12 + 4];
        v19 = *&byte_80CEE28[v12];
        v20 = *&byte_80CEE28[v12 + 4];
        v14 = 3;
        if ( *(v0 + 22) )
            v14 = 4;
        do
        {
            v15 = object_getPanelsInColumnFiltered(v14, v13, v19, v20);
            if ( !v15 )
                break;
            v7 += v15;
            v14 += v21;
            if ( v14 < 1 )
                break;
        }
        while ( v14 <= 6 );
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v22 + v7) & 7;
    }
    return result;
}


// 0x80cee38
int sub_80CEE38()
{
    int v0; // r5
    int v1; // r6
    int result; // r0

    v1 = *(v0 + 44);
    result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    if ( result )
        *(result + 32) = 5;
    return result;
}


// 0x80cee78
void sub_80CEE78()
{
    int v0; // r5

    (*(&off_80CEE90 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80cee9c
int __noreturn sub_80CEE9C()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 29);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    sub_80CF080();
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = byte_80CEE70[2 * *(v0 + 4)];
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    v5 = object_setupCollisionData(v3, 19, 20, 3);
    object_presentCollisionData(v5, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80cef0a
void __noreturn sub_80CEF0A()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || (v1 = object_applyDamage(0), (v1 < 0) ^ v2) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = battle_isTimeStop();
        if ( v5 )
            v3 = (*(&off_80CEF4C + *(v0 + 9)))();
        object_presentCollisionData(v3, v4);
    }
}


// 0x80cef5c
int sub_80CEF5C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(&dword_80CEF8C + *(v0 + 4)) + 20;
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80cef90
int sub_80CEF90()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    char v4; // r0
    int v5; // ST00_4
    char v6; // r0
    int v7; // r6
    int v8; // r1
    int v9; // r2
    int v10; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        *(v0 + 34) = 3;
        *(v0 + 32) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 10;
        GetPositiveSignedRNG2();
        v5 = *(&dword_80CEFF8 + (v4 & 3)) << 16;
        v6 = object_getFrontDirection(v0);
        v7 = *(v0 + 44);
        sub_80C6ADA(v6 + *(v0 + 18), *(v0 + 19), *(v0 + 14), v5);
        PlaySoundEffect(185, v8, v9);
        v10 = *(v0 + 34);
        v2 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80ceffc
int sub_80CEFFC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 3;
        result = *(&dword_80CF02C + *(v0 + 4));
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80cf030
int sub_80CF030()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 2;
        result = 15;
        *(v0 + 32) = 15;
    }
    return result;
}


// 0x80cf058
int __fastcall sub_80CF058(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(84, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cf080
int sub_80CF080()
{
    int v0; // r5
    signed int v1; // r1
    int result; // r0

    v1 = *(v0 + 18);
    switch ( v1 )
    {
        case 1:
            result = *(v0 + 22);
            break;
        case 6:
            result = *(v0 + 22) ^ 1;
            break;
        case 4:
            result = 0;
            if ( *(*(v0 + 96) + 18) > 4 )
                result = 1;
            break;
        default:
            result = 0;
            if ( v1 > *(*(v0 + 96) + 18) )
                result = 1;
            break;
    }
    *(v0 + 23) = result;
    return result;
}


// 0x80cf0d0
int sub_80CF0D0()
{
    int v0; // r5

    return (*(&off_80CF0E4 + *(v0 + 8)))();
}


// 0x80cf0f0
int __noreturn sub_80CF0F0()
{
    int v0; // r5
    char *v1; // r7
    int v2; // r7
    u8 v3; // r0
    int v4; // r0
    __int16 v5; // r0
    _BYTE *v6; // r0
    int v8; // r0
    int v9; // r1

    *v0 |= 2u;
    v1 = &byte_80CF0C0[8 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_hasShadow();
    v2 = *(v0 + 96);
    v3 = *(v2 + 3);
    *(v0 + 16) = v3;
    *(v0 + 17) = v3;
    sprite_setAnimation(v0, v3);
    sprite_loadAnimationData(v0);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 10485760;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 40) = *(v0 + 4) + 219;
    *(v0 + 72) = 0x80000;
    *(v0 + 14) = 0;
    *(v0 + 32) = *(v2 + 6);
    v5 = *(*(v0 + 96) + 4);
    *(v0 + 36) = v5;
    *(v0 + 38) = v5;
    *(v0 + 100) = 1;
    *(v0 + 34) = 1;
    v6 = object_createCollisionData();
    if ( v6 )
    {
        object_setupCollisionData(v6, 19, 20, 3);
        v8 = object_clearCollisionRegion();
        object_presentCollisionData(v8, v9);
        *(v0 + 8) = 4;
        sub_80CF18C();
    }
    return object_freeMemory();
}


// 0x80cf18c
void __noreturn sub_80CF18C()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    v1 = sub_801B394(&off_80CF1B8);
    object_presentCollisionData(v1, v2);
    object_updateSprite();
}


// 0x80cf1dc
signed int __noreturn sub_80CF1DC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    signed int result; // r0
    int v4; // r0

    object_clearCollisionRegion();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            sub_800F90E(3);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        PlaySoundEffect(112, 0x8000, v2);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    }
    v4 = *v0 & 0xFD;
    *v0 = v4;
    sub_802EF5C(v4);
    clearEntryOfBattleStateBattleObjectList_800F656();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cf250
int sub_80CF250()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    unsigned __int8 v3; // vf
    int result; // r0

    v1 = *(v0 + 60);
    v2 = *(v0 + 72);
    v3 = __OFSUB__(v1, v2);
    result = v1 - v2;
    *(v0 + 60) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 60) = 0;
        object_isCurrentPanelSolid();
    }
    return result;
}


// 0x80cf2b4
int sub_80CF2B4()
{
    int v0; // r5
    int v1; // r1
    char v2; // zf
    unsigned int v3; // r0
    bool v4; // cf
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r4
    int result; // r0

    battle_isBattleOver();
    if ( v2 )
    {
        v3 = *(v0 + 100);
        v4 = v3-- >= 1;
        *(v0 + 100) = v3;
        if ( v3 == 0 || !v4 )
        {
            *(v0 + 100) = 16;
            sub_80CF332(16, v1);
        }
        v5 = *(v0 + 34);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v0 + 34) = *(*(v0 + 96) + 2);
            v7 = *&byte_80CF31C[4 * *(v0 + 22)];
            result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, *(v0 + 60));
        }
    }
    else
    {
        *(v0 + 9) = 2;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cf324
int sub_80CF324()
{
    int v0; // r5

    object_freeCollisionData(*(v0 + 84));
    return object_freeMemory();
}


// 0x80cf332
int __fastcall __noreturn sub_80CF332(int a1, int a2)
{
    int v2; // r5
    int result; // r0
    int v4; // r4
    int v9; // [sp+0h] [bp-20h]

    result = object_getPanelsExceptCurrentFilterred(
                         8 * *(v2 + 22),
                         a2,
                         *&byte_80CF364[8 * *(v2 + 22)],
                         *&byte_80CF364[8 * *(v2 + 22) + 4]);
    v4 = result;
    if ( result )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v9 + v4) & 7;
    }
    return result;
}


// 0x80cf374
int __fastcall sub_80CF374(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    char v8; // [sp+0h] [bp-10h]
    char v9; // [sp+4h] [bp-Ch]
    int v10; // [sp+8h] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(85, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 44) = v5;
        v7 = *(v10 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80cf3be
int sub_80CF3BE()
{
    int v0; // r5

    return (*(&off_80CF3D0 + *(v0 + 8)))();
}


// 0x80cf3dc
void __noreturn sub_80CF3DC()
{
    int v0; // r5
    char *v1; // r7
    u8 v2; // r0
    int v3; // r0
    int v4; // r0
    _BYTE *v5; // r0
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r3
    int v10; // [sp+0h] [bp-8h]

    *v0 |= 2u;
    v1 = &byte_80CF3AC[6 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, 12, *v1);
    v2 = v1[1];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    object_setCoordinatesFromPanels(v0);
    v4 = object_getFrontDirection(v0);
    *(v0 + 64) = v4 << 20;
    *(v0 + 72) = 0x100000;
    *(v0 + 52) -= v4 << 24;
    *(v0 + 60) = 0x1000000;
    *(v0 + 32) = 30;
    v5 = object_createCollisionData();
    if ( !v5 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v10);
    }
    object_setupCollisionData(v5, *(*(v0 + 96) + 2), *(*(v0 + 96) + 3), 3);
    sub_801A146();
    v6 = object_clearCollisionRegion();
    object_presentCollisionData(v6, v7);
    sub_80E43F6(v8, *(v0 + 18), *(v0 + 19), v9);
    *(v0 + 8) = 4;
}


// 0x80cf488
void __noreturn sub_80CF488()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    (*(&off_80CF4BC + *(v0 + 9)))();
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80cf4c8
int __fastcall sub_80CF4C8(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    result = *(v3 + 32) - 1;
    *(v3 + 32) = result;
    if ( !result )
    {
        *(v3 + 32) = 16;
        PlaySoundEffect(196, a2, a3);
        *(v3 + 9) = 4;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80cf4e6
int sub_80CF4E6()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r7
    int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        result = *(v0 + 60) - *(v0 + 72);
        *(v0 + 60) = result;
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF800010 )
        {
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
            PlaySoundEffect(112, v2, v3);
            v4 = *(v0 + 96);
            if ( *(v4 + 4) )
                camera_initShakeEffect_80302a8(*(v4 + 4), 15);
            object_setCollisionRegion(1);
        }
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
        result = *v0 & 0xFD;
        *v0 = result;
    }
    return result;
}


// 0x80cf554
signed int sub_80CF554()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    char v3; // r0
    signed int result; // r0

    v1 = *(v0 + 96);
    v2 = *(v1 + 5);
    if ( *(v1 + 5) )
    {
        if ( v2 == 1 )
            goto LABEL_10;
        if ( v2 != 3 )
            object_breakPanel_dup2(*(v0 + 18), *(v0 + 19));
        GetPositiveSignedRNG2();
        if ( !(v3 & 1) )
LABEL_10:
            object_crackPanel(*(v0 + 18), *(v0 + 19));
    }
    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cf594
int __fastcall sub_80CF594(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(86, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80cf5b2
_BYTE *__fastcall sub_80CF5B2(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80CF594(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80cf5c8
void sub_80CF5C8()
{
    int v0; // r5

    (*(&off_80CF5E0 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80cf5ec
int __noreturn sub_80CF5EC()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 20;
    sprite_load(v0, 128, 8, 18);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 26;
    *(v0 + 17) = 26;
    sprite_setAnimation(v0, 0x1Au);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 6, 5, 1);
        v3 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v3, v4);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        **(v0 + 96) = 0;
        result = object_freeMemory();
    }
    return result;
}


// 0x80cf658
void __noreturn sub_80CF658()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    char v4; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 76) + 9) != 13 )
        goto LABEL_16;
    if ( *(v0 + 11) )
    {
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
        return;
    }
    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 13 )
        goto LABEL_16;
    v1 = *(*(v0 + 84) + 112);
    if ( !(v1 & *(&off_80CF6F4 + *(v0 + 22))) )
    {
        if ( !(v1 & 0x3800000) )
        {
            v2 = battle_isTimeStop();
            if ( v4 )
                v2 = (*(&off_80CF6EC + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
            return;
        }
LABEL_16:
        object_clearCollisionRegion();
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
        return;
    }
    if ( sub_80CF7A4() )
        *(v0 + 11) = 2;
    else
        *(v0 + 11) = 1;
    object_clearCollisionRegion();
}


// 0x80cf700
signed int sub_80CF700()
{
    int v0; // r5
    int v5; // r0
    signed int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 64) = *&byte_80CF75C[4 * *(v0 + 4)] * object_getFrontDirection(v0);
        __asm { SVC         6 }
        *(v0 + 32) = 0;
    }
    v5 = *(v0 + 32);
    _VF = __OFSUB__(v5--, 1);
    *(v0 + 32) = v5;
    if ( ((v5 < 0) ^ _VF) | (v5 == 0)
        || (*(v0 + 52) += *(v0 + 64),
                object_setPanelsFromCoordinates(v0),
                object_updateCollisionPanels(v0),
                (result = object_isCurrentPanelValid()) == 0) )
    {
        object_clearCollisionRegion();
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80cf76c
int sub_80CF76C()
{
    object_clearCollisionRegion();
    return object_genericDestroy();
}


// 0x80cf778
int __fastcall sub_80CF778(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(87, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
        *v6 = v4;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cf7a4
int sub_80CF7A4()
{
    int v0; // r5
    int result; // r0
    char *v2; // r3
    int *v3; // r6
    int v4; // r1
    int v5; // [sp+0h] [bp-1Ch]

    result = sub_801A4DC(&v5, 16);
    if ( result )
    {
        v2 = 0;
        v3 = &v5;
        do
        {
            v4 = *(*v3 + 84);
            if ( v4 )
            {
                v2 = &off_80CF7E8;
                if ( *(v4 + 48) & *(&off_80CF7E8 + *(v0 + 22)) )
                {
                    *(v0 + 80) = *v3;
                    return 1;
                }
            }
            ++v3;
            ++v2;
        }
        while ( v2 < result );
        result = 0;
    }
    return result;
}


// 0x80cf7f0
int sub_80CF7F0()
{
    int v0; // r5

    return (*(&off_80CF804 + *(v0 + 8)))();
}


// 0x80cf810
int sub_80CF810()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int v4; // r0
    int v5; // r1

    if ( !battle_isBattleOver() )
    {
        *v0 |= 3u;
        sprite_load(v0, 128, 12, 20);
        sprite_noShadow(v0);
        *(v0 + 16) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        sprite_update(v0);
        v1 = object_getFlip(v0);
        sprite_setFlip(v0, v1);
        v2 = 11;
        if ( !*(v0 + 5) )
            v2 = byte_80CF8A8[*(v0 + 14) & 0xF];
        sprite_setPallete(v2);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0x100000;
        *(v0 + 32) = 0;
        *(v0 + 64) *= object_getFrontDirection(v0);
        v3 = object_createCollisionData();
        if ( v3 )
        {
            object_setupCollisionData(v3, 7, 5, *(v0 + 4));
            v4 = object_setCollisionRegion(4);
            object_presentCollisionData(v4, v5);
            *(v0 + 8) = 4;
            sub_80CF8B0();
        }
    }
    return object_freeMemory();
}


// 0x80cf8b0
void __noreturn sub_80CF8B0()
{
    int v0; // r5
    int v1; // r4
    int v2; // r1
    int v3; // r0

    object_removeCollisionData();
    if ( battle_isBattleOver() )
        goto LABEL_8;
    if ( *(*(v0 + 84) + 112) & 0x3F800000 )
    {
        if ( *(v0 + 5) )
        {
            object_clearCollisionRegion();
            goto LABEL_5;
        }
LABEL_8:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
LABEL_5:
    v1 = *(v0 + 18);
    sub_80CF8F8();
    v3 = *(v0 + 18);
    if ( v3 != v1 )
        v3 = object_setCollisionRegion(4);
    object_presentCollisionData(v3, v2);
}


// 0x80cf8f8
signed int sub_80CF8F8()
{
    Battle *v0; // r5
    int v1; // r0
    CollisionData *v2; // r2
    int v3; // r1
    signed int result; // r0

    v0->x += v0->vx;
    v1 = object_setPanelsFromCoordinates(v0);
    v2 = v0->collisionData;
    v2->panelX = v1;
    v2->panelY = v3;
    result = object_isValidPanel(v1, v3);
    if ( !result )
    {
        object_clearCollisionRegion();
        result = 8;
        v0->currState = 8;
    }
    return result;
}


// 0x80cf91e
int __fastcall sub_80CF91E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-18h]
    char v7; // [sp+4h] [bp-14h]
    char v8; // [sp+8h] [bp-10h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(88, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80cf954
int sub_80CF954()
{
    int v0; // r5

    return (*(&off_80CF968 + *(v0 + 8)))();
}


// 0x80cf974
void __noreturn sub_80CF974()
{
    int v0; // r5
    char *v1; // r7
    u8 v2; // r0
    char v3; // r0
    int v4; // r0
    _BYTE *v5; // r0
    int v6; // r0
    int v7; // r1

    v1 = &byte_80CF934[8 * *(v0 + 4)];
    *(v0 + 96) = v1;
    *v0 |= 2u;
    sprite_load(v0, 128, 16, 0);
    *(v0 + 17) = -1;
    v2 = 0;
    if ( *(v0 + 6) == 3 )
        v2 = *v1;
    *(v0 + 16) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_hasShadow();
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    v3 = 0;
    if ( *(v0 + 4) >= 3u )
        v3 = 2;
    *(v0 + 14) = v3;
    v4 = 2 * v1[2];
    if ( !v4 )
        LOWORD(v4) = 1;
    *(v0 + 36) = v4;
    *(v0 + 38) = v4;
    *(v0 + 40) = *(v1 + 3);
    *(v0 + 32) = 6000;
    v5 = object_createCollisionData();
    if ( v5 )
    {
        object_setupCollisionData(v5, 14, 15, 3);
        object_setCollisionHitEffect(10);
        v6 = object_clearCollisionRegion();
        object_presentCollisionData(v6, v7);
        *(v0 + 8) = 4;
        sub_80CFA18();
    }
    object_freeMemory();
}


// 0x80cfa18
void __noreturn sub_80CFA18()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD9E();
    object_spawnCollisionEffect();
    sub_800F672();
    sub_801B394(&off_80CFA48);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80cfa6c
int sub_80CFA6C()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 6) == 2 )
        return sub_80CFAC0();
    if ( *(v0 + 6) || (result = sprite_getFrameParameters(), result & 0x80) )
    {
        if ( object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 260571264) )
        {
            *(v0 + 16) = **(v0 + 96);
            object_setCollisionRegion(1);
            *v0 &= 0xFBu;
            *(v0 + 9) = 8;
        }
        else
        {
            *(v0 + 9) = 2;
        }
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80cfac0
char *sub_80CFAC0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    __int64 v5; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = **(v0 + 96);
        *(v0 + 72) = 0;
        *(v0 + 60) = 10485760;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 72) - 0x4000;
    *(v0 + 72) = v1;
    v2 = *(v0 + 60);
    v3 = __OFADD__(v2, v1);
    v4 = v2 + v1;
    *(v0 + 60) = v4;
    if ( ((v4 < 0) ^ v3) | (v4 == 0) )
        object_isCurrentPanelSolid();
    LODWORD(v5) = *(v0 + 18);
    HIDWORD(v5) = *(v0 + 19);
    return object_highlightPanel(v5);
}


// 0x80cfb28
void sub_80CFB28()
{
    ;
}


// 0x80cfb2c
signed int __noreturn sub_80CFB2C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    signed int result; // r0
    int v4; // ST00_4
    int v5; // ST0C_4
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r0
    int v11; // r1
    int v12; // r2
    int v13; // r3
    int v14; // r2

    object_clearCollisionRegion();
    v1 = object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    sub_802EF5C(v1);
    clearEntryOfBattleStateBattleObjectList_800F656();
    v2 = object_getFlag2();
    if ( v2 & 0x8000 )
    {
        if ( v2 & 0x300000 )
        {
            sub_800F90E(4);
        }
        else
        {
            result = sub_800F8CE(v2);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        v4 = *(v0 + 52);
        v5 = *(*(v0 + 96) + 3);
        v6 = sub_801BDDE(0xFu);
        sub_80E47A4(v6, v7, v8, v9);
        v10 = sub_801BDDE(0xFu);
        sub_80E47A4(v10, v11, v12, v13);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
        PlaySoundEffect(*(*(v0 + 96) + 4), *(v0 + 96), v14);
    }
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80cfbc4
int __fastcall sub_80CFBC4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // r1
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+8h] [bp-Ch]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(89, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 22) = v10;
        *(v4 + 44) = v5;
        v7 = 16;
        if ( *(v4 + 6) == 3 )
            v7 = 20;
        *v4 |= v7;
        result = sub_800F614(v4, v10, *(v4 + 5));
    }
    return result;
}


// 0x80cfc08
int sub_80CFC08()
{
    int v0; // r5

    return (*(&off_80CFC1C + *(v0 + 8)))();
}


// 0x80cfc28
int sub_80CFC28()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r1
    int v3; // r2

    *(v0 + 32) = 100;
    *(v0 + 34) = 8;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 27, 0, 0);
        object_clearCollisionRegion();
        PlaySoundEffect(173, v2, v3);
        *(v0 + 8) = 4;
        sub_80CFC5E();
    }
    return object_freeMemory();
}


// 0x80cfc5e
void __noreturn sub_80CFC5E()
{
    int v0; // r5
    _BYTE *v1; // r1
    int v2; // r0
    int v3; // r0

    object_removeCollisionData();
    v2 = *(v0 + 34) - 1;
    *(v0 + 34) = v2;
    if ( !v2 )
    {
        sub_80CFCA8();
        *(v0 + 34) = 8;
    }
    v3 = *(v0 + 32) - 1;
    *(v0 + 32) = v3;
    if ( !v3 )
    {
        object_setCollisionRegion(128);
        v1 = *(v0 + 96);
        if ( v1 )
            *v1 = 0;
        v3 = 8;
        *(v0 + 8) = 8;
    }
    object_presentCollisionData(v3, v1);
}


// 0x80cfc96
int __noreturn sub_80CFC96()
{
    int v0; // r5

    object_removeCollisionData();
    object_freeCollisionData(*(v0 + 84));
    return object_freeMemory();
}


// 0x80cfca8
int sub_80CFCA8()
{
    int v0; // r5
    unsigned int v1; // r0
    int v2; // r1

    GetRNG2();
    v2 = (v1 & 0x1F) - 152;
    if ( *(v0 + 22) != *(v0 + 23) )
        v2 = (v1 & 0x1F) + 120;
    return sub_80E48F8((v1 >> 25) - 64, v2 << 16, ((v1 >> 25) - 64) << 16, 2621440);
}


// 0x80cfcd6
int __fastcall sub_80CFCD6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(90, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v5;
        *(v4 + 22) = *(v7 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80cfcf8
void sub_80CFCF8()
{
    int v0; // r5

    (*(&off_80CFD10 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80cfd1c
int __noreturn sub_80CFD1C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2

    sprite_load(v0, 128, 20, 26);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    *v0 &= 0xFDu;
    object_setCoordinatesFromPanels(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    PlaySoundEffect(237, v2, v3);
    *(v0 + 8) = 4;
    return sub_80CFD64();
}


// 0x80cfd64
int sub_80CFD64()
{
    int v0; // r5

    return (*(&off_80CFD78 + *(v0 + 9)))();
}


// 0x80cfd80
char *sub_80CFD80()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    unsigned int v3; // r0
    unsigned __int8 v4; // cf
    char *result; // r0
    __int64 v6; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    v3 = *(v0 + 32);
    v4 = __CFSHR__(v3, 3);
    result = (v3 >> 3);
    if ( v4 )
    {
        LODWORD(v6) = *(v0 + 18);
        HIDWORD(v6) = *(v0 + 19);
        result = object_highlightPanel(v6);
    }
    return result;
}


// 0x80cfdb0
int sub_80CFDB0()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 44);
        v2 = *(v0 + 5);
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0x100000);
        *v0 |= 2u;
        *(v0 + 16) = 0;
        *(v0 + 17) = -1;
        *(v0 + 32) = 37;
        *(v0 + 11) = 4;
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v4 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80cfdf2
int __fastcall sub_80CFDF2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(91, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80cfe08
BOOL __fastcall sub_80CFE08(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r0
    BOOL result; // r0
    char v7; // zf
    int v8; // [sp+0h] [bp-28h]
    int v9; // [sp+4h] [bp-24h]
    int v10; // [sp+8h] [bp-20h]
    char v11; // [sp+18h] [bp-10h]

    v9 = a3;
    v10 = a4;
    v5 = object_getFrontDirection(v4);
    v8 = v5 + v4->panelX;
    v11 = v5 + v4->panelX;
    result = object_isValidPanel(v8, v4->panelY);
    if ( !v7 )
        sub_80CFE5C(v8, v11, v9, v10);
    return result;
}


// 0x80cfe5c
int __fastcall __noreturn sub_80CFE5C(int a1, char a2, int a3, int a4)
{
    int v4; // r5
    int v6; // [sp+0h] [bp-34h]
    int v7; // [sp+4h] [bp-30h]
    int v8; // [sp+8h] [bp-2Ch]
    int v9; // [sp+Ch] [bp-28h]
    int v10; // [sp+18h] [bp-1Ch]
    int v11; // [sp+1Ch] [bp-18h]
    char v12; // [sp+20h] [bp-14h]

    v6 = a1;
    v12 = a2;
    v8 = a3;
    v9 = a4;
    v10 = *(&off_80CFEB8 + *(v4 + 22));
    v7 = 1;
    v11 = 0;
    do
    {
        if ( object_getPanelParameters(v6, v7) & v10 )
        {
            sub_80CFDF2(v12, v7, v8, v9);
            ++v11;
        }
        ++v7;
    }
    while ( v7 <= 3 );
    return v11;
}


// 0x80cfec4
int sub_80CFEC4()
{
    int v0; // r5

    return (*(&off_80CFED8 + *(v0 + 8)))();
}


// 0x80cfee4
int sub_80CFEE4()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // ST00_4
    int v5; // r0
    int v6; // r0
    _BYTE *v7; // r0
    int v8; // r0
    int v9; // r1

    if ( !battle_isBattleOver() )
    {
        if ( object_isCurrentPanelValid() )
        {
            sprite_load(v0, 128, 12, 47);
            sprite_loadAnimationData(v0);
            sprite_noShadow(v0);
            *(v0 + 16) = 0;
            *(v0 + 17) = -1;
            v1 = *(v0 + 19);
            v2 = object_getCoordinatesForPanels(*(v0 + 18));
            *(v0 + 56) = v3;
            v4 = v2;
            v5 = object_getFrontDirection(v0);
            *(v0 + 60) = 11796480;
            *(v0 + 52) = -11796480 * v5 + v4;
            v6 = object_getFlip(v0);
            sprite_setFlip(v0, v6);
            v7 = object_createCollisionData();
            if ( v7 )
            {
                object_setupCollisionData(v7, 28, 5, *(v0 + 4));
                v8 = object_clearCollisionRegion();
                object_presentCollisionData(v8, v9);
                *(v0 + 8) = 4;
                sub_80CFF62();
            }
        }
    }
    return object_freeMemory();
}


// 0x80cff62
void __noreturn sub_80CFF62()
{
    object_removeCollisionData();
    JUMPOUT(*byte_80CFF68);
}


// 0x80cffb0
signed int sub_80CFFB0()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 32) = 15;
    result = 4;
    *(v0 + 9) = 4;
    return result;
}


// 0x80cffbc
int sub_80CFFBC()
{
    Battle *v0; // r5
    __int64 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r1
    int v5; // r2
    int v6; // r1
    int v7; // r2
    int result; // r0

    LODWORD(v1) = v0->panelX;
    HIDWORD(v1) = v0->panelY;
    object_highlightPanel(v1);
    if ( v0->Timer == 7 )
    {
        v0->currAnimation = 0;
        v0->currAnimationCpy = -1;
        v0->objFlags |= 2u;
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
    }
    v2 = v0->Timer;
    v3 = __OFSUB__(v2--, 1);
    v0->Timer = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->currAnimation = 1;
        object_setCollisionRegion(1);
        PlaySoundEffect(151, v4, v5);
        v0->currAction = 8;
        v0->Timer = 30;
        result = PlaySoundEffect(151, v6, v7);
    }
    else
    {
        result = object_getFrontDirection(v0);
        v0->z -= 786432;
        v0->x += 786432 * result;
    }
    return result;
}


// 0x80d0026
int sub_80D0026()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 32) == 28 )
        object_clearCollisionRegion();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 20;
        result = 12;
        *(v0 + 9) = 12;
    }
    return result;
}


// 0x80d0044
int sub_80D0044()
{
    unsigned __int8 *v0; // r5
    int v1; // r0
    int result; // r0

    v1 = *(v0 + 16) - 1;
    *(v0 + 16) = v1;
    if ( v1 )
    {
        if ( v1 & 2 )
            result = *v0 | 2;
        else
            result = *v0 & 0xFD;
        *v0 = result;
    }
    else
    {
        result = 8;
        *(v0 + 2) = 8;
    }
    return result;
}


// 0x80d006e
int __fastcall sub_80D006E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(92, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80d008c
_BYTE *__fastcall sub_80D008C(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80D006E(a1, a2, a3, a4);
    *result |= 0x10u;
    return result;
}


// 0x80d00a0
void sub_80D00A0()
{
    int v0; // r5

    (*(&off_80D00B8 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d00c4
signed int __noreturn sub_80D00C4()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 14);
    sprite_hasShadow();
    *v0 |= 2u;
    v1 = *(&word_80D0130 + *(v0 + 5));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 6) = 0;
    if ( !*(v0 + 5) )
    {
        --*(v0 + 56);
        --*(v0 + 60);
    }
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d0132
int sub_80D0132()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 10 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D0164 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d0168
int __fastcall sub_80D0168(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    if ( *(v3 + 10) )
    {
        result = *(v3 + 32) - 1;
        *(v3 + 32) = result;
        if ( result == 15 )
        {
            result = *(v3 + 5);
            if ( !*(v3 + 5) )
            {
                sub_80D020E();
                result = *(*(v3 + 100) + 18);
                if ( result == *(v3 + 18) )
                {
                    result = 1;
                    *(v3 + 6) = 1;
                }
            }
        }
        else if ( result == 10 )
        {
            result = *(v3 + 5);
            if ( !*(v3 + 5) )
                result = PlaySoundEffect(384, a2, a3);
        }
        else if ( result <= 0 )
        {
            result = 8;
            *(v3 + 8) = 8;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        result = 20;
        *(v3 + 32) = 20;
    }
    return result;
}


// 0x80d01bc
int sub_80D01BC()
{
    sub_80D01FE();
    return object_genericDestroy();
}


// 0x80d01c8
int __fastcall sub_80D01C8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-18h]
    char v9; // [sp+4h] [bp-14h]
    char v10; // [sp+8h] [bp-10h]
    int v11; // [sp+Ch] [bp-Ch]
    int v12; // [sp+10h] [bp-8h]

    v12 = a4;
    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(93, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 100) = v12;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d01fe
int sub_80D01FE()
{
    int v0; // r5
    int *v1; // r1
    int result; // r0

    v1 = *(v0 + 96);
    result = *v1;
    if ( *v1 == v0 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x80d020e
int sub_80D020E()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0x100000);
}


// 0x80d0230
void __fastcall sub_80D0230(int a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // r1
    signed int v4; // r3
    int v5; // r4

    v2 = a1;
    v3 = *(v1 + 52) + 1310720 * object_getFrontDirection(v1);
    v4 = 1572864;
    if ( !*(v1 + 5) )
        v4 = -1572864;
    v5 = *(&dword_80D0264 + v2);
    SpawnT4BattleObjectWithId0(v1, *(v1 + 5), v3, *(v1 + 56) + v4, *(v1 + 60));
}


// 0x80d0268
void sub_80D0268()
{
    int v0; // r5

    (*(&off_80D0280 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d028c
signed int __noreturn sub_80D028C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 8, 14);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 62;
    *(v0 + 17) = 62;
    sprite_setAnimation(v0, 0x3Eu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_reservePanel(*(v0 + 18), *(v0 + 19));
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d02d6
int sub_80D02D6()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 11 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D0308 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d0310
int __fastcall sub_80D0310(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(326, 4, a3);
        result = 11;
        *(v3 + 32) = 11;
    }
    return result;
}


// 0x80d033c
int sub_80D033C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 4) - 10;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d035c
int __noreturn sub_80D035C()
{
    int v0; // r5

    object_removePanelReserve(*(v0 + 18), *(v0 + 19));
    return object_genericDestroy();
}


// 0x80d036c
int __fastcall sub_80D036C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(94, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 14) = v8;
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d0394
void sub_80D0394()
{
    int v0; // r5

    (*(&off_80D03AC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d03b8
int __noreturn sub_80D03B8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    ++*(v0 + 58);
    ++*(v0 + 62);
    *(v0 + 64) = object_getFrontDirection(v0) * *&byte_80D0444[4 * *(v0 + 4)];
    sprite_load(v0, 128, 8, 14);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 63;
    *(v0 + 17) = 63;
    sprite_setAnimation(v0, 0x3Fu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    v4 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v4, v5);
    PlaySoundEffect(179, v6, v7);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d0454
void __noreturn sub_80D0454()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D0494 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d0498
signed int sub_80D0498()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(*(v0 + 84) + 112)
        || !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10)
        || (result = object_isCurrentPanelValid()) == 0 )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d04d2
int sub_80D04D2()
{
    return object_genericDestroy();
}


// 0x80d04da
int __fastcall sub_80D04DA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(95, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d0500
void sub_80D0500()
{
    int v0; // r5

    (*(&off_80D0518 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d0524
signed int __noreturn sub_80D0524()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 66);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d0566
int sub_80D0566()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D058C + *(v0 + 9)))();
    }
    return result;
}


// 0x80d0590
int sub_80D0590()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 30;
        *(v0 + 34) = 12;
    }
    v1 = *(v0 + 34) + 1;
    *(v0 + 34) = v1;
    if ( v1 >= 12 )
    {
        sub_80D05EC();
        *(v0 + 34) = 0;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d05c4
int __fastcall sub_80D05C4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(96, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d05ec
int sub_80D05EC()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d0610
void sub_80D0610()
{
    int v0; // r5

    (*(&off_80D0628 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d0634
int sub_80D0634()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r0
    _BYTE *v7; // r0
    char v9; // r3
    int v10; // r0
    int v11; // r1
    int v12; // r0
    int v13; // r0

    if ( object_isCurrentPanelValid() )
    {
        v1 = 12;
        v2 = 28;
        v3 = *(v0 + 4);
        if ( *(v0 + 4) && v3 != 2 && v3 != 3 && v3 != 4 && v3 != 5 )
        {
            v1 = 16;
            v2 = 50;
        }
        sprite_load(v0, 128, v1, v2);
        sprite_noShadow(v0);
        *v0 |= 2u;
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        sprite_setPallete(0);
        v4 = object_getFlip(v0);
        sprite_setFlip(v0, v4);
        *(v0 + 32) = *(v0 + 5);
        object_setCoordinatesFromPanels(v0);
        v5 = *(v0 + 4);
        if ( v5 == 4 || v5 == 5 )
        {
            v6 = object_getFrontDirection(v0);
            *(v0 + 52) = *(v0 + 52) + (v6 << 19) - 458752 * *(v0 + 7) * v6;
        }
        *(v0 + 56) += 0x20000;
        *(v0 + 60) += 0x20000;
        v7 = object_createCollisionData();
        if ( v7 )
        {
            v9 = 3;
            if ( *(v0 + 4) == 1 )
                v9 = 1;
            object_setupCollisionData(v7, 4, 5, v9);
            v10 = 1;
            if ( *(v0 + 4) == 1 )
                v10 = 3;
            object_setCollisionHitEffect(v10);
            v12 = *(v0 + 4);
            if ( v12 == 1 )
                v12 = object_setCollisionStatusEffect1(18);
            object_presentCollisionData(v12, v11);
            v13 = *(v0 + 4);
            if ( *(v0 + 4) && v13 != 2 && v13 != 3 && v13 != 4 && v13 != 5 )
                object_crackPanel(*(v0 + 18), *(v0 + 19));
            *(v0 + 8) = 4;
            sub_80D072C();
        }
    }
    return object_freeMemory();
}


// 0x80d072c
char *__noreturn sub_80D072C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    __int64 v5; // r0
    char *result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v0 + 32) = v4;
    if ( ((v4 < 0) ^ v3) | (v4 == 0) )
    {
        object_clearCollisionRegion();
        result = &dword_8;
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v4, v1);
        sub_80D0766();
        LODWORD(v5) = *(v0 + 18);
        HIDWORD(v5) = *(v0 + 19);
        result = object_highlightPanel(v5);
    }
    return result;
}


// 0x80d0766
signed int sub_80D0766()
{
    int v0; // r5
    __int16 v1; // r0
    signed int result; // r0

    if ( !*(v0 + 9) && *(*(v0 + 76) + 9) != byte_80D0794[*(v0 + 4)] )
    {
        v1 = *(v0 + 6);
        *(v0 + 32) = v1;
        *(v0 + 9) = v1;
    }
    result = *(v0 + 32);
    if ( result == *(v0 + 6) )
    {
        result = 1;
        *(v0 + 16) = 1;
    }
    return result;
}


// 0x80d07a0
int __fastcall sub_80D07A0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(97, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80d07cc
void sub_80D07CC()
{
    int v0; // r5

    (*(&off_80D07F0 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80d07fc
int __noreturn sub_80D07FC()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 20;
    sprite_load(v0, 128, 16, 57);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    object_setCollisionHitEffect(255);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    *(v0 + 5) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d0868
void __noreturn sub_80D0868()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *&byte_80D08C4[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) || (battle_isTimeStop(), v1) )
    {
        v2 = (*(&off_80D08B4 + *(v0 + 9)))();
        object_presentCollisionData(v2, v3);
    }
}


// 0x80d08cc
int sub_80D08CC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == *(v0 + 34) - 10 )
        {
            result = sub_80D0A5C();
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        sub_80D0A5C();
        PlaySoundEffect(183, v1, v2);
        result = byte_80D0914[*(v0 + 4)];
        *(v0 + 32) = result;
        *(v0 + 34) = result;
    }
    return result;
}


// 0x80d0916
int __fastcall sub_80D0916(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    sub_80D0A80(a1, a2, a3);
    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 8;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = 1;
        object_setCollisionRegion(1);
        result = byte_80D0950[*(v3 + 4)];
        *(v3 + 32) = result;
    }
    return result;
}


// 0x80d0952
int __fastcall sub_80D0952(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int result; // r0

    if ( v3->currPhase )
    {
        v3->y += v3->vy;
        v3->x += v3->vx;
        object_setPanelsFromCoordinates(v3);
        object_updateCollisionPanels(v3);
        result = object_isCurrentPanelValid();
        if ( !result )
        {
            object_clearCollisionRegion();
            result = 8;
            v3->currState = 8;
        }
    }
    else
    {
        v3->currPhase = 4;
        PlaySoundEffect(179, 4, a3);
        result = sub_80D09BE();
    }
    return result;
}


// 0x80d0996
int __fastcall sub_80D0996(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(98, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d09be
int sub_80D09BE()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    if ( *(v0 + 5) )
    {
        v1 = object_getFrontDirection(v0);
        object_getFirstPanelInDirectionFiltered(
            *(v0 + 18) + v1,
            *(v0 + 19) + byte_80D0A48[0],
            *(&off_80D0A3C + *(v0 + 22)),
            0);
    }
    *(v0 + 68) = 0;
    result = object_getFrontDirection(v0) * *&byte_80D0A54[4 * *(v0 + 4)];
    *(v0 + 64) = result;
    return result;
}


// 0x80d0a5c
int sub_80D0A5C()
{
    int v0; // r5
    int result; // r0
    int v2; // r6

    result = *(v0 + 4);
    if ( !*(v0 + 4) )
    {
        v2 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    return result;
}


// 0x80d0a80
int __fastcall sub_80D0A80(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    result = *(v3 + 4);
    if ( *(v3 + 4) )
    {
        result = *(v3 + 5);
        if ( !*(v3 + 5) )
        {
            result = *(*(*(v3 + 76) + 88) + 34);
            if ( result & 2 )
            {
                *(v3 + 5) = 1;
                result = PlaySoundEffect(139, 2, a3);
            }
        }
    }
    return result;
}


// 0x80d0aa8
int sub_80D0AA8()
{
    int v0; // r5

    return (*(&off_80D0ABC + *(v0 + 8)))();
}


// 0x80d0ac8
int sub_80D0AC8()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 49, 65, 0);
        v2 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v2, v3);
        *(v0 + 34) = 0;
        *(v0 + 100) = 0;
        *(v0 + 5) = 0;
        *(v0 + 8) = 4;
        sub_80D0B0E();
    }
    **(v0 + 96) = 0;
    return object_freeMemory();
}


// 0x80d0b0e
void __noreturn sub_80D0B0E()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D0B4C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d0b54
signed int sub_80D0B54()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0

    if ( *(v0 + 5) )
        sub_80D0C5C();
    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 46;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        if ( *(v0 + 5) )
        {
            *(v0 + 32) = *&byte_80D0BCC[2 * *(v0 + 4)];
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            object_clearCollisionRegion();
            **(v0 + 96) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        result = *(v0 + 84);
        if ( *(result + 112) & *(&off_80D0BC0 + *(v0 + 22)) )
        {
            object_clearCollisionRegion();
            result = 1;
            *(v0 + 5) = 1;
        }
    }
    return result;
}


// 0x80d0bd4
void sub_80D0BD4()
{
    int v0; // r5
    int v1; // r3
    int v2; // r2
    int v3; // r3
    int v4; // r0
    unsigned __int8 v5; // vf

    v1 = *(v0 + 104);
    v2 = *(v1 + 18);
    v3 = *(v1 + 19);
    if ( *(v0 + 18) != v2
        || *(v0 + 19) != v3
        || (v4 = *(v0 + 32), v5 = __OFSUB__(v4, 1), --v4, *(v0 + 32) = v4, (v4 < 0) ^ v5) )
    {
        sub_80D0C7C();
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
    }
    else
    {
        sub_80D0CE0();
        sub_80D0C5C();
        if ( !(*(v0 + 32) & 7) )
        {
            sub_80D0CB4();
            sub_80D0D28();
        }
    }
}


// 0x80d0c1c
int sub_80D0C1C()
{
    return object_genericDestroy();
}


// 0x80d0c24
int __fastcall sub_80D0C24(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-18h]
    char v8; // [sp+4h] [bp-14h]
    char v9; // [sp+8h] [bp-10h]
    int v10; // [sp+Ch] [bp-Ch]
    int *v11; // [sp+10h] [bp-8h]

    v11 = a4;
    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(99, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = 0;
        *(v4 + 104) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 96) = v11;
        *v11 = v4;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d0c5c
int sub_80D0C5C()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d0c7c
int sub_80D0C7C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6

    v1 = *&byte_80D0CA4[4 * *(v0 + 4)];
    v2 = *(v0 + 46) << 16;
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d0cb4
int sub_80D0CB4()
{
    int v0; // r5
    int v1; // r6

    v1 = *(&dword_80D0CDC + *(v0 + 4));
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d0ce0
int sub_80D0CE0()
{
    int v0; // r5
    __int16 v1; // r0
    int result; // r0

    v1 = *(*(*(v0 + 104) + 88) + 36);
    if ( v1 & 0x40 || v1 & 0x80 || v1 & 0x20 || v1 & 0x10 )
        ++*(v0 + 100);
    result = *(v0 + 34) + 1;
    *(v0 + 34) = result;
    if ( result >= 30 )
    {
        if ( *(v0 + 100) >= 3 )
        {
            result = *(v0 + 32);
            if ( result <= 20 )
                return result;
            *(v0 + 32) = result - 20;
        }
        result = 0;
        *(v0 + 34) = 0;
        *(v0 + 100) = 0;
    }
    return result;
}


// 0x80d0d28
void sub_80D0D28()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r6
    int v3; // r1
    int v4; // r7
    char v5; // r0
    char v6; // r2
    int v7; // r0
    char v8; // r0
    char v9; // r2
    int v10; // r0
    int v11; // [sp-8h] [bp-18h]

    v1 = v0->panelY;
    v2 = object_getCoordinatesForPanels(v0->panelX);
    v4 = v3;
    GetPositiveSignedRNG2();
    v6 = v5;
    v7 = (v5 & 0x1F) << 16;
    if ( !(v6 & 1) )
        v7 = -v7;
    v11 = v2 + v7;
    GetPositiveSignedRNG2();
    v9 = v8;
    v10 = (v8 & 0xF) << 16;
    if ( !(v9 & 1) )
        v10 = -v10;
    SpawnT4BattleObjectWithId0(v0, v10, v11, v4 + 0x100000, v10 + 2359296);
}


// 0x80d0d7c
void sub_80D0D7C()
{
    int v0; // r5

    (*(&off_80D0DA0 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80d0dac
int __noreturn sub_80D0DAC()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 255;
    sprite_load(v0, 128, 20, 20);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 10, 5, 3);
    object_setCollisionHitEffect(3);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d0e14
void __noreturn sub_80D0E14()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        if ( *(v0 + 4) || (battle_isTimeStop(), v1) )
        {
            v2 = (*(&off_80D0E5C + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80d0e64
int sub_80D0E64()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    __int64 v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( !__CFSHR__(v2, 3) )
        {
            LODWORD(v3) = *(v0 + 18);
            HIDWORD(v3) = *(v0 + 19);
            object_highlightPanel(v3);
        }
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 20;
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80d0e9e
int sub_80D0E9E()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0

    if ( *(v0 + 10) )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v4 = *(v0 + 34);
        v5 = __OFSUB__(v4--, 1);
        *(v0 + 34) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_clearCollisionRegion();
        v6 = *(v0 + 32);
        v5 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        object_setCollisionRegion(1);
        *(v0 + 62) = 0;
        *(v0 + 17) = -1;
        PlaySoundEffect(302, v1, v2);
        *(v0 + 32) = 30;
        *(v0 + 34) = 20;
        if ( !*(v0 + 4) )
            object_crackPanel(*(v0 + 18), *(v0 + 19));
        result = *(v0 + 4);
        if ( result == 2 )
            result = sub_80D0F32();
    }
    return result;
}


// 0x80d0f0c
int __fastcall sub_80D0F0C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(100, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d0f32
_BYTE *sub_80D0F32()
{
    int v0; // r5
    int v1; // r6
    char *v2; // r1
    int v3; // ST00_4
    int v4; // r6
    _BYTE *result; // r0

    v1 = 0;
    do
    {
        v2 = &byte_80D0F74[2 * v1];
        v3 = v1;
        v4 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18) + *v2, *(v0 + 19) + v2[1], *(v0 + 14), 0);
        v1 = v3 + 1;
    }
    while ( v3 + 1 < 8 );
    return result;
}


// 0x80d0f8c
void sub_80D0F8C()
{
    int v0; // r5

    (*(&off_80D0FA4 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d0fb0
int __noreturn sub_80D0FB0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    __int16 v6; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 16711680;
    object_reservePanel(*(v0 + 18), *(v0 + 19));
    sprite_load(v0, 128, 16, 75);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 12, 13, 3);
    object_setCollisionHitEffect(6);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    v6 = *&byte_80D0F75[2 * *(v0 + 4) + 15];
    *(v0 + 36) = v6;
    *(v0 + 38) = v6;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d102e
void __noreturn sub_80D102E()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || (v1 = sub_801156A(0), (v1 < 0) ^ v2) || *(*(v0 + 84) + 112) )
    {
        object_removePanelReserve(*(v0 + 18), *(v0 + 19));
        JUMPOUT(*byte_80D1070);
    }
    v3 = battle_isTimeStop();
    if ( v5 )
        v3 = (*(&off_80D1084 + *(v0 + 9)))();
    object_presentCollisionData(v3, v4);
}


// 0x80d1094
int sub_80D1094()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 5);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80d10b8
int sub_80D10B8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 13 )
        {
            result = 1;
            *(v0 + 16) = 1;
        }
        else if ( result < 0 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        *(v0 + 17) = -1;
        *(v0 + 60) = 0;
        sprite_hasShadow();
        object_setCollisionRegion(1);
        PlaySoundEffect(343, v1, v2);
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80d1106
int sub_80D1106()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 2;
        object_removePanelReserve(*(v0 + 18), *(v0 + 19));
        result = 12;
        *(v0 + 32) = 12;
    }
    return result;
}


// 0x80d1136
int sub_80D1136()
{
    Battle *v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( v0->currPhase )
    {
        v0->x += v0->vx;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( !object_isCurrentPanelValid() )
            object_clearCollisionRegion();
        if ( v0->collisionData->collisionFlags
            || (v2 = v0->Timer, v3 = __OFSUB__(v2, 1), result = v2 - 1, v0->Timer = result, (result < 0) ^ v3) )
        {
            object_clearCollisionRegion();
            result = 8;
            v0->currState = 8;
        }
    }
    else
    {
        v0->currPhase = 4;
        v0->currAnimation = 3;
        result = sub_80D11B4();
    }
    return result;
}


// 0x80d1182
int __fastcall sub_80D1182(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(101, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
        sub_80D0FB0();
    }
    return result;
}


// 0x80d11b4
int sub_80D11B4()
{
    int v0; // r5
    signed int v1; // r0
    int v2; // r0
    int result; // r0

    *(v0 + 64) = object_getEnemyDirection() * *&byte_80D11EC[4 * *(v0 + 4)];
    v1 = 7;
    if ( *(v0 + 22) )
        v1 = 0;
    v2 = v1 - *(v0 + 18);
    if ( v2 < 0 )
        v2 = -v2;
    result = 2621440 * v2;
    __asm { SVC         6 }
    *(v0 + 32) = result;
    return result;
}


// 0x80d1218
void sub_80D1218()
{
    int v0; // r5

    (*(&off_80D1230 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d123c
int sub_80D123C()
{
    int v0; // r5
    _DWORD *v1; // r0

    v1 = *(v0 + 76);
    if ( v1 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80d124e
void __noreturn sub_80D124E()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x1034u, 0xC0D0100u);
}


// 0x80d12ca
void sub_80D12CA()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    char v7; // zf
    int v8; // r1
    int v9; // r2

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || !sub_80D146A() )
        goto LABEL_14;
    if ( *(v0 + 9) != 12 )
    {
        if ( sub_801156A(0) == -1 )
        {
            SpawnT4BattleObjectWithId0(v0, *(v0 + 4), *(v0 + 52), *(v0 + 56), (12 * *(v0 + 4) + 16) << 16);
            PlaySoundEffect(112, v1, v2);
            object_clearCollisionRegion();
            *(v0 + 32) = 20;
            goto LABEL_6;
        }
        if ( !(*(*(v0 + 84) + 112) & 0xF800000) )
        {
            v3 = *(v0 + 36);
            v4 = *(v0 + 104);
            *(v0 + 104) = v3;
            if ( v3 != v4 )
            {
                *(v0 + 32) = *(v0 + 5);
                *(v0 + 9) = 8;
                *(v0 + 10) = 0;
            }
            goto LABEL_10;
        }
LABEL_14:
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
        PlaySoundEffect(112, v8, v9);
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
LABEL_6:
    *v0 &= 0xFDu;
    *(v0 + 9) = 12;
    *(v0 + 10) = 0;
LABEL_10:
    v5 = battle_isTimeStop();
    if ( v7 )
        v5 = (*(&off_80D1384 + *(v0 + 9)))();
    object_presentCollisionData(v5, v6);
}


// 0x80d1394
int sub_80D1394()
{
    int v0; // r5
    int v1; // r1
    int result; // r0
    int v3; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v1 = *(v0 + 72);
    *(v0 + 60) += v1;
    if ( *(v0 + 7) )
        *(v0 + 72) = v1 - 0x8000;
    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 60) = 0;
        v3 = 1;
        if ( *(v0 + 4) )
            v3 = 24;
        object_setCollisionRegion(v3);
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = *(v0 + 7);
        if ( *(v0 + 7) )
        {
            result = 196608 * object_getFrontDirection(v0);
            *(v0 + 64) = result;
        }
    }
    return result;
}


// 0x80d13f6
signed int sub_80D13F6()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d141a
int sub_80D141A()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d142c
int sub_80D142C()
{
    int v0; // r5
    int result; // r0

    *v0 &= 0xFDu;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d1442
int __fastcall sub_80D1442(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(102, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v10;
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d146a
int sub_80D146A()
{
    int v0; // r5
    int result; // r0

    if ( !*(*(v0 + 84) + 1) )
        return 1;
    result = object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10;
    if ( *(v0 + 4) )
        result |= object_getPanelParameters(*(v0 + 18), *(v0 + 19) - 1) & 0x10;
    return result;
}


// 0x80d149e
int sub_80D149E()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int result; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r0

    if ( *(v0 + 7) )
    {
        v1 = object_getFrontDirection(v0) + *(v0 + 18);
        *(v0 + 18) = v1;
        v2 = *(v0 + 19);
        v3 = object_getCoordinatesForPanels(v1);
        *(v0 + 34) = 13;
        result = sub_8001330((v0 + 52), v3, v4);
        *(v0 + 64) = result;
        *(v0 + 68) = v6;
        *(v0 + 72) = v7;
    }
    else
    {
        *(v0 + 68) = 0;
        *(v0 + 64) = 114688 * object_getFrontDirection(v0);
        *(v0 + 72) = -131072;
        v8 = *(v0 + 60);
        __asm { SVC         6 }
        *(v0 + 34) = v8;
        result = *(v0 + 52) - v8 * *(v0 + 64);
        *(v0 + 52) = result;
    }
    return result;
}


// 0x80d1514
void sub_80D1514()
{
    int v0; // r5

    (*(&off_80D152C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d1538
signed int __noreturn sub_80D1538()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    sprite_load(v0, 128, 16, 74);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 100) = *&byte_80D1594[4 * *(v0 + 4)];
    *(v0 + 96) = 0;
    *(v0 + 5) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d15a4
int sub_80D15A4()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 11 )
    {
        **(v0 + 104) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D15DC + *(v0 + 9)))();
    }
    return result;
}


// 0x80d15e4
char *sub_80D15E4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    __int64 v3; // r0

    if ( *(v0 + 10) )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( (v1 < 0) ^ v2 )
        {
            *(v0 + 9) = 4;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 5;
    }
    LODWORD(v3) = *(v0 + 18);
    HIDWORD(v3) = *(v0 + 19);
    return object_highlightPanel(v3);
}


// 0x80d1610
signed int sub_80D1610()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r1
    int v6; // r0
    int v7; // r3
    int v8; // r2
    int v9; // r6
    int v10; // r3
    __int64 v11; // r0
    signed int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 64) = object_getFrontDirection(v0) * *(v0 + 100);
        *(v0 + 68) = 0;
    }
    v1 = *(v0 + 19);
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    if ( *(v0 + 96) & 1 )
        v4 = v3;
    else
        v4 = v2;
    v5 = *(v0 + 52);
    v6 = *(v0 + 64) + v5;
    *(v0 + 52) = v6;
    v7 = *(v0 + 56);
    v8 = *(v0 + 68) + v7;
    *(v0 + 56) = v8;
    if ( *(v0 + 96) & 1 )
    {
        v9 = v7;
        v10 = v8;
    }
    else
    {
        v9 = v5;
        v10 = v6;
    }
    if ( v4 != v9 && sub_800E708(v10, v9, v4) )
    {
        object_setCoordinatesFromPanels(v0);
        sub_80D172C();
    }
    object_setPanelsFromCoordinates(v0);
    LODWORD(v11) = *(v0 + 18);
    HIDWORD(v11) = *(v0 + 19);
    object_highlightPanel(v11);
    if ( !*(v0 + 5) )
        sub_80D1700();
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        **(v0 + 104) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d16d6
int __fastcall sub_80D16D6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(103, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 104) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d1700
signed int __noreturn sub_80D1700()
{
    _BYTE *v0; // r5
    signed int v1; // r4

    v1 = 0;
    if ( object_getPanelParameters(v0[18], v0[19]) & *(&off_80D1724 + v0[22]) )
    {
        v1 = 1;
        v0[5] = 1;
    }
    return v1;
}


// 0x80d172c
int sub_80D172C()
{
    int v0; // r5
    int result; // r0
    char *v2; // r6
    int v3; // r1
    int v4; // r4
    int v5; // r6
    int v6; // r0

    result = *(v0 + 96);
    if ( result < 2 )
    {
        v2 = &byte_80D1774[8 * *(v0 + 22) + 4 * result];
        result = *v2;
        v3 = v2[1];
        v4 = v2[2];
        v5 = v2[3];
        if ( result == *(v0 + 18) && v3 == *(v0 + 19) )
        {
            v6 = *(v0 + 100);
            *(v0 + 64) = v4 * v6;
            *(v0 + 68) = v5 * v6;
            result = *(v0 + 96) + 1;
            *(v0 + 96) = result;
        }
    }
    return result;
}


// 0x80d1784
int sub_80D1784()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d17a4
void sub_80D17A4()
{
    int v0; // r5

    (*(&off_80D17BC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d17c8
int __noreturn sub_80D17C8()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = *(&dword_80D1854 + *(v0 + 4));
    *(v0 + 52) -= object_getFrontDirection(v0) << 19;
    sprite_load(v0, 128, 16, 81);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(&dword_80D185C + *(v0 + 4));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 22, 5, 1);
    object_setCollisionStatusEffect1(16);
    v5 = object_setCollisionHitEffect(3);
    object_presentCollisionData(v5, v6);
    *(v0 + 32) = *(v0 + 5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d1860
void __noreturn sub_80D1860()
{
    int v0; // r5
    char *v1; // r0
    int v2; // r1
    char v3; // zf
    int v4; // r0
    unsigned __int8 v5; // vf
    __int64 v6; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( !battle_isBattleOver() )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        if ( *(*(v0 + 76) + 9) == 11 )
        {
            v1 = battle_isTimeStop();
            if ( !v3 )
                goto LABEL_9;
            v4 = *(v0 + 32);
            v5 = __OFSUB__(v4--, 1);
            *(v0 + 32) = v4;
            if ( !(((v4 < 0) ^ v5) | (v4 == 0)) )
            {
                LODWORD(v6) = *(v0 + 18);
                HIDWORD(v6) = *(v0 + 19);
                v1 = object_highlightPanel(v6);
LABEL_9:
                object_presentCollisionData(v1, v2);
                return;
            }
        }
    }
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
}


// 0x80d18ae
int __fastcall sub_80D18AE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(104, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d18d8
int sub_80D18D8()
{
    int v0; // r5

    return (*(&off_80D18EC + *(v0 + 8)))();
}


// 0x80d18f8
int sub_80D18F8()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    _BYTE *v5; // r0
    int result; // r0
    int v7; // r0
    int v8; // r1

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    object_setPanelsFromCoordinates(v0);
    v5 = object_createCollisionData();
    if ( !v5 )
        return object_freeMemory();
    object_setupCollisionData(v5, *(v0 + 96), *(v0 + 100), *(v0 + 4));
    v7 = object_setCollisionHitEffect(*(v0 + 5));
    object_presentCollisionData(v7, v8);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d1934
void __noreturn sub_80D1934()
{
    int v0; // r5
    int v1; // r4
    int v2; // r6
    _DWORD *v3; // r7
    int v4; // r2
    int v5; // r3
    _DWORD *v6; // r0
    int v7; // r1
    int v8; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != *(v0 + 104) )
        goto LABEL_11;
    if ( *&byte_80D19B8[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        if ( !*(v0 + 6) )
        {
LABEL_11:
            object_clearCollisionRegion();
            *(v0 + 8) = 8;
            return;
        }
        object_clearCollisionRegion();
    }
    if ( !object_isValidPanel(*(v0 + 18), *(v0 + 19)) )
        goto LABEL_11;
    v1 = *(v0 + 18);
    v2 = *(v0 + 19);
    v3 = *(v0 + 76);
    v4 = v3[14];
    v5 = v3[15];
    v6 = (v0 + 52);
    *v6 = v3[13];
    v6[1] = v4;
    v6[2] = v5;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(v0 + 18) != v1 || (v8 = *(v0 + 19), v8 != v2) )
        v8 = object_setCollisionRegion(1);
    object_presentCollisionData(v8, v7);
}


// 0x80d19c0
int __noreturn sub_80D19C0()
{
    object_removeCollisionData();
    object_spawnCollisionEffect();
    object_clearCollisionRegion();
    return object_genericDestroy();
}


// 0x80d19d4
int __fastcall sub_80D19D4(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-14h]
    int v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(105, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v7;
        *(v4 + 100) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *(v4 + 104) = *(v10 + 9);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d1a00
int __fastcall sub_80D1A00(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80d1a08
int sub_80D1A08()
{
    int v0; // r5

    return (*(&off_80D1A1C + *(v0 + 8)))();
}


// 0x80d1a28
int sub_80D1A28()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 3145728;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, *(v0 + 5), *(v0 + 6), 3);
        object_setCollisionHitEffect(*(v0 + 7));
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80D1A64();
    }
    return object_freeMemory();
}


// 0x80d1a64
void __noreturn sub_80D1A64()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    sub_801A100();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D1AA8 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d1ab0
int sub_80D1AB0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 4);
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d1ad2
int sub_80D1AD2()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        object_setCollisionRegion(1);
        object_getFlip(v0);
        v1 = *(v0 + 19);
        v2 = object_getCoordinatesForPanels(*(v0 + 18));
        SpawnT4BattleObjectWithId0(v0, v2, v2, v3, 0);
        object_breakPanel_dup3(*(v0 + 18), *(v0 + 19));
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d1b22
int __fastcall sub_80D1B22(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(106, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d1b48
int sub_80D1B48()
{
    int v0; // r5

    return (*(&off_80D1B5C + *(v0 + 8)))();
}


// 0x80d1b68
int sub_80D1B68()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 0, 24, 0);
        *(v0 + 14) = 0;
        v3 = object_setCollisionRegion(2);
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80D1B9A();
    }
    return object_freeMemory();
}


// 0x80d1b9a
void __noreturn sub_80D1B9A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    v1 = *(v0 + 4) - 1;
    *(v0 + 4) = v1;
    if ( !v1 )
        goto LABEL_8;
    v2 = *(*(v0 + 84) + 112);
    if ( v2 && v2 & *&byte_80D1BE8[4 * *(v0 + 22)] && !(v2 & 0x4000) )
    {
        **(v0 + 76) = 1;
LABEL_8:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
    if ( !battle_isBattleOver() )
        object_presentCollisionData(0, v3);
}


// 0x80d1bf4
int __fastcall sub_80D1BF4(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-10h]
    char v7; // [sp+4h] [bp-Ch]
    int v8; // [sp+8h] [bp-8h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(107, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 4) = v7;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 18) = *(v8 + 18);
    }
    return result;
}


// 0x80d1c20
void sub_80D1C20()
{
    int v0; // r5

    (*(&off_80D1C38 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d1c44
int sub_80D1C44()
{
    int v0; // r5

    --**(v0 + 76);
    **(v0 + 104) = 0;
    return object_genericDestroy();
}


// 0x80d1c5a
void __noreturn sub_80D1C5A()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x1001031u, 0xC0D0000u);
}


// 0x80d1d14
int __noreturn sub_80D1D14()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    int v4; // r1
    char v5; // zf
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || !object_isCurrentPanelValid() )
        goto LABEL_13;
    v1 = *(v0 + 84);
    v2 = *(v1 + 112);
    if ( v2 )
    {
        if ( !*(v1 + 132) && !(v2 & 0x3800000) )
        {
            if ( v2 & 0xC000000 )
            {
                object_clearCollisionRegion();
                if ( *(v0 + 9) != 4 )
                {
                    *(v0 + 9) = 4;
                    *(v0 + 10) = 0;
                }
            }
            goto LABEL_9;
        }
LABEL_13:
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
LABEL_9:
    v3 = battle_isTimeStop();
    if ( v5 )
        v3 = (*(&off_80D1D84 + *(v0 + 9)))();
    object_presentCollisionData(v3, v4);
    return object_highlightCurrentCollisionPanels();
}


// 0x80d1d90
int sub_80D1D90()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( object_isCurrentPanelValid() )
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 1;
            *(v0 + 120) = *(v0 + 18) | 16 * *(v0 + 19);
            sub_80D1EF2();
            *(v0 + 32) = *(v0 + 34);
            object_setCoordinatesFromPanels(v0);
        }
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        result = 2;
        *(v0 + 9) = 2;
    }
    return result;
}


// 0x80d1dee
int sub_80D1DEE()
{
    int v0; // r5

    return (*(&off_80D1E00 + *(v0 + 10)))();
}


// 0x80d1e08
void __noreturn sub_80D1E08()
{
    unsigned __int8 *v0; // r5

    sub_80E7486(v0[18], v0[19], v0[22]);
}


// 0x80d1e32
int sub_80D1E32()
{
    int v0; // r5
    int v1; // r1
    char v2; // r0
    char v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 32) = 5;
    }
    v1 = *(v0 + 116);
    if ( v1 )
    {
        v2 = *(v1 + 18);
        v3 = *(v1 + 19);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v7 = *(v0 + 34);
        v5 = __OFSUB__(v7--, 1);
        *(v0 + 34) = v7;
        if ( ((v7 < 0) ^ v5) | (v7 == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            object_setCollisionRegion(1);
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    return result;
}


// 0x80d1e7e
int sub_80D1E7E()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
        *(v0 + 32) = 10;
    }
    *v0 |= 2u;
    if ( !(*(v0 + 32) & 2) )
        *v0 &= 0xFDu;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d1eb8
int __fastcall sub_80D1EB8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-1Ch]
    char v9; // [sp+4h] [bp-18h]
    int v10; // [sp+8h] [bp-14h]
    int v11; // [sp+Ch] [bp-10h]
    int v12; // [sp+10h] [bp-Ch]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    v11 = a4;
    object_spawnType3(108, a2, a3, 0);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 104) = v10;
        *(v4 + 108) = v11;
        *(v4 + 44) = v5;
        *(v4 + 14) = 4;
        *(v4 + 22) = *(v12 + 22);
        *(v4 + 76) = v6;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d1ee8
int __fastcall sub_80D1EE8(int result)
{
    *(result + 9) = 8;
    *(result + 10) = 0;
    return result;
}


// 0x80d1ef2
unsigned int sub_80D1EF2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    v1 = sub_80D1F0E();
    if ( *(v0 + 64) )
        sub_80D1FA0(v1);
    else
        sub_80D1F68(v1, v2);
    return sub_80D1FD8();
}


// 0x80d1f0e
int sub_80D1F0E()
{
    int v0; // r5
    int v1; // r2
    int *v2; // r0
    int v3; // r0
    int *v4; // r0
    int v6; // r1

    v1 = *(v0 + 5);
    if ( !*(v0 + 5) )
        goto LABEL_9;
    v2 = *(v0 + 108);
    if ( !v2 )
        goto LABEL_9;
    v3 = *v2;
    if ( !v3 )
    {
        if ( v1 != 1 && !*(v0 + 112) )
        {
            v4 = (*(v0 + 108) + 4);
            *(v0 + 108) = v4;
            v3 = *v4;
            if ( v3 )
            {
                *(v0 + 112) = 1;
                goto LABEL_10;
            }
        }
        *(v0 + 108) = 0;
LABEL_9:
        v3 = sub_80103F8(*(v0 + 22) ^ 1);
        v1 = 0;
    }
LABEL_10:
    if ( v1 == 2 && !*(v0 + 112) )
        return *(v3 + 120) & 7;
    v6 = *(v3 + 19);
    return *(v3 + 18);
}


// 0x80d1f68
void __fastcall sub_80D1F68(int a1, int a2)
{
    int v2; // r5
    int v3; // r2
    int v4; // r0
    unsigned __int8 v5; // nf
    unsigned __int8 v6; // vf
    signed int v7; // r3
    int v8; // r2

    v3 = *(v2 + 19);
    if ( *(v2 + 68) < 0 )
    {
        a2 = -a2;
        v3 = -v3;
    }
    if ( a2 <= v3 )
    {
        sub_80D200C();
        if ( v5 ^ v6 )
        {
            v7 = 1;
            v8 = *(v2 + 18);
            if ( v4 == v8 )
            {
                *(v2 + 68) = -*(v2 + 68);
            }
            else
            {
                if ( v4 <= v8 )
                    v7 = -1;
                *(v2 + 64) = *(v2 + 96) * v7;
                *(v2 + 68) = 0;
            }
        }
    }
}


// 0x80d1fa0
void __fastcall sub_80D1FA0(int result)
{
    int v1; // r5
    int v2; // r2
    int v3; // r1
    unsigned __int8 v4; // nf
    unsigned __int8 v5; // vf
    signed int v6; // r3
    int v7; // r2

    v2 = *(v1 + 18);
    if ( *(v1 + 64) < 0 )
    {
        result = -result;
        v2 = -v2;
    }
    if ( result <= v2 )
    {
        sub_80D200C();
        if ( v4 ^ v5 )
        {
            v6 = 1;
            v7 = *(v1 + 19);
            if ( v3 == v7 )
            {
                *(v1 + 64) = -*(v1 + 64);
            }
            else
            {
                if ( v3 <= v7 )
                    v6 = -1;
                *(v1 + 68) = *(v1 + 100) * v6;
                *(v1 + 64) = 0;
            }
        }
    }
}


// 0x80d1fd8
unsigned int sub_80D1FD8()
{
    int v0; // r5
    unsigned int result; // r0
    unsigned int v2; // r1
    int v3; // r0
    char v4; // r2

    result = object_getEnemyDirection();
    v2 = *(v0 + 64);
    if ( v2 || (v3 = sub_80103F8(*(v0 + 22) ^ 1), v2 = *(v0 + 18), (result = v2 - *(v3 + 18)) != 0) )
    {
        v4 = 0;
        if ( result >> 31 != v2 >> 31 )
            v4 = 1;
        *(v0 + 23) = v4;
        result = sub_800F2C6();
    }
    return result;
}


// 0x80d200c
void sub_80D200C()
{
    int v0; // r5

    ++*(v0 + 6);
}


// 0x80d2034
void sub_80D2034()
{
    int v0; // r5

    (*(&off_80D204C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d2058
int __noreturn sub_80D2058()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    __int16 v5; // r0
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 15);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 10;
    *(v0 + 17) = 10;
    sprite_setAnimation(v0, 0xAu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 12, 13, 3);
    v3 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v3, v4);
    v5 = *&byte_80D202C[2 * *(v0 + 4)];
    *(v0 + 36) = v5;
    *(v0 + 38) = v5;
    *(v0 + 100) = *&byte_80D20D8[4 * *(v0 + 4)];
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d20e8
void __noreturn sub_80D20E8()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver()
        || (v1 = object_applyDamage(0), (v1 < 0) ^ v2)
        || *&byte_80D2144[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = battle_isTimeStop();
        if ( v5 )
            v3 = (*(&off_80D2138 + *(v0 + 9)))();
        object_presentCollisionData(v3, v4);
    }
}


// 0x80d214c
int __fastcall sub_80D214C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(148, 4, a3);
        result = 30;
        *(v3 + 32) = 30;
    }
    return result;
}


// 0x80d2176
int __noreturn sub_80D2176()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r1
    int v6; // r0
    int v7; // r3
    int v8; // r2
    int v9; // r6
    int v10; // r3
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 11;
        *(v0 + 104) = 0;
        sub_80D2222();
    }
    v1 = *(v0 + 19);
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    if ( *(v0 + 104) )
        v4 = v2;
    else
        v4 = v3;
    v5 = *(v0 + 52);
    v6 = *(v0 + 64) + v5;
    *(v0 + 52) = v6;
    v7 = *(v0 + 56);
    v8 = *(v0 + 68) + v7;
    *(v0 + 56) = v8;
    if ( *(v0 + 104) )
    {
        v9 = v5;
        v10 = v6;
    }
    else
    {
        v9 = v7;
        v10 = v8;
    }
    if ( v4 != v9 && sub_800E708(v10, v9, v4) )
        sub_80D2222();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
    if ( !(result & 0x10) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d21f8
int __fastcall sub_80D21F8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(109, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d2222
int sub_80D2222()
{
    int v0; // r5
    int v1; // r4
    int v2; // r1
    int v3; // r2
    int v4; // r3
    int result; // r0

    v1 = object_getFrontDirection(v0);
    if ( *(v0 + 104)
        && (*(*(v0 + 96) + 18) - *(v0 + 18)) * v1 >= 0
        && (v2 = *(*(v0 + 96) + 19), v3 = *(v0 + 19), v2 != v3) )
    {
        v4 = *(v0 + 100);
        if ( v2 <= v3 )
            v4 = -v4;
        *(v0 + 68) = v4;
        *(v0 + 64) = 0;
        result = object_setCoordinatesFromPanels(v0);
        *(v0 + 104) = 0;
    }
    else
    {
        *(v0 + 64) = object_getFrontDirection(v0) * *(v0 + 100);
        *(v0 + 68) = 0;
        result = object_setCoordinatesFromPanels(v0);
        *(v0 + 104) = 1;
    }
    return result;
}


// 0x80d2290
int sub_80D2290()
{
    int v0; // r5

    return (*(&off_80D22A4 + *(v0 + 8)))();
}


// 0x80d22b0
void __noreturn sub_80D22B0()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    sprite_load(v0, 128, 16, 8);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_hasShadow();
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    --*(v0 + 62);
    --*(v0 + 58);
    *(v0 + 40) = 206;
    *(v0 + 36) = 500;
    *(v0 + 38) = 500;
    *(v0 + 32) = 6000;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v2 = object_setupCollisionData(v1, 14, 15, 3);
        object_presentCollisionData(v2, v3);
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80d2320
void __noreturn sub_80D2320()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD9E();
    v1 = sub_801B394(&jt_80D2348);
    object_presentCollisionData(v1, v2);
    object_updateSpriteTimestop();
}


// 0x80d236c
void sub_80D236C()
{
    int v0; // r5

    if ( battle_getFlags() & 1 )
    {
        *v0 &= 0xFBu;
        *v0 |= 2u;
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
    }
    else
    {
        nullsub_10();
    }
}


// 0x80d2398
void sub_80D2398()
{
    ;
}


// 0x80d239c
signed int __fastcall __noreturn sub_80D239C(int a1)
{
    int v1; // r5
    _DWORD *v2; // r0
    int v3; // r0
    signed int result; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r1
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r3

    sub_802EF5C(a1);
    object_clearCollisionRegion();
    object_removePanelReserve(*(v1 + 20), *(v1 + 21));
    v2 = *(v1 + 96);
    if ( v2 )
        *v2 = 0;
    v3 = object_getFlag2();
    if ( v3 & 0x8000 )
    {
        if ( v3 & 0x300000 )
        {
            sub_800F90E(5);
        }
        else
        {
            result = sub_800F8CE(v3);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v1, v1 + 64, *(v1 + 52), *(v1 + 56), *(v1 + 60) + 786432);
        }
    }
    else
    {
        v5 = *(v1 + 52);
        v6 = sub_801BDDE(0xFu);
        sub_80E47A4(v6, v7, v8, v9);
        v10 = *(v1 + 52);
        v11 = sub_801BDDE(0xFu);
        sub_80E47A4(v11, v12, v13, v14);
        SpawnT4BattleObjectWithId0(v1, v1 + 64, *(v1 + 52), *(v1 + 56), *(v1 + 60) + 0x100000);
    }
    object_clearCollisionRegion();
    result = 8;
    *(v1 + 8) = 8;
    return result;
}


// 0x80d2430
int __fastcall sub_80D2430(_BYTE *a1, int a2, int a3, int a4)
{
    char v4; // r4
    int v5; // r5
    int v6; // r6
    int v7; // r7
    int result; // r0
    _BYTE *v9; // [sp+0h] [bp-14h]
    char v10; // [sp+4h] [bp-10h]
    char v11; // [sp+8h] [bp-Ch]

    v9 = a1;
    v10 = a2;
    v11 = a3;
    object_spawnType3(110, a2, a3, a4);
    result = v5;
    if ( v5 )
    {
        *(v5 + 18) = v9;
        *(v5 + 19) = v10;
        *(v5 + 44) = v6;
        *(v5 + 14) = v11;
        *(v5 + 22) = v4;
        *(v5 + 96) = v7;
        *v5 = *v9 | 0x14;
    }
    return result;
}


// 0x80d2460
int sub_80D2460()
{
    int v0; // r5

    return (*(&jt_80D2474 + *(v0 + 8)))();
}


// 0x80d2480
int __noreturn sub_80D2480()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r2

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 68);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1 ^ 1);
    object_setCoordinatesFromPanels(v0);
    v2 = object_getFrontDirection(v0);
    *(v0 + 54) += v2 << 6;
    *(v0 + 64) = -524288 * v2;
    object_setPanelsFromCoordinates(v0);
    *(v0 + 32) = 8;
    v3 = *(v0 + 4);
    if ( *(v0 + 4) )
        v3 = 1;
    sprite_setPallete(v3);
    PlaySoundEffect(176, v4, v5);
    *(v0 + 8) = 4;
    return sub_80D24F0();
}


// 0x80d24f0
int sub_80D24F0()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    return (*(&off_80D250C + v0[9]))();
}


// 0x80d2514
int sub_80D2514()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // r1
    int v4; // r6
    int result; // r0

    v1 = *(v0 + 52) + *(v0 + 64);
    *(v0 + 52) = v1;
    v2 = *(v0 + 56);
    *(v0 + 18) = convertXYToPanelXY_800E258(v1);
    *(v0 + 19) = v3;
    if ( *(v0 + 32) == 2 )
    {
        v4 = *(v0 + 44);
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 20;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d255a
signed int sub_80D255A()
{
    int v0; // r5
    unsigned int v1; // r0
    signed int result; // r0
    unsigned __int8 v3; // cf

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        v3 = __CFSHR__(v1, 2);
        result = v1 >> 2;
        if ( !v3 )
        {
            result = *v0 & 0xFD;
            *v0 = result;
        }
    }
    else
    {
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d2580
int __fastcall sub_80D2580(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(111, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80d2596
int __fastcall sub_80D2596(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4

    v5 = -5 * (*(v4 + 22) ^ *(v4 + 23)) + 6;
    v6 = a3;
    v7 = a4;
    sub_80D2580(v5, 1, a3, a4);
    sub_80D2580(v5, 2, v6, v7);
    sub_80D2580(v5, 3, v6, v7);
    return v5;
}


// 0x80d25d4
void sub_80D25D4()
{
    int v0; // r5

    (*(&off_80D25EC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d25f8
int __noreturn sub_80D25F8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r2
    int v7; // r3
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 15);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 13;
    *(v0 + 17) = 13;
    sprite_setAnimation(v0, 0xDu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 44) = *(*(v0 + 76) + 44);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 41, 20, 3);
        object_setCollisionHitEffect(6);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        v5 = *&byte_80D25CC[2 * *(v0 + 4)];
        *(v0 + 36) = v5;
        *(v0 + 38) = v5;
        *(v0 + 124) = sub_80E5B62(v5, byte_80D25CC, v6, v7);
        *(v0 + 80) = 0;
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        sub_80D2A58();
        result = object_freeMemory();
    }
    return result;
}


// 0x80d2684
void __noreturn sub_80D2684()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(v0 + 80) )
        goto LABEL_12;
    if ( *(v0 + 9) != 16 && sub_801156A(1) )
    {
        v1 = *(v0 + 36);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 36) = v1;
        if ( ((v1 < 0) ^ v2) | (v1 == 0) )
        {
LABEL_12:
            sub_80D2A68();
            *(v0 + 8) = 8;
            return;
        }
        *(v0 + 9) = 12;
        *(v0 + 11) = 0;
    }
    if ( *&byte_80D270C[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
        goto LABEL_12;
    v3 = battle_isTimeStop();
    if ( v5 )
        v3 = (*(&off_80D26F4 + *(v0 + 9)))();
    object_presentCollisionData(v3, v4);
}


// 0x80d2714
int sub_80D2714()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 29 )
        {
            result = object_setCollisionRegion(1);
        }
        else if ( result <= 0 )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        sub_80D29F4();
        PlaySoundEffect(148, v1, v2);
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80d2750
int sub_80D2750()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = *(&dword_80D277C + *(v0 + 4));
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80d2780
void __noreturn sub_80D2780()
{
    sub_80D29BA();
}


// 0x80d27a0
int __fastcall sub_80D27A0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v3 + 11) )
    {
        v6 = *(v3 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v3 + 5) = 0;
            *(v3 + 9) = 16;
            result = 0;
            *(v3 + 11) = 0;
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 16) = 15;
        *(v3 + 17) = -1;
        PlaySoundEffect(133, 4, a3);
        v4 = *(v3 + 10) + 4;
        if ( v4 > 8 )
            LOBYTE(v4) = 0;
        *(v3 + 10) = v4;
        result = 24;
        *(v3 + 32) = 24;
    }
    return result;
}


// 0x80d27e2
signed int sub_80D27E2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0

    if ( sub_801156A(1) && (v1 = *(v0 + 36), v2 = __OFSUB__(v1, 1), --v1, *(v0 + 36) = v1, ((v1 < 0) ^ v2) | (v1 == 0)) )
    {
        sub_80D2A68();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        (*(&off_80D2820 + *(v0 + 10)))();
        result = *(v0 + 5);
        if ( *(v0 + 5) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    return result;
}


// 0x80d282c
int __fastcall sub_80D282C(int a1, int a2, int a3)
{
    int v3; // r5
    char v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 11) = 4;
        *(v3 + 16) = 16;
        *(v3 + 104) = 1;
        sub_80D2A14();
        v4 = object_getFrontDirection(v3);
        sub_80C5578(v4 + *(v3 + 18), *(v3 + 19), 1, 60);
        *(v3 + 32) = 60;
        *(v3 + 34) = 0;
    }
    v5 = *(v3 + 34);
    v6 = __OFSUB__(v5--, 1);
    *(v3 + 34) = v5;
    if ( ((v5 < 0) ^ v6) | (v5 == 0) )
    {
        PlaySoundEffect(299, a2, a3);
        *(v3 + 34) = 16;
    }
    v7 = *(v3 + 32);
    v6 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v3 + 104) = 0;
        result = 1;
        *(v3 + 5) = 1;
    }
    return result;
}


// 0x80d289e
int sub_80D289E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 17;
        *(v0 + 34) = 0;
        *(v0 + 32) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        sub_80D2A14();
        v4 = object_getFrontDirection(v0);
        sub_80CBAB8((v4 + *(v0 + 18)) | 16 * *(v0 + 19), *(v0 + 124), 45875, v0 + 112 + 4 * *(v0 + 34));
        *(v0 + 32) = 60;
        result = *(v0 + 34) + 1;
        *(v0 + 34) = result;
        if ( result == 3 )
        {
            result = 1;
            *(v0 + 5) = 1;
        }
    }
    return result;
}


// 0x80d2904
int sub_80D2904()
{
    int v0; // r5
    int v1; // r1
    char v2; // r0
    int result; // r0
    int v4; // r0

    if ( *(v0 + 11) )
    {
        v4 = *(v0 + 34) + 1;
        *(v0 + 34) = v4;
        if ( !__CFSHR__(v4, 3) )
            object_highlightPanelRegion(*(v0 + 6), *(v0 + 7), 4, *(v0 + 22));
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 30 )
        {
            result = object_isValidPanel(*(v0 + 6), *(v0 + 7));
            if ( result )
            {
                sub_80D2A14();
                result = sub_80E4FCA(*(v0 + 6), *(v0 + 7), 16, 0);
            }
        }
        else
        {
            if ( result == 20 )
                object_crackPanel(*(v0 + 6), *(v0 + 7));
            if ( result <= 0 )
            {
                result = 1;
                *(v0 + 5) = 1;
            }
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 18;
        v1 = *(v0 + 96);
        v2 = *(v1 + 18);
        LOBYTE(v1) = *(v1 + 19);
        *(v0 + 6) = v2;
        *(v0 + 7) = v1;
        *(v0 + 32) = 60;
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80d2986
int __fastcall sub_80D2986(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(112, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 100) = v5;
        *v5 = v4;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d29b2
int __fastcall sub_80D29B2(int result)
{
    *(result + 80) = 1;
    return result;
}


// 0x80d29ba
int __noreturn sub_80D29BA()
{
    int v0; // r5
    int v1; // ST00_4
    bool v2; // zf
    int result; // r0

    v1 = *(v0 + 18);
    v2 = object_checkPanelParameters(
                 v1,
                 *(*(v0 + 96) + 19),
                 *&byte_80D29E4[8 * *(v0 + 22)],
                 *&byte_80D29E4[8 * *(v0 + 22) + 4]) == 0;
    result = v1;
    if ( v2 )
        result = 0;
    return result;
}


// 0x80d29f4
int sub_80D29F4()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d2a14
int sub_80D2A14()
{
    int v0; // r5

    return *&byte_80D2A34[2 * *(v0 + 10) + 2 * *(v0 + 4)] | (*&byte_80D2A50[2 * *(v0 + 4)] << 16);
}


// 0x80d2a58
int sub_80D2A58()
{
    int v0; // r5
    int *v1; // r1
    int result; // r0

    v1 = *(v0 + 100);
    result = *v1;
    if ( *v1 == v0 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x80d2a68
int sub_80D2A68()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2

    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    PlaySoundEffect(112, v1, v2);
    object_clearCollisionRegion();
    sub_80D2A58();
    *(v0 + 104) = 0;
    return sub_80E5B6E(*(v0 + 124));
}


// 0x80d2a94
int sub_80D2A94()
{
    int v0; // r5

    return (*(&off_80D2AA8 + *(v0 + 8)))();
}


// 0x80d2ab4
int __fastcall sub_80D2AB4(int a1, int a2)
{
    int v2; // r5
    int v3; // r4
    int v4; // r6
    _BYTE *v5; // r0
    _BYTE *v6; // r0
    int v8; // r1
    char v9; // r3

    if ( !*(v2 + 4) )
    {
        v3 = *(v2 + 4) + 1;
        v4 = *(v2 + 44);
        v5 = sub_80D2B8E(a1, a2, *(v2 + 14), *(v2 + 60));
        *v5 = *v5 & 0xEF | *v2 & 0x10;
    }
    v6 = object_createCollisionData();
    if ( v6 )
    {
        v8 = 6;
        if ( *(v2 + 4) )
            v8 = 74;
        v9 = 97;
        if ( *(v2 + 6) == 1 )
            v9 = 3;
        object_setupCollisionData(v6, v8, 5, v9);
        *(v2 + 34) = *(v2 + 5);
        *(v2 + 32) = 12;
        sub_80D2BC0();
        object_setCollisionRegion(1);
        object_setCollisionHitEffect(10);
        *(v2 + 8) = 4;
        sub_80D2B2C();
    }
    *(v2 + 104) = 0;
    return object_freeMemory();
}


// 0x80d2b2c
void __noreturn sub_80D2B2C()
{
    int v0; // r5
    _DWORD *v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r0
    int v6; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = *(v0 + 96);
    if ( v1 && *v1 != v0 )
        goto LABEL_15;
    if ( *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        camera_initShakeEffect_80302a8(0, 12);
    }
    v2 = *(v0 + 34);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 34) = v2;
    if ( (v2 < 0) ^ v3 )
    {
LABEL_15:
        object_clearCollisionRegion();
        *(v0 + 104) = 0;
        *(v0 + 8) = 8;
    }
    else
    {
        v4 = *(v0 + 32);
        v3 = __OFSUB__(v4--, 1);
        *(v0 + 32) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
        {
            *(v0 + 32) = 12;
            if ( *(v0 + 6) != 1 )
                object_setCollisionRegion(1);
        }
    }
    v5 = sub_80D2BC0();
    object_presentCollisionData(v5, v6);
}


// 0x80d2b8e
int __fastcall sub_80D2B8E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-Ch]
    int v9; // [sp+4h] [bp-8h]

    v8 = a3;
    object_spawnType3(113, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 76) = v9;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = v4;
    }
    return result;
}


// 0x80d2bb2
_DWORD **__fastcall sub_80D2BB2(_DWORD **result)
{
    int v1; // r5

    if ( **result == v1 )
        **result = 0;
    return result;
}


// 0x80d2bc0
signed int sub_80D2BC0()
{
    Battle *v0; // r5
    char v1; // r0
    u32 *v2; // r2

    v1 = object_getFrontDirection(v0);
    v2 = v0->parent;
    v0->panelX = *(v2 + 18) + v1;
    v0->panelY = *(v2 + 19);
    object_setCoordinatesFromPanels(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80d2bdc
void sub_80D2BDC()
{
    int v0; // r5

    (*(&off_80D2BF4 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d2c00
int sub_80D2C00()
{
    int v0; // r5

    object_setCoordinatesFromPanels(v0);
    *(v0 + 8) = 4;
    return sub_80D2C10();
}


// 0x80d2c10
int sub_80D2C10()
{
    int v0; // r5

    return (*(&off_80D2C24 + *(v0 + 9)))();
}


// 0x80d2c28
int sub_80D2C28()
{
    int v0; // r5

    return (*(&off_80D2C3C + *(v0 + 10)))();
}


// 0x80d2c40
int sub_80D2C40()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    signed int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // r6
    signed int v8; // ST00_4
    _BYTE *v9; // r0
    signed __int16 v10; // r1

    v1 = *(v0 + 11);
    if ( v1 == 2 )
    {
LABEL_11:
        result = *(v0 + 100);
        if ( !result )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
        return result;
    }
    if ( v1 != 1 )
    {
        *(v0 + 32) = 1;
        *(v0 + 6) = 6 - 5 * (*(v0 + 22) ^ *(v0 + 23));
        *(v0 + 7) = 1;
        *(v0 + 11) = 1;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        if ( object_isValidPanel(*(v0 + 6), *(v0 + 7)) )
        {
            v3 = sub_80D2CBE();
            if ( v3 != 255 )
            {
                v7 = *(v0 + 44);
                v8 = v3;
                v9 = sub_80D30A4(v3, v4, v5, v6);
                *v9 |= 0x10u;
                LOWORD(v7) = *(v0 + 6);
                result = sub_80D2CBE();
                *(v0 + 6) = v7;
                v10 = 8;
                if ( result != v8 )
                    v10 = 24;
                *(v0 + 32) = v10;
                return result;
            }
        }
        *(v0 + 11) = 2;
        goto LABEL_11;
    }
    return result;
}


// 0x80d2cbe
signed int sub_80D2CBE()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r0
    signed int v5; // [sp+0h] [bp-14h]
    int v6; // [sp+4h] [bp-10h]
    int v7; // [sp+8h] [bp-Ch]

    v1 = -object_getFrontDirection(v0);
    v5 = 0;
    while ( !v5 )
    {
        if ( object_checkPanelParameters(
                     *(v0 + 6),
                     *(v0 + 7),
                     *&byte_80D2D30[8 * *(v0 + 22)],
                     *&byte_80D2D30[8 * *(v0 + 22) + 4]) )
        {
            v6 = *(v0 + 6);
            v7 = *(v0 + 7);
            v5 = 1;
        }
        v2 = *(v0 + 7) + 1;
        *(v0 + 7) = v2;
        if ( v2 > 3 )
        {
            *(v0 + 7) = 1;
            v3 = *(v0 + 6) + v1;
            *(v0 + 6) = v3;
            if ( (v3 + 1) > 7 )
            {
                if ( !v5 )
                    return 255;
                break;
            }
        }
    }
    sub_80D2D40(v6, v7);
    return v6;
}


// 0x80d2d40
int __fastcall sub_80D2D40(int a1, int a2)
{
    Battle *v2; // r5
    int v3; // r0
    int v4; // r4
    int v5; // r6
    int result; // r0
    int v7; // r0
    unsigned __int8 *v8; // r7
    unsigned int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r1
    int v13; // r2
    int v14; // [sp+0h] [bp-50h]
    int v15; // [sp+4h] [bp-4Ch]
    int v16; // [sp+8h] [bp-48h]
    int v17; // [sp+10h] [bp-40h]
    int v18; // [sp+28h] [bp-28h]
    int v19; // [sp+2Ch] [bp-24h]
    int v20; // [sp+30h] [bp-20h]
    int v21; // [sp+34h] [bp-1Ch]
    int v22; // [sp+38h] [bp-18h]
    int v23; // [sp+3Ch] [bp-14h]

    v14 = a1;
    v15 = a2;
    v3 = 8 * v2->Alliance;
    v20 = *&byte_80D2E28[v3];
    v21 = *&byte_80D2E28[v3 + 4];
    v4 = object_getFrontDirection(v2);
    v18 = v14 + v4;
    v5 = 0;
LABEL_2:
    v19 = 1;
    while ( 1 )
    {
        result = object_isValidPanel(v18, v19);
        if ( !result )
            break;
        v7 = object_getPanelParameters(v18, v19);
        if ( v7 & v20 )
            *(&v17 + v5++) = v18 | 16 * v19;
        if ( ++v19 > 3 )
        {
            v18 += v4;
            goto LABEL_2;
        }
    }
    if ( v5 )
    {
        v16 = 0;
        v22 = 0;
        v23 = 0;
        v8 = &v17;
        do
        {
            v9 = *v8;
            v18 = v9 & 7;
            v19 = v9 >> 4;
            if ( !v22 )
                goto LABEL_28;
            v10 = v19 - v15;
            if ( v19 - v15 < 0 )
                v10 = v15 - v19;
            v11 = v23 - v15;
            if ( v23 - v15 < 0 )
                v11 = v15 - v23;
            if ( v10 <= v11 )
            {
                if ( v10 < v11 )
                    goto LABEL_28;
                v12 = v18 - v14;
                if ( v18 - v14 < 0 )
                    v12 = v14 - v18;
                v13 = v22 - v14;
                if ( v22 - v14 < 0 )
                    v13 = v14 - v22;
                if ( v12 <= v13 && (v12 < v13 || v18 <= v23) )
                {
LABEL_28:
                    v22 = v18;
                    v23 = v19;
                }
            }
            ++v8;
            result = v16 + 1;
            v16 = result;
        }
        while ( result < v5 );
    }
    return result;
}


// 0x80d2e38
int sub_80D2E38()
{
    int v0; // r5
    int v1; // r10
    int v2; // t1
    u32 v3; // r0
    int v4; // r1
    int result; // r0

    v2 = *(v1 + oToolkit_S2034880_Ptr);
    v3 = battle_findPlayer(*(v0 + 13) ^ 1);
    v4 = *(v3 + 56);
    result = convertXYToPanelXY_800E258(*(v3 + 52));
    *(v0 + 22);
    return result;
}


// 0x80d2e86
int sub_80D2E86()
{
    int v0; // r5

    **(v0 + 104) = 0;
    return object_freeMemory();
}


// 0x80d2e94
int __fastcall sub_80D2E94(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(114, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
        *(v4 + 104) = v6;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d2ebc
int sub_80D2EBC()
{
    int v0; // r5

    return (*(&off_80D2ED0 + *(v0 + 8)))();
}


// 0x80d2edc
void sub_80D2EDC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r0

    if ( object_isCurrentPanelValid() )
    {
        ++**(v0 + 104);
        v1 = *(v0 + 19);
        *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
        *(v0 + 56) = v2;
        *(v0 + 60) = 0;
        *v0 |= 3u;
        sprite_load(v0, 128, 12, 44);
        sprite_noShadow(v0);
        *(v0 + 16) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        v3 = object_getFlip(v0);
        sprite_setFlip(v0, v3);
        sub_80D3058();
        *(v0 + 8) = 4;
        sub_80D2F3C();
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80d2f3c
void sub_80D2F3C()
{
    int v0; // r5

    if ( object_isCurrentPanelValid() )
    {
        (*(&off_80D2F60 + *(v0 + 9)))();
        object_updateSprite();
    }
    else
    {
        *(v0 + 8) = 8;
    }
}


// 0x80d2f70
signed int __fastcall sub_80D2F70(int a1, int a2, int a3)
{
    int v3; // r5
    signed int result; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 72) = 0x20000;
        PlaySoundEffect(148, a2, a3);
        *(v3 + 10) = 4;
    }
    *(v3 + 60) += *(v3 + 72);
    result = *(v3 + 62);
    if ( result >= 10 )
    {
        *(v3 + 9) = 4;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80d2fa0
int sub_80D2FA0()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 32) = 20;
        *(v0 + 10) = 4;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d2fc2
int sub_80D2FC2()
{
    int v0; // r5

    return (*(&off_80D2FD4 + *(v0 + 10)))();
}


// 0x80d2fe0
signed int sub_80D2FE0()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 1;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d2fec
int sub_80D2FEC()
{
    int v0; // r5
    int result; // r0
    int v2; // r2

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        PlaySoundEffect(179, 128, v2);
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80d3004
signed int sub_80D3004()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r6

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    object_setPanelsFromCoordinates(v0);
    result = *(v0 + 18);
    if ( result == *(v0 + 96) )
    {
        result = *(v0 + 19);
        if ( result == *(v0 + 100) )
        {
            v2 = *(v0 + 44);
            sub_80C53A6(*(v0 + 18), *(v0 + 19), 0, 0x80000);
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80d3048
int sub_80D3048()
{
    int v0; // r5

    --**(v0 + 104);
    return object_freeMemory();
}


// 0x80d3058
int sub_80D3058()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r0
    int result; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // [sp+0h] [bp-14h]
    int v11; // [sp+4h] [bp-10h]

    v1 = *(v0 + 19);
    v10 = object_getCoordinatesForPanels(*(v0 + 18));
    v11 = v2;
    v3 = *(v0 + 96);
    if ( v3 == 255 )
    {
        result = object_getFrontDirection(v0) << 20;
        v5 = 0;
    }
    else
    {
        v6 = *(v0 + 100);
        v7 = object_getCoordinatesForPanels(v3);
        v9 = calcAngle_800117C(v8 - v11, v7 - v10);
        result = sub_80011A0(v9, 0x100000);
    }
    *(v0 + 64) = result;
    *(v0 + 68) = v5;
    return result;
}


// 0x80d30a4
int __fastcall sub_80D30A4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-1Ch]
    char v9; // [sp+4h] [bp-18h]
    int v10; // [sp+8h] [bp-14h]
    int v11; // [sp+Ch] [bp-10h]
    int v12; // [sp+10h] [bp-Ch]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    v11 = a4;
    object_spawnType3(115, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 96) = v10;
        *(v4 + 100) = v11;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v12 + 22);
        *(v4 + 104) = v6;
    }
    return result;
}


// 0x80d30d0
void sub_80D30D0()
{
    int v0; // r5

    (*(&off_80D30E8 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d30f4
void __noreturn sub_80D30F4()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x1001031u, 0x4050100u);
}


// 0x80d317c
void __noreturn sub_80D317C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    char v4; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || !object_isCurrentPanelValid() )
        goto LABEL_12;
    v1 = *(*(v0 + 84) + 112);
    if ( v1 )
    {
        if ( !(v1 & 0xF3800000) )
        {
            if ( v1 & 0xC000000 )
            {
                object_clearCollisionRegion();
                if ( *(v0 + 9) != 4 )
                {
                    *(v0 + 9) = 4;
                    *(v0 + 10) = 0;
                }
            }
            goto LABEL_8;
        }
LABEL_12:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
LABEL_8:
    v2 = battle_isTimeStop();
    if ( v4 )
        v2 = (*(&off_80D31E0 + *(v0 + 9)))();
    object_presentCollisionData(v2, v3);
}


// 0x80d31ec
int sub_80D31EC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( object_isCurrentPanelValid() )
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 1;
            sub_80D3326();
        }
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        result = 2;
        *(v0 + 9) = 2;
    }
    return result;
}


// 0x80d3240
int ho_80D3240()
{
    int v0; // r5

    return (*(&jt_80D3254 + *(v0 + 10)))();
}


// 0x80d325c
void __noreturn sub_80D325C()
{
    unsigned __int8 *v0; // r5

    sub_80E7486(v0[18], v0[19], v0[22]);
}


// 0x80d3278
int sub_80D3278()
{
    int v0; // r5
    int v1; // r1
    char v2; // r0
    char v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 32) = 5;
    }
    v1 = *(v0 + 104);
    if ( v1 )
    {
        v2 = *(v1 + 18);
        v3 = *(v1 + 19);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v7 = *(v0 + 34);
        v5 = __OFSUB__(v7--, 1);
        *(v0 + 34) = v7;
        if ( ((v7 < 0) ^ v5) | (v7 == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            object_setCollisionRegion(1);
            result = 0;
            *(v0 + 11) = 0;
        }
    }
    return result;
}


// 0x80d32c4
int sub_80D32C4()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        object_clearCollisionRegion();
        *(v0 + 32) = 10;
    }
    *v0 |= 2u;
    if ( !(*(v0 + 32) & 2) )
        *v0 &= 0xFDu;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d32fe
int __fastcall spawnRiskyHoneyObject_80D32FE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-18h]
    char v8; // [sp+4h] [bp-14h]
    char v9; // [sp+8h] [bp-10h]
    int v10; // [sp+Ch] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(116, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d3326
void __noreturn sub_80D3326()
{
    sub_80D3342();
}


// 0x80d3342
void __noreturn sub_80D3342()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2

    v1 = object_getFrontDirection(v0);
    sub_80D3374(*(v0->parent + 18) + v1, v2, v3);
}


// 0x80d3374
unsigned int __fastcall __noreturn sub_80D3374(signed int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r5
    int v5; // r6
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r0
    int v12; // r4
    unsigned int v13; // r6
    _BYTE *i; // r7
    unsigned int v15; // r0
    int v16; // r1
    int v17; // r0
    int v18; // [sp+0h] [bp-14h]

    v5 = a1;
    while ( 1 )
    {
        sub_81096FA(v5, a2, a3, &off_80D33F4);
        v10 = object_getPanelsInColumnFiltered(v6, v7, v8, v9);
        if ( v10 )
            break;
        v5 += v3;
        if ( v5 < 1 || v5 > 6 )
            return 0;
    }
    *(&v18 + v10) = 0;
    v12 = *(v4 + 19);
    v13 = v18;
    for ( i = &v18 + 1; ; ++i )
    {
        v15 = *i;
        if ( !*i )
            break;
        if ( v15 >> 4 == v12 )
            goto LABEL_21;
        v16 = (v15 >> 4) - v12;
        if ( v16 < 0 )
            v16 = v12 - (v15 >> 4);
        v17 = (v13 >> 4) - v12;
        if ( v17 < 0 )
            v17 = v12 - (v13 >> 4);
        if ( v16 <= v17 && (v16 < v17 || (*i >> 4) < (v13 >> 4)) )
LABEL_21:
            v13 = *i;
    }
    return v13 & 7;
}


// 0x80d3404
void __fastcall sub_80D3404(int a1, int a2)
{
    int v2; // r5
    int v3; // r2
    int v4; // r0
    unsigned __int8 v5; // nf
    unsigned __int8 v6; // vf
    signed int v7; // r3
    int v8; // r2

    v3 = *(v2 + 19);
    if ( *(v2 + 68) < 0 )
    {
        a2 = -a2;
        v3 = -v3;
    }
    if ( a2 <= v3 )
    {
        sub_80D3496();
        if ( v5 ^ v6 )
        {
            v7 = 1;
            v8 = *(v2 + 18);
            if ( v4 == v8 )
            {
                *(v2 + 68) = -*(v2 + 68);
            }
            else
            {
                if ( v4 <= v8 )
                    v7 = -1;
                *(v2 + 64) = *(v2 + 96) * v7;
                *(v2 + 68) = 0;
            }
        }
    }
}


// 0x80d343c
void __fastcall sub_80D343C(int result)
{
    int v1; // r5
    int v2; // r2
    int v3; // r1
    unsigned __int8 v4; // nf
    unsigned __int8 v5; // vf
    signed int v6; // r3
    int v7; // r2

    v2 = *(v1 + 18);
    if ( *(v1 + 64) < 0 )
    {
        result = -result;
        v2 = -v2;
    }
    if ( result <= v2 )
    {
        sub_80D3496();
        if ( v4 ^ v5 )
        {
            v6 = 1;
            v7 = *(v1 + 19);
            if ( v3 == v7 )
            {
                *(v1 + 64) = -*(v1 + 64);
            }
            else
            {
                if ( v3 <= v7 )
                    v6 = -1;
                *(v1 + 68) = *(v1 + 100) * v6;
                *(v1 + 64) = 0;
            }
        }
    }
}


// 0x80d3474
AI *sub_80D3474()
{
    int v0; // r5
    AI *result; // r0
    unsigned int v2; // r1
    char v3; // r2

    result = object_getEnemyDirection();
    v2 = *(v0 + 64);
    if ( v2 )
    {
        v3 = 0;
        if ( result >> 31 != v2 >> 31 )
            v3 = 1;
        *(v0 + 23) = v3;
        result = sub_800F2C6();
    }
    return result;
}


// 0x80d3496
void sub_80D3496()
{
    int v0; // r5

    ++*(v0 + 6);
}


// 0x80d34cc
int sub_80D34CC()
{
    int v0; // r5

    return (*(&off_80D34E0 + *(v0 + 8)))();
}


// 0x80d34ec
int sub_80D34EC()
{
    int v0; // r5

    sub_80B8A0A(*(v0 + 76));
    sub_80C4072(*(v0 + 108));
    return object_genericDestroy();
}


// 0x80d3500
void __noreturn sub_80D3500()
{
    int v0; // r5
    int v1; // r0
    char *v2; // r0
    __int16 v3; // r1
    _BYTE *v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r2

    *v0 |= 2u;
    sprite_load(v0, 128, 4, 24);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 40) = 231;
    v2 = &byte_80D34C0[4 * *(v0 + 4)];
    *(v0 + 96) = v2;
    v3 = v2[3];
    *(v0 + 36) = v3;
    *(v0 + 38) = v3;
    *(v0 + 32) = 2 * *v2;
    sprite_setPallete(v2[2]);
    v4 = object_createCollisionData();
    if ( v4 )
    {
        v5 = object_setupCollisionData(v4, 19, 20, 3);
        object_presentCollisionData(v5, v6);
        *(v0 + 76) = sub_80B89DC(v7, v8, v9, 0);
        *(v0 + 8) = 4;
        sub_80D358C();
    }
    object_freeMemory();
}


// 0x80d358c
void __noreturn sub_80D358C()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    sub_801B394(&off_80D35B8);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80d35e0
int __fastcall sub_80D35E0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    *(v3 + 16) = 0;
    *(v3 + 16) = 0;
    *(v3 + 34) = 10;
    PlaySoundEffect(148, a2, a3);
    *(v3 + 9) = 8;
    result = 0;
    *(v3 + 10) = 0;
    return result;
}


// 0x80d3620
signed int __fastcall sub_80D3620(int a1, int a2, int a3)
{
    int v3; // r5
    signed int result; // r0

    *(v3 + 16) = 1;
    *(v3 + 34) = 30;
    PlaySoundEffect(425, a2, a3);
    result = 4;
    *(v3 + 10) = 4;
    return result;
}


// 0x80d3638
int sub_80D3638()
{
    int v0; // r5
    int result; // r0

    *(v0 + 60) += 40960;
    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 9) = 9;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d3654
int sub_80D3654()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
        result = (*(&off_80D3670 + *(v0 + 10)))();
    return result;
}


// 0x80d3678
signed int sub_80D3678()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 2;
    *(v0 + 34) = *(*(v0 + 96) + 1);
    *(v0 + 100) = 1;
    *(v0 + 108) = sub_80C4038(0, 0, 1, 0);
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d369e
int sub_80D369E()
{
    int v0; // r5
    int result; // r0

    if ( battle_isBattleOver() )
    {
        *(v0 + 9) = 2;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        result = *(v0 + 100) - 1;
        *(v0 + 100) = result;
        if ( !result )
        {
            result = *(v0 + 34);
            if ( *(v0 + 34) )
            {
                *(v0 + 34) = result - 1;
                sub_80D3770();
                result = 10;
                *(v0 + 100) = 10;
            }
        }
    }
    return result;
}


// 0x80d36ce
int sub_80D36CE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(6);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        PlaySoundEffect(112, 0x8000, v2);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d3742
int __fastcall sub_80D3742(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    __int16 v7; // r3
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(117, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        v7 = *(v10 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80d3770
int sub_80D3770()
{
    int v0; // r5
    int v1; // r6
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned int v5; // ST00_4
    char v6; // r0
    int v7; // r2
    int v8; // r6
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r3
    int v13; // r6
    int v15; // [sp+0h] [bp-20h]

    v1 = sub_80D37F4();
    if ( v1 )
    {
        v4 = *(v0 + 104);
        if ( v4 >= v1 )
            v4 = 0;
        *(v0 + 104) = v4 + 1;
        v5 = *(&v15 + v4);
        GetPositiveSignedRNG2();
        v7 = v6 & 7;
        v3 = v5 >> 4;
        v2 = v5 & 7;
        if ( v7 == 1 || v7 == 5 )
        {
            sub_81096FA(v2, v3, v7, byte_80D37E4);
            v8 = *(v0 + 22);
            LOBYTE(v2) = sub_8015E46(v9, v10, v11, v12);
        }
    }
    else
    {
        v2 = (5 * (*(v0 + 22) ^ 1) + 1);
        v3 = *(v0 + 19);
    }
    v13 = *(v0 + 44);
    return sub_80C5F2C(v2, v3, 0, 0);
}


// 0x80d37f4
int sub_80D37F4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // r4
    int v5; // r6
    int v6; // r1
    int v7; // r0
    int v8; // ST00_4
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r3
    int v13; // r0

    v2 = object_getFrontDirection(v0);
    v4 = v2;
    v5 = 0;
    v6 = v0->panelX;
    v7 = v2 + v6;
    if ( v7 )
    {
        do
        {
            v8 = v7;
            sub_81096FA(v7, v6, v3, &off_80D3834);
            v13 = object_getPanelsInColumnFiltered(v9, v10, v11, v12);
            v5 += v13;
            v1 += v13;
            v7 = v8 + v4;
        }
        while ( v8 + v4 && v7 <= 6 );
    }
    return v5;
}


// 0x80d385c
int sub_80D385C()
{
    int v0; // r5

    return (*(&off_80D386C + *(v0 + 8)))();
}


// 0x80d387c
int sub_80D387C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2

    if ( object_isCurrentPanelValid() )
    {
        *v0 |= 3u;
        sprite_load(v0, 128, 16, 46);
        sprite_noShadow(v0);
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        v1 = object_getFlip(v0);
        sprite_setFlip(v0, v1);
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        *(v0 + 52) += 1310720 * object_getFrontDirection(v0);
        sprite_setPallete(0);
        v2 = object_createCollisionData();
        if ( v2 )
        {
            object_setupCollisionData(v2, 4, 5, 1);
            object_setCollisionHitEffect(255);
            *(v0 + 34) = *(v0 + 5);
            v3 = object_setCollisionRegion(2);
            object_presentCollisionData(v3, v4);
            PlaySoundEffect(184, v5, v6);
            *(v0 + 8) = 4;
            sub_80D390A();
        }
    }
    return object_freeMemory();
}


// 0x80d390a
void __noreturn sub_80D390A()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    battle_isBattleOver();
    if ( v1 )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        sub_80D3946();
        object_updateSprite();
        object_presentCollisionData(v2, v3);
    }
    else
    {
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
}


// 0x80d3946
int sub_80D3946()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( *(v0 + 32) == *(v0 + 4) - 6 )
        *(v0 + 16) = 1;
    if ( *(v0 + 32) == 8 )
        *(v0 + 16) = 2;
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        v2 = *(v0 + 34);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 34) = *(v0 + 5);
            result = object_setCollisionRegion(2);
        }
    }
    else
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d398e
int __fastcall sub_80D398E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(118, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v9;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 32) = *(v4 + 4);
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80d39bc
void sub_80D39BC()
{
    int v0; // r5

    (*(&off_80D39D4 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d39e0
int __noreturn sub_80D39E0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    __int16 v5; // r0
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 15);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 19;
    *(v0 + 17) = 19;
    sprite_setAnimation(v0, 0x13u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(4 * *(v0 + 5));
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 19, 20, 3);
        v3 = object_setCollisionHitEffect(6);
        object_presentCollisionData(v3, v4);
        v5 = *&byte_80D39B4[2 * *(v0 + 4)];
        *(v0 + 36) = v5;
        *(v0 + 38) = v5;
        *(v0 + 104) = *&byte_80D3A68[4 * *(v0 + 4)];
        *(v0 + 7) = 0;
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        sub_80D3F32();
        result = object_freeMemory();
    }
    return result;
}


// 0x80d3a7c
void __noreturn sub_80D3A7C()
{
    int v0; // r5
    signed int v1; // r4
    signed int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r1
    char v6; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_14;
    v1 = *(v0 + 36);
    v2 = object_applyDamage(0);
    if ( (v2 < 0) ^ v3 )
        goto LABEL_14;
    if ( *(v0 + 36) < v1 && *(v0 + 9) != 12 )
    {
        *(v0 + 9) = 12;
        *(v0 + 10) = 0;
    }
    if ( *&byte_80D3B00[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
LABEL_14:
        object_clearCollisionRegion();
        sub_80D3F32();
        *(v0 + 8) = 8;
    }
    else
    {
        v4 = battle_isTimeStop();
        if ( v6 )
            v4 = (*(&off_80D3AE8 + *(v0 + 9)))();
        object_presentCollisionData(v4, v5);
    }
}


// 0x80d3b08
int sub_80D3B08()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
            sub_80D3DFA(1);
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80d3b4e
signed int sub_80D3B4E()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r1
    int v6; // r0
    int v7; // r3
    int v8; // r2
    int v9; // r6
    int v10; // r3

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        sub_80D3EE8();
    }
    v1 = *(v0 + 19);
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    if ( *(v0 + 6) & 1 )
        v4 = v2;
    else
        v4 = v3;
    v5 = *(v0 + 52);
    v6 = *(v0 + 64) + v5;
    *(v0 + 52) = v6;
    v7 = *(v0 + 56);
    v8 = *(v0 + 68) + v7;
    *(v0 + 56) = v8;
    if ( *(v0 + 6) & 1 )
    {
        v9 = v5;
        v10 = v6;
    }
    else
    {
        v9 = v7;
        v10 = v8;
    }
    if ( v4 != v9 && sub_800E708(v10, v9, v4) )
        sub_80D3DFA(0);
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80d3bc2
int sub_80D3BC2()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    unsigned int v3; // r3
    unsigned int v4; // r0
    unsigned __int8 v5; // cf
    int v6; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0
    int v10; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        sub_80D3F10();
        sub_80D3F88();
        *(v0 + 32) = *&byte_80D3C3C[2 * *(v0 + 4)];
        *(v0 + 34) = 0;
    }
    if ( sub_80D3F96() )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        v4 = *(v0 + 34) + 1;
        *(v0 + 34) = v4;
        v5 = __CFSHR__(v4, 3);
        v6 = v4 >> 3;
        if ( !v5 )
            sub_80D4004(v6, v1, v2, v3);
        v7 = *(v0 + 32);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v8 )
        {
            v10 = *(v0 + 7) + 1;
            *(v0 + 7) = v10;
            if ( v10 < 4 )
            {
                *(v0 + 16) = 20;
                sub_80D3DFA(0);
            }
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d3c44
int sub_80D3C44()
{
    int v0; // r5

    return (*(&off_80D3C58 + *(v0 + 10)))();
}


// 0x80d3c6c
int sub_80D3C6C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v0 + 11) )
    {
        v5 = *(v0 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        v1 = object_getFrontDirection(v0);
        SpawnT4BattleObjectWithId0(v0, v1 << 20, *(v0 + 52) + (v1 << 20), *(v0 + 56), 0x200000);
        PlaySoundEffect(165, v2, v3);
        *(v0 + 16) = 28;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80d3cb0
int sub_80D3CB0()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 30 )
        {
            result = 30;
            *(v0 + 16) = 30;
        }
        else if ( result <= 0 )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 29;
        result = 54;
        *(v0 + 32) = 54;
    }
    return result;
}


// 0x80d3ce0
int sub_80D3CE0()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 11) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 12;
            *(v0 + 10) = 12;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        v1 = sub_80D3F42();
        if ( v1 )
        {
            *(v0 + 18) = v1;
            *(v0 + 19) = v2;
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            result = 5;
            *(v0 + 32) = 5;
        }
        else
        {
            *(v0 + 16) = 20;
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d3d22
int sub_80D3D22()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( !__CFSHR__(v2, 3) )
            sub_80D4020();
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *(v0 + 10) = 16;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 32) = *&byte_80D3D60[2 * *(v0 + 4)];
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80d3d68
int sub_80D3D68()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        sub_80D4030();
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80d3d90
int sub_80D3D90()
{
    Battle *v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    v1 = v0->bPhaseInitialized;
    if ( v0->bPhaseInitialized )
    {
        v3 = v0->Timer;
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        v0->Timer = result;
        if ( (result < 0) ^ v4 )
        {
            object_clearCollisionRegion();
            sub_80D3F32();
            result = 8;
            v0->currState = 8;
        }
    }
    else
    {
        v0->bPhaseInitialized = 4;
        SpawnT4BattleObjectWithId0(v0, v1, v0->x, v0->y, v0->z);
        result = 5;
        v0->Timer = 5;
    }
    return result;
}


// 0x80d3dc4
int __fastcall sub_80D3DC4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-18h]
    char v9; // [sp+4h] [bp-14h]
    char v10; // [sp+8h] [bp-10h]
    int v11; // [sp+Ch] [bp-Ch]
    int *v12; // [sp+10h] [bp-8h]

    v12 = a4;
    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(119, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 100) = v12;
        *v12 = v4;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d3dfa
signed int __fastcall __noreturn sub_80D3DFA(int a1)
{
    int v1; // r5
    int v2; // r4
    char *v3; // r0
    int v4; // r2
    int v5; // r0
    int v7; // [sp+0h] [bp-1Ch]
    int v8; // [sp+4h] [bp-18h]
    int v9; // [sp+8h] [bp-14h]

    v7 = a1;
    v2 = 0;
    while ( 1 )
    {
        v3 = &byte_80D3ED8[8 * *(v1 + 22) + 2 * ((*(v1 + 6) + v2) & 3)];
        v8 = *v3;
        v9 = v3[1];
        v4 = 16 * ((*(v1 + 6) + v2) & 3) + 8 * *(v1 + 22);
        if ( object_checkPanelParameters(*(v1 + 18) + v8, *(v1 + 19) + v9, *&byte_80D3E94[v4], *&byte_80D3E94[v4 + 4]) )
            break;
        if ( ++v2 > 2 )
        {
            *(v1 + 64) = 0;
            *(v1 + 68) = 0;
            return 1;
        }
    }
    if ( !v7 && !v2 )
        return 0;
    v5 = *(v1 + 104);
    *(v1 + 64) = v8 * v5;
    *(v1 + 68) = v9 * v5;
    *(v1 + 6) = (*(v1 + 6) + v2) & 3;
    return 1;
}


// 0x80d3ee8
int sub_80D3EE8()
{
    int v0; // r5
    int result; // r0
    char v2; // r1

    result = *(v0 + 64);
    if ( result )
    {
        if ( result > 0 )
            v2 = 20;
        else
            v2 = 22;
    }
    else
    {
        result = *(v0 + 68);
        if ( !result )
            return result;
        if ( result > 0 )
            v2 = 21;
        else
            v2 = 23;
    }
    *(v0 + 16) = v2;
    return result;
}


// 0x80d3f10
int sub_80D3F10()
{
    int v0; // r5
    int result; // r0
    char v2; // r1

    result = *(v0 + 16);
    switch ( result )
    {
        case 21:
            v2 = 27;
            break;
        case 20:
            v2 = 26;
            break;
        case 23:
            v2 = 25;
            break;
        default:
            v2 = 24;
            break;
    }
    *(v0 + 16) = v2;
    return result;
}


// 0x80d3f32
int sub_80D3F32()
{
    int v0; // r5
    int *v1; // r1
    int result; // r0

    v1 = *(v0 + 100);
    result = *v1;
    if ( *v1 == v0 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x80d3f42
int sub_80D3F42()
{
    int v0; // r5
    int v1; // r6
    int v2; // r6
    int v8; // [sp+0h] [bp+0h]

    v1 = *(v0 + 22);
    v2 = object_getPanelRegion(*(*(v0 + 96) + 18), *(*(v0 + 96) + 19), 0x10000, 260571264);
    if ( !v2 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v8 + v2) & 7;
}


// 0x80d3f88
int sub_80D3F88()
{
    _DWORD *v0; // r5
    int v1; // r1
    int result; // r0
    int v3; // r1

    v1 = v0[24];
    result = *(v1 + 18);
    v3 = *(v1 + 19);
    v0[27] = result;
    v0[28] = v3;
    return result;
}


// 0x80d3f96
signed int sub_80D3F96()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1

    if ( *(v0 + 5) )
    {
        if ( *(v0 + 5) != 1 )
            object_getPanelsFiltered(
                8 * *(v0 + 22),
                &byte_80D3FF4[8 * *(v0 + 22)],
                *&byte_80D3FF4[8 * *(v0 + 22)],
                *&byte_80D3FF4[8 * *(v0 + 22) + 4]);
        if ( !sub_8010300(64, *(v0 + 22) ^ 1) )
            return 0;
    }
    else
    {
        v1 = *(v0 + 96);
        v2 = *(v1 + 18);
        v3 = *(v1 + 19);
        if ( v2 == *(v0 + 108) && v3 == *(v0 + 112) )
            return 0;
    }
    return 1;
}


// 0x80d4004
char *__fastcall sub_80D4004(int a1, int a2, int a3, unsigned int a4)
{
    int v4; // r5

    return object_highlightPanelRegionBlue(4 * *(v4 + 22), byte_80D4018, *&byte_80D4018[4 * *(v4 + 22)], a4);
}


// 0x80d4020
int sub_80D4020()
{
    int v0; // r5

    return object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), 10, *(v0 + 22));
}


// 0x80d4030
int sub_80D4030()
{
    int v0; // r5
    signed int v1; // r7
    char *v2; // r2
    bool v3; // zf
    int v4; // r3
    int result; // r0
    int v6; // r6
    int v7; // [sp-8h] [bp-18h]
    int v8; // [sp-4h] [bp-14h]

    v1 = 0;
    do
    {
        v2 = &byte_80D4070[2 * v1];
        v7 = *v2 + *(v0 + 18);
        v8 = v2[1] + *(v0 + 19);
        v3 = object_isValidPanel(v7, v8) == 0;
        result = v7;
        if ( !v3 )
        {
            v6 = *(v0 + 44);
            result = sub_80C7D50(v7, v8, *(v0 + 14), v4);
        }
        ++v1;
    }
    while ( v1 < 4 );
    return result;
}


// 0x80d4088
int sub_80D4088()
{
    int v0; // r5

    return (*(&off_80D409C + *(v0 + 8)))();
}


// 0x80d40a8
void __noreturn sub_80D40A8()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0
    char *v3; // r0
    _BYTE *v4; // r0
    int v5; // r0
    int v6; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 4, 10);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 40) = *(v0 + 4) + 221;
    v2 = *(&dword_80D4140 + *(v0 + 4));
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    *(v0 + 32) = 2400;
    v3 = &byte_80D4070[4 * *(v0 + 4) + 8];
    *(v0 + 96) = v3;
    sprite_setPallete(v3[2]);
    v4 = object_createCollisionData();
    if ( v4 )
    {
        v5 = object_setupCollisionData(v4, 19, 20, 3);
        object_presentCollisionData(v5, v6);
        *(v0 + 8) = 4;
        sub_80D4144();
    }
    object_freeMemory();
}


// 0x80d4144
void __noreturn sub_80D4144()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    sub_801B394(&off_80D4170);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80d4198
int __fastcall sub_80D4198(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    *(v3 + 16) = 0;
    *(v3 + 16) = 0;
    *(v3 + 34) = 10;
    PlaySoundEffect(148, a2, a3);
    *(v3 + 9) = 8;
    result = 0;
    *(v3 + 10) = 0;
    return result;
}


// 0x80d41b6
int sub_80D41B6()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
        result = (*(&off_80D41D0 + *(v0 + 10)))();
    return result;
}


// 0x80d41d8
signed int sub_80D41D8()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 3;
    *(v0 + 34) = 30;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d41e8
int sub_80D41E8()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 9) = 9;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d41fc
int sub_80D41FC()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
        result = (*(&off_80D4218 + *(v0 + 10)))();
    return result;
}


// 0x80d4228
signed int sub_80D4228()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 4;
    *(v0 + 34) = 2 * **(v0 + 96);
    *(v0 + 100) = 1;
    *(v0 + 104) = 1;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d4242
int sub_80D4242()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int v4; // r0
    int result; // r0

    if ( battle_isBattleOver() )
        goto LABEL_10;
    v3 = *(v0 + 104) - 1;
    *(v0 + 104) = v3;
    if ( !v3 )
    {
        *(v0 + 104) = *(*(v0 + 96) + 3);
        PlaySoundEffect(*&byte_80D42A8[2 * *(v0 + 4)], v1, v2);
    }
    v4 = *(v0 + 100) - 1;
    *(v0 + 100) = v4;
    if ( !v4 )
    {
        *(v0 + 100) = *(*(v0 + 96) + 1);
        (*(&off_80D4298 + *(v0 + 4)))();
    }
    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
LABEL_10:
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80d42b0
signed int sub_80D42B0()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 0;
    *(v0 + 34) = *(&dword_80D42C8 + *(v0 + 4));
    result = 12;
    *(v0 + 10) = 12;
    return result;
}


// 0x80d42cc
signed int sub_80D42CC()
{
    int v0; // r5
    signed int result; // r0

    result = battle_isBattleOver();
    if ( !result )
    {
        result = *(v0 + 34) - 1;
        *(v0 + 34) = result;
        if ( !result )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d42e8
int sub_80D42E8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(7);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else
    {
        PlaySoundEffect(112, 0x8000, v2);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d435c
int sub_80D435C()
{
    int v0; // r5
    int v1; // r10
    int result; // r0
    _DWORD *v3; // r7
    signed int v4; // r4

    result = 16 * *(v0 + 22) + 128;
    v3 = (*(v1 + oToolkit_S2034880_Ptr) + result);
    v4 = 0;
    do
    {
        if ( *v3 )
        {
            result = sub_8013774(result, 44);
            if ( result != 23 && result != 24 )
                result = object_setInvulnerableTime(4);
        }
        ++v3;
        ++v4;
    }
    while ( v4 < 4 );
    return result;
}


// 0x80d4392
int sub_80D4392()
{
    int v0; // r5
    int v1; // r4

    v1 = *&byte_80D43B8[4 * *(v0 + 22)];
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, 0);
}


// 0x80d43c0
int sub_80D43C0()
{
    int v0; // r5

    object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, 0);
    return camera_initShakeEffect_80302a8(2, 4);
}


// 0x80d43e8
int sub_80D43E8()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, 0);
}


// 0x80d4408
int __fastcall sub_80D4408(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    __int16 v7; // r3
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    object_spawnType3(120, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        v7 = *(v10 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80d4440
void sub_80D4440()
{
    int v0; // r5

    (*(&off_80D4458 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d4464
int sub_80D4464()
{
    int v0; // r5

    **(v0 + 96) = 0;
    return object_genericDestroy();
}


// 0x80d4472
void __noreturn sub_80D4472()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x41Fu, 0xC0D0300u);
}


// 0x80d44d2
void __noreturn sub_80D44D2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_9;
    if ( sub_801156A(2) == -1 )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        goto LABEL_9;
    }
    if ( *(*(v0 + 84) + 112) & 0xF800000 )
    {
LABEL_9:
        object_clearCollisionRegion();
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
        return;
    }
    v1 = battle_isTimeStop();
    if ( v3 )
        v1 = (*(&off_80D4534 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80d4544
int sub_80D4544()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !(*(v0 + 32) & 4) )
    {
        LODWORD(v1) = *(v0 + 18);
        HIDWORD(v1) = *(v0 + 19);
        object_highlightPanel(v1);
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *v0 |= 2u;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d4570
int sub_80D4570()
{
    int v0; // r5

    return (*(&off_80D4584 + *(v0 + 10)))();
}


// 0x80d458c
int sub_80D458C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 32) = *(v0 + 5);
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 8;
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80d45ae
int sub_80D45AE()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0

    if ( *(v0 + 32) & 2 )
        sprite_forceWhitePallete();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        v4 = *(v0 + 6) + 1;
        *(v0 + 6) = v4;
        if ( v4 >= 2 )
        {
            if ( v4 != 2 )
            {
                *(v0 + 9) = 12;
                result = 0;
                *(v0 + 10) = 0;
                return result;
            }
            *(v0 + 5) += 60;
        }
        ++*(v0 + 16);
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d45ec
signed int sub_80D45EC()
{
    int v0; // r5
    signed int result; // r0

    if ( *(v0 + 4) == 4 )
        sub_80D4674();
    sub_8116878(*(v0 + 76));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d4604
int sub_80D4604()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r6

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        if ( *(v0 + 4) == 4 )
        {
LABEL_7:
            result = 8;
            *(v0 + 8) = 8;
            return result;
        }
        *(v0 + 16) = 3;
        *(v0 + 32) = 10;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearCollisionRegion();
        v4 = sub_80103F8(*(v0 + 22) ^ 1);
        v5 = *(v0 + 44);
        sub_80C7D50(*(v4 + 18), *(v4 + 19), 3, 0);
        goto LABEL_7;
    }
    return result;
}


// 0x80d464a
int __fastcall sub_80D464A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(121, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d4674
signed int sub_80D4674()
{
    int v0; // r5
    int v1; // r1
    int v2; // ST00_4
    int v3; // r4
    signed int result; // r0

    *(v0 + 22) = 0;
    v1 = 3;
    do
    {
        v2 = v1;
        v3 = *&byte_80D46A4[2 * v1];
        sub_80D4B44(0, v1, 0, 0x100000);
        v1 = v2 - 1;
    }
    while ( v2 != 1 );
    result = 1;
    *(v0 + 22) = 1;
    return result;
}


// 0x80d46b8
int sub_80D46B8()
{
    int v0; // r5

    return (*(&off_80D46CC + *(v0 + 8)))();
}


// 0x80d46d8
void __noreturn sub_80D46D8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 52);
    sprite_hasShadow();
    *(v0 + 16) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setPanelsFromCoordinates(v0);
    *(v0 + 40) = 226;
    *(v0 + 36) = 50;
    *(v0 + 38) = 50;
    *(v0 + 14) = 0;
    *(v0 + 32) = &byte_1E0;
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 12, 13, 1);
        object_clearCollisionRegion();
        v3 = object_setCollisionHitEffect(0);
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80D4754();
    }
    object_freeMemory();
}


// 0x80d4754
void __noreturn sub_80D4754()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    object_spawnCollisionEffect();
    sub_800F672();
    v1 = *(v0 + 84);
    v2 = *(v1 + 128);
    if ( *(v1 + 128) )
    {
        *(v0 + 36) = 0;
        *(v0 + 96) = 1;
        *(v0 + 100) = v2;
        object_clearCollisionRegion();
    }
    sub_801B394(&off_80D479C);
    sub_801BC24();
    object_presentCollisionData(v3, v4);
}


// 0x80d47c0
int sub_80D47C0()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r1

    result = battle_isTimeStop();
    if ( v2 )
    {
        if ( !*(v0 + 11) )
        {
            v3 = *(v0 + 7);
            v4 = object_getCoordinatesForPanels(*(v0 + 6));
            *(v0 + 64) = sub_8001330((v0 + 52), v4, v5);
            *(v0 + 68) = v6;
            *(v0 + 72) = v7;
            *(v0 + 34) = 60;
            *(v0 + 108) = 1;
            *(v0 + 11) = 4;
        }
        if ( *(v0 + 34) < 5 )
            object_setCollisionRegion(1);
        v8 = *(v0 + 34);
        v9 = __OFSUB__(v8--, 1);
        *(v0 + 34) = v8;
        if ( (v8 < 0) ^ v9 )
            object_isCurrentPanelSolid();
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v10 = *(v0 + 72);
        *(v0 + 60) += v10;
        *(v0 + 72) = v10 - 0x2000;
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    return result;
}


// 0x80d4870
int sub_80D4870()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 10);
    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        result = object_updateCollisionData(1, 14, 15, 3);
    }
    return result;
}


// 0x80d4888
int sub_80D4888()
{
    int v0; // r5

    return (*(&JumpTable80D489C + *(v0 + 10)))();
}


// 0x80d48a8
signed int sub_80D48A8()
{
    int v0; // r5
    signed int result; // r0

    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d48ae
int sub_80D48AE()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r0
    char v4; // zf
    int v5; // r6
    int v6; // r4
    int v7; // r0
    char *v8; // r0

    v1 = object_getFlag2();
    result = sub_800F8CE(v1);
    if ( result )
    {
        if ( result == 1 )
            goto LABEL_15;
        result = object_getFlag();
        if ( result & &LCDControl )
            goto LABEL_15;
        v3 = object_getFlag2();
        if ( v3 & 0x8000 )
        {
            if ( v3 & 0x300000 )
            {
                result = sub_800F90E(8);
LABEL_15:
                sub_802EF5C(result);
                clearEntryOfBattleStateBattleObjectList_800F656();
                object_clearCollisionRegion();
                object_removePanelReserve(*(v0 + 20), *(v0 + 21));
                *v0 &= 0xFDu;
                result = 8;
                *(v0 + 8) = 8;
                return result;
            }
LABEL_14:
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
            goto LABEL_15;
        }
        if ( !*(v0 + 100) )
            goto LABEL_14;
        result = battle_isTimeStop();
        if ( v4 )
        {
            if ( *(v0 + 96) && !battle_isBattleOver() )
            {
                result = *(v0 + 108);
                if ( !result )
                {
                    *(v0 + 10) = 8;
                    *v0 &= 0xFDu;
                    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
                    sub_801DACC(64);
                    v5 = *(v0 + 100) + 11665408;
                    v6 = *(v0 + 4);
                    v7 = sub_80E61D2(*(v0 + 18), *(v0 + 19), 0, 0);
                    v8 = sub_800BF16(*(v0 + 22), 1, v7);
                    return sub_802EF5C(v8);
                }
                goto LABEL_15;
            }
            goto LABEL_14;
        }
    }
    return result;
}


// 0x80d49a0
signed int sub_80D49A0()
{
    int v0; // r5
    char v1; // zf
    signed int result; // r0

    *v0 &= 0xFDu;
    battle_isTimeStop();
    if ( !v1 )
        JUMPOUT(&locret_80D499E);
    sub_801DA48(64);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d49cc
int __fastcall sub_80D49CC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    __int16 v7; // r3
    int v8; // [sp+Ch] [bp-8h]

    object_spawnType3(122, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        v7 = *(v8 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80d49f6
int __fastcall sub_80D49F6(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // r0
    int v9; // r4

    v5 = a2;
    v6 = a3;
    v7 = a4;
    v8 = (3 * object_getFrontDirection(v4) + v4->panelX) << 16;
    v9 = (v4->panelY << 24) + v8;
    return sub_80D49CC(v8, v5, v6, v7);
}


// 0x80d4a28
int sub_80D4A28()
{
    int v0; // r5

    return (*(&off_80D4A3C + *(v0 + 8)))();
}


// 0x80d4a48
void __noreturn sub_80D4A48()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    sub_8011504(0x102102Au, 0x6050300u);
}


// 0x80d4a98
void __noreturn sub_80D4A98()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        *(v0 + 96) = *(v0 + 18);
        object_clearCollisionRegion();
    }
    (*(&off_80D4AFC + *(v0 + 9)))();
    if ( !*(*(v0 + 84) + 1) && *(v0 + 18) != *(v0 + 96) )
        object_setCollisionRegion(1);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80d4b00
int sub_80D4B00()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    if ( *(v0 + 4) )
    {
        result = *(v0 + 4) - 1;
        *(v0 + 4) = result;
    }
    else
    {
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( *(v0 + 18) == 2 && *(v0 + 5) == 1 )
        {
            *(v0 + 5) = 0;
            PlaySoundEffect(255, v2, v3);
        }
        result = *(v0 + 18);
        if ( result == 7 )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80d4b44
int __fastcall sub_80D4B44(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(123, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80d4b68
int sub_80D4B68()
{
    int v0; // r5

    return (*(&off_80D4B7C + *(v0 + 8)))();
}


// 0x80d4b88
int sub_80D4B88()
{
    int v0; // r5
    _BYTE *v1; // r0
    _BYTE *v2; // r4
    int result; // r0
    int v4; // r0
    int v5; // r1

    sub_80D4C3A();
    object_setCoordinatesFromPanels(v0);
    v1 = object_createCollisionData();
    v2 = v1;
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, 54, 0, 0);
    v2[1] = *(v0 + 4);
    v4 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d4bc0
void __noreturn sub_80D4BC0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || sub_80D4C6C() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        sub_80D4C3A();
        object_setCoordinatesFromPanels(v0);
        v1 = object_updateCollisionPanels(v0);
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d4bf6
int __noreturn sub_80D4BF6()
{
    object_removeCollisionData();
    object_spawnCollisionEffect();
    object_clearCollisionRegion();
    return object_genericDestroy();
}


// 0x80d4c0a
int __fastcall sub_80D4C0A(_DWORD *a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    _DWORD *v6; // [sp+0h] [bp-14h]
    int v7; // [sp+4h] [bp-10h]
    int v8; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(124, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v6;
        *(v4 + 100) = v7;
        *(v4 + 104) = *v6 & v7;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 76) = v8;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d4c34
int __fastcall sub_80D4C34(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80d4c3a
int sub_80D4C3A()
{
    int v0; // r5
    int v1; // r3
    char v2; // r1
    int v3; // r0
    signed int v4; // r1
    int v5; // r0
    int result; // r0

    v1 = *(v0 + 76);
    v2 = 0;
    v3 = *(v1 + 64);
    if ( v3 )
    {
        v2 = 1;
        if ( v3 <= 0 )
            v2 = -1;
    }
    *(v0 + 18) = *(v1 + 18) + v2;
    v4 = 0;
    v5 = *(v1 + 68);
    if ( v5 )
    {
        v4 = 1;
        if ( v5 <= 0 )
            v4 = -1;
    }
    result = *(v1 + 19) + v4;
    *(v0 + 19) = result;
    return result;
}


// 0x80d4c6c
signed int sub_80D4C6C()
{
    int v0; // r5
    signed int v1; // r3

    v1 = 0;
    if ( (**(v0 + 96) & *(v0 + 100)) != *(v0 + 104) )
        v1 = 1;
    return v1;
}


// 0x80d4c84
int sub_80D4C84()
{
    int v0; // r5

    return (*(&off_80D4C98 + *(v0 + 8)))();
}


// 0x80d4ca4
void __noreturn sub_80D4CA4()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1

    sprite_load(v0, 128, 12, 53);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 40) = 227;
    *(v0 + 36) = 1;
    *(v0 + 38) = 1;
    *(v0 + 32) = 6000;
    *(v0 + 34) = 3;
    if ( *(v0 + 4) != 1 )
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 14, 15, 3);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80d4d34
void __noreturn sub_80D4D34()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    sub_801B4D4(&off_80D4D60);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80d4d88
int sub_80D4D88()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        if ( !object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 260571264) )
            sub_80D4EFC();
        object_setCollisionRegion(1);
        PlaySoundEffect(148, v2, v3);
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d4dc8
void nullsub_80D4DC8()
{
    ;
}


// 0x80d4dcc
int sub_80D4DCC()
{
    int v0; // r5

    return (*(&off_80D4DE0 + *(v0 + 10)))();
}


// 0x80d4df0
int sub_80D4DF0()
{
    int v0; // r5
    int result; // r0
    signed int v2; // r0
    int v3; // r4
    int v4; // r6
    int v5; // r0

    result = battle_isTimeStop();
    if ( !result )
    {
        *(v0 + 24) = 0;
        object_clearCollisionRegion();
        if ( battle_isBattleOver() || (v2 = sub_80D4FF6(*(v0 + 96)), v2 == 255) )
        {
            object_clearCollisionRegion();
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
            *v0 &= 0xFDu;
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            *(v0 + 22) = v2;
            sub_801DACC(64);
            v3 = *(v0 + 4);
            v4 = *(v0 + 44);
            v5 = sub_80E6878(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
            sub_800BF16(*(v0 + 22), 1, v5);
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    return result;
}


// 0x80d4e64
signed int sub_80D4E64()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r6
    int v3; // ST00_4
    int v4; // ST04_4
    int v5; // ST08_4
    int v6; // r4
    int v7; // r1
    int v8; // r2

    result = *(v0 + 6);
    if ( *(v0 + 6) )
    {
        v2 = *(v0 + 44);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *&byte_80D4EB4[4 * *(v0 + 22)];
        sub_80C53A6(*(v0 + 18), v3, v4, 0);
        v6 = *(v0 + 22);
        sub_801BD3C(v3, v4, 69, v5);
        camera_initShakeEffect_80302a8(1, 60);
        PlaySoundEffect(302, v7, v8);
        *(v0 + 16) = 1;
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80d4ebc
int sub_80D4EBC()
{
    Battle *v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        result = 12;
        v0->currPhase = 12;
    }
    return result;
}


// 0x80d4ee0
int sub_80D4EE0()
{
    int v0; // r5
    int result; // r0

    object_clearCollisionRegion();
    *v0 &= 0xFDu;
    result = battle_isTimeStop();
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d4efc
signed int __noreturn sub_80D4EFC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    signed int result; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r0
    int v7; // r0

    v1 = object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    sub_802EF5C(v1);
    clearEntryOfBattleStateBattleObjectList_800F656();
    v2 = object_getFlag2();
    if ( !(v2 & 0x8000) )
    {
        if ( !*(v0 + 36) && !*(v0 + 5) )
        {
            v6 = *(*(v0 + 84) + 112);
            *(v0 + 96) = v6;
            if ( v6 )
            {
                *(v0 + 96) = v6;
                if ( sub_80D4FF6(v6) != 255 )
                {
                    *(v0 + 9) = 9;
                    result = 0;
                    *(v0 + 10) = 0;
                    return result;
                }
            }
        }
        goto LABEL_12;
    }
    if ( !(v2 & 0x300000) )
    {
        result = sub_800F8CE(v2);
        if ( !result )
            return result;
        if ( result == 1 )
            goto LABEL_13;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
LABEL_12:
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
        sub_80E1D7A(v7, *(v0 + 52), *(v0 + 56), *(v0 + 60));
LABEL_13:
        PlaySoundEffect(144, v4, v5);
        goto LABEL_14;
    }
    sub_800F90E(9);
LABEL_14:
    object_clearCollisionRegion();
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d4fa6
_BYTE *__fastcall sub_80D4FA6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *result; // r0
    char v7; // r1
    char v8; // r3
    char v9; // [sp+0h] [bp-14h]
    char v10; // [sp+4h] [bp-10h]
    int v11; // [sp+Ch] [bp-8h]

    v9 = a1;
    v10 = a2;
    object_spawnType3(125, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v9;
        *(v4 + 19) = v10;
        *(v4 + 44) = v5;
        if ( *(v4 + 4) )
        {
            v7 = object_getPanelDataOffset(*(v4 + 18), *(v4 + 19))[3];
            result = v4;
            *(v4 + 22) = v7;
            *(v4 + 23) = 0;
        }
        else
        {
            *(v4 + 22) = *(v11 + 22);
        }
        v8 = 16;
        if ( result[4] )
            v8 = 20;
        *result |= v8;
        result = sub_800F614(result, result[22], 1);
    }
    return result;
}


// 0x80d4ff6
signed int __fastcall sub_80D4FF6(int a1)
{
    if ( !(a1 & 0xAA000000) && a1 & 0x55000000 )
        return 0;
    if ( a1 & 0x55000000 || !(a1 & 0xAA000000) )
        return 255;
    return 1;
}


// 0x80d5028
void sub_80D5028()
{
    int v0; // r5

    (*(&off_80D5044 + *(v0 + 8)))();
    sub_80169BE();
    object_updateSpritePaused();
}


// 0x80d5050
int __noreturn sub_80D5050()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    --*(v0 + 58);
    --*(v0 + 62);
    sprite_load(v0, 128, 16, 78);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 15;
    *(v0 + 17) = 15;
    sprite_setAnimation(v0, 0xFu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 19, 20, 3);
        v3 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v3, v4);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        sub_80D5128();
        result = object_freeMemory();
    }
    return result;
}


// 0x80d50c6
void __noreturn sub_80D50C6()
{
    int v0; // r5

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(v0 + 11) || *(*(v0 + 76) + 9) != 11 )
    {
        object_clearCollisionRegion();
        sub_80D5128();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(11, 11);
    }
}


// 0x80d50fc
int __fastcall sub_80D50FC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(126, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d5128
int sub_80D5128()
{
    int v0; // r5
    int *v1; // r1
    int result; // r0

    v1 = *(v0 + 96);
    result = *v1;
    if ( *v1 == v0 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x80d5138
void sub_80D5138()
{
    int v0; // r5

    (*(&off_80D5154 + *(v0 + 8)))();
    sub_80169BE();
    object_updateSpritePaused();
}


// 0x80d5160
int __noreturn sub_80D5160()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 20;
    sprite_load(v0, 128, 8, 9);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 23;
    *(v0 + 17) = 23;
    sprite_setAnimation(v0, 0x17u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 41, 20, 3);
        object_setCollisionHitEffect(10);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        *(v0 + 64) = 299008 * object_getFrontDirection(v0);
        *(v0 + 36) = 255;
        *(v0 + 38) = 255;
        sub_80D532C(*(v0 + 18), *(v0 + 19));
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        sub_80D5348();
        result = object_freeMemory();
    }
    return result;
}


// 0x80d51e4
void __noreturn sub_80D51E4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(v0 + 11) || *(*(v0 + 76) + 9) != 11 )
    {
        object_clearCollisionRegion();
        sub_80D5348();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D5230 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d5240
int sub_80D5240()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            *(v0 + 16) = 24;
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        object_setCollisionRegion(1);
        sub_80D4C0A((v0 + 8), 255, v1, v2);
        result = *(v0 + 5) + 1;
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80d5280
signed int sub_80D5280()
{
    int v0; // r5
    int v1; // r4
    signed int result; // r0

    v1 = *(v0 + 18);
    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    if ( object_isCurrentPanelValid() )
    {
        result = *(v0 + 18);
        if ( result != v1 )
            result = object_setCollisionRegion(1);
    }
    else
    {
        object_clearCollisionRegion();
        sub_80D5348();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d52c4
int __fastcall sub_80D52C4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-18h]
    char v9; // [sp+4h] [bp-14h]
    char v10; // [sp+8h] [bp-10h]
    int v11; // [sp+Ch] [bp-Ch]
    int v12; // [sp+10h] [bp-8h]

    v12 = a4;
    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(127, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *v6 = v4;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 100) = v12;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d52fa
int sub_80D52FA()
{
    Battle *v0; // r5
    bool v1; // zf
    int result; // r0
    int v3; // [sp-8h] [bp-Ch]
    int v4; // [sp-4h] [bp-8h]

    v3 = object_getFrontDirection(v0) + v0->panelX;
    v4 = v0->panelY;
    v1 = (object_getPanelParameters(v3, v4) & *&byte_80D5324[4 * v0->Alliance]) == 0;
    result = v3;
    if ( !v1 )
        result = sub_80D532C(v3, v4);
    return result;
}


// 0x80d532c
int __fastcall sub_80D532C(char a1, int a2)
{
    int v2; // r5

    return object_spawnCollisionRegion(a1, a2, *(v2 + 14), 0);
}


// 0x80d5348
int sub_80D5348()
{
    int v0; // r5
    int *v1; // r1
    int result; // r0

    v1 = *(v0 + 96);
    result = *v1;
    if ( *v1 == v0 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x80d535c
void sub_80D535C()
{
    int v0; // r5

    (*(&off_80D5380 + *(v0 + 8)))();
    if ( *(v0 + 5) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80d538c
int __noreturn sub_80D538C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 10485760;
    sprite_load(v0, 128, 16, 5);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 21, 5, 3);
    object_setCollisionHitEffect(10);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d53f4
void __noreturn sub_80D53F4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            sub_80D5516();
        if ( *(v0 + 5) == 1 || (v1 = battle_isTimeStop(), v3) )
            v1 = (*(&off_80D543C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d5448
int sub_80D5448()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    __int64 v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( !__CFSHR__(v2, 3) )
        {
            LODWORD(v3) = *(v0 + 18);
            HIDWORD(v3) = *(v0 + 19);
            object_highlightPanel(v3);
        }
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 4);
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80d5482
int sub_80D5482()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        *(v0 + 60) -= *(v0 + 72);
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 60) = 0;
            object_setCollisionRegion(1);
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        sprite_hasShadow();
        *(v0 + 72) = 413696;
        result = 25;
        *(v0 + 32) = 25;
    }
    return result;
}


// 0x80d54c0
void __noreturn sub_80D54C0()
{
    object_isCurrentPanelSolid();
}


// 0x80d54f0
int __fastcall sub_80D54F0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(128, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d5516
u32 sub_80D5516()
{
    int v0; // r5
    int v1; // r4
    char v2; // r0
    int v3; // r6
    int v4; // ST00_4
    int v5; // ST04_4
    char *v6; // r7
    int v7; // r6
    int v8; // r7
    u32 result; // r0

    v1 = 0;
    GetPositiveSignedRNG2();
    v3 = v2 & 3;
    do
    {
        v4 = v1;
        v5 = v3;
        v6 = &byte_80D5550[8 * (v3 & 3)];
        v7 = *v6;
        v8 = *(v6 + 1);
        result = sub_80E1084(2, *(v0 + 52), *(v0 + 56), 0);
        v3 = v5 + 1;
        ++v1;
    }
    while ( v4 - 1 < 0 );
    return result;
}


// 0x80d5580
void sub_80D5580()
{
    int v0; // r5

    (*(&off_80D5598 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d55a4
int __noreturn sub_80D55A4()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 16, 68);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(v0 + 7);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    sprite_setPallete(0);
    *(v0 + 32) = *(v0 + 6);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 2621440 * object_getFrontDirection(v0);
    *(v0 + 8) = 4;
    return sub_80D55F8();
}


// 0x80d55f8
int sub_80D55F8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r7
    __int64 v4; // r0
    int v5; // ST00_4
    __int64 v6; // ST00_8
    int result; // r0

    sub_80D5634();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = object_getFrontDirection(v0);
        LODWORD(v4) = *(v0 + 18);
        HIDWORD(v4) = *(v0 + 19);
        v5 = *(v0 + 18);
        HIDWORD(v6) = *(v0 + 19);
        object_highlightPanel(v4);
        LODWORD(v6) = v5 + v3;
        object_highlightPanel(v6);
        result = highlightPanelIfSomeCondition_8109660(v6 + v3, SHIDWORD(v6), 4, 0);
    }
    return result;
}


// 0x80d5634
int sub_80D5634()
{
    int v0; // r5
    int result; // r0
    signed int v2; // r1
    signed int v3; // r4
    int v4; // r0

    if ( !*(v0 + 9) && *(*(v0 + 76) + 9) != *(v0 + 5) )
    {
        *(v0 + 32) = 4;
        *(v0 + 9) = 4;
    }
    if ( *(v0 + 4) )
    {
        result = *(v0 + 32);
        if ( result != *(v0 + 6) )
            return result;
        v2 = 0;
        goto LABEL_10;
    }
    result = *(v0 + 32);
    v2 = 0;
    if ( result == 45 || (v2 = 1, result == 30) || (v2 = 2, result == 15) )
    {
LABEL_10:
        result = off_80D56C4[v2];
        v3 = 3;
        do
        {
            sub_80D5684(result);
            result = v4 + 8;
            --v3;
        }
        while ( v3 );
    }
    return result;
}


// 0x80d5684
void __fastcall sub_80D5684(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // r0
    int v4; // r4
    int v5; // r6
    int v6; // r0

    v2 = a1;
    if ( *(a1 + 2) )
    {
        v3 = object_getFrontDirection(v1);
        v4 = *(v2 + 4);
        v5 = *(v1 + 44);
        v6 = object_spawnCollisionRegion(v3 * *v2 + *(v1 + 18), *(v1 + 19), *(v1 + 14), 0x100000);
        if ( v6 )
            *(v6 + 32) = *(v2 + 1);
    }
}


// 0x80d5718
int __fastcall sub_80D5718(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(129, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80d5740
void dollThunderObject_80D5740()
{
    int v0; // r5

    (*(&off_80D5758 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d5764
signed int __noreturn dollThunderObject_init_80D5764()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    signed int result; // r0

    sprite_load(v0, 128, 16, 18);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sprite_setPallete(0);
    *(v0 + 32) = *(v0 + 5);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += getBattleArmPositionMaybe_8018810(*(*(v0 + 76) + 40), 29, *(v0 + 22), *(v0 + 23)) << 16;
    *(v0 + 60) += v2 << 16;
    if ( *(v0 + 4) )
    {
        **(v0 + 96) = v0;
        --*(v0 + 58);
        --*(v0 + 62);
        *(v0 + 52) += 2621440 * object_getFrontDirection(v0);
    }
    else
    {
        *(v0 + 52) -= 2621440 * object_getFrontDirection(v0);
    }
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d5806
signed int dollThunderObject_update_80D5806()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0
    int v4; // r2
    signed int v5; // r3

    sub_80D584E();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !(((v1 < 0) ^ v2) | (v1 == 0)) )
    {
        result = *(v0 + 4);
        if ( !*(v0 + 4) )
            return result;
        result = **(v0 + 96);
        if ( result )
            return result;
        v4 = v0 + 100;
        v5 = 5;
        do
        {
            if ( *v4 )
                *(*v4 + 32) = 1;
            v4 += 4;
            --v5;
        }
        while ( v5 );
    }
    if ( *(v0 + 4) )
        **(v0 + 96) = 0;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d584e
int sub_80D584E()
{
    int v0; // r5
    int result; // r0
    int v2; // r4
    int v3; // r7
    int v4; // r0

    result = *(v0 + 32);
    if ( result == *(v0 + 5) )
    {
        v2 = object_getFrontDirection(v0);
        LOBYTE(result) = *(v0 + 18);
        v3 = v0 + 100;
        do
        {
            sub_80D5874(result);
            v3 += 4;
            result = v4 + v2;
        }
        while ( result && result <= 6 );
    }
    return result;
}


// 0x80d5874
void __fastcall sub_80D5874(char a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // r0

    v2 = *(v1 + 44);
    v3 = sub_80D69E2(a1, *(v1 + 19), *(v1 + 14), 0x100000);
    if ( v3 )
        *(v3 + 32) = *(v1 + 5);
}


// 0x80d5890
int __fastcall spawnDollThunderObject_80D5890(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(130, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 76) = v11;
        *(v4 + 96) = v6;
    }
    return result;
}


// 0x80d58b4
void sub_80D58B4()
{
    int v0; // r5

    (*(&off_80D58CC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d58d8
signed int __noreturn sub_80D58D8()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    *(v0 + 52) += 1179648 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 8, 10);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 25;
    *(v0 + 17) = 25;
    sprite_setAnimation(v0, 0x19u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d592c
int sub_80D592C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D5954 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d595c
int sub_80D595C()
{
    Battle *v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !v0->currPhase )
    {
        v0->currPhase = 4;
        sub_80D5A0A();
    }
    v1 = v0->Timer;
    v2 = __OFSUB__(v1--, 1);
    v0->Timer = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        v0->currAction = 4;
        result = 0;
        v0->currPhase = 0;
    }
    else
    {
        v0->x += v0->vx;
        v0->y += v0->vy;
        result = object_setPanelsFromCoordinates(v0);
    }
    return result;
}


// 0x80d5994
int sub_80D5994()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 25 )
        {
            sub_80D5A9C();
            object_isCurrentPanelSolid();
        }
        if ( result <= 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 26;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80d59e2
int __fastcall sub_80D59E2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(131, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d5a0a
int sub_80D5A0A()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r6
    int v4; // r4
    signed int v5; // r2
    int v6; // r0
    signed int v11; // r2
    int v12; // r0
    int v13; // r0
    int v14; // r1
    int result; // r0
    signed int v16; // r2

    v1 = *(v0 + 6);
    v3 = object_getCoordinatesForPanels(*(v0 + 5));
    v4 = *&byte_80D5A8C[4 * *(v0 + 4)];
    if ( *(v0 + 18) == *(v0 + 5) )
    {
        *(v0 + 64) = 0;
        v16 = 1;
        if ( *(v0 + 56) >= v2 )
            v16 = -1;
        *(v0 + 68) = v16 * v4;
        result = *(v0 + 56) - v2;
        if ( result < 0 )
            result = v2 - *(v0 + 56);
        __asm { SVC         6 }
        *(v0 + 32) = result;
    }
    else
    {
        v5 = 1;
        if ( *(v0 + 52) >= v3 )
            v5 = -1;
        *(v0 + 64) = v5 * v4;
        v6 = *(v0 + 52) - v3;
        if ( v6 < 0 )
            v6 = v3 - *(v0 + 52);
        __asm { SVC         6 }
        *(v0 + 32) = v6;
        v11 = 1;
        v12 = *(v0 + 56);
        if ( v12 >= v2 )
            v11 = -1;
        v13 = v12 - v2;
        if ( v13 < 0 )
            v13 = -v13;
        v14 = *(v0 + 32);
        __asm { SVC         6 }
        result = v13 * v11;
        *(v0 + 68) = result;
    }
    return result;
}


// 0x80d5a9c
int sub_80D5A9C()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80d5abc
void sub_80D5ABC()
{
    int v0; // r5

    (*(&off_80D5AD4 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d5ae0
int __noreturn sub_80D5AE0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 25;
    *(v0 + 52) += 983040 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 12, 51);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(v0 + 22) ^ 1);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 6, 5, 1);
    v4 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v4, v5);
    v6 = object_getFrontDirection(v0);
    v7 = *&byte_80D5B74[4 * *(v0 + 4)];
    *(v0 + 96) = v7;
    *(v0 + 64) = v6 * v7;
    *(v0 + 32) = sub_80D5C26();
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d5b84
void __noreturn sub_80D5B84()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D5BC8 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d5bcc
signed int sub_80D5BCC()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    unsigned __int8 v3; // vf
    signed int result; // r0

    v1 = *(v0 + 18);
    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = *(v0 + 18);
        if ( result != v1 )
            result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80d5c00
int __fastcall sub_80D5C00(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(132, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d5c26
int sub_80D5C26()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int result; // r0
    int v4; // r1

    v1 = 7;
    if ( *(v0 + 22) )
        v1 = 0;
    v2 = *(v0 + 19);
    result = object_getCoordinatesForPanels(v1) - *(v0 + 52);
    if ( result < 0 )
        result = -result;
    v4 = *(v0 + 96);
    __asm { SVC         6 }
    return result;
}


// 0x80d5c48
void sub_80D5C48()
{
    int v0; // r5

    (*(&off_80D5C60 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d5c6c
signed int __noreturn sub_80D5C6C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    sprite_load(v0, 128, 16, 60);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d5c9a
int sub_80D5C9A()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    sub_80D5CC8();
    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    if ( v1 < 8 )
        sub_80D5CDC(v1);
    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result > 9 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d5cc8
int sub_80D5CC8()
{
    Battle *v0; // r5
    u32 v1; // r2
    u32 v2; // r3
    u32 *v3; // r0

    v1 = v0->parent[14];
    v2 = v0->parent[15];
    v3 = &v0->x;
    *v3 = v0->parent[13];
    v3[1] = v1;
    v3[2] = v2;
    return object_setPanelsFromCoordinates(v0);
}


// 0x80d5cdc
int __fastcall sub_80D5CDC(int a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // r0
    char *v4; // r3
    __int64 v5; // r0
    char v6; // ST00_1
    int v7; // ST04_4
    int v8; // r6

    v2 = a1;
    v3 = object_getFrontDirection(v1);
    v4 = &byte_80D5D24[2 * v2];
    LODWORD(v5) = *v4 * v3 + *(v1 + 18);
    HIDWORD(v5) = v4[1] + *(v1 + 19);
    v6 = v5;
    v7 = v4[1] + *(v1 + 19);
    object_highlightPanel(v5);
    *(v1 + 4);
    v8 = *(v1 + 44);
    return object_spawnCollisionRegion(v6, v7, *(v1 + 14), 0);
}


// 0x80d5d34
int __fastcall sub_80D5D34(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(133, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80d5d54
void sub_80D5D54()
{
    int v0; // r5

    (*(&off_80D5D6C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d5d78
signed int __noreturn sub_80D5D78()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 54) += 10 * object_getFrontDirection(v0);
    *(v0 + 62) = 48;
    sprite_load(v0, 128, 16, 85);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d5dc8
int sub_80D5DC8()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D5DF0 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d5df4
int sub_80D5DF4()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r0
    int v10; // r1
    int v11; // r0
    __int64 v12; // r0
    int v13; // r1

    if ( *(v0 + 10) )
    {
        v7 = *(v0 + 32);
        v8 = __OFSUB__(v7--, 1);
        *(v0 + 32) = v7;
        if ( (v7 < 0) ^ v8 )
        {
            v9 = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
            v10 = *&byte_80D5EA0[4 * *(v0 + 22)];
            if ( v9 & v10 )
            {
                PlaySoundEffect(112, v10, byte_80D5EA0);
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
                sub_80D5EDE();
            }
            *(v0 + 8) = 8;
            result = 0;
            *(v0 + 34) = 0;
        }
        else
        {
            v11 = *(v0 + 34) + 1;
            *(v0 + 34) = v11;
            if ( !__CFSHR__(v11, 3) )
            {
                LODWORD(v12) = *(v0 + 20);
                HIDWORD(v12) = *(v0 + 21);
                object_highlightPanel(v12);
            }
            *(v0 + 52) += *(v0 + 64);
            *(v0 + 56) += *(v0 + 68);
            v13 = *(v0 + 72);
            *(v0 + 60) += v13;
            *(v0 + 72) = v13 - 0x4000;
            result = object_setPanelsFromCoordinates(v0);
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = *(v0 + 21);
        v2 = object_getCoordinatesForPanels(*(v0 + 20));
        *(v0 + 64) = sub_8001330((v0 + 52), v2, v3);
        *(v0 + 68) = v4;
        *(v0 + 72) = v5;
        *(v0 + 32) = 45;
        result = 0;
        *(v0 + 34) = 0;
    }
    return result;
}


// 0x80d5ea8
int sub_80D5EA8()
{
    return object_genericDestroy();
}


// 0x80d5eb0
int __fastcall sub_80D5EB0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(134, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 20) = v7;
        *(v4 + 21) = v8;
        *(v4 + 18) = *(v10 + 18);
        *(v4 + 19) = *(v10 + 19);
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d5ede
int sub_80D5EDE()
{
    int v0; // r5
    int v1; // r6
    int result; // r0

    v1 = *(v0 + 44);
    result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    if ( result )
        *(result + 32) = 5;
    return result;
}


// 0x80d5f08
void sub_80D5F08()
{
    int v0; // r5

    (*(&off_80D5F20 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d5f2c
int __noreturn sub_80D5F2C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sub_80D61FC();
    sprite_load(v0, 128, 16, 84);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_80169BE();
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 19, 20, 3);
    object_setCollisionHitEffect(9);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    *(v0 + 6) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d5fa0
void __noreturn sub_80D5FA0()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    char v4; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_10;
    sub_80169BE();
    v1 = *(v0->parent + 9);
    if ( v1 != 10 )
    {
        SpawnT4BattleObjectWithId0(v0, v1, v0->x, v0->y, 0x100000);
LABEL_10:
        object_clearCollisionRegion();
        v0->currState = 8;
        return;
    }
    if ( *&byte_80D6018[4 * v0->Alliance] & v0->collisionData->collisionFlags )
        object_clearCollisionRegion();
    v2 = battle_isTimeStop();
    if ( v4 )
        v2 = (*(&off_80D6004 + v0->currAction))();
    object_presentCollisionData(v2, v3);
}


// 0x80d6020
int sub_80D6020()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r1
    int v3; // r4
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        v1 = object_getFrontDirection(v0);
        *(v0 + 64) = sub_80D61D2(2 * v1 + *(v0 + 18), *&byte_80D6088[4 * *(v0 + 4)]);
        *(v0 + 32) = v2;
    }
    *(v0 + 52) += *(v0 + 64);
    v3 = *(v0 + 18);
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(v0 + 18) != v3 )
        object_setCollisionRegion(1);
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v5 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d6098
int sub_80D6098()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v3 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 96);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80d60bc
int sub_80D60BC()
{
    int v0; // r5
    __int16 v1; // r1
    int v2; // r4
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 62) = 0;
        sub_80D61FC();
        *(v0 + 64) = sub_80D61D2(*(&dword_80D6160 + *(v0 + 22)), *&byte_80D614C[4 * *(v0 + 4)]);
        *(v0 + 32) = v1;
    }
    *(v0 + 52) += *(v0 + 64);
    v2 = *(v0 + 18);
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( object_isCurrentPanelValid() )
    {
        if ( *(v0 + 18) != v2 )
            object_setCollisionRegion(1);
    }
    else
    {
        object_clearCollisionRegion();
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v4 )
    {
        v6 = *(v0 + 6) + 1;
        *(v0 + 6) = v6;
        if ( v6 >= 5 )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            *(v0 + 62) = 255;
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d6164
int sub_80D6164()
{
    int v0; // r5
    char v1; // r1
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 10) )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        v1 = *(*(v0 + 76) + 19);
        *(v0 + 18) = *(&off_80D61A4 + *(v0 + 22));
        *(v0 + 19) = v1;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        result = 3;
        *(v0 + 32) = 3;
    }
    return result;
}


// 0x80d61a8
int __fastcall sub_80D61A8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(135, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d61d2
int __fastcall sub_80D61D2(int a1, int a2)
{
    int v2; // r5
    int v3; // r2
    int result; // r0

    v3 = *(v2 + 18) - a1;
    if ( v3 >= 0 )
        a2 = -a2;
    result = a2;
    __asm { SVC         6 }
    return result;
}


// 0x80d61fc
int sub_80D61FC()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 5) + 1;
    *(v0 + 62) -= result;
    *(v0 + 58) -= result;
    return result;
}


// 0x80d622c
void sub_80D622C()
{
    int v0; // r5

    (*(&off_80D6244 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d6250
int __noreturn sub_80D6250()
{
    int v0; // r5
    __int16 v1; // r1
    u8 v2; // r0
    int v3; // r0
    _BYTE *v4; // r0
    int result; // r0
    int v6; // r0
    int v7; // r1
    __int16 v8; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    v1 = *(v0 + 6);
    *(v0 + 62) -= v1;
    *(v0 + 58) -= v1;
    sprite_load(v0, 128, 16, 84);
    sprite_hasShadow();
    *v0 |= 2u;
    v2 = *(&dword_80D62E4 + *(v0 + 5));
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    sub_80169BE();
    v4 = object_createCollisionData();
    if ( !v4 )
        return object_freeMemory();
    object_setupCollisionData(v4, 19, 20, 3);
    object_setCollisionHitEffect(6);
    v6 = object_clearCollisionRegion();
    object_presentCollisionData(v6, v7);
    v8 = *(&byte_80D6210 + 4 * *(v0 + 5) + *(v0 + 4) + 2);
    *(v0 + 36) = v8;
    *(v0 + 38) = v8;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d62e8
void __noreturn sub_80D62E8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    unsigned __int8 v4; // vf
    int v5; // r0
    int v6; // r0
    int v7; // r1
    char v8; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_12;
    v1 = sub_801156A(0);
    if ( (v1 < 0) ^ v4 )
    {
        sub_80D644E(v1, v2, v3);
        goto LABEL_12;
    }
    sub_80169BE();
    v5 = *(*(v0 + 76) + 9);
    if ( v5 != 12 )
    {
        sub_80D6544(v5);
LABEL_12:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
    if ( *&byte_80D635C[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v6 = battle_isTimeStop();
    if ( v8 )
        v6 = (*(&off_80D6354 + *(v0 + 9)))();
    object_presentCollisionData(v6, v7);
}


// 0x80d6364
void __noreturn sub_80D6364()
{
    int v0; // r5
    __int16 v1; // r1

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 64) = sub_80D6424(*(&dword_80D63F8 + *(v0 + 22)), *&byte_80D63E4[4 * *(v0 + 4)]);
        *(v0 + 32) = v1;
    }
    *(v0 + 52) += *(v0 + 64);
    sub_80D650C();
}


// 0x80d63fc
int __fastcall sub_80D63FC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(136, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d6424
int __fastcall sub_80D6424(int a1, int a2)
{
    int v2; // r5
    int v3; // r2
    int result; // r0

    v3 = *(v2 + 18) - a1;
    if ( v3 >= 0 )
        a2 = -a2;
    result = a2;
    __asm { SVC         6 }
    return result;
}


// 0x80d644e
void __fastcall sub_80D644E(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r1
    int v5; // r0
    int v6; // r1
    signed int v7; // r6
    char *v8; // r3
    int v9; // ST08_4
    bool v10; // zf
    int v11; // r1
    signed int v12; // ST08_4
    int v13; // r6
    int v14; // r0
    int v15; // r1
    char v16; // [sp-8h] [bp-18h]

    PlaySoundEffect(off_80D6500[*(v3 + 5)], off_80D6500, a3);
    v4 = *(v3 + 19);
    v5 = object_getCoordinatesForPanels(*(v3 + 18));
    SpawnT4BattleObjectWithId0(v3, v5, v5, v6, *(v3 + 60));
    if ( *(v3 + 5) == 2 )
    {
        v7 = 0;
        do
        {
            v8 = &byte_80D64D0[2 * v7];
            v16 = *(v3 + 18) + *v8;
            v9 = *(v3 + 19) + v8[1];
            v10 = object_isValidPanel(*(v3 + 18) + *v8, v9) == 0;
            v11 = v9;
            if ( !v10 )
            {
                v12 = v7;
                v13 = *&byte_80D64EC[4 * *(v3 + 4)];
                object_spawnCollisionRegion(v16, v11, 1, 0);
                v7 = v12;
                v14 = object_getCoordinatesForPanels(v16);
                SpawnT4BattleObjectWithId0(v3, v14, v14, v15, *(v3 + 60));
            }
            ++v7;
        }
        while ( v7 < 8 );
    }
}


// 0x80d650c
BOOL __noreturn sub_80D650C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    bool v3; // zf
    BOOL result; // r0
    int v5; // [sp-8h] [bp-Ch]
    int v6; // [sp-4h] [bp-8h]

    v1 = *(v0 + 56);
    v5 = convertXYToPanelXY_800E258(*(v0 + 52));
    v6 = v2;
    v3 = object_checkPanelParameters(v5, v2, 65552, 0) == 0;
    result = v5;
    if ( v3 )
        result = object_isValidPanel(v5, v6) == 0;
    return result;
}


// 0x80d6544
void __fastcall sub_80D6544(int a1)
{
    Battle *v1; // r5

    SpawnT4BattleObjectWithId0(v1, a1, v1->x, v1->y, 0x100000);
}


// 0x80d655c
void sub_80D655C()
{
    int v0; // r5

    (*(&off_80D6574 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d6580
void __noreturn sub_80D6580()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 16, 69);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 1;
    *(v0 + 17) = -1;
    sprite_setAnimation(v0, 0xFFu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *v0 |= 2u;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_80D67D2();
    sprite_setPallete(*(v0 + 6));
    *(v0 + 64) = -object_getFrontDirection(v0);
    *(v0 + 68) = 1;
    *(v0 + 34) = dword_168;
    *(v0 + 12) = -1;
    *(v0 + 8) = 4;
    sub_80D65E0();
}


// 0x80d65e0
int sub_80D65E0()
{
    int v0; // r5

    return (*(&off_80D65F4 + *(v0 + 9)))();
}


// 0x80d65fc
int sub_80D65FC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    u32 v3; // r0
    unsigned int v4; // r4
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int result; // r0
    int v9; // r0
    int v10; // r1
    char v11; // r0
    int v12; // r4
    int v13; // r6
    int v14; // r7

    if ( *(v0 + 12) == 255 )
    {
        v1 = *(v0 + 34);
        v2 = __OFSUB__(v1, 1);
        *(v0 + 34) = --v1;
        if ( (v1 < 0) ^ v2 || (v3 = battle_findPlayer(*(v0 + 22))) != 0 && *(*(v3 + 88) + 44) & 1 )
            *(v0 + 12) = *(v0 + 5);
    }
    v4 = *(v0 + 18);
    (*(&off_80D668C + *(v0 + 10)))();
    result = *(v0 + 18);
    if ( result != v4 )
    {
        v9 = *(v0 + 12);
        if ( v9 == 255 )
        {
            result = PlaySoundEffect(270, v5, v6);
        }
        else
        {
            *(v0 + 12) = v9 - 1;
            v10 = v4 >> 8;
            v11 = v4;
            v12 = (*(v0 + 6) << 16) + 4 * *(v0 + 4) + 20;
            v13 = *(v0 + 44);
            v14 = *(v0 + 96) + 100 + v0;
            sub_80D68E0(v11, v10, *(v0 + 14), v7);
            ++*(v0 + 96);
            result = *(v0 + 12);
            if ( !*(v0 + 12) )
            {
                *v0 &= 0xFDu;
                *(v0 + 9) = 4;
                result = 0;
                *(v0 + 10) = 0;
            }
        }
    }
    return result;
}


// 0x80d6694
int sub_80D6694()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    char v4; // [sp-8h] [bp-10h]
    int v5; // [sp-4h] [bp-Ch]

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = *(v0 + 4);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = *(v0 + 18);
        v5 = *(v0 + 19) + *(v0 + 68);
        if ( object_isValidPanel(*(v0 + 18), v5) )
        {
            *(v0 + 18) = v4;
            *(v0 + 19) = v5;
            sub_80D67D2();
            result = 0;
            *(v0 + 11) = 0;
        }
        else
        {
            *(v0 + 68) = -*(v0 + 68);
            *(v0 + 32) = 0;
            *(v0 + 10) = 4;
            result = 1;
            *(v0 + 11) = 1;
        }
    }
    return result;
}


// 0x80d66e2
int sub_80D66E2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r1
    int *v6; // r1
    int v7; // [sp+4h] [bp-14h]
    int v8; // [sp+8h] [bp-10h]

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = *(v0 + 4);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = object_getFrontDirection(v0);
        v5 = *(v0 + 64);
        if ( v4 != v5 )
            sub_800D5F0(*(v0 + 18) + v5, *(v0 + 22));
        v7 = *(v0 + 64) + *(v0 + 18);
        v8 = *(v0 + 19);
        if ( object_isValidPanel(v7, v8)
            && (v6 = &byte_80D676C[8 * *(v0 + 22)], object_getPanelsInColumnFiltered(v7, v6, *v6, v6[1]) != 3) )
        {
            *(v0 + 18) = v7;
            *(v0 + 19) = v8;
            sub_80D67D2();
            result = 0;
            *(v0 + 11) = 0;
        }
        else
        {
            *(v0 + 64) = -*(v0 + 64);
            *(v0 + 32) = 0;
            *(v0 + 10) = 0;
            result = 1;
            *(v0 + 11) = 1;
        }
    }
    return result;
}


// 0x80d677c
int sub_80D677C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v0 + 11) )
    {
        result = *(v0 + 100);
        if ( result )
            return result;
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        **(v0 + 76) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d67a6
int __fastcall sub_80D67A6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(137, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
        *v6 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d67d2
int sub_80D67D2()
{
    Battle *v0; // r5
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    result = v0->y + 0x80000;
    v0->y = result;
    v0->z = 0x80000;
    return result;
}


// 0x80d67ec
void sub_80D67EC()
{
    int v0; // r5

    (*(&off_80D6804 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d6810
int __noreturn sub_80D6810()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2

    sprite_load(v0, 128, 16, 69);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 1;
    *(v0 + 17) = -1;
    *v0 |= 2u;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_80D67D2();
    *(v0 + 32) = *(v0 + 4);
    sprite_setPallete(*(v0 + 6));
    PlaySoundEffect(189, v2, v3);
    *(v0 + 8) = 4;
    return sub_80D685A();
}


// 0x80d685a
int sub_80D685A()
{
    int v0; // r5

    return (*(&off_80D686C + *(v0 + 9)))();
}


// 0x80d6874
int sub_80D6874()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 16) = 1;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d688c
void __noreturn sub_80D688C()
{
    object_isCurrentPanelSolid();
}


// 0x80d68e0
int __fastcall sub_80D68E0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(138, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
        *v6 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d6924
int sub_80D6924()
{
    int v0; // r5

    return (*(&off_80D6938 + *(v0 + 8)))();
}


// 0x80d6944
int sub_80D6944()
{
    int v0; // r5

    **(v0 + 76) = 0;
    return object_genericDestroy();
}


// 0x80d6952
int sub_80D6952()
{
    int v0; // r5
    char *v1; // r4
    _BYTE *v2; // r0
    _BYTE *v3; // r7
    int v5; // r1
    _DWORD *v6; // r0

    v1 = &byte_80D6914[8 * *(v0 + 4)];
    *(v0 + 96) = v1;
    if ( object_isCurrentPanelValid() )
    {
        object_setCoordinatesFromPanels(v0);
        v2 = object_createCollisionData();
        v3 = v2;
        if ( v2 )
        {
            object_setupCollisionData(v2, *v1, v1[1], *(v1 + 1));
            v3[1] = v1[3];
            object_setCollisionHitEffect(v1[2]);
            if ( v1[5] )
                object_setCollisionStatusEffect1(v1[5]);
            if ( v1[6] )
                sub_801A4D0(v1[6], v1[7]);
            v6 = *(v0 + 76);
            *v6 = v0;
            object_presentCollisionData(v6, v5);
            *(v0 + 8) = 4;
            sub_80D69B8();
        }
    }
    return object_freeMemory();
}


// 0x80d69b8
void __noreturn sub_80D69B8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112)
        || (v2 = *(v0 + 32), v3 = __OFSUB__(v2, 1), v4 = v2 - 1, *(v0 + 32) = v4, ((v4 < 0) ^ v3) | (v4 == 0)) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v4, v1);
    }
}


// 0x80d69e2
int __fastcall sub_80D69E2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(139, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
    }
    return result;
}


// 0x80d6a02
_BYTE *__fastcall sub_80D6A02(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80D69E2(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80d6a20
void sub_80D6A20()
{
    int v0; // r5

    (*(&off_80D6A38 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d6a44
int __noreturn sub_80D6A44()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    _BYTE *v3; // r0
    _BYTE *v4; // r7
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // r2

    sprite_load(v0, 128, 16, 64);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(&dword_80D6B24 + *(v0 + 7)));
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 32) = *(v0 + 6);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 54) -= 40 * object_getFrontDirection(v0);
    *(v0 + 52) += getBattleArmPositionMaybe_8018810(*(*(v0 + 76) + 40), 28, *(v0 + 22), *(v0 + 23)) << 16;
    *(v0 + 60) += v2 << 16;
    v3 = object_createCollisionData();
    v4 = v3;
    if ( v3 )
    {
        object_setupCollisionData(v3, 11, 5, *(v0 + 4));
        v4[1] = 21;
        object_setCollisionHitEffect(255);
        if ( !*(*(v0 + 84) + 16) )
            object_setCollisionStatusEffect1(*(v0 + 5));
        v7 = *(v0 + 7);
        if ( v7 >= 2 )
        {
            if ( v7 == 3 )
                v7 = sub_801A4D0(246, 0);
            else
                v7 = sub_801A4D0(24, 1);
        }
        object_presentCollisionData(v7, v6);
        PlaySoundEffect(243, v8, v9);
        *(v0 + 8) = 4;
        sub_80D6B28();
    }
    return object_freeMemory();
}


// 0x80d6b28
int __noreturn sub_80D6B28()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int result; // r0
    int *v6; // r2
    signed int v7; // r3

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_12;
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v0 + 32) = v4;
    if ( ((v4 < 0) ^ v3) | (v4 == 0) )
    {
LABEL_12:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        v6 = (v0 + 100);
        v7 = 3;
        do
        {
            result = *v6;
            if ( *v6 )
                *(result + 32) = 1;
            ++v6;
            --v7;
        }
        while ( v7 );
    }
    else
    {
        object_presentCollisionData(v4, v1);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80d6b78
int __fastcall sub_80D6B78(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(140, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v11;
        *v6 = v4;
        *(v4 + 96) = v6;
    }
    return result;
}


// 0x80d6b9c
_BYTE *__fastcall sub_80D6B9C(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80D6B78(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80d6bb0
int sub_80D6BB0()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3

    result = *(v0 + 18);
    v2 = *(v0 + 19);
    v3 = *(v0 + 14);
    v4 = *(v0 + 60);
    return result;
}


// 0x80d6bc2
void __fastcall sub_80D6BC2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0

    v5 = sub_80D69E2(a1, a2, a3, a4);
    if ( v5 )
        *(v5 + 32) = *(v4 + 6);
}


// 0x80d6bd4
void sub_80D6BD4()
{
    int v0; // r5

    (*(&off_80D6BF8 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80d6c04
signed int __noreturn sub_80D6C04()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) -= 12582912 * object_getFrontDirection(v0);
    *(v0 + 60) = 12582912;
    sprite_load(v0, 128, 12, 49);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d6c56
int sub_80D6C56()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) == 1 || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80D6C84 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d6c88
char *sub_80D6C88()
{
    int v0; // r5
    int v1; // r2
    int v2; // r0
    unsigned __int8 v3; // vf
    char *result; // r0
    unsigned int v5; // r0
    unsigned __int8 v6; // cf
    __int64 v7; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 64) = 720896 * object_getFrontDirection(v0);
        *(v0 + 72) = 720896;
        PlaySoundEffect(196, 720896, v1);
        *(v0 + 32) = 17;
        goto LABEL_8;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) -= *(v0 + 72);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( !(((v2 < 0) ^ v3) | (v2 == 0)) )
    {
LABEL_8:
        v5 = *(v0 + 34) + 1;
        *(v0 + 34) = v5;
        v6 = __CFSHR__(v5, 3);
        result = (v5 >> 3);
        if ( !v6 )
        {
            LODWORD(v7) = *(v0 + 18);
            HIDWORD(v7) = *(v0 + 19);
            result = object_highlightPanel(v7);
        }
        return result;
    }
    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & *&byte_80D6D08[4 * *(v0 + 22)] )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        sub_80D6D3E();
    }
    result = &dword_8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d6d10
int sub_80D6D10()
{
    return object_genericDestroy();
}


// 0x80d6d18
int __fastcall sub_80D6D18(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(141, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d6d3e
_BYTE *sub_80D6D3E()
{
    int v0; // r5
    int v1; // r6
    _BYTE *result; // r0
    char v3; // zf
    int v4; // r6

    if ( *(v0 + 4) == 1
        || (v1 = *(v0 + 44), result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0), !v3) )
    {
        v4 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    return result;
}


// 0x80d6d80
void sub_80D6D80()
{
    int v0; // r5

    (*(&off_80D6DA4 + *(v0 + 8)))();
    if ( *(v0 + 6) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80d6db0
int __noreturn sub_80D6DB0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 8;
    sprite_load(v0, 128, 16, 15);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 1;
    *(v0 + 17) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 4, 5, 3);
    object_setCollisionStatusEffect1(80);
    object_setCollisionHitEffect(2);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d6e1e
void __noreturn sub_80D6E1E()
{
    int v0; // r5
    int v1; // r4
    char v2; // zf
    int v3; // r0
    int v4; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = *(v0 + 84);
        if ( *(v1 + 112) )
        {
            object_clearCollisionRegion();
            *(v1 + 112) = 0;
        }
        if ( *(v0 + 6) || (battle_isTimeStop(), v2) )
        {
            v3 = (*(&off_80D6E6C + *(v0 + 9)))();
            object_presentCollisionData(v3, v4);
        }
    }
}


// 0x80d6e70
int sub_80D6E70()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        object_setCollisionRegion(1);
        object_setPanelType(*(v0 + 18), *(v0 + 19), 7);
    }
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d6eb0
int __fastcall sub_80D6EB0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(142, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d6ee0
void sub_80D6EE0()
{
    int v0; // r5

    (*(&off_80D6EF8 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d6f04
int __noreturn sub_80D6F04()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    __int16 v5; // r0
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 16);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 18;
    *(v0 + 17) = 18;
    sprite_setAnimation(v0, 0x12u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 12, 13, 3);
    v3 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v3, v4);
    v5 = *&byte_80D6ED8[2 * *(v0 + 4)];
    *(v0 + 36) = v5;
    *(v0 + 38) = v5;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d6f74
void __noreturn sub_80D6F74()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || (v1 = object_applyDamage(0), (v1 < 0) ^ v2) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *&byte_80D6FD4[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v3 = battle_isTimeStop();
        if ( v5 )
            v3 = (*(&off_80D6FC8 + *(v0 + 9)))();
        object_presentCollisionData(v3, v4);
    }
}


// 0x80d6fdc
int __fastcall sub_80D6FDC(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(385, 4, a3);
        result = 10;
        *(v3 + 32) = 10;
    }
    return result;
}


// 0x80d7008
int sub_80D7008()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 19;
        object_setPanelType(*(v0 + 18), *(v0 + 19), 6);
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d703a
int __fastcall sub_80D703A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(143, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d7068
void sub_80D7068()
{
    int v0; // r5

    (*(&off_80D7080 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d708c
int __noreturn sub_80D708C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    signed int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 66);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 71, 5, 3);
    v4 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v4, v5);
    v6 = 0;
    if ( *(v0 + 19) != 1 )
        v6 = 3;
    *(v0 + 96) = v6;
    *(v0 + 100) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d7100
void __noreturn sub_80D7100()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *&byte_80D7154[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80D7148 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d715c
int __fastcall sub_80D715C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(184, a2, a3);
        result = 10;
        *(v3 + 32) = 10;
    }
    return result;
}


// 0x80d7186
int sub_80D7186()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v0 + 10) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            v4 = *(v0 + 100) + 1;
            *(v0 + 100) = v4;
            if ( v4 >= 3 )
            {
                object_clearCollisionRegion();
                result = 8;
                *(v0 + 8) = 8;
            }
            else
            {
                object_setCoordinatesFromPanels(v0);
                result = 0;
                *(v0 + 10) = 0;
            }
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = sub_80D71FE();
    }
    return result;
}


// 0x80d71d6
int __fastcall sub_80D71D6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(144, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d71fe
int sub_80D71FE()
{
    int v0; // r5
    int v1; // r6
    int v6; // r0
    int v7; // ST00_4
    int v8; // ST04_4
    int result; // r0

    v1 = *&byte_80D7248[4 * *(v0 + 4)];
    __asm { SVC         6 }
    *(v0 + 32) = *&byte_80D725C[4 * *(v0 + 100)];
    v6 = 2 * *(v0 + 96);
    v7 = byte_80D726C[v6] * v1;
    v8 = byte_80D726C[v6 + 1] * v1;
    *(v0 + 64) = v7 * object_getEnemyDirection();
    *(v0 + 68) = v8;
    result = *(v0 + 96) + 1;
    *(v0 + 96) = result;
    return result;
}


// 0x80d7278
void sub_80D7278()
{
    int v0; // r5

    (*(&off_80D7290 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d729c
void __noreturn sub_80D729C()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    sprite_decompress(16, 70);
    sprite_load(v0, 128, 16, 70);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 17) = -1;
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 64) = 196608 * object_getFrontDirection(v0);
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v2 = object_setupCollisionData(v1, 4, 5, 3);
        object_presentCollisionData(v2, v3);
        *(v0 + 8) = 4;
        sub_80D730A();
    }
    object_freeMemory();
}


// 0x80d730a
void __noreturn sub_80D730A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r2

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        PlaySoundEffect(133, v3, v4);
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80D734C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d7358
int __fastcall sub_80D7358(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 14;
        PlaySoundEffect(274, a2, a3);
        *(v3 + 11) = 4;
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v5 )
    {
        *(v3 + 9) = 4;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80d7382
int sub_80D7382()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        sprite_hasShadow();
        *(v0 + 32) = *(v0 + 5);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d73ac
unsigned int sub_80D73AC()
{
    int v0; // r5
    unsigned int result; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = (*(v0 + 52) >> 16) + 150;
    if ( result > 0x12C )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d73d6
int __fastcall sub_80D73D6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(145, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d7400
int sub_80D7400()
{
    int v0; // r5

    return (*(&off_80D7414 + *(v0 + 8)))();
}


// 0x80d7420
int sub_80D7420()
{
    int v0; // r5
    unsigned int v1; // r1

    object_setCoordinatesFromPanels(v0);
    if ( object_isCurrentPanelValid() )
    {
        v1 = 100991744;
        if ( !*(v0 + 6) )
            v1 = 100991232;
        sub_8011504(0x1040403u, v1);
    }
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    return object_freeMemory();
}


// 0x80d74dc
void __noreturn sub_80D74DC()
{
    int v0; // r5
    int v1; // t1
    __int64 v6; // r0
    int v7; // r0
    int v8; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
    {
        *(v0 + 96) = *(v0 + 18);
        object_clearCollisionRegion();
        if ( !*(v0 + 100) )
        {
            v1 = *(v0 + 68);
            __asm { SVC         6 }
            *(v0 + 32) = 2621442;
            camera_initShakeEffect_80302a8(1, 30);
            *(v0 + 100) = 1;
        }
    }
    (*(&off_80D7570 + *(v0 + 9)))();
    if ( *(*(v0 + 84) + 1) || *(v0 + 9) == 4 || *(v0 + 8) == 8 )
        goto LABEL_9;
    if ( *(v0 + 18) != *(v0 + 96) )
    {
        object_setCollisionRegion(1);
LABEL_9:
        LODWORD(v6) = *(v0 + 18);
        HIDWORD(v6) = *(v0 + 19);
        object_highlightPanel(v6);
    }
    object_updateSprite();
    object_presentCollisionData(v7, v8);
}


// 0x80d7578
int sub_80D7578()
{
    int v0; // r5
    int result; // r0

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 30;
        object_clearCollisionRegion();
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d75a4
int sub_80D75A4()
{
    int v0; // r5
    int result; // r0

    if ( !object_isCurrentPanelValid() )
        goto LABEL_8;
    *v0 &= 0xFDu;
    if ( *(v0 + 32) & 2 )
        *v0 |= 2u;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
LABEL_8:
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d75d4
int __fastcall sub_80D75D4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(146, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80d75fc
int sub_80D75FC()
{
    int v0; // r5

    return (*(&off_80D7610 + *(v0 + 8)))();
}


// 0x80d761c
int __noreturn sub_80D761C()
{
    Battle *obj; // r5
    int v1; // r0
    char v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // ST08_4
    int v6; // ST0C_4
    int v7; // r0
    u32 v8; // r1
    int v9; // r1
    int v10; // r1
    _BYTE *v11; // r0
    int result; // r0
    CollisionData *v13; // r0
    int v14; // r0
    int v15; // r1
    int v16; // r1
    int v17; // r0
    _DWORD *v18; // r7
    int v19; // r1

    obj->objFlags |= 2u;
    sprite_load(obj, 128, 4, 13);
    *&obj->currAnimation = 0;
    sprite_setAnimation(obj, 0);
    sprite_loadAnimationData(obj);
    sprite_hasShadow();
    v1 = object_getFlip(obj);
    sprite_setFlip(obj, v1);
    sprite_setPallete(3 * LOBYTE(obj->objParams));
    obj->nameID = 235;
    v2 = BYTE2(obj->objParams);
    obj->futurePanelX = v2;
    obj->futurePanelY = HIBYTE(obj->objParams);
    v3 = object_getCoordinatesForPanels(v2);
    v5 = v3;
    v6 = v4;
    v7 = calcAngle_800117C(v4 - obj->y, v3 - obj->x);
    obj->pad_0C[0] = v7;
    obj->vx = sub_80011A0(v7, 180224);
    obj->vy = v8;
    obj->vz = sub_800120E(&obj->x, v5, v6, 0);
    obj->Timer = v9;
    if ( v9 )
    {
        if ( obj->damage & 0x8000 )
            obj->damage = 2 * (obj->damage & 0xFFF) | obj->damage & 0x7000;
        obj->maxHP = 4000;
        v10 = obj->damage & 0xFFF;
        obj->HP = 4000 - v10;
        *&obj->extraVars[12] = 4000 - v10;
        obj->Timer = &loc_B4;
        v11 = object_createCollisionData();
        if ( v11 )
        {
            object_setupCollisionData(v11, 79, 15, 3);
            v13 = obj->collisionData;
            v13->selfDamage = *(&dword_80D7748 + LOBYTE(obj->objParams));
            v13->staminaDmg_counterDisabler = 30;
            object_clearCollisionRegion();
            v14 = object_setCollisionHitEffect(10);
            object_presentCollisionData(v14, v15);
            sub_801DC7C(-16, 3);
            obj->currState = 4;
            sub_80D774C();
        }
        sub_802EF5C(0);
        clearEntryOfBattleStateBattleObjectList_800F656();
        result = object_freeMemory();
    }
    else
    {
        v16 = HIBYTE(obj->objParams);
        v17 = object_getCoordinatesForPanels(BYTE2(obj->objParams));
        v18 = &obj->x;
        *v18 = v17;
        v18[1] = v19;
        v18[2] = 0;
        sub_802EF5C(v17);
        clearEntryOfBattleStateBattleObjectList_800F656();
        result = object_genericDestroy();
    }
    return result;
}


// 0x80d774c
void __noreturn sub_80D774C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1

    *v0 |= 2u;
    sub_801AD12();
    object_spawnCollisionEffect();
    sub_800F672();
    sub_801B878(&off_80D7798);
    if ( *(v0 + 36) <= 3001 )
        *(v0 + 36) = 3001;
    sub_80D7A2A();
    if ( *(v0 + 100) )
    {
        v1 = *(v0 + 38) - (*(v0 + 44) & 0xFFF);
        *(v0 + 36) = v1;
        *(v0 + 108) = v1;
    }
    object_updateSprite();
    object_presentCollisionData(v2, v3);
}


// 0x80d77d4
int sub_80D77D4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r3
    int v3; // r4
    int v4; // r6
    int result; // r0
    int v6; // r1
    int v7; // r2
    _DWORD *v8; // r7
    char v9; // r0
    char v10; // r1
    int v11; // r7
    int *v12; // r7
    int v13; // r1

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1
        || (v2 = *(v0 + 64),
                v3 = *(v0 + 68),
                v4 = *(v0 + 72) - 10240,
                *(v0 + 72) = v4,
                result = *(v0 + 52) + v2,
                v6 = *(v0 + 56) + v3,
                v7 = *(v0 + 60) + v4,
                v7 <= 0) )
    {
        v9 = *(v0 + 6);
        v10 = *(v0 + 7);
        *(v0 + 18) = v9;
        *(v0 + 19) = v10;
        v11 = *(v0 + 84);
        *(v11 + 10) = v9;
        *(v11 + 11) = v10;
        v12 = (v0 + 52);
        *v12 = object_getCoordinatesForPanels(v9);
        v12[1] = v13;
        v12[2] = 0;
        object_isCurrentPanelSolid();
    }
    v8 = (v0 + 52);
    *v8 = result;
    v8[1] = v6;
    v8[2] = v7;
    return result;
}


// 0x80d7878
void sub_80D7878()
{
    ;
}


// 0x80d787c
int sub_80D787C()
{
    int v0; // r5
    int result; // r0

    sub_801DD34();
    if ( !battle_isBattleOver() && *(v0 + 100) )
        result = sub_80D7928();
    else
        result = sub_80D789C();
    return result;
}


// 0x80d789c
signed int sub_80D789C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0
    int v3; // r1
    int v4; // r2

    object_clearCollisionRegion();
    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(10);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
    }
    else if ( *(v0 + 11) || (*(v0 + 11) = 4, *v0 &= 0xFDu, *(v0 + 36)) )
    {
        result = battle_isTimeStop();
        if ( result )
            return result;
    }
    else
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        result = PlaySoundEffect(112, v3, v4);
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *(v0 + 8) = 8;
    return sub_801DD34();
}


// 0x80d7928
int sub_80D7928()
{
    int v0; // r5
    int result; // r0

    if ( !battle_isTimeStop() )
        (*(&off_80D794C + *(v0 + 10)))();
    result = *(v0 + 32) | 0x20;
    *(v0 + 32) = result;
    return result;
}


// 0x80d795c
signed int __noreturn sub_80D795C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    signed int result; // r0

    object_clearCollisionRegion();
    v1 = *(v0 + 84);
    *(v1 + 60) = 0;
    sub_802EF5C(v1);
    PlaySoundEffect(388, v2, v3);
    *(v0 + 104) = sub_80C4038(0, 0, 0, 0);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_reservePanel(*(v0 + 20), *(v0 + 21));
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80d7996
signed int sub_80D7996()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 16) = 5;
    *(*(v0 + 104) + 16) = 9;
    *(v0 + 34) = 32;
    result = 8;
    *(v0 + 10) = 8;
    return result;
}


// 0x80d79ac
int __fastcall sub_80D79AC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r6
    int v5; // r4
    int v6; // r0
    unsigned __int8 v7; // vf
    unsigned int v8; // r0
    unsigned __int8 v9; // cf
    int result; // r0

    if ( *(v3 + 34) == 8 )
    {
        v4 = *(v3 + 44);
        object_spawnCollisionRegion(*(v3 + 18), *(v3 + 19), 2, 0);
        v5 = *(v3 + 22) ^ *(v3 + 23);
        sub_801BD3C(*(v3 + 18), *(v3 + 19), 50, 16);
        sub_80C4072(*(v3 + 104));
    }
    if ( *(v3 + 34) == 20 )
        PlaySoundEffect(389, a2, a3);
    v6 = *(v3 + 34);
    v7 = __OFSUB__(v6--, 1);
    *(v3 + 34) = v6;
    if ( (v6 < 0) ^ v7 )
        *(v3 + 10) = 12;
    v8 = *(v3 + 32);
    v9 = __CFSHR__(v8, 3);
    result = v8 >> 3;
    if ( !v9 )
        result = highlightPanelIfSomeCondition_8109660(*(v3 + 18), *(v3 + 19), 16, 0);
    return result;
}


// 0x80d7a0e
signed int __noreturn sub_80D7A0E()
{
    int v0; // r5

    object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    *v0 &= 0xFDu;
    *(v0 + 8) = 8;
    return sub_801DD34();
}


// 0x80d7a2a
int sub_80D7A2A()
{
    int v0; // r5
    int result; // r0
    int v2; // r1

    result = *(v0 + 9);
    if ( result != 2 )
    {
        if ( *(v0 + 32) == 1
            || (result = *(v0 + 100)) == 0
            && (result = *(*(v0 + 84) + 112)) != 0
            && (result = *(v0 + 108), v2 = *(v0 + 36), *(v0 + 108) = v2, result != v2)
            && (result = *(v0 + 96) + 1, *(v0 + 96) = result, result >= 3) )
        {
            *(v0 + 100) = 1;
            *(v0 + 44) = (*(v0 + 38) - *(v0 + 36)) | *(v0 + 44) & 0x7000;
            *(v0 + 9) = 2;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d7a78
int __fastcall sub_80D7A78(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    int v8; // [sp+4h] [bp-8h]

    object_spawnType3(147, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        v7 = *(v8 + 22);
        *(v4 + 22) = v7;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80d7a96
int __fastcall sub_80D7A96(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    int v5; // r5
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // ST08_4
    int v9; // ST0C_4
    int v10; // r4

    v6 = a1;
    v7 = a2;
    v8 = a3;
    v9 = a4;
    v10 = ((*(v5 + 18) + 3 * object_getFrontDirection(v5)) << 16) | v4;
    return sub_80D7A78(v6, v7, v8, v9);
}


// 0x80d7acc
void sub_80D7ACC()
{
    int v0; // r5

    (*(&off_80D7AE4 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d7af0
int __noreturn sub_80D7AF0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 15);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 10;
    *(v0 + 17) = 10;
    sprite_setAnimation(v0, 0xAu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, 1);
        v3 = object_setCollisionHitEffect(6);
        object_presentCollisionData(v3, v4);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        ++**(v0 + 96);
        result = object_freeMemory();
    }
    return result;
}


// 0x80d7b5c
void __noreturn sub_80D7B5C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *&byte_80D7BA8[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80D7B9C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d7bb0
int __fastcall sub_80D7BB0(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v6 )
        {
            *(v3 + 9) = 4;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(148, 4, a3);
        result = 12 * *(v3 + 4) + 30;
        *(v3 + 32) = result;
    }
    return result;
}


// 0x80d7be0
int sub_80D7BE0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r1
    int v6; // r0
    int v7; // r3
    int v8; // r2
    int v9; // r6
    int v10; // r3
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 11;
        sub_80D7CCC();
    }
    v1 = *(v0 + 19);
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    if ( *(v0 + 5) )
        v4 = v3;
    else
        v4 = v2;
    v5 = *(v0 + 52);
    v6 = *(v0 + 64) + v5;
    *(v0 + 52) = v6;
    v7 = *(v0 + 56);
    v8 = *(v0 + 68) + v7;
    *(v0 + 56) = v8;
    if ( *(v0 + 5) )
    {
        v9 = v7;
        v10 = v8;
    }
    else
    {
        v9 = v5;
        v10 = v6;
    }
    if ( v4 == v9 || !sub_800E708(v10, v9, v4) )
    {
LABEL_13:
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        if ( result & 0x10 )
            return result;
        goto LABEL_14;
    }
    if ( !sub_80D7DC0() )
    {
        sub_80D7D4C();
        goto LABEL_13;
    }
LABEL_14:
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d7c6e
int sub_80D7C6E()
{
    int v0; // r5

    ++**(v0 + 96);
    return object_genericDestroy();
}


// 0x80d7c7e
int __fastcall sub_80D7C7E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _DWORD *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(148, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    else
    {
        ++*v6;
    }
    return result;
}


// 0x80d7cb0
signed int sub_80D7CB0()
{
    Battle *v0; // r5
    signed int result; // r0

    result = v0->vx;
    if ( result > 0 )
        return sprite_setFlip(v0, 0);
    if ( result )
        result = sprite_setFlip(v0, 1);
    return result;
}


// 0x80d7ccc
void __noreturn sub_80D7CCC()
{
    Battle *v0; // r5
    int v1; // r0

    object_getFrontDirection(v0);
    v1 = 1;
    if ( v0->Alliance )
        v1 = 6;
    object_getFirstPanelInDirectionFiltered(v1, v0->panelY, *(&off_80D7D44 + v0->Alliance), 0);
}


// 0x80d7d4c
signed int sub_80D7D4C()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r1
    int v3; // r2
    signed int v4; // r3
    int v6; // r1
    int v7; // r2
    signed int v8; // r3

    v1 = 0;
    if ( !*(v0 + 5) )
        goto LABEL_7;
    do
    {
        if ( v1 >= 2 )
        {
LABEL_12:
            *(v0 + 64) = -*(v0 + 64);
            *(v0 + 68) = -*(v0 + 68);
            object_setCoordinatesFromPanels(v0);
            return sub_80D7CB0();
        }
        ++v1;
        v2 = *(v0 + 100);
        v3 = *(v0 + 18);
        if ( v2 != v3 )
        {
            *(v0 + 5) = 0;
            v4 = 147456;
            if ( v2 <= v3 )
                v4 = -147456;
            *(v0 + 64) = v4;
            *(v0 + 68) = 0;
            object_setCoordinatesFromPanels(v0);
            return sub_80D7CB0();
        }
LABEL_7:
        if ( v1 >= 2 )
            goto LABEL_12;
        ++v1;
        v6 = *(v0 + 104);
        v7 = *(v0 + 19);
    }
    while ( v6 == v7 );
    *(v0 + 5) = 1;
    v8 = 147456;
    if ( v6 <= v7 )
        v8 = -147456;
    *(v0 + 68) = v8;
    *(v0 + 64) = 0;
    object_setCoordinatesFromPanels(v0);
    return sub_80D7CB0();
}


// 0x80d7dc0
signed int sub_80D7DC0()
{
    int *v0; // r5
    signed int v1; // r4
    int v2; // r1
    int v3; // r1

    v1 = 0;
    v2 = v0[14];
    if ( convertXYToPanelXY_800E258(v0[13]) == v0[25] && v3 == v0[26] )
        v1 = 1;
    return v1;
}


// 0x80d7de4
void sub_80D7DE4()
{
    int v0; // r5

    (*(&off_80D7DFC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d7e08
int __noreturn sub_80D7E08()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    sprite_load(v0, 128, 16, 67);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 32) = *(v0 + 4);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 54) -= 40 * object_getFrontDirection(v0);
    *(v0 + 52) += getBattleArmPositionMaybe_8018810(*(*(v0 + 76) + 40), 31, *(v0 + 22), *(v0 + 23)) << 16;
    *(v0 + 60) += v2 << 16;
    *(v0 + 8) = 4;
    return sub_80D7E7A();
}


// 0x80d7e7a
int sub_80D7E7A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !battle_isBattleOver() )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( !(((v1 < 0) ^ v2) | (v1 == 0)) )
            return sub_80D7E98();
    }
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d7e98
int sub_80D7E98()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        *(v0 + 34) = 15;
    }
    if ( *(v0 + 34) == 11 )
        sub_80D7EF6(*(v0 + 18), *(v0 + 19) - 1);
    v1 = *(v0 + 34);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d7ed4
int __fastcall sub_80D7ED4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(149, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *v5 = v4;
        *(v4 + 96) = v5;
    }
    return result;
}


// 0x80d7ef6
int __fastcall __noreturn sub_80D7EF6(int a1, int a2)
{
    Battle *v2; // r5
    int v3; // r4
    signed int v4; // r6
    int v5; // r0
    void (__noreturn *v6)(); // r1
    int result; // r0
    int v8; // [sp+0h] [bp-18h]
    int v9; // [sp+4h] [bp-14h]

    v8 = a1;
    v9 = a2;
    v3 = object_getFrontDirection(v2);
    v4 = 3;
    do
    {
        v5 = object_getPanelParameters(v8, v9);
        v6 = &LCDControl;
        if ( v2->Alliance )
            v6 = GameEntryPoint;
        if ( v5 & v6 )
            object_spawnCollisionRegion(v8, v9, 0, 0);
        result = v8 + v3;
        v8 += v3;
        --v4;
    }
    while ( v4 );
    return result;
}


// 0x80d807c
void sub_80D807C()
{
    int v0; // r5

    (*(&off_80D80A8 + *(v0 + 8)))();
    if ( *(*(v0 + 76) + 7) )
    {
        if ( sprite_getFrameParameters() & 0x80 )
            *(v0 + 17) = -1;
        object_updateSprite();
    }
}


// 0x80d80b4
int __noreturn sub_80D80B4()
{
    int v0; // r5
    char *v1; // r7
    int v2; // r0
    _BYTE *v3; // r0
    int v5; // r1
    int v6; // r0

    object_setCoordinatesFromPanels(v0);
    v1 = &byte_80D7F4C[16 * *(v0 + 4)];
    *(v0 + 76) = v1;
    sprite_load(v0, 128, v1[4], v1[5]);
    sprite_loadAnimationData(v0);
    if ( v1[10] & 0xF )
        sprite_hasShadow();
    else
        sprite_noShadow(v0);
    *(v0 + 16) = v1[6];
    *(v0 + 17) = -1;
    sprite_setPallete(v1[10] >> 4);
    if ( !*(v0 + 5) )
        *v0 |= 2u;
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 7) = v1[9];
    object_setPanelsFromCoordinates(v0);
    *(v0 + 64) = object_getFrontDirection(v0) * *(v1 + 3);
    *(v0 + 6) = v1[8];
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, *v1, v1[1], v1[2]);
        object_setCollisionHitEffect(255);
        object_setCollisionRegion(v1[3]);
        if ( v1[11] )
            object_setCollisionStatusEffect1(v1[11]);
        v6 = *(v0 + 4);
        if ( v6 == 17 )
            v6 = sub_801A4D0(24, 1);
        object_presentCollisionData(v6, v5);
        object_updateSprite();
        *(v0 + 8) = 4;
        sub_80D8172();
    }
    return object_freeMemory();
}


// 0x80d8172
void __noreturn sub_80D8172()
{
    unsigned __int8 *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // r1
    int v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( !v0[9] )
    {
        if ( *(*(v0 + 21) + 112) )
        {
            object_clearCollisionRegion();
            *(v0 + 16) = 10;
            v2 = 1;
            v0[9] = 1;
            goto LABEL_15;
        }
        v4 = v0[19];
        v5 = object_getCoordinatesForPanels(v0[18]);
        v6 = *(v0 + 13);
        v7 = *(v0 + 16) + v6;
        *(v0 + 13) = v7;
        if ( *(v0 + 24) )
        {
            if ( sub_800E6E8(v7, v6, v5) )
            {
                v8 = v0[7];
                v9 = __OFSUB__(v8--, 1);
                v0[7] = v8;
                if ( ((v8 < 0) ^ v9) | (v8 == 0) )
                    goto LABEL_14;
            }
        }
        else
        {
            *(v0 + 24) = 1;
        }
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v2 = object_isCurrentPanelValid();
        if ( v2 )
            goto LABEL_15;
        goto LABEL_14;
    }
    v1 = *(v0 + 16) - 1;
    *(v0 + 16) = v1;
    if ( !v1 )
    {
LABEL_14:
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        v2 = 8;
        *(v0 + 2) = 8;
        goto LABEL_15;
    }
    *v0 &= 0xFDu;
    v2 = *(v0 + 16);
    v3 = 2;
    if ( !(v2 & 2) )
    {
        v3 = 2;
        v2 = *v0 | 2;
        *v0 = v2;
    }
LABEL_15:
    object_presentCollisionData(v2, v3);
    if ( v0[6] )
        object_highlightCurrentCollisionPanels();
    if ( v0[4] == 16 )
        object_updateSprite();
}


// 0x80d8222
int __fastcall sub_80D8222(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(150, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80d8242
_BYTE *__fastcall sub_80D8242(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80D8222(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80d825c
void sub_80D825C()
{
    int v0; // r5

    (*(&off_80D8274 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d8280
int __noreturn sub_80D8280()
{
    int v0; // r5
    _DWORD *v1; // r0
    int result; // r0
    int v3; // r0
    _BYTE *v4; // r0
    _DWORD *v5; // r0
    int v6; // r0
    int v7; // r1

    if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 62) = 0;
        sprite_load(v0, 128, 16, 2);
        sprite_noShadow(v0);
        *v0 |= 2u;
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        sprite_setPallete(0);
        v3 = object_getFlip(v0);
        sprite_setFlip(v0, v3);
        v4 = object_createCollisionData();
        if ( v4 )
        {
            object_setupCollisionData(v4, 10, 5, 3);
            v6 = object_setCollisionHitEffect(1);
            object_presentCollisionData(v6, v7);
            result = 4;
            *(v0 + 8) = 4;
        }
        else
        {
            v5 = *(v0 + 96);
            if ( v5 )
            {
                *v5 = 0;
                *(v0 + 96) = 0;
            }
            result = object_freeMemory();
        }
    }
    else
    {
        v1 = *(v0 + 96);
        if ( v1 )
        {
            *v1 = 0;
            *(v0 + 96) = 0;
        }
        result = object_freeMemory();
    }
    return result;
}


// 0x80d8310
void __noreturn sub_80D8310()
{
    int v0; // r5
    _DWORD *v1; // r0
    char v2; // zf
    int v3; // r0
    int v4; // r1
    _DWORD *v5; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        v5 = *(v0 + 96);
        if ( v5 )
        {
            *v5 = 0;
            *(v0 + 96) = 0;
        }
        *(v0 + 8) = 8;
    }
    else if ( *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        v1 = *(v0 + 96);
        if ( v1 )
        {
            *v1 = 0;
            *(v0 + 96) = 0;
        }
        *(v0 + 8) = 8;
    }
    else
    {
        battle_isTimeStop();
        if ( v2 )
        {
            v3 = (*(&off_80D8370 + *(v0 + 9)))();
            object_presentCollisionData(v3, v4);
        }
    }
}


// 0x80d837c
int sub_80D837C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 5;
        *(v0 + 32) = 5;
    }
    return result;
}


// 0x80d83a0
int sub_80D83A0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        result = *(v0 + 5);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80d83cc
int sub_80D83CC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    _DWORD *v4; // r0

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            v4 = *(v0 + 96);
            if ( v4 )
            {
                *v4 = 0;
                *(v0 + 96) = 0;
            }
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 2;
        object_clearCollisionRegion();
        result = 2;
        *(v0 + 32) = 2;
    }
    return result;
}


// 0x80d8400
int __fastcall sub_80D8400(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-18h]
    char v8; // [sp+4h] [bp-14h]
    char v9; // [sp+8h] [bp-10h]
    int v10; // [sp+Ch] [bp-Ch]
    int *v11; // [sp+10h] [bp-8h]

    v11 = a4;
    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(151, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v11;
        *v11 = v4;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d842e
int __fastcall sub_80D842E(int a1)
{
    int v1; // r5
    int result; // r0

    v1 = a1;
    result = *(a1 + 9);
    if ( result != 8 )
    {
        *(v1 + 9) = 8;
        result = 0;
        *(v1 + 10) = 0;
    }
    return result;
}


// 0x80d8444
int sub_80D8444()
{
    int v0; // r5

    return (*(&off_80D8458 + *(v0 + 8)))();
}


// 0x80d8464
void __noreturn sub_80D8464()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    *(v0 + 20) = *(v0 + 18);
    sprite_load(v0, 128, 16, 0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 3;
    *(v0 + 17) = 3;
    sprite_setAnimation(v0, 3u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(0);
    --*(v0 + 62);
    --*(v0 + 58);
    *(v0 + 40) = 210;
    *(v0 + 36) = 1;
    *(v0 + 38) = 1;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        v2 = object_setupCollisionData(v1, 14, 15, 3);
        object_presentCollisionData(v2, v3);
        object_setFlag1(8);
        *(v0 + 8) = 4;
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80d84de
void __noreturn sub_80D84DE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD9E();
    *(v0 + 36) = 1;
    v1 = sub_801B394(&off_80D8508);
    object_presentCollisionData(v1, v2);
    object_updateSpriteTimestop();
}


// 0x80d852c
void sub_80D852C()
{
    int v0; // r5

    if ( battle_getFlags() & 1 )
    {
        *v0 &= 0xFBu;
        *v0 |= 2u;
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
    }
    else
    {
        nullsub_10();
    }
}


// 0x80d8558
void sub_80D8558()
{
    ;
}


// 0x80d855c
signed int __fastcall __noreturn sub_80D855C(int a1)
{
    int v1; // r5
    _DWORD *v2; // r0
    int v3; // r0
    signed int result; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r1
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r3

    sub_802EF5C(a1);
    object_clearCollisionRegion();
    object_removePanelReserve(*(v1 + 20), *(v1 + 21));
    v2 = *(v1 + 96);
    if ( v2 )
        *v2 = 0;
    v3 = object_getFlag2();
    if ( v3 & 0x8000 )
    {
        if ( v3 & 0x300000 )
        {
            sub_800F90E(11);
        }
        else
        {
            result = sub_800F8CE(v3);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v1, v1 + 64, *(v1 + 52), *(v1 + 56), *(v1 + 60) + 786432);
        }
    }
    else
    {
        v5 = *(v1 + 52);
        v6 = sub_801BDDE(0xFu);
        sub_80E47A4(v6, v7, v8, v9);
        v10 = *(v1 + 52);
        v11 = sub_801BDDE(0xFu);
        sub_80E47A4(v11, v12, v13, v14);
        SpawnT4BattleObjectWithId0(v1, v1 + 64, *(v1 + 52), *(v1 + 56), *(v1 + 60) + 0x100000);
    }
    object_clearCollisionRegion();
    result = 8;
    *(v1 + 8) = 8;
    return result;
}


// 0x80d85f0
int __fastcall sub_80D85F0(char a1, int a2, int a3, int a4)
{
    char v4; // r4
    int v5; // r5
    int v6; // r6
    int v7; // r7
    int result; // r0
    char v9; // [sp+0h] [bp-14h]
    char v10; // [sp+4h] [bp-10h]
    char v11; // [sp+8h] [bp-Ch]

    v9 = a1;
    v10 = a2;
    v11 = a3;
    object_spawnType3(152, a2, a3, a4);
    result = v5;
    if ( v5 )
    {
        *(v5 + 18) = v9;
        *(v5 + 19) = v10;
        *(v5 + 14) = v11;
        *(v5 + 22) = v4;
        *(v5 + 44) = v6;
        *(v5 + 96) = v7;
        *v5 |= 0x14u;
    }
    return result;
}


// 0x80d8620
void sub_80D8620()
{
    int v0; // r5

    (*(&off_80D8638 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d8644
void __noreturn sub_80D8644()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 12, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = -1;
    sprite_setAnimation(v0, 0xFFu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *v0 |= 2u;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 8) = 4;
    sub_80D868E();
}


// 0x80d868e
int sub_80D868E()
{
    int v0; // r5

    return (*(&off_80D86A0 + *(v0 + 9)))();
}


// 0x80d86b0
int sub_80D86B0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 6;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d86d2
int sub_80D86D2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        if ( *(v0 + 5) == 255 )
        {
            **(v0 + 76) = 0;
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d8706
int sub_80D8706()
{
    int v0; // r5
    char v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 150;
        v1 = object_getFrontDirection(v0);
        v2 = *(v0 + 4);
        v3 = *(v0 + 44);
        sub_80D88B8(v1 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 1835008);
        *(v0 + 16) = 2;
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v5 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d8746
int sub_80D8746()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 6;
        *(v0 + 16) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        **(v0 + 76) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d876e
int __fastcall sub_80D876E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(153, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
        *v6 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d879c
void sub_80D879C()
{
    int v0; // r5

    (*(&off_80D87B4 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80d87c0
void __noreturn sub_80D87C0()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 12, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 2 * *(v0 + 5);
    *(v0 + 17) = -1;
    sprite_setAnimation(v0, 0xFFu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *v0 |= 2u;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 3932160 * object_getFrontDirection(v0);
    *(v0 + 7) = 0;
    *(v0 + 8) = 4;
    sub_80D881C();
}


// 0x80d881c
int sub_80D881C()
{
    int v0; // r5
    int v1; // r2
    char v2; // r0
    int result; // r0

    (*(&off_80D8844 + *(v0 + 9)))();
    v2 = *(v0 + 7) + 1;
    *(v0 + 7) = v2;
    result = v2 & 0xF;
    if ( result == 1 )
        result = PlaySoundEffect(329, 15, v1);
    return result;
}


// 0x80d884c
int sub_80D884C()
{
    int v0; // r5
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        ++*(v0 + 16);
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d8868
int sub_80D8868()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    char v4; // r0
    int v5; // r6
    int v6; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 34) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 32) = 15;
        v4 = object_getFrontDirection(v0);
        v5 = *(v0 + 44);
        sub_80C53A6(v4 * *(v0 + 5) + *(v0 + 18), *(v0 + 19), *(v0 + 14), *(v0 + 60));
        v6 = *(v0 + 34);
        v2 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80d88b8
int __fastcall sub_80D88B8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(154, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d88e0
void airspinObject_80D88E0()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80D88FC + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
}


// 0x80d8908
int __noreturn airspinObject_init_80D8908()
{
    Battle *v0; // r5
    int v1; // r0

    object_setCoordinatesFromPanels(v0);
    v0->z = 0;
    v1 = object_getPanelParameters(v0->panelX, v0->panelY);
    if ( v1 & 0x10 && !(v1 & 0x3800000) )
        sub_8011504(0xC41u, 0xE0F0300u);
    SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
    clearEntryOfBattleStateBattleObjectList_800F656();
    return object_freeMemory();
}


// 0x80d8988
void __noreturn airspinObject_update_80D8988()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r1
    int v4; // r2
    int v5; // r0
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_removeCollisionData();
    v1 = sub_801156A(0);
    if ( !((v1 < 0) ^ v2) )
    {
        v6 = *(v0 + 84);
        v7 = *(v6 + 112);
        if ( !(v7 & 0xF800002) )
        {
            if ( v7 & 0x800 || *(v6 + 118) & 0x20 )
                ++*(v0 + 5);
            object_isCurrentPanelSolid();
        }
    }
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    v5 = PlaySoundEffect(112, v3, v4);
    sub_802EF5C(v5);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    *(v0 + 8) = 8;
    object_presentCollisionData(8, v8);
}


// 0x80d8a3c
void __noreturn sub_80D8A3C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1

    if ( !*(v0 + 11) )
        sub_80D8C10(*(v0 + 20), *(v0 + 21));
    if ( sub_800E6E8(*(v0 + 64) + *(v0 + 52), *(v0 + 52), *(v0 + 96)) )
    {
        sub_80D8BBC();
        sub_80D8C10(*(v0 + 20), *(v0 + 21));
    }
    v1 = *(v0 + 56);
    v2 = convertBattleObjectXYToPanelXY_800E24C();
    sub_80D8C10(v2, v3);
}


// 0x80d8ab6
int sub_80D8AB6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 15;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        sub_80D8C06();
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d8adc
int sub_80D8ADC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = *(v0 + 100);
        sub_80D8BD4();
        PlaySoundEffect(199, v4, v5);
        v6 = *(v0 + 5);
        v2 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v0 + 5) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80d8b18
int sub_80D8B18()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 0;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *(v0 + 32) = 4;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        sub_802EF5C(result);
        clearEntryOfBattleStateBattleObjectList_800F656();
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d8b52
int sub_80D8B52()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    v1 = object_getFlag2();
    if ( v1 & 0x300000 )
    {
        result = sub_800F90E(12);
    }
    else
    {
        result = sub_800F8CE(v1);
        if ( !result )
            return result;
        if ( result != 1 )
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
    }
    sub_802EF5C(result);
    clearEntryOfBattleStateBattleObjectList_800F656();
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d8b96
int __fastcall sub_80D8B96(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    _BYTE *v6; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(155, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v6 = BasicBattleObjectInitialize(v4, v7, v8, v9);
        *v6 |= 0x10u;
        result = sub_800F614(v6, v6[22], 1);
    }
    return result;
}


// 0x80d8bbc
int sub_80D8BBC()
{
    int v0; // r5
    char v1; // r0
    char v2; // r1
    int result; // r0

    v1 = object_getFrontDirection(v0) + *(v0 + 18);
    v2 = *(v0 + 19);
    *(v0 + 20) = v1;
    *(v0 + 21) = v2;
    result = object_getCoordinatesForPanels(v1);
    *(v0 + 96) = result;
    return result;
}


// 0x80d8bd4
void sub_80D8BD4()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    int v3; // r0

    v1 = *(v0 + 44);
    object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    v2 = (*(v0 + 22) << 8) | 0x43;
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    if ( v3 )
        *(v3 + 6) += 2;
}


// 0x80d8c06
signed int sub_80D8C06()
{
    int v0; // r5
    signed int result; // r0

    result = 10;
    *(v0 + 100) = 10;
    return result;
}


// 0x80d8c10
BOOL __fastcall __noreturn sub_80D8C10(int a1, int a2)
{
    int v2; // r0

    v2 = object_getPanelParameters(a1, a2);
    return v2 && !(v2 & 0xF800000) && v2 & 0x10;
}


// 0x80d8c5c
int sub_80D8C5C()
{
    int v0; // r5

    return (*(&off_80D8C70 + *(v0 + 8)))();
}


// 0x80d8c7c
void __noreturn sub_80D8C7C()
{
    int v0; // r5
    int v1; // t1
    int v2; // r0
    _BYTE *v3; // r0
    int v4; // r0
    int v5; // r1

    sprite_load(v0, 128, 16, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    object_setCoordinatesFromPanels(v0);
    v1 = *(v0 + 60);
    *v0 |= 2u;
    *(v0 + 14) = 0;
    *(v0 + 40) = 205;
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    sub_801DC7C(0, 0);
    v3 = object_createCollisionData();
    if ( v3 )
    {
        v4 = object_setupCollisionData(v3, 41, 20, 3);
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 4;
        *(v0 + 11) = 0;
        sub_80D8CF0();
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80d8cf0
void sub_80D8CF0()
{
    _BYTE *v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    if ( battle_getFlags() & 1 )
    {
        *v0 &= 0xFBu;
        *v0 |= 2u;
        object_removeCollisionData();
        battle_isBattleOver();
        if ( v1 )
            sub_80D8D7E(0);
        (*(&off_80D8D54 + v0[9]))();
        object_updateSprite();
        object_presentCollisionData(v2, v3);
    }
    else
    {
        nullsub_10();
    }
}


// 0x80d8d58
void nullsub_97()
{
    ;
}


// 0x80d8d5a
int __fastcall sub_80D8D5A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-18h]
    char v7; // [sp+4h] [bp-14h]
    __int16 v8; // [sp+8h] [bp-10h]
    char v9; // [sp+Ch] [bp-Ch]

    v6 = a2;
    v7 = a3;
    v8 = a4;
    object_spawnType3(156, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 36) = v8;
        *(v4 + 38) = v8;
        *(v4 + 22) = v9;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80d8d7e
signed int __fastcall __noreturn sub_80D8D7E(int a1)
{
    int v1; // r5
    int v2; // r7
    unsigned int v3; // r4
    int v4; // r1
    unsigned __int8 v5; // vf
    int v6; // r1
    int v7; // r1
    int v8; // r2
    signed int v9; // r0
    signed int v11; // [sp+4h] [bp-10h]
    int v12; // [sp+8h] [bp-Ch]

    v12 = a1;
    v11 = 0;
    v2 = *(v1 + 84);
    v3 = sub_800E3BE();
    if ( object_getPanelDataOffset(*(v1 + 18), *(v1 + 19))[2] == 5 )
        v3 = (v3 + 1) >> 1;
    if ( !v12 && (v4 = *(v1 + 36), v5 = __OFSUB__(v4, v3), v6 = v4 - v3, *(v1 + 36) = v6, ((v6 < 0) ^ v5) | (v6 == 0)) )
    {
        *(v1 + 36) = 0;
        v11 = -1;
    }
    else
    {
        sprite_clearFinalPalette();
        if ( v3 )
        {
            sprite_forceWhitePallete();
            if ( v12 )
            {
                v9 = 1;
            }
            else
            {
                PlaySoundEffect(133, v7, v8);
                v9 = 0;
            }
            v11 = v9;
        }
    }
    return v11;
}


// 0x80d8dee
int sub_80D8DEE()
{
    int v0; // r5
    int v1; // r10
    int v2; // r2

    v2 = *(v1 + oToolkit_S2034880_Ptr);
    *(v2 + *(v0 + 22) + 4) = 0;
    *(v2 + 11) = 1;
    return battle_setFlags(8);
}


// 0x80d8e10
void eraseBeamObject_80D8E10()
{
    int v0; // r5

    (*(&off_80D8E28 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d8e34
int __noreturn sub_80D8E34()
{
    int v0; // r5
    int v1; // r0
    signed __int16 v2; // r0

    sprite_load(v0, 128, 16, 76);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = 70;
    if ( *(v0 + 4) )
        v2 = -1;
    *(v0 + 32) = v2;
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += object_getFrontDirection(v0) * *&byte_80D8EA4[4 * *(v0 + 4)];
    *(v0 + 8) = 4;
    return sub_80D8EB0();
}


// 0x80d8eb0
int sub_80D8EB0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    sub_80D8EC6();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d8ec6
int sub_80D8EC6()
{
    int v0; // r5

    return (*(&off_80D8ED8 + *(v0 + 10)))();
}


// 0x80d8ee4
int sub_80D8EE4()
{
    Battle *v0; // r5
    int result; // r0
    int v2; // r0
    signed int v3; // r4
    int v4; // r3
    _DWORD *v5; // r3
    int v6; // r0
    int v7; // r1

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v0->currAnimation = 1;
        object_getFrontDirection(v0);
        LOBYTE(v2) = v0->panelX;
        v3 = 5;
        do
        {
            sub_80D8F66(v2);
            v5 = (v4 + 4);
            v2 = v6 + v7;
            if ( !v2 )
                break;
            if ( v2 > 6 )
                break;
            --v3;
        }
        while ( v3 );
        *v5 = -1;
        result = 4;
        v0->currPhase = 4;
    }
    return result;
}


// 0x80d8f20
signed int sub_80D8F20()
{
    int v0; // r5
    int *i; // r3
    int v2; // r1
    signed int result; // r0

    if ( *(v0 + 4) != 2 )
    {
        if ( *(*(v0 + 76) + 9) == 69 )
            goto LABEL_10;
LABEL_5:
        *(v0 + 32) = 5;
        for ( i = (v0 + 96); ; ++i )
        {
            v2 = *i;
            if ( *i )
            {
                if ( v2 == -1 )
                    goto LABEL_10;
                *(v2 + 32) = 2;
            }
        }
    }
    if ( *(v0 + 5) )
        goto LABEL_5;
LABEL_10:
    result = *(v0 + 32);
    if ( result <= 5 )
    {
        *(v0 + 16) = 2;
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80d8f64
void nullsub_11()
{
    ;
}


// 0x80d8f66
void __fastcall sub_80D8F66(char a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // r0

    v2 = *(v1 + 44);
    v3 = sub_80D69E2(a1, *(v1 + 19), *(v1 + 14), 0x100000);
    *v3 = *v3 & 0xEF | *v1 & 0x10;
    if ( v3 )
        *(v3 + 32) = *(v1 + 32);
}


// 0x80d8f98
int __fastcall sub_80D8F98(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(157, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 76) = v10;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80d8fb8
int __fastcall sub_80D8FB8(int result)
{
    if ( *(result + 4) == 2 )
        *(result + 5) = 1;
    return result;
}


// 0x80d8fc4
int sub_80D8FC4()
{
    int v0; // r5

    return (*(&off_80D8FD8 + *(v0 + 8)))();
}


// 0x80d8fe4
int sub_80D8FE4()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    v1 = *(v0 + 19);
    *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
    *(v0 + 56) = v2;
    *(v0 + 64) = object_getFrontDirection(v0);
    *(v0 + 34) = *(v0 + 4);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 61, 5, 0);
    v5 = object_setCollisionStatusEffect1(16);
    object_presentCollisionData(v5, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d9024
void __noreturn sub_80D9024()
{
    object_removeCollisionData();
    JUMPOUT(*byte_80D902A);
}


// 0x80d907c
signed int sub_80D907C()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r1
    signed int result; // r0

    v1 = *(v0 + 18) + *(v0 + 64);
    *(v0 + 18) = v1;
    *(*(v0 + 84) + 10) = v1;
    v2 = *(v0 + 19);
    *(v0 + 52) = object_getCoordinatesForPanels(v1);
    *(v0 + 56) = v3;
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d90ae
int sub_80D90AE()
{
    int v0; // r5

    return (*(&off_80D90C0 + *(v0 + 10)))();
}


// 0x80d90c8
signed int sub_80D90C8()
{
    int v0; // r5
    char v1; // r4
    int v2; // r6
    unsigned __int8 v3; // ST00_1
    int v4; // r4
    int v5; // r0
    signed int result; // r0

    v1 = 9;
    if ( *(v0 + 34) & 1 )
        v1 = 11;
    v2 = *(v0 + 44);
    v3 = v1;
    object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    v4 = *(v0 + 22);
    sub_801BD3C(*(v0 + 18), *(v0 + 19), 61, v3);
    v5 = *(v0 + 34) - 1;
    *(v0 + 34) = v5;
    if ( v5 )
    {
        *(v0 + 32) = 8;
        result = 4;
        *(v0 + 10) = 4;
    }
    else
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d9120
int sub_80D9120()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d9130
int __fastcall sub_80D9130(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(158, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80d9154
void sub_80D9154()
{
    int v0; // r5

    (*(&off_80D916C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80d9178
signed int __noreturn sub_80D9178()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 80);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 102) = 0;
    PlaySoundEffect(270, 0, v2);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d91c8
int sub_80D91C8()
{
    int v0; // r5
    int v1; // r0
    void (__noreturn *v2)(); // r1
    int result; // r0
    char v4; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        v2 = &LCDControl;
        if ( *(v0 + 22) )
            v2 = GameEntryPoint;
        if ( v1 & v2 )
            *(v0 + 102) = 1;
        result = battle_isTimeStop();
        if ( v4 )
            result = (*(&off_80D920C + *(v0 + 9)))();
    }
    return result;
}


// 0x80d9210
int __fastcall sub_80D9210(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    char v7; // r1

    if ( *(v3 + 10) )
    {
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            if ( sub_80D9298(result, a2, a3) )
            {
                v7 = *(v3 + 101);
                *(v3 + 18) = *(v3 + 100);
                *(v3 + 19) = v7;
                object_setCoordinatesFromPanels(v3);
                *(v3 + 62) = 0;
            }
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        result = 8;
        *(v3 + 32) = 8;
    }
    return result;
}


// 0x80d924e
int __fastcall sub_80D924E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-18h]
    char v8; // [sp+4h] [bp-14h]
    char v9; // [sp+8h] [bp-10h]
    int v10; // [sp+Ch] [bp-Ch]
    int *v11; // [sp+10h] [bp-8h]

    v11 = a4;
    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(159, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v11;
        *v11 = v4;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 100) = v7;
        *(v4 + 101) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d9284
signed int __fastcall sub_80D9284(signed int result)
{
    signed int v1; // r5

    if ( result )
    {
        v1 = result;
        **(result + 96) = 0;
        result = 8;
        *(v1 + 8) = 8;
    }
    return result;
}


// 0x80d9298
signed int __fastcall sub_80D9298(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    signed int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r0
    int v10; // r0
    signed int v11; // r1

    PlaySoundEffect(270, a2, a3);
    if ( *(v3 + 5) )
    {
        v4 = object_getPanelParameters(*(v3 + 18), *(v3 + 19));
        v5 = 25165824;
        if ( *(v3 + 22) )
            v5 = 41943040;
        if ( v4 & v5 )
            return 1;
    }
    v6 = object_getFrontDirection(v3);
    v7 = 5 * (*(v3 + 22) ^ 1) + 1 + v6;
    v8 = v6 + *(v3 + 18);
    if ( v8 == v7 )
        return 1;
    *(v3 + 18) = v8;
    v9 = *off_80D9328[*(v3 + 4)] + *(v3 + 19);
    if ( !v9 || v9 == 4 )
        return 1;
    *(v3 + 19) = v9;
    if ( *(v3 + 5) )
    {
        v10 = object_getPanelParameters(*(v3 + 18), *(v3 + 19));
        v11 = 25165824;
        if ( *(v3 + 22) )
            v11 = 41943040;
        if ( v10 & v11 )
            return 1;
    }
    object_setCoordinatesFromPanels(v3);
    *(v3 + 62) = 0;
    return 0;
}


// 0x80d9350
void sub_80D9350()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80D9370 + *(v0 + 8)))();
    *(v0 + 104) = battle_isPaused();
    if ( v1 )
        object_updateSpritePaused();
}


// 0x80d937c
int __noreturn sub_80D937C()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = *&byte_80D9410[2 * *(v0 + 4)];
    sprite_load(v0, 128, 16, 81);
    sprite_noShadow(v0);
    v1 = *(&dword_80D9408 + *(v0 + 4));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, 22, 5, 1);
        object_setCollisionHitEffect(3);
        object_setCollisionStatusEffect1(*&byte_80D941C[4 * *(v0 + 100)]);
        v5 = object_clearCollisionRegion();
        object_presentCollisionData(v5, v6);
        *(v0 + 32) = *(v0 + 5);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        **(v0 + 96) = 0;
        result = object_freeMemory();
    }
    return result;
}


// 0x80d9434
void sub_80D9434()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    battle_isPaused();
    if ( v1 )
    {
        object_removeCollisionData();
        object_spawnCollisionEffect();
        if ( battle_isBattleOver() )
        {
            object_clearCollisionRegion();
            *(v0 + 8) = 8;
        }
        else
        {
            if ( *(*(v0 + 84) + 112) )
            {
                object_clearCollisionRegion();
                if ( *(v0 + 9) != 12 )
                    *(v0 + 9) = 8;
            }
            v2 = battle_isTimeStop();
            if ( v1 )
                v2 = (*(&off_80D9488 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80d9498
int sub_80D9498()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    object_clearCollisionRegion();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 |= 2u;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d94b8
int sub_80D94B8()
{
    return object_setCollisionRegion(1);
}


// 0x80d94c2
int sub_80D94C2()
{
    int v0; // r5
    int result; // r0

    result = battle_isPaused();
    if ( result == *(v0 + 104) )
    {
        object_clearCollisionRegion();
        result = object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF880080;
        if ( !result )
        {
            result = 4;
            *(v0 + 9) = 4;
        }
    }
    return result;
}


// 0x80d94e6
signed int sub_80D94E6()
{
    int v0; // r5
    signed int result; // r0

    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d94f2
int __fastcall sub_80D94F2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    char v8; // [sp+0h] [bp-18h]
    char v9; // [sp+4h] [bp-14h]
    char v10; // [sp+8h] [bp-10h]
    int v11; // [sp+Ch] [bp-Ch]
    int *v12; // [sp+10h] [bp-8h]

    v12 = a4;
    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(160, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v12;
        *v12 = v4;
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 100) = *(v4 + 6);
        *v4 |= 0x14u;
        v7 = battle_isPaused();
        result = v4;
        *(v4 + 104) = v7;
    }
    return result;
}


// 0x80d9532
signed int __fastcall sub_80D9532(signed int result)
{
    signed int v1; // r5

    if ( result )
    {
        v1 = result;
        **(result + 96) = 0;
        result = 12;
        *(v1 + 9) = 12;
    }
    return result;
}


// 0x80d954c
int sub_80D954C()
{
    int v0; // r5

    return (*(&off_80D9560 + *(v0 + 8)))();
}


// 0x80d956c
int sub_80D956C()
{
    int v0; // r5
    _BYTE *v1; // r0
    _BYTE *v2; // r4
    int result; // r0
    int v4; // r0
    int v5; // r1
    char v6; // r1

    sub_80D9682();
    object_setCoordinatesFromPanels(v0);
    v1 = object_createCollisionData();
    v2 = v1;
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, 57, 2, 3);
    v2[1] = *(v0 + 4);
    v4 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v4, v5);
    v6 = *(v0 + 19);
    *(v0 + 106) = *(v0 + 18);
    *(v0 + 107) = v6;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80d95b0
void __noreturn sub_80D95B0()
{
    int v0; // r5
    int v1; // r1
    signed int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r0
    int v9; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || sub_80D9690() )
    {
        v8 = object_clearCollisionRegion();
        object_presentCollisionData(v8, v9);
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) & 0xC000000 )
            object_clearCollisionRegion();
        sub_80D9682();
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        if ( sub_801156A(0) == -1 )
        {
            *(*(*(v0 + 76) + 76) + 36) = 0;
            object_clearCollisionRegion();
            v2 = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            v3 = *(v0 + 36);
            v4 = *(v0 + 104);
            *(v0 + 104) = v3;
            v5 = v4 - v3;
            v6 = *(*(v0 + 76) + 76);
            v7 = *(v6 + 36) - v5;
            if ( v7 < 0 )
                LOWORD(v7) = 0;
            *(v6 + 36) = v7;
            v2 = sub_80D9638();
        }
        object_presentCollisionData(v2, v1);
    }
}


// 0x80d9638
int sub_80D9638()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 18);
    if ( result != *(v0 + 106) )
    {
        *(v0 + 106) = result;
        result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80d964e
int __fastcall sub_80D964E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-14h]
    int v8; // [sp+4h] [bp-10h]
    __int16 v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(162, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v7;
        *(v4 + 100) = v8;
        *(v4 + 36) = v9;
        *(v4 + 38) = v9;
        *(v4 + 104) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d967c
int __fastcall sub_80D967C(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80d9682
int sub_80D9682()
{
    int v0; // r5
    int v1; // r3
    int result; // r0

    v1 = *(v0 + 76);
    *(v0 + 18) = *(v1 + 18);
    result = *(v1 + 19);
    *(v0 + 19) = result;
    return result;
}


// 0x80d9690
signed int sub_80D9690()
{
    int v0; // r5
    signed int v1; // r3

    v1 = 0;
    if ( **(v0 + 96) & *(v0 + 100) )
        v1 = 1;
    return v1;
}


// 0x80d96a4
void sub_80D96A4()
{
    int v0; // r5

    (*(&off_80D96BC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d96c8
int __noreturn sub_80D96C8()
{
    int v0; // r5
    int v1; // r0
    int v6; // r0
    __int16 v7; // t1

    sprite_load(v0, 128, 16, 77);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 18) = *(v0 + 6);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 5570560;
    *(v0 + 32) = *(v0 + 4);
    __asm { SVC         6 }
    *(v0 + 72) = 3932160;
    v6 = object_getFrontDirection(v0);
    *(v0 + 52) = *(v0 + 52) - 3932160 * v6 - 1310720 * v6;
    v7 = *(v0 + 32);
    __asm { SVC         6 }
    *(v0 + 64) = 3932160 * v6;
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    *(v0 + 8) = 4;
    return sub_80D9788();
}


// 0x80d9746
int sub_80D9746()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80D9780 + *(v0 + 9)))();
    }
    return result;
}


// 0x80d9788
int sub_80D9788()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r6

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) -= *(v0 + 72);
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 32) = 10;
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
        {
            camera_initShakeEffect_80302a8(2, 24);
        }
        else
        {
            *(v0 + 8) = 8;
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        }
        v4 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0x100000);
    }
    return result;
}


// 0x80d97ec
int sub_80D97EC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    *v0 |= 2u;
    if ( !(*(v0 + 32) & 2) )
        *v0 &= 0xFDu;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d981c
int __fastcall sub_80D981C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(161, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 14) = 64;
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80d984c
void sub_80D984C()
{
    int v0; // r5

    (*(&off_80D9864 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d9870
int __noreturn sub_80D9870()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int v5; // r0
    int v6; // r1

    sprite_load(v0, 128, 16, 0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = 2 * *(v0 + 4);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 64) = 655360 * object_getEnemyDirection();
    object_setCoordinatesFromPanels(v0);
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, 14, 15, 3);
        v5 = object_setCollisionHitEffect(2);
        object_presentCollisionData(v5, v6);
        *(v0 + 8) = 4;
        sub_80D98E8();
    }
    return object_freeMemory();
}


// 0x80d98e8
void __noreturn sub_80D98E8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) & 0xC800000 || ((*(&off_80D9924 + *(v0 + 9)))(), (v1 = object_isCurrentPanelValid()) == 0) )
    {
        object_clearCollisionRegion();
        sub_80D99A4();
    }
    else
    {
        object_presentCollisionData(v1, v2);
    }
}


// 0x80d9930
int sub_80D9930()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 4) )
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
        *(v0 + 16) = 2;
        *(v0 + 4) = 2;
    }
    result = *(*(v0 + 84) + 15);
    if ( result & 0x3C )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d995c
signed int __noreturn sub_80D995C()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    signed int result; // r0

    v1 = *(v0 + 64) + *(v0 + 52);
    *(v0 + 52) = v1;
    v2 = *(v0 + 56);
    v3 = convertXYToPanelXY_800E258(v1);
    if ( object_getPanelParameters(v3, v4) & 0x10 )
    {
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    else
    {
        object_clearCollisionRegion();
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80d99a4
signed int sub_80D99A4()
{
    int v0; // r5
    int v1; // ST00_4
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int v10; // r1
    int v11; // r2
    signed int result; // r0

    v1 = *(v0 + 52);
    v2 = sub_801BDDE(0xFu);
    sub_80E47A4(v2, v3, v4, v5);
    v6 = sub_801BDDE(0xFu);
    sub_80E47A4(v6, v7, v8, v9);
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    PlaySoundEffect(217, v10, v11);
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d99ec
int __fastcall sub_80D99EC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    int v9; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType3(163, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = 2;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80d9a50
void sub_80D9A50()
{
    int v0; // r5

    (*(&off_80D9A68 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80d9a74
void __noreturn sub_80D9A74()
{
    int v0; // r5

    *(v0 + 96) = &byte_80D9A20[5 * *(v0 + 4)];
    sub_8011504(0x1001052u, 0xA050300u);
}


// 0x80d9aba
void __noreturn sub_80D9ABA()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) & 0xF800000 || *(v0 + 9) == 8 && object_applyDamage(0) == -1 )
        goto LABEL_10;
    if ( battle_isBattleOver() )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
LABEL_10:
        *v0 &= 0xFDu;
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
        return;
    }
    v1 = battle_isTimeStop();
    if ( v3 )
        v1 = (*(&off_80D9B20 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80d9b2c
int sub_80D9B2C()
{
    int v0; // r5
    int v1; // r9
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r1
    int v8; // r0
    int v9; // r0
    int v10; // r1
    int v11; // r7

    if ( !*(v0 + 11) )
    {
        v2 = *(v0 + 7);
        v3 = object_getCoordinatesForPanels(*(v0 + 6));
        *(v0 + 64) = sub_8001330((v0 + 52), v3, v4);
        *(v0 + 68) = v5;
        *(v0 + 72) = v6;
        *(v0 + 32) = 40;
        *(v0 + 11) = 4;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v7 = *(v0 + 72);
    *(v0 + 60) += v7;
    *(v0 + 72) = v7 - 12288;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v8 = *(v0 + 32) - 1;
    *(v0 + 32) = v8;
    if ( !v8 )
    {
        v9 = convertBattleObjectXYToPanelXY_800E24C();
        *(v0 + 18) = v9;
        *(v0 + 19) = v10;
        v11 = *(v0 + 84);
        *(v11 + 10) = v9;
        *(v11 + 11) = v10;
        if ( object_isValidPanel(v9, v10) )
            object_isCurrentPanelSolid();
        object_clearCollisionRegion();
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        *(v0 + 8) = 8;
        *v0 &= 0xFDu;
    }
    return v1;
}


// 0x80d9c1c
int __noreturn sub_80D9C1C()
{
    int v0; // r5
    unsigned __int8 *v1; // r0
    __int16 v2; // r1
    int v3; // r0
    int v4; // r1
    int result; // r0

    *(v0 + 60) = 0;
    object_updateCollisionData(0, 12, 13, 3);
    *(v0 + 16) = 1;
    v1 = *(v0 + 96);
    *(v0 + 32) = *v1 + 1;
    v2 = v1[1];
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    v3 = *(v0 + 18);
    v4 = *(v0 + 19);
    *(v0 + 20) = v3;
    *(v0 + 21) = v4;
    object_reservePanel(v3, v4);
    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80d9c54
int __fastcall sub_80D9C54(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r0
    unsigned __int8 v10; // vf
    int result; // r0

    if ( *(v4 + 32) == 2 )
    {
        sub_80E11E0(2, a2, a3, a4);
        PlaySoundEffect(445, v5, v6);
        v7 = *(*(v4 + 96) + 2);
        v8 = *(v4 + 44);
        sub_80D9CE4();
    }
    v9 = *(v4 + 32);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v4 + 32) = result;
    if ( ((result < 0) ^ v10) | (result == 0) )
    {
        if ( *(*(v4 + 96) + 3) )
            sub_80D9CE4();
        object_clearCollisionRegion();
        object_removePanelReserve(*(v4 + 20), *(v4 + 21));
        *(v4 + 8) = 8;
        result = *v4 & 0xFD;
        *v4 = result;
    }
    return result;
}


// 0x80d9ca4
int __fastcall sub_80D9CA4(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(164, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 44) = v5;
        *(v4 + 14) = 0;
        *(v4 + 76) = v7;
    }
    return result;
}


// 0x80d9cc2
int __fastcall sub_80D9CC2(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    Battle *v5; // r5
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // ST08_4
    int v9; // ST0C_4
    int v10; // r4

    v6 = a1;
    v7 = a2;
    v8 = a3;
    v9 = a4;
    v10 = v4 | ((3 * object_getFrontDirection(v5) + v5->panelX) << 16) | (v5->panelY << 24);
    return sub_80D9CA4(v6, v7, v8, v9);
}


// 0x80d9ce4
int sub_80D9CE4()
{
    _BYTE *v0; // r5
    int v1; // r4

    v0[4];
    v1 = *&byte_80D9D24[4 * (v0[22] ^ v0[5])];
    return object_spawnCollisionRegion(v0[18], v0[19], v0[14], 0);
}


// 0x80d9d4c
int sub_80D9D4C()
{
    int v0; // r5

    return (*(&off_80D9D60 + *(v0 + 8)))();
}


// 0x80d9d6c
void sub_80D9D6C()
{
    int v0; // r5
    char v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // ST08_4
    int v5; // ST0C_4
    int v6; // r0
    int v7; // r1
    __int16 v8; // r1
    _BYTE *v9; // r0
    int v10; // r0
    int v11; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 2);
    *(v0 + 16) = 5;
    *(v0 + 17) = -1;
    sprite_setAnimation(v0, 0xFFu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_hasShadow();
    v1 = *(v0 + 6);
    *(v0 + 20) = v1;
    *(v0 + 21) = *(v0 + 7);
    v2 = object_getCoordinatesForPanels(v1);
    v4 = v2;
    v5 = v3;
    v6 = calcAngle_800117C(v3 - *(v0 + 56), v2 - *(v0 + 52));
    *(v0 + 12) = v6;
    *(v0 + 64) = sub_80011A0(v6, 180224);
    *(v0 + 68) = v7;
    *(v0 + 72) = sub_800120E((v0 + 52), v4, v5, 655360);
    *(v0 + 32) = v8;
    *(v0 + 36) = 40;
    *(v0 + 38) = 40;
    v9 = object_createCollisionData();
    if ( v9 )
    {
        object_setupCollisionData(v9, 78, 20, 0);
        sub_80D9FC2();
        object_setCollisionStatusEffect1(32);
        v10 = object_clearCollisionRegion();
        object_presentCollisionData(v10, v11);
        *(v0 + 8) = 4;
        sub_80D9E24();
    }
    object_freeMemory();
}


// 0x80d9e24
void __noreturn sub_80D9E24()
{
    Battle *obj; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf
    int v6; // r1
    int v7; // r2

    object_removeCollisionData();
    if ( battle_isBattleOver() )
        goto LABEL_9;
    v1 = sub_801156A(0);
    if ( (v1 < 0) ^ v2 || obj->collisionData->collisionFlags & 0x3F800000 )
    {
        SpawnT4BattleObjectWithId0(obj, &obj->vx, obj->x, obj->y, obj->z);
        PlaySoundEffect(112, v6, v7);
LABEL_9:
        object_clearCollisionRegion();
        obj->objFlags &= 0xFDu;
        *&obj->currState = 8;
        return;
    }
    v3 = battle_isTimeStop();
    if ( v5 )
    {
        (*(&off_80D9E88 + obj->currAction))();
        object_updateSprite();
    }
    object_presentCollisionData(v3, v4);
}


// 0x80d9e94
int sub_80D9E94()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r3
    int v4; // r4
    int v5; // r6
    int result; // r0
    int v7; // r1
    int v8; // r2
    _DWORD *v9; // r7
    char v10; // r0
    char v11; // r1
    int v12; // r7
    int *v13; // r7
    int v14; // r1

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0)
        || (v3 = *(v0 + 64),
                v4 = *(v0 + 68),
                v5 = *(v0 + 72) - 10240,
                *(v0 + 72) = v5,
                result = *(v0 + 52) + v3,
                v7 = *(v0 + 56) + v4,
                v8 = *(v0 + 60) + v5,
                v8 <= 0) )
    {
        v10 = *(v0 + 6);
        v11 = *(v0 + 7);
        *(v0 + 18) = v10;
        *(v0 + 19) = v11;
        v12 = *(v0 + 84);
        *(v12 + 10) = v10;
        *(v12 + 11) = v11;
        v13 = (v0 + 52);
        *v13 = object_getCoordinatesForPanels(v10);
        v13[1] = v14;
        v13[2] = 655360;
        object_isCurrentPanelSolid();
    }
    v9 = (v0 + 52);
    *v9 = result;
    v9[1] = v7;
    v9[2] = v8;
    return result;
}


// 0x80d9f2c
int sub_80D9F2C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    int v5; // r4
    int v6; // r1
    int v7; // r2

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = object_setCollisionRegion(16);
        object_updateCollisionData(v4, 4, 5, 0);
        v5 = *(v0 + 22);
        sub_801BD3C(*(v0 + 18), *(v0 + 19), 74, 15);
        camera_initShakeEffect_80302a8(1, 15);
        PlaySoundEffect(112, v6, v7);
        *v0 &= 0xFDu;
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80d9f84
signed int sub_80D9F84()
{
    int v0; // r5
    signed int result; // r0

    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80d9f90
int __fastcall sub_80D9F90(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(165, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v7 + 22);
    }
    return result;
}


// 0x80d9fa8
int __fastcall sub_80D9FA8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // r0
    int v9; // r4

    v5 = a2;
    v6 = a3;
    v7 = a4;
    v8 = 3 * object_getFrontDirection(v4);
    v9 = (*(v4 + 18) + v8) << 16;
    return sub_80D9F90(v8, v5, v6, v7);
}


// 0x80d9fc2
signed int sub_80D9FC2()
{
    int v0; // r5
    signed int v1; // r4
    char *v2; // r0
    char v8; // [sp+0h] [bp-18h]

    v1 = 0;
    v2 = sub_8013682(*(v0 + 22) ^ 1);
    if ( !v2[24] )
    {
        v8 = 0;
        v1 = 1;
    }
    if ( !v2[25] )
        *(&v8 + v1++) = 1;
    if ( v2[18] != 3 )
        *(&v8 + v1++) = 2;
    if ( !v2[20] )
        *(&v8 + v1++) = 3;
    if ( !v1 )
    {
        *&v8 = 50462976;
        v1 = 4;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return sub_801A4D0(byte_80DA034[2 * *(&v8 + v1)], byte_80DA034[2 * *(&v8 + v1) + 1]);
}


// 0x80da050
int sub_80DA050()
{
    int v0; // r5

    return (*(&off_80DA064 + *(v0 + 8)))();
}


// 0x80da070
int sub_80DA070()
{
    sub_80DA424();
    return object_genericDestroy();
}


// 0x80da07c
void __noreturn sub_80DA07C()
{
    int v0; // r5
    int v1; // r0
    __int16 v2; // r0
    _BYTE *v3; // r0
    int v4; // r0
    int v5; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 4, 5);
    sprite_hasShadow();
    *(v0 + 16) = 10;
    sprite_setAnimation(v0, 0xAu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 20) = *(v0 + 18);
    *(v0 + 40) = 228;
    v2 = *(v0 + 5);
    *(v0 + 36) = v2;
    *(v0 + 38) = v2;
    *(v0 + 32) = &dword_2D0;
    sprite_setPallete(*(v0 + 4));
    *(v0 + 6) = *(&dword_80DA104 + *(v0 + 19));
    *(v0 + 120) = 0;
    v3 = object_createCollisionData();
    if ( v3 )
    {
        v4 = object_setupCollisionData(v3, 19, 20, 3);
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 4;
        sub_80DA108();
    }
    object_freeMemory();
}


// 0x80da108
void __noreturn sub_80DA108()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD12();
    sub_800F672();
    sub_801B394(&off_80DA134);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80da15c
int __fastcall sub_80DA15C(int a1, int a2, int a3)
{
    int v3; // r5
    int result; // r0

    *(v3 + 34) = 10;
    PlaySoundEffect(148, a2, a3);
    *(v3 + 9) = 8;
    result = 0;
    *(v3 + 10) = 0;
    return result;
}


// 0x80da172
int sub_80DA172()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
    {
        sub_80DA448();
        result = (*(&off_80DA190 + *(v0 + 10)))();
    }
    return result;
}


// 0x80da1a4
signed int sub_80DA1A4()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 34) = 40;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80da1ae
int sub_80DA1AE()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 16) = 0;
        *(v0 + 34) = 10;
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80da1c6
int sub_80DA1C6()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 16) = *(&dword_80DA1F4 + *(v0 + 6));
        *(v0 + 34) = 14;
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80da1f8
int sub_80DA1F8()
{
    int v0; // r5
    int result; // r0
    char v2; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        *(v0 + 16) = *(&dword_80DA244 + *(v0 + 6));
        v2 = object_getFrontDirection(v0);
        sub_80D924E(v2 + *(v0 + 18), *(v0 + 19) + *(&dword_80DA3E8 + *(v0 + 6)), *(v0 + 14), v0 + 96);
        result = 16;
        *(v0 + 10) = 16;
    }
    return result;
}


// 0x80da248
signed int sub_80DA248()
{
    int v0; // r5
    signed int result; // r0

    result = *(v0 + 96);
    if ( result )
    {
        if ( *(result + 102) )
        {
            sub_80D9284(result);
            *(v0 + 9) = 9;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80da266
int sub_80DA266()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
    {
        result = sub_80DA448();
        if ( !result )
            result = (*(&off_80DA288 + *(v0 + 10)))();
    }
    return result;
}


// 0x80da290
signed int sub_80DA290()
{
    int v0; // r5
    int v1; // r6
    int v2; // r0
    int v3; // r1
    int v4; // r7
    int v5; // r2
    signed int result; // r0

    *(v0 + 16) = *(&dword_80DA2D4 + *(v0 + 6));
    object_getFrontDirection(v0);
    v1 = *(&dword_80DA3E8 + *(v0 + 6));
    v2 = *(v0 + 18);
    v3 = *(v0 + 19);
    v4 = v0 + 100;
    do
    {
        v2 = sub_80DA3C0(v2, v3);
        v4 += 4;
    }
    while ( v2 );
    *(v0 + 32) = 120;
    PlaySoundEffect(410, v3, v5);
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80da2d8
signed int sub_80DA2D8()
{
    int v0; // r5
    signed int result; // r0

    result = battle_isBattleOver();
    if ( result )
    {
        *(v0 + 9) = 2;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80da2ec
int sub_80DA2EC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    v1 = object_getFlag2();
    if ( v1 & 0x8000 )
    {
        if ( v1 & 0x300000 )
        {
            result = sub_800F90E(13);
        }
        else
        {
            result = sub_800F8CE(v1);
            if ( !result )
                return result;
            if ( result != 1 )
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
        }
        goto LABEL_13;
    }
    if ( !*(v0 + 120) )
    {
        if ( *(v0 + 32) )
        {
            PlaySoundEffect(112, 0x8000, v2);
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 1310720);
            goto LABEL_13;
        }
        *(v0 + 120) = 1;
    }
    result = sub_80DA3EC();
    if ( result )
    {
LABEL_13:
        sub_802EF5C(result);
        clearEntryOfBattleStateBattleObjectList_800F656();
        object_clearCollisionRegion();
        object_removePanelReserve(*(v0 + 20), *(v0 + 21));
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80da37a
int sub_80DA37A()
{
    int v0; // r5

    if ( !*(v0 + 13) )
    {
        *(v0 + 124) = 1;
        sub_80DA424();
    }
    return sub_8017CC0();
}


// 0x80da390
int __fastcall sub_80DA390(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    __int16 v7; // r3
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(166, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 44) = v5;
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        v7 = *(v11 + 22);
        *(v4 + 22) = v7;
        *v4 |= 0x10u;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80da3c0
int __fastcall sub_80DA3C0(int a1, int a2)
{
    int v2; // r4
    int v3; // r5
    int v4; // r6
    int v5; // r7
    int v6; // r0
    int v7; // r1
    int v9; // ST00_4
    int v10; // r4
    int v11; // r6

    v6 = a1 + v2;
    if ( !v6 )
        return 0;
    if ( v6 > 6 )
        return 0;
    v7 = a2 + v4;
    if ( !v7 || v7 > 3 )
        return 0;
    v9 = v6;
    v10 = *(v3 + 6);
    v11 = *(v3 + 44);
    sub_80D94F2(v6, v7, *(v3 + 14), v5);
    return v9;
}


// 0x80da3ec
signed int sub_80DA3EC()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r0
    unsigned __int8 v3; // vf

    v1 = 0;
    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 1;
        *(v0 + 32) = 20;
    }
    *v0 |= 2u;
    if ( !(*(v0 + 32) & 2) )
        *v0 &= 0xFDu;
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        v1 = 1;
    return v1;
}


// 0x80da424
signed int sub_80DA424()
{
    int v0; // r5
    signed int v1; // r0
    signed int *v2; // r4
    signed int v3; // r6
    signed int result; // r0

    v1 = *(v0 + 96);
    if ( v1 )
        sub_80D9284(v1);
    v2 = (v0 + 100);
    v3 = 5;
    do
    {
        result = *v2;
        if ( *v2 )
            result = sub_80D9532(result);
        ++v2;
        --v3;
    }
    while ( v3 );
    return result;
}


// 0x80da448
int sub_80DA448()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 124);
    if ( result )
    {
        *(v0 + 124) = 0;
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80da470
void sub_80DA470()
{
    int v0; // r5

    (*(&off_80DA488 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80da494
int __noreturn sub_80DA494()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    if ( !*(v0 + 4) )
        *(v0 + 54) += 80 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 16, 18);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(&off_80DA530 + *(v0 + 4));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    --*(v0 + 62);
    --*(v0 + 58);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 11, 5, 1);
    object_setCollisionRegion(byte_80DA538[*(v0 + 4)]);
    object_setCollisionHitEffect(255);
    v5 = object_setCollisionStatusEffect1(16);
    object_presentCollisionData(v5, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80da53a
void __noreturn sub_80DA53A()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_11;
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    if ( *(*(v0 + 76) + 9) != 11 )
    {
LABEL_11:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        battle_isTimeStop();
        if ( v1 )
        {
            v2 = (*(&off_80DA588 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80da58c
int sub_80DA58C()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        if ( *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), byte_80DA5D0[*(v0 + 4)], *(v0 + 22));
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            object_clearCollisionRegion();
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 5);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80da5d2
int __fastcall sub_80DA5D2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(167, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80da5fc
void sub_80DA5FC()
{
    int v0; // r5

    (*(&off_80DA614 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80da620
signed int __noreturn sub_80DA620()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 90;
    sprite_load(v0, 128, 8, 20);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 85;
    *(v0 + 17) = 85;
    sprite_setAnimation(v0, 0x55u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80da662
int sub_80DA662()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80DA688 + *(v0 + 9)))();
    }
    return result;
}


// 0x80da68c
void __fastcall sub_80DA68C(int a1, int a2, int a3, int a4, int a5)
{
    int v5; // r5
    int v6; // r0
    unsigned __int8 v7; // vf
    char v8; // r1
    int v9; // r0

    if ( !*(v5 + 10) )
    {
        *(v5 + 10) = 4;
        sub_80DA736();
    }
    v6 = *(v5 + 32);
    v7 = __OFSUB__(v6--, 1);
    *(v5 + 32) = v6;
    if ( ((v6 < 0) ^ v7) | (v6 == 0) )
    {
        v8 = *(v5 + 6);
        *(v5 + 18) = *(v5 + 5);
        *(v5 + 19) = v8;
        object_setCoordinatesFromPanels(v5);
        v9 = object_getPanelParameters(*(v5 + 18), *(v5 + 19));
        if ( v9 & *&byte_80DA708[4 * *(v5 + 22)] )
        {
            SpawnT4BattleObjectWithId0(v5, v9, *(v5 + 52), *(v5 + 56), 0x40000);
            sub_80DA7EC();
            camera_initShakeEffect_80302a8(1, 15);
        }
        *(v5 + 8) = 8;
    }
    else
    {
        *(v5 + 56) += *(v5 + 68);
        *(v5 + 52) += *(v5 + 64);
        *(v5 + 60) += *(v5 + 72);
        object_setPanelsFromCoordinates(v5);
    }
    JUMPOUT(__CS__, a5);
}


// 0x80da710
int __fastcall sub_80DA710(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(168, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80da736
int sub_80DA736()
{
    int v0; // r5
    int v1; // r4
    signed int v2; // r2
    signed int v7; // r2
    int v8; // r0
    int v9; // r1
    int v10; // r0
    __int16 v11; // t1
    int v12; // r1
    int result; // r0
    signed int v14; // r2
    int v15; // r1

    v1 = *&byte_80DA7DC[4 * *(v0 + 4)];
    if ( *(v0 + 18) == *(v0 + 5) )
    {
        *(v0 + 64) = 0;
        v14 = 1;
        if ( *(v0 + 19) >= *(v0 + 6) )
            v14 = -1;
        *(v0 + 68) = v14 * v1;
        *(v0 + 19);
        *(v0 + 6);
        __asm { SVC         6 }
        *(v0 + 32) = 0;
        v15 = *(v0 + 32);
        __asm { SVC         6 }
        result = -*(v0 + 60);
        *(v0 + 72) = result;
    }
    else
    {
        v2 = 1;
        if ( *(v0 + 18) >= *(v0 + 5) )
            v2 = -1;
        *(v0 + 64) = v2 * v1;
        *(v0 + 18);
        *(v0 + 5);
        __asm { SVC         6 }
        *(v0 + 32) = 0;
        v7 = 1;
        v8 = *(v0 + 19);
        v9 = *(v0 + 6);
        if ( v8 >= v9 )
            v7 = -1;
        v10 = v8 - v9;
        if ( v10 < 0 )
            v10 = -v10;
        v11 = *(v0 + 32);
        __asm { SVC         6 }
        *(v0 + 68) = 1572864 * v10 * v7;
        v12 = *(v0 + 32);
        __asm { SVC         6 }
        result = -*(v0 + 60);
        *(v0 + 72) = result;
    }
    return result;
}


// 0x80da7ec
int sub_80DA7EC()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80da80c
void sub_80DA80C()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80DA828 + *(v0 + 8)))();
    battle_isTimeStop();
    if ( v1 )
        object_updateSprite();
}


// 0x80da834
void __noreturn sub_80DA834()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    v0->z = 0;
    sub_8011504(0x100100Cu, 0xE0F0300u);
}


// 0x80da886
void __noreturn sub_80DA886()
{
    int v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf
    int v6; // r1
    int v7; // r2

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = sub_801156A(0);
    if ( (v1 < 0) ^ v2 || *(*(v0 + 84) + 112) & 0x3F800000 )
    {
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        PlaySoundEffect(133, v6, v7);
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = battle_isTimeStop();
        if ( v5 )
            v3 = (*(&off_80DA8DC + *(v0 + 9)))();
        object_presentCollisionData(v3, v4);
    }
}


// 0x80da8ec
unsigned int sub_80DA8EC()
{
    int v0; // r5
    unsigned int v1; // r0
    unsigned __int8 v2; // cf
    unsigned int result; // r0

    v1 = sub_800139A();
    v2 = __CFSHR__(v1, 2);
    result = v1 >> 2;
    if ( v2 )
    {
        *v0 &= 0xFBu;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80da908
signed int sub_80DA908()
{
    int v0; // r5
    signed int result; // r0

    result = battle_isBattleOver();
    if ( result )
    {
        result = sub_800A152();
        if ( result )
        {
            if ( result == 2 )
            {
                object_clearCollisionRegion();
                *(v0 + 9) = 8;
            }
            else
            {
                *(v0 + 16) = 1;
                sprite_noShadow(v0);
                *(v0 + 9) = 12;
            }
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80da956
signed int sub_80DA956()
{
    int v0; // r5
    signed int result; // r0

    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 655360);
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80da974
int sub_80DA974()
{
    int v0; // r5
    int v1; // r10
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(*(v1 + oToolkit_S2034880_Ptr) + 54) = *(v0 + 4);
        *(v0 + 16) = 1;
        *(v0 + 32) = 90;
        object_clearCollisionRegion();
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80da9a2
int sub_80DA9A2()
{
    int v0; // r3

    sub_8000DE0();
    return sprite_setUnk0x2c(*&byte_80DA9B8[4 * v0]);
}


// 0x80da9dc
_BYTE *__fastcall sub_80DA9DC(char a1, int a2, int a3)
{
    _BYTE *v3; // r5
    _BYTE *result; // r0
    char v5; // [sp+0h] [bp-14h]
    char v6; // [sp+4h] [bp-10h]
    char v7; // [sp+8h] [bp-Ch]

    v5 = a1;
    v6 = a2;
    v7 = a3;
    object_spawnType3(169, a2, a3, 0);
    result = v3;
    if ( v3 )
    {
        v3[18] = v5;
        v3[19] = v6;
        v3[14] = v7;
        *v3 |= 0x14u;
    }
    return result;
}


// 0x80da9fe
int __fastcall sub_80DA9FE(int a1)
{
    char *v1; // r4
    char v2; // r0

    v1 = &byte_80211A0[16 * a1];
    GetPositiveSignedRNG2();
    return *&v1[v2 & 0xE];
}


// 0x80daa28
int sub_80DAA28()
{
    int v0; // r5

    return (*(&off_80DAA3C + *(v0 + 8)))();
}


// 0x80daa48
int sub_80DAA48()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0
    int v3; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 64) = object_getFrontDirection(v0);
    v1 = object_createCollisionData();
    if ( !v1 )
        return object_freeMemory();
    object_setupCollisionData(v1, 61, 5, 0);
    v3 = *(v0 + 84);
    *(v3 + 2) = 0;
    object_presentCollisionData(0, v3);
    *(v0 + 112) = 0;
    *(v0 + 108) = 0;
    *(v0 + 96) = 2;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80daa86
void __noreturn sub_80DAA86()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    v1 = (*(&off_80DAAB4 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80daabc
int sub_80DAABC()
{
    int v0; // r5
    int result; // r0
    int v2; // r6
    _BYTE *v3; // r0

    if ( *(*(v0 + 84) + 112) )
        goto LABEL_9;
    *(v0 + 18) += *(v0 + 64);
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    if ( !object_isCurrentPanelValid() )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    result = *(v0 + 96) - 1;
    *(v0 + 96) = result;
    if ( result <= 1 )
    {
LABEL_9:
        v2 = *(v0 + 44);
        v3 = sub_80C67D8(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        *v3 |= 0x10u;
        camera_initShakeEffect_80302a8(1, 20);
        object_clearCollisionRegion();
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dab22
int sub_80DAB22()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r6
    char v6; // ST00_1
    char v7; // ST04_1
    _BYTE *v8; // r0
    int v9; // r1

    result = *(v0 + 32) + 1;
    *(v0 + 32) = result;
    if ( result >= 8 )
    {
        *(v0 + 32) = 0;
        v2 = *(v0 + 34) + 1;
        *(v0 + 34) = v2;
        if ( v2 >= 16 || battle_isBattleOver() || (v3 = chooseCornfiestaPanelXY_80DABC4()) == 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            v5 = *(v0 + 44);
            v6 = v3;
            v7 = v4;
            v8 = sub_80C67D8(v3, v4, *(v0 + 14), 0);
            *v8 |= 0x10u;
            *(v0 + *(v0 + 112) + 108) = v6 | 16 * v7;
            v9 = *(v0 + 112) + 1;
            if ( v9 >= 3 )
                v9 = 0;
            *(v0 + 112) = v9;
            result = camera_initShakeEffect_80302a8(1, 20);
        }
    }
    return result;
}


// 0x80dab8a
int sub_80DAB8A()
{
    int v0; // r5
    _BYTE *v1; // r0

    v1 = *(v0 + 100);
    if ( v1 )
        *v1 = 0;
    return object_genericDestroy();
}


// 0x80dab9c
int __fastcall sub_80DAB9C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(170, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        result = BasicBattleObjectInitialize(v4, v7, v8, v9);
        *(result + 100) = v5;
        if ( v5 )
            *v5 = 1;
        *result |= 0x10u;
    }
    return result;
}


// 0x80dabc4
int chooseCornfiestaPanelXY_80DABC4()
{
    int v0; // r5
    int v1; // r2
    char v2; // r0
    int result; // r0

    GetRNG2();
    if ( (v2 & 0xF) >= 6 || (result = sub_80DABE8(*(v0 + 18), *(v0 + 19), v1)) == 0 )
        result = sub_80DAC0C(*(v0 + 18), *(v0 + 19), v1);
    return result;
}


// 0x80dabe8
int __fastcall sub_80DABE8(int a1, int a2, int a3)
{
    int v3; // ST00_4
    int v4; // ST04_4
    int v5; // r2
    int v6; // r3

    v3 = a1;
    v4 = a2;
    sub_81096FA(a1, a2, a3, &off_80DABFC);
    return panelFlagCheck_8015D80(v3, v4, v5, v6);
}


// 0x80dac0c
int __fastcall sub_80DAC0C(int a1, int a2, int a3)
{
    unsigned __int8 *v3; // r5
    char *v4; // r4
    int v5; // r2
    int v6; // r3
    int v7; // r6
    int v8; // r7
    int v9; // r0
    int v10; // r0
    int *v11; // r4
    int v17; // [sp+0h] [bp-40h]
    int v18; // [sp+4h] [bp-3Ch]
    int v19; // [sp+8h] [bp-38h]
    int v20; // [sp+Ch] [bp-34h]
    int v21; // [sp+10h] [bp-30h]
    int v22; // [sp+1Ch] [bp-24h]
    int v23; // [sp+28h] [bp-18h]
    int v24; // [sp+2Ch] [bp-14h]

    v17 = a1;
    v18 = a2;
    v4 = &byte_80DACC0;
    sub_81096FA(a1, a2, a3, &dword_80DACB0);
    v23 = v5;
    v24 = v6;
    v7 = 0;
    v8 = 0;
    while ( 1 )
    {
        v9 = *v4;
        if ( v9 == 127 )
            break;
        v19 = v9 + v17;
        v20 = byte_0[v4 + 1] + v18;
        if ( object_checkPanelParameters(v9 + v17, v20, v23, v24) )
        {
            *(&v22 + v8++) = v19 | 16 * v20;
            v10 = v19 | 16 * v20;
            if ( v10 != v3[108] && v10 != v3[109] && v10 != v3[110] )
                *(&v21 + v7++) = v19 | 16 * v20;
        }
        v4 += 2;
    }
    v11 = &v21;
    if ( !v7 )
    {
        v11 = &v22;
        v7 = v8;
        if ( !v8 )
            return 0;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(v11 + v7) & 7;
}


// 0x80dace4
void sub_80DACE4()
{
    int v0; // r5

    (*(&off_80DAD00 + *(v0 + 8)))();
    if ( !*(v0 + 6) )
        object_updateSpritePaused();
}


// 0x80dad0c
int sub_80DAD0C()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0x100000;
    if ( !*(v0 + 6) )
    {
        sprite_load(v0, 128, 8, 20);
        sprite_noShadow(v0);
        *v0 |= 2u;
        *(v0 + 16) = 81;
        *(v0 + 17) = 81;
        sprite_setAnimation(v0, 0x51u);
        sprite_loadAnimationData(v0);
        sprite_setPallete(0);
        v1 = object_getFlip(v0);
        sprite_setFlip(v0, v1 | 2 * *(v0 + 5));
    }
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 84, 5, 0);
    object_setCollisionRegion(1);
    v4 = object_setCollisionHitEffect(9);
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dad84
void __noreturn sub_80DAD84()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    sub_801A100();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *&byte_80DADD8[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80DADD0 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80dade0
int sub_80DADE0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r4
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80DAE70();
        if ( !*(v0 + 6) )
            PlaySoundEffect(454, v1, v2);
    }
    *(v0 + 56) += *(v0 + 68);
    v3 = *(v0 + 19);
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( object_isCurrentPanelValid() )
    {
        if ( *(v0 + 19) != v3 )
            object_setCollisionRegion(1);
    }
    else
    {
        object_clearCollisionRegion();
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dae48
int __fastcall sub_80DAE48(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(171, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dae70
signed int sub_80DAE70()
{
    int v0; // r5
    signed int v1; // r0
    signed int result; // r0

    v1 = 655360;
    if ( !*(v0 + 5) )
        v1 = -655360;
    *(v0 + 68) = v1;
    result = 6291456;
    __asm { SVC         6 }
    *(v0 + 32) = 0;
    return result;
}


// 0x80dae94
void sub_80DAE94()
{
    int v0; // r5

    (*(&off_80DAEB8 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80daec4
int __noreturn sub_80DAEC4()
{
    int v0; // r5
    int v1; // r0
    int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sub_80DB0BC();
    sprite_load(v0, 128, 16, 84);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    sub_80169BE();
    if ( *(v0 + 4) )
    {
        *(v0 + 8) = 4;
        *(v0 + 9) = 0;
    }
    else
    {
        *(v0 + 8) = 4;
        *(v0 + 9) = 4;
    }
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80daf2a
int sub_80DAF2A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int result; // r0
    char v4; // zf

    v1 = battle_isBattleOver();
    if ( v1 || (sub_80169BE(), v1 = *(*(v0 + 76) + 9), v2 = *(v0 + 7), v2 != 255) && v1 != v2 )
    {
        sub_80DB0D0(v1);
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 4) || (result = battle_isTimeStop(), v4) )
    {
        result = (*(&off_80DAF6C + *(v0 + 9)))();
    }
    return result;
}


// 0x80daf74
int sub_80DAF74()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 6);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80daf98
int sub_80DAF98()
{
    int v0; // r5
    int result; // r0
    int v2; // r4
    int v3; // r1
    int v4; // r1
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // [sp-8h] [bp-10h]
    int v8; // [sp-4h] [bp-Ch]

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        return sub_80DB04C();
    }
    v2 = *(v0 + 18);
    *(v0 + 52) += *(v0 + 64);
    v3 = *(v0 + 56);
    v7 = convertXYToPanelXY_800E258(*(v0 + 52));
    v8 = v4;
    if ( object_isValidPanel(v7, v4)
        && !object_checkPanelParameters(v7, v8, *&byte_80DB004[8 * *(v0 + 4)], *&byte_80DB004[8 * *(v0 + 4) + 4]) )
    {
        sub_80DB0D0(0);
LABEL_11:
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    object_setPanelsFromCoordinates(v0);
    if ( *(v0 + 18) != v2 )
        sub_80DB078();
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
        goto LABEL_11;
    return result;
}


// 0x80db014
int __fastcall sub_80DB014(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(172, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80db03e
signed int __fastcall sub_80DB03E(int a1)
{
    int v1; // r5
    signed int result; // r0

    v1 = a1;
    sub_80DB0D0(a1);
    result = 8;
    *(v1 + 8) = 8;
    return result;
}


// 0x80db04c
int sub_80DB04C()
{
    int v0; // r5
    signed int v1; // r0
    int v2; // r0
    int result; // r0

    *(v0 + 64) = object_getFrontDirection(v0) * *(v0 + 96);
    v1 = 7;
    if ( *(v0 + 22) )
        v1 = 0;
    v2 = v1 - *(v0 + 18);
    if ( v2 < 0 )
        v2 = -v2;
    result = 2621440 * v2;
    __asm { SVC         6 }
    *(v0 + 32) = result;
    return result;
}


// 0x80db078
_BYTE *sub_80DB078()
{
    int v0; // r5
    int v1; // r6
    _BYTE *result; // r0
    int v3; // r6

    if ( *(v0 + 4) )
    {
        v3 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    else
    {
        v1 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    return result;
}


// 0x80db0bc
int sub_80DB0BC()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 5) + 1;
    *(v0 + 62) -= result;
    *(v0 + 58) -= result;
    return result;
}


// 0x80db0d0
void __fastcall sub_80DB0D0(int a1)
{
    Battle *v1; // r5

    SpawnT4BattleObjectWithId0(v1, a1, v1->x, v1->y, 0x100000);
}


// 0x80db0e4
void sub_80DB0E4()
{
    int v0; // r5

    (*(&off_80DB0FC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80db108
void __noreturn sub_80DB108()
{
    Battle *v0; // r5

    object_setCoordinatesFromPanels(v0);
    v0->z = 0;
    sub_8011504(0x1000C00u, 0x13140300u);
}


// 0x80db148
void __noreturn sub_80DB148()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    *v0 |= 2u;
    sprite_clearFinalPalette();
    sub_801AD6A();
    sub_800F672();
    sub_801B610(&off_80DB174);
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80db198
int sub_80DB198()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( !*(v0 + 11) )
    {
        if ( !object_checkPanelParameters(*(v0 + 18), *(v0 + 19), 16, 260046848) )
        {
            *(v0 + 9) = 2;
            result = 0;
            *(v0 + 10) = 0;
            return result;
        }
        *(v0 + 34) = 5;
        PlaySoundEffect(148, v1, v2);
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 34);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        object_setCollisionRegion(1);
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80db1e0
int sub_80DB1E0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0
    char *v5; // r0
    char *v6; // r7
    int v7; // r1
    int v8; // r2
    int v9; // r3

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        *(v0 + 34) = 0;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 34);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 34) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 34) = 5;
        v4 = sub_800ED90(*(v0 + 76));
        result = getChip8021DA8(v4);
        if ( *(result + 9) & 2 )
        {
            v5 = getBattleHandAddr_8010018(*(v0 + 22));
            v6 = v5;
            result = *v5;
            v7 = *(v0 + 96);
            *(v0 + 96) = result;
            v8 = v6[result + 62];
            v9 = *(v0 + 100);
            *(v0 + 100) = v8;
            if ( result != v7 || v8 != v9 )
            {
                *(v0 + 104) = 0;
            }
            else if ( *(v0 + 104) >= 50 )
            {
                return result;
            }
            result = 2 * result + 26;
            ++*&v6[result];
            ++*(v0 + 104);
            return result;
        }
    }
    return result;
}


// 0x80db252
signed int __noreturn sub_80DB252()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    signed int result; // r0
    int v4; // r1
    int v5; // r2

    object_clearCollisionRegion();
    v1 = object_removePanelReserve(*(v0 + 20), *(v0 + 21));
    sub_802EF5C(v1);
    clearEntryOfBattleStateBattleObjectList_800F656();
    v2 = object_getFlag2();
    if ( v2 & 0x300000 )
    {
        sub_800F90E(14);
    }
    else
    {
        result = sub_800F8CE(v2);
        if ( !result )
            return result;
        if ( result != 1 )
        {
            if ( *(v0 + 36) )
            {
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 786432);
            }
            else
            {
                SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
                PlaySoundEffect(144, v4, v5);
            }
        }
    }
    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80db2c6
int __fastcall sub_80DB2C6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    _BYTE *v6; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    int v9; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType3(173, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v6 = BasicBattleObjectInitialize(v4, v7, v8, 0);
        *v6 |= 0x10u;
        result = sub_800F614(v6, *(v9 + 22), 0);
    }
    return result;
}


// 0x80db304
int sub_80DB304()
{
    int v0; // r5

    return (*(&off_80DB318 + *(v0 + 8)))();
}


// 0x80db324
void __noreturn sub_80DB324()
{
    _BYTE *v0; // r5

    *v0 |= 2u;
    sub_8011504(0xC62u, 0x15050300u);
}


// 0x80db376
void __noreturn sub_80DB376()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    (*(&off_80DB3AC + *(v0 + 9)))();
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80db3b4
int sub_80DB3B4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r2
    int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        result = *(v0 + 60) - *(v0 + 72);
        *(v0 + 60) = result;
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF800010 )
        {
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
            PlaySoundEffect(112, v2, v3);
            sub_80DB48A(*(v0 + 18), *(v0 + 19), v4, 15);
            sub_80DB4CE();
            object_setCollisionRegion(1);
        }
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80db41c
void __noreturn sub_80DB41C()
{
    int v0; // r5

    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    object_isCurrentPanelSolid();
}


// 0x80db474
int __fastcall sub_80DB474(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(174, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80db48a
int __fastcall sub_80DB48A(int a1, int a2, int a3, int a4)
{
    int v4; // r6
    char *v5; // r4
    int result; // r0

    v4 = a1;
    v5 = *(&off_8019B78 + a4);
    result = *v5;
    if ( result != 127 )
        object_crackPanelDup1(result + v4, v5[1] + a2);
    return result;
}


// 0x80db4b4
int __fastcall sub_80DB4B4(int a1, int a2, int a3, int a4)
{
    int v4; // r5

    return sub_80DB474(-3 * (*(v4 + 22) ^ *(v4 + 23)) + 5, 2, 16, a4);
}


// 0x80db4ce
void sub_80DB4CE()
{
    int v0; // r5
    unsigned int v1; // r6
    unsigned int v2; // r6
    signed int v3; // r6
    char *v4; // r7
    char v5; // r0
    int v6; // r2
    int v7; // r1
    int v8; // r0
    int v9; // r1

    camera_initShakeEffect_80302a8(3, 45);
    v1 = (*(v0 + 44) & 0xFFFFF000) + 100;
    sub_80C53A6(*(v0 + 18), *(v0 + 19), 0, 0);
    v2 = (*(v0 + 44) & 0xFFFFF000) + 100;
    sub_80C53A6(*(v0 + 18), *(v0 + 19), 0, 0);
    v3 = 0;
    v4 = &byte_80DB540;
    do
    {
        v5 = object_getFrontDirection(v0);
        v6 = v4[1];
        v7 = *(v0 + 19);
        v8 = object_getCoordinatesForPanels(*(v0 + 18) + *v4 * v5);
        SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0);
        v4 += 2;
        ++v3;
    }
    while ( v3 < 9 );
}


// 0x80db570
int sub_80DB570()
{
    int v0; // r5

    return (*(jt_80DB584 + *(v0 + 8)))();
}


// 0x80db590
int sub_80DB590()
{
    int v0; // r5
    _BYTE *v1; // r0
    char v3; // r3
    int v4; // r0
    int v5; // r0
    int v6; // r1

    v1 = object_createCollisionData();
    if ( v1 )
    {
        v3 = 1;
        if ( *(v0 + 5) )
            v3 = 3;
        object_setupCollisionData(v1, 6, 5, v3);
        v4 = *(v0 + 5);
        if ( *(v0 + 5) )
            v4 = 1;
        object_setCollisionHitEffect(v4);
        sub_80DB684();
        object_setCoordinatesFromPanels(v0);
        v5 = object_updateCollisionPanels(v0);
        object_presentCollisionData(v5, v6);
        if ( *(v0 + 5) )
            **(v0 + 100) = 1;
        *(v0 + 8) = 4;
        sub_80DB5E8();
    }
    return object_freeMemory();
}


// 0x80db5e8
void __noreturn sub_80DB5E8()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r0
    int v4; // r1

    v1 = *(v0 + 84);
    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(v1 + 1) || *(v0 + 96) == *(v0 + 18) )
    {
        v2 = 26;
        if ( *(v0 + 5) )
            v2 = 86;
    }
    else
    {
        v2 = object_setCollisionRegion(1);
    }
    if ( v2 != *(*(v0 + 76) + 9)
        || *(v1 + 112) && (object_clearCollisionRegion(), *(v0 + 96) = *(v0 + 18), *(v0 + 5))
        || (sub_80DB684(),
                object_setPanelsFromCoordinates(v0),
                object_updateCollisionPanels(v0),
                (v3 = object_isCurrentPanelValid()) == 0) )
    {
        if ( *(v0 + 5) )
            **(v0 + 100) = 0;
        object_clearCollisionRegion();
        object_freeCollisionData(*(v0 + 84));
        object_freeMemory();
    }
    else
    {
        object_presentCollisionData(v3, v4);
    }
}


// 0x80db666
int __fastcall sub_80DB666(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-Ch]
    int v9; // [sp+4h] [bp-8h]

    v8 = a3;
    object_spawnType3(175, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 76) = v9;
        *(v4 + 100) = v6;
    }
    return result;
}


// 0x80db684
int sub_80DB684()
{
    int v0; // r5
    int v1; // r0
    int v2; // r3
    int result; // r0

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 76);
    *(v0 + 52) = v1 * 3801088 * *(v0 + 4) + *(v2 + 52);
    result = *(v2 + 56);
    *(v0 + 56) = result;
    return result;
}


// 0x80db6a4
void sub_80DB6A4()
{
    int v0; // r5

    (*(&off_80DB6C8 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80db6d4
signed int __noreturn sub_80DB6D4()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    *(v0 + 52) += 1179648 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 8, 10);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 25;
    *(v0 + 17) = 25;
    sprite_setAnimation(v0, 0x19u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80db726
int sub_80DB726()
{
    _BYTE *v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        v0[8] = 8;
    }
    else if ( v0[4] || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80DB754 + v0[9]))();
    }
    return result;
}


// 0x80db75c
int sub_80DB75C()
{
    Battle *v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r1
    int v4; // r2
    int v5; // r1
    int v6; // r0
    int result; // r0

    if ( !v0->currPhase )
    {
        v0->currPhase = 4;
        sub_80DB828();
        sub_80DB864();
    }
    v1 = v0->Timer;
    v2 = __OFSUB__(v1--, 1);
    v0->Timer = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        v0->currAction = 4;
        result = 0;
        v0->currPhase = 0;
    }
    else
    {
        v3 = v0->panelY;
        v4 = object_getCoordinatesForPanels(v0->panelX);
        v5 = v0->x;
        v6 = v0->vx + v5;
        v0->x = v6;
        if ( v4 != v5 && sub_800E708(v6, v5, v4) )
            sub_80DB864();
        result = object_setPanelsFromCoordinates(v0);
    }
    return result;
}


// 0x80db7b2
int sub_80DB7B2()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 25 )
        {
            sub_80DB890();
            object_isCurrentPanelSolid();
        }
        if ( result <= 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 26;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80db800
int __fastcall sub_80DB800(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(176, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80db828
int sub_80DB828()
{
    Battle *v0; // r5
    signed int v1; // r0
    int result; // r0

    v0->vx = 393216 * object_getFrontDirection(v0);
    v1 = 6;
    if ( v0->Alliance )
        v1 = 1;
    if ( v1 == v0->panelX )
    {
        result = 0;
        v0->vx = 0;
        v0->Timer = 0;
    }
    else
    {
        result = object_getCoordinatesForPanels(v1) - v0->x;
        if ( result < 0 )
            result = -result;
        __asm { SVC         6 }
        v0->Timer = result;
    }
    return result;
}


// 0x80db864
signed int __noreturn sub_80DB864()
{
    unsigned __int8 *v0; // r5
    signed int v1; // r4

    v1 = 0;
    if ( object_getPanelParameters(v0[18], v0[19]) & *&byte_80DB888[4 * v0[22]] )
        v1 = 1;
    return v1;
}


// 0x80db890
_BYTE *sub_80DB890()
{
    int v0; // r5
    int v1; // r6
    _BYTE *result; // r0
    int v3; // r6

    if ( *(v0 + 4) )
    {
        v3 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    else
    {
        v1 = *(v0 + 44);
        result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    return result;
}


// 0x80db8cc
int sub_80DB8CC()
{
    int v0; // r5

    return (*(&off_80DB8E0 + *(v0 + 8)))();
}


// 0x80db8ec
int sub_80DB8EC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    _BYTE *v3; // r0
    _BYTE *v4; // r7
    int v6; // r0
    int v7; // r1

    if ( object_isCurrentPanelValid() )
    {
        v1 = *(v0 + 19);
        *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
        *(v0 + 56) = v2;
        v3 = object_createCollisionData();
        v4 = v3;
        if ( v3 )
        {
            object_setupCollisionData(v3, 7, 5, 3);
            v4[1] = 11;
            v6 = object_setCollisionHitEffect(255);
            object_presentCollisionData(v6, v7);
            *(v0 + 8) = 4;
            sub_80DB934();
        }
    }
    return object_freeMemory();
}


// 0x80db934
void __noreturn sub_80DB934()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r3
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v4 = *(*(v0 + 84) + 112);
    if ( v4 )
    {
        if ( v4 & 0xC000000 )
            sub_80E8912(v4, 201326592, v2, v3);
    }
    else
    {
        v5 = *(v0 + 32);
        v6 = __OFSUB__(v5, 1);
        v7 = v5 - 1;
        *(v0 + 32) = v7;
        if ( !(((v7 < 0) ^ v6) | (v7 == 0)) )
        {
            object_presentCollisionData(v7, v1);
            return;
        }
    }
    object_clearCollisionRegion();
    object_freeCollisionData(*(v0 + 84));
    object_freeMemory();
}


// 0x80db970
int __fastcall sub_80DB970(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(177, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80db994
void sub_80DB994()
{
    int v0; // r5

    (*(&off_80DB9AC + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80db9b8
signed int __noreturn sub_80DB9B8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r0
    signed int result; // r0
    _BYTE *v8; // r0
    int v9; // r0
    int v10; // r1

    sprite_decompress(16, 71);
    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, 16, 71);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    *(v0 + 4) = 0;
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    v2 = sprite_setFlip(v0, v1);
    v6 = sub_80DC38A(v2, v3, v4, v5);
    *(v0 + 80) = v6;
    if ( !v6 )
        return object_freeMemory();
    v8 = object_createCollisionData();
    if ( !v8 )
        return object_freeMemory();
    object_setupCollisionData(v8, 4, 5, 3);
    *(v0 + 64) = 196608 * object_getFrontDirection(v0);
    v9 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v9, v10);
    *(v0 + 100) = *(v0 + 44) & 0xFFF;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dba50
void __noreturn sub_80DBA50()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    v1 = (*(&off_80DBA78 + *(v0 + 9)))();
    object_presentCollisionData(v1, v2);
}


// 0x80dba7c
signed int __fastcall __noreturn sub_80DBA7C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r4
    int v5; // r0
    int v6; // r4
    signed int result; // r0

    v4 = *(v3 + 84);
    if ( *(v4 + 112) )
        object_clearCollisionRegion();
    if ( *(v3 + 96) )
    {
        if ( *(*(v3 + 80) + 4) )
        {
            PlaySoundEffect(406, a2, a3);
            *(v4 + 46) += *(v3 + 100);
            v5 = *(v3 + 4) + 1;
            *(v3 + 4) = v5;
            if ( v5 < 3 )
                *(v3 + 16) = *(&dword_80DBB08 + v5 - 1);
        }
    }
    v6 = *(v3 + 18);
    *(v3 + 52) += *(v3 + 64);
    object_setPanelsFromCoordinates(v3);
    object_updateCollisionPanels(v3);
    if ( *(v3 + 18) != v6 )
        object_setCollisionRegion(1);
    if ( !(object_getPanelParameters(*(v3 + 18), *(v3 + 19)) & 0x10) || (result = object_isCurrentPanelValid()) == 0 )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80dbb0c
int __fastcall sub_80DBB0C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-14h]
    int v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(178, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 52) = v7;
        *(v4 + 56) = v8;
        *(v4 + 60) = 0;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 23) = *(v10 + 23);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dbb40
void sub_80DBB40()
{
    int v0; // r5

    (*(&off_80DBB58 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80dbb64
signed int sub_80DBB64()
{
    int v0; // r4
    int v1; // r5
    int v2; // r0
    int v3; // r1
    u8 v4; // r2
    int v5; // r3
    int v6; // r0
    _BYTE *v7; // r0
    int v8; // r0
    int v9; // r1
    signed int result; // r0
    u8 v11; // [sp+8h] [bp-14h]
    int v12; // [sp+Ch] [bp-10h]

    v2 = sub_800F26C(*(v1 + 96));
    if ( v2 == 255 )
        return object_freeMemory();
    v11 = v4;
    v12 = v5;
    sprite_load(v1, 128, v2, v3);
    *v1 |= 2u;
    if ( v0 )
        sprite_hasShadow();
    else
        sprite_noShadow(v1);
    *(v1 + 16) = v11;
    *(v1 + 17) = v11;
    sprite_setAnimation(v1, v11);
    sprite_loadAnimationData(v1);
    sprite_setPallete(v12);
    v6 = *(v1 + 96);
    if ( v6 != 216 && v6 != 217 )
        sprite_setFlip(v1, *(v1 + 22));
    else
        sub_8002EAC();
    object_setCoordinatesFromPanels(v1);
    *(v1 + 52) += 1179648 * object_getFrontDirection(v1);
    *(v1 + 62) = 16;
    v7 = object_createCollisionData();
    if ( !v7 )
        return object_freeMemory();
    object_setupCollisionData(v7, 6, 5, 3);
    v8 = object_setCollisionHitEffect(10);
    object_presentCollisionData(v8, v9);
    result = 4;
    *(v1 + 8) = 4;
    return result;
}


// 0x80dbc0a
void __noreturn sub_80DBC0A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80DBC44 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80dbc48
signed int sub_80DBC48()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80DBCBA();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0)
        || (*(v0 + 52) += *(v0 + 64),
                object_setPanelsFromCoordinates(v0),
                object_updateCollisionPanels(v0),
                *(*(v0 + 84) + 112)) )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = object_isCurrentPanelValid();
        if ( !result )
            result = object_clearCollisionRegion();
    }
    return result;
}


// 0x80dbc90
int __fastcall sub_80DBC90(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType3(179, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dbcba
int sub_80DBCBA()
{
    Battle *v0; // r5
    char v1; // r0
    int result; // r0

    v0->vx = 393216 * object_getFrontDirection(v0);
    v1 = 7;
    if ( v0->Alliance )
        v1 = 0;
    result = object_getCoordinatesForPanels(v1) - v0->x;
    if ( result < 0 )
        result = -result;
    __asm { SVC         6 }
    v0->Timer = result;
    return result;
}


// 0x80dbcec
void sub_80DBCEC()
{
    int v0; // r5

    (*(&off_80DBD04 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dbd10
signed int __noreturn sub_80DBD10()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) -= 8781824 * object_getFrontDirection(v0);
    *(v0 + 56) += 0x100000;
    *(v0 + 72) = *&byte_80DBD8C[*(v0 + 5)];
    *(v0 + 64) = object_getFrontDirection(v0) * *&byte_80DBD98[*(v0 + 5)];
    sprite_load(v0, 128, 12, 98);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    PlaySoundEffect(196, v2, v3);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dbda0
int sub_80DBDA0()
{
    int v0; // r5

    return (*(&off_80DBDB4 + *(v0 + 9)))();
}


// 0x80dbdbc
int sub_80DBDBC()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r0
    char v9; // r0
    int v10; // [sp-4h] [bp-10h]

    *(v0 + 52) += *(v0 + 64);
    result = *(v0 + 72) + *&byte_80DBE44[*(v0 + 5)];
    *(v0 + 72) = result;
    v2 = *(v0 + 60) - result;
    if ( v2 < 0 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        v3 = *(v0 + 19);
        object_getCoordinatesForPanels(*(v0 + 18));
        v4 = sub_801BDDE(3u);
        SpawnT4BattleObjectWithId0(v0, v4, v5, v6, v7);
        sub_80DBEBA(*(v0 + 18), *(v0 + 19));
        v8 = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        v10 = v8;
        if ( *(v0 + 5) || !(v8 & 0x40) && (GetPositiveSignedRNG2(), !(v9 & 1)) )
            object_crackPanel(*(v0 + 18), *(v0 + 19));
        result = v10;
        if ( v10 & 0x10 )
            result = camera_initShakeEffect_80302a8(1, 5);
        v2 = 0;
    }
    *(v0 + 60) = v2;
    return result;
}


// 0x80dbe4c
int sub_80DBE4C()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        if ( *(v0 + 32) <= 4 )
        {
            *(v0 + 52) -= *(v0 + 64);
            *(v0 + 60) += *(v0 + 72);
        }
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( !result )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 1;
        result = 7;
        *(v0 + 32) = 7;
    }
    return result;
}


// 0x80dbe82
int __fastcall sub_80DBE82(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(180, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80dbea2
_BYTE *__fastcall sub_80DBEA2(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80DBE82(a1, a2, a3, a4);
    if ( result )
    {
        *result |= 0x10u;
        result[5] = 4;
    }
    return result;
}


// 0x80dbeba
_BYTE *__fastcall sub_80DBEBA(char a1, int a2)
{
    int v2; // r5
    int v3; // r6
    _BYTE *result; // r0

    v3 = *(v2 + 44);
    result = object_spawnCollisionRegion(a1, a2, *(v2 + 14), *(v2 + 60));
    if ( result )
        *result |= *v2 & 0x10;
    return result;
}


// 0x80dbee6
int sub_80DBEE6()
{
    int v0; // r5

    return (*(&off_80DBEF8 + *(v0 + 8)))();
}


// 0x80dbf04
void __noreturn sub_80DBF04()
{
    int v0; // r5
    char *v1; // r7
    u8 v2; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r1
    int v6; // r0
    _BYTE *v11; // r0
    int v12; // r0
    int v13; // r1
    int v14; // r1
    int v15; // r2
    int v16; // [sp+0h] [bp-8h]

    *v0 |= 2u;
    v1 = &byte_80DBEE0[6 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, 12, *v1);
    v2 = v1[1];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    object_setCoordinatesFromPanels(v0);
    v4 = object_getFrontDirection(v0);
    *(v0 + 60) -= 1310720;
    *(v0 + 52) += 1310720 * v4;
    v5 = *(v0 + 19);
    v6 = object_getCoordinatesForPanels(3 * v4 + *(v0 + 18));
    __asm { SVC         6 }
    *(v0 + 64) = v6 - *(v0 + 52);
    __asm { SVC         6 }
    *(v0 + 72) = -*(v0 + 60);
    *(v0 + 32) = 1;
    v11 = object_createCollisionData();
    if ( !v11 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v16);
    }
    object_setupCollisionData(v11, *(*(v0 + 96) + 2), *(*(v0 + 96) + 3), 3);
    sub_801A146();
    v12 = object_clearCollisionRegion();
    object_presentCollisionData(v12, v13);
    PlaySoundEffect(196, v14, v15);
    *(v0 + 8) = 4;
}


// 0x80dbfc0
void __noreturn sub_80DBFC0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    (*(&off_80DBFF4 + *(v0 + 9)))();
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80dc000
int sub_80DC000()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 16;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dc018
signed int sub_80DC018()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r7
    signed int result; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 60) += *(v0 + 72);
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        if ( !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF800010) )
            goto LABEL_8;
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        PlaySoundEffect(112, v2, v3);
        v4 = *(v0 + 96);
        if ( *(v4 + 4) )
            camera_initShakeEffect_80302a8(1, 15);
        if ( *(v4 + 5) )
        {
            if ( *(v4 + 5) == 1 )
                object_crackPanel(*(v0 + 18), *(v0 + 19));
LABEL_8:
            object_breakPanel(*(v0 + 18), *(v0 + 19));
        }
        *(*(v0 + 84) + 1) = 1;
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
        result = *v0 & 0xFD;
        *v0 = result;
    }
    return result;
}


// 0x80dc0ac
signed int sub_80DC0AC()
{
    int v0; // r5
    signed int result; // r0

    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80dc0c0
int __fastcall sub_80DC0C0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(181, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dc0e8
int sub_80DC0E8()
{
    int v0; // r5

    return (*(&off_80DC0FC + *(v0 + 8)))();
}


// 0x80dc108
void __noreturn sub_80DC108()
{
    int v0; // r5
    int v1; // r0

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 100);
    *(v0 + 16) = 4;
    *(v0 + 17) = 4;
    sprite_setAnimation(v0, 4u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += 2621440 * object_getFrontDirection(v0);
    *(v0 + 60) = 0;
    *(v0 + 96) = 0;
    *(v0 + 8) = 4;
    sub_80DC160();
}


// 0x80dc160
void sub_80DC160()
{
    int v0; // r5

    (*(&off_80DC178 + *(v0 + 9)))();
    object_updateSprite();
}


// 0x80dc180
int sub_80DC180()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 3;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dc1a2
int __fastcall sub_80DC1A2(int a1, int a2, int a3)
{
    int v3; // r5
    char v4; // r0
    int v5; // r0
    char v6; // r0
    int v7; // r6
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 100;
        *(v3 + 34) = 0;
        v4 = object_getFrontDirection(v3);
        sub_80C53A6(3 * v4 + *(v3 + 18), *(v3 + 19), 0, 0);
        *(v3 + 11) = 4;
    }
    if ( !*(v3 + 96) )
        PlaySoundEffect(273, a2, a3);
    v5 = *(v3 + 96) + 1;
    *(v3 + 96) = v5;
    if ( v5 >= 8 )
        *(v3 + 96) = 0;
    v6 = object_getFrontDirection(v3);
    v7 = *(v3 + 44);
    sub_80C53A6(3 * v6 + *(v3 + 18), *(v3 + 19), 0, 0);
    v8 = *(v3 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80dc22c
int __fastcall spawnType3_0xb6_80DC22C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(182, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dc260
int sub_80DC260()
{
    int v0; // r5

    return (*(&off_80DC274 + *(v0 + 8)))();
}


// 0x80dc280
int sub_80DC280()
{
    int v0; // r5
    __int16 v1; // r0
    _WORD *v2; // r2
    _BYTE *v3; // r0
    int v4; // r0
    int v5; // r1
    int result; // r0

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 76);
    *(v0 + 54) = 4 * v1 + v2[27];
    *(v0 + 58) = v2[29];
    *(v0 + 62) = v2[31];
    object_setPanelsFromCoordinates(v0);
    *(v0 + 44) = 0;
    *(v0 + 4) = 0;
    v3 = object_createCollisionData();
    if ( v3 )
    {
        object_setupCollisionData(v3, 88, 73, 0);
        v4 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v4, v5);
        result = 4;
        *(v0 + 8) = 4;
    }
    else
    {
        **(v0 + 96) = 0;
        result = object_freeMemory();
    }
    return result;
}


// 0x80dc2d4
void __noreturn sub_80DC2D4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        **(v0 + 96) = 0;
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80DC30C + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80dc310
signed int __noreturn sub_80DC310()
{
    int v0; // r5
    int v1; // r4
    signed int result; // r0

    *(v0 + 4) = 0;
    if ( *(*(v0 + 84) + 112) )
    {
        if ( sub_80DC3B2() )
        {
            sub_800F884(*(v0 + 80));
            object_clearCollisionRegion();
            *(v0 + 4) = 1;
        }
        else
        {
            object_clearCollisionRegion();
        }
    }
    v1 = *(v0 + 18);
    *(v0 + 54) = 20 * object_getFrontDirection(v0) + *(*(v0 + 76) + 54);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(v0 + 18) != v1 )
        object_setCollisionRegion(1);
    if ( !(object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10) || (result = object_isCurrentPanelValid()) == 0 )
    {
        object_clearCollisionRegion();
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dc38a
int __fastcall sub_80DC38A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(183, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 23) = *(v7 + 23);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dc3b2
int sub_80DC3B2()
{
    int v0; // r5
    int result; // r0
    int v2; // r4
    int v3; // r3
    int *v4; // r6
    int v5; // r0
    int v6; // [sp-4h] [bp-20h]
    int v7; // [sp+0h] [bp-1Ch]

    result = sub_801A4DC(&v7, 16);
    v2 = result;
    if ( result )
    {
        v3 = 0;
        v4 = &v7;
        do
        {
            v5 = *(*v4 + 40);
            if ( v5 >= 205 && v5 <= 255 )
            {
                v6 = *v4;
                if ( sub_800F486(v5) )
                {
                    *(v0 + 80) = v6;
                    return 1;
                }
            }
            ++v4;
            ++v3;
        }
        while ( v3 < v2 );
        result = 0;
    }
    return result;
}


// 0x80dc3f8
void sub_80DC3F8()
{
    int v0; // r5

    (*(&off_80DC410 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80dc41c
signed int __noreturn sub_80DC41C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 20, 20);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dc45e
int sub_80DC45E()
{
    int v0; // r5
    int result; // r0

    if ( !battle_isBattleOver() )
        return (*(&off_80DC480 + *(v0 + 9)))();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80dc484
int sub_80DC484()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80DC4DE();
        object_breakPanel_dup2(*(v0 + 18), *(v0 + 19));
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dc4b8
int __fastcall sub_80DC4B8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(184, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dc4de
_BYTE *sub_80DC4DE()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80dc4fc
void sub_80DC4FC()
{
    int v0; // r5

    (*(&off_80DC514 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80dc520
signed int __noreturn sub_80DC520()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 16);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 18;
    *(v0 + 17) = 18;
    sprite_setAnimation(v0, 0x12u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dc588
int sub_80DC588()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 10) )
    {
        v4 = *(v0 + 32);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        sub_80DC5DA();
        PlaySoundEffect(385, v1, v2);
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80dc5b4
int __fastcall sub_80DC5B4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(185, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dc5da
_BYTE *sub_80DC5DA()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80dc5f8
void sub_80DC5F8()
{
    int v0; // r5

    (*(&off_80DC610 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dc61c
void __noreturn sub_80DC61C()
{
    sub_8011504(0x1044u, 0x56050300u);
}


// 0x80dc668
void __noreturn sub_80DC668()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    if ( *(*(v0 + 76) + 9) != *(v0 + 5) )
        goto LABEL_11;
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v1 = *(v0 + 32) + 1;
    *(v0 + 32) = v1;
    if ( v1 > *(v0 + 6) )
    {
LABEL_11:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    v2 = sub_80DC6D2();
    object_presentCollisionData(v2, v3);
}


// 0x80dc6bc
int __fastcall sub_80DC6BC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(186, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80dc6d2
int sub_80DC6D2()
{
    Battle *v0; // r5
    int v1; // r4
    char *i; // r6
    int result; // r0
    __int64 v4; // r0

    v1 = object_getFrontDirection(v0);
    for ( i = &byte_80DC6FC; ; i += 2 )
    {
        result = *i;
        if ( result == 127 )
            break;
        LODWORD(v4) = result * v1 + v0->panelX;
        HIDWORD(v4) = i[1] + v0->panelY;
        object_highlightPanel(v4);
    }
    return result;
}


// 0x80dc70c
void sub_80DC70C()
{
    int v0; // r5

    (*(&off_80DC724 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dc730
void __noreturn sub_80DC730()
{
    Battle *v0; // r5

    v0->futurePanelX = v0->panelX;
    v0->futurePanelY = v0->panelY;
    object_setCoordinatesFromPanels(v0);
    v0->x -= 5242880 * object_getFrontDirection(v0);
    v0->z = 10485760;
    sub_8011504(0x100Du, 0x4050300u);
}


// 0x80dc778
void __noreturn sub_80DC778()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r4
    int v5; // r2
    __int64 v6; // r0
    char *v7; // r0
    int v8; // r1

    v1 = *(v0 + 84);
    object_removeCollisionData();
    if ( *(v1 + 112) )
    {
        object_clearCollisionRegion();
        ++*(v0 + 112);
        *(v0 + 116) = 8;
    }
    if ( *(v0 + 9) )
    {
        if ( *(v0 + 9) != 12 && !*(v1 + 1) )
        {
            v2 = *(v0 + 116);
            v3 = __OFSUB__(v2--, 1);
            *(v0 + 116) = v2;
            if ( ((v2 < 0) ^ v3) | (v2 == 0) )
                object_setCollisionRegion(1);
        }
    }
    v4 = *(*(v0 + 84) + 10);
    (*(&off_80DC7EC + *(v0 + 9)))();
    if ( *(*(v0 + 84) + 10) != v4 )
    {
        *(v0 + 112) = 0;
        if ( *(v0 + 9) != 12 )
            object_setCollisionRegion(1);
    }
    v5 = *(v0 + 84);
    LODWORD(v6) = *(v5 + 10);
    HIDWORD(v6) = *(v5 + 11);
    v7 = object_highlightPanel(v6);
    object_presentCollisionData(v7, v8);
}


// 0x80dc7fc
int __fastcall sub_80DC7FC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r1
    int v8; // r0
    char v9; // r1
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 64) = object_getFrontDirection(v3) << 18;
        a2 = -524288;
        *(v3 + 72) = -524288;
        *(v3 + 32) = 20;
        *(v3 + 11) = 4;
    }
    if ( *(v3 + 32) == 10 )
        PlaySoundEffect(320, a2, a3);
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4--, 1);
    *(v3 + 32) = v4;
    if ( ((v4 < 0) ^ v5) | (v4 == 0) )
    {
        *(v3 + 60) = 0;
        object_setCollisionRegion(1);
        *(v3 + 104) = *(v3 + 18);
        *(v3 + 108) = *(v3 + 19);
        *(v3 + 120) = 0;
        *(v3 + 124) = 0;
        v6 = *(v3 + 18);
        v7 = *(v3 + 19);
        v8 = sub_80DC9EC();
        v9 = 4;
        if ( v8 )
            v9 = 8;
        *(v3 + 9) = v9;
        result = 0;
        *(v3 + 10) = 0;
    }
    else
    {
        *(v3 + 52) += *(v3 + 64);
        result = *(v3 + 60) + *(v3 + 72);
        *(v3 + 60) = result;
    }
    return result;
}


// 0x80dc872
BOOL __noreturn sub_80DC872()
{
    int v0; // r5
    char v1; // zf
    __int64 v2; // r0
    int v3; // r2
    int v4; // r3
    unsigned int v5; // r7
    int v6; // r0
    int v7; // ST00_4
    int v8; // r1
    char v9; // r0
    int v10; // r2
    char v11; // r1
    __int64 v12; // r0
    int v13; // r2
    int v14; // r3
    int v15; // r0
    int v16; // r1
    BOOL result; // r0
    int v18; // r1
    int v19; // r0
    int v20; // r3
    int v21; // r6
    int v22; // r1
    int v23; // r1

    object_isPanelSolid(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v1 )
        goto LABEL_14;
    if ( !*(v0 + 11) )
    {
        v2 = sub_80DCA38();
        *(v0 + 120) = v3;
        *(v0 + 124) = v4;
        *(v0 + 96) = v2;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 7);
    v6 = *(v0 + 32) + 1;
    *(v0 + 32) = v6;
    if ( v6 == v5 >> 1 )
    {
        v7 = v6;
        v8 = *(v0 + 100);
        v9 = convertXYToPanelXY_800E258(*(v0 + 96));
        v10 = *(v0 + 84);
        *(v10 + 10) = v9;
        *(v10 + 11) = v11;
        v6 = v7;
    }
    if ( v6 == v5 )
    {
        *(v0 + 104) = *(v0 + 18);
        *(v0 + 108) = *(v0 + 19);
        v12 = sub_80DCA38();
        *(v0 + 120) = v13;
        *(v0 + 124) = v14;
        *(v0 + 96) = v12;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 0;
        v15 = *(v0 + 18);
        v16 = *(v0 + 19);
        if ( sub_80DC9EC() )
        {
            object_setCoordinatesFromPanels(v0);
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
            return result;
        }
    }
    v18 = *(v0 + 108);
    v19 = object_getCoordinatesForPanels(*(v0 + 104));
    v20 = *(v0 + 100);
    v21 = *(v0 + 32);
    *(v0 + 52) = sub_80DCACC(v19, v22, *(v0 + 96));
    *(v0 + 56) = v23;
    object_setPanelsFromCoordinates(v0);
    result = object_isValidPanel(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v1 )
    {
LABEL_14:
        object_clearCollisionRegion();
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dc92c
signed int __noreturn sub_80DC92C()
{
    int v0; // r5
    char v1; // zf
    signed int result; // r0
    int v3; // r0
    int v4; // r1

    object_isPanelSolid(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v1 )
    {
        object_clearCollisionRegion();
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        v3 = *(v0 + 18);
        v4 = *(v0 + 19);
        if ( !sub_80DC9EC() || (result = *(v0 + 112), result >= 3) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80dc964
int sub_80DC964()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 5;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dc986
int __fastcall sub_80DC986(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(187, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80dc99c
void __fastcall __noreturn sub_80DC99C(int a1, int a2)
{
    Battle *v2; // r5
    int *v3; // r3
    int v4; // [sp+0h] [bp-1Ch]
    int v5; // [sp+4h] [bp-18h]

    v4 = a1;
    v5 = a2;
    object_getFrontDirection(v2);
    v3 = &byte_80DC9DC[8 * v2->Alliance];
    object_getFirstPanelInDirectionFiltered(v4, v5, *v3, v3[1]);
}


// 0x80dc9ec
int sub_80DC9EC()
{
    return 0;
}


// 0x80dc9f0
BOOL __fastcall sub_80DC9F0(int a1, int a2)
{
    int v2; // r5
    int v3; // r6
    int v4; // r7

    v3 = a1;
    v4 = a2;
    return object_getPanelParameters(a1, a2) & *&byte_80DCA30[4 * *(v2 + 22)]
            && sub_800AE54(v3, v4, *(v2 + 22) ^ 1)
            && !(object_getFlag() & 6);
}


// 0x80dca38
__int64 sub_80DCA38()
{
    Battle *v0; // r5
    u32 v1; // r0
    int v2; // r2
    int v3; // r0
    int v4; // r1
    char v5; // r6
    int v6; // r7
    int v7; // r7
    int v8; // r1
    __int64 v9; // ST00_8
    int v11; // [sp+0h] [bp-24h]
    int v12; // [sp+4h] [bp-20h]
    int v13; // [sp+8h] [bp-1Ch]
    int v14; // [sp+Ch] [bp-18h]

    v1 = battle_findPlayer(v0->Alliance ^ 1);
    if ( !v1 )
        goto LABEL_14;
    v11 = *(v1 + 18);
    v12 = *(v1 + 19);
    v13 = object_getFrontDirection(v0);
    v14 = v11 - v0->panelX;
    v2 = v0->panelY;
    if ( v12 < v2 || v13 * v14 == 0 )
        goto LABEL_14;
    v3 = v11 - v0->panelX;
    if ( v14 < 0 )
        v3 = v0->panelX - v11;
    v4 = v12 - v2;
    if ( v12 - v2 < 0 )
        v4 = v2 - v12;
    if ( v3 != v4 || v12 == v2 )
    {
LABEL_14:
        v5 = v0->panelX + v13;
        v7 = v0->panelY;
    }
    else
    {
        v5 = v0->panelX + v13;
        v6 = v0->panelY;
    }
    LODWORD(v9) = object_getCoordinatesForPanels(v5);
    HIDWORD(v9) = v8;
    object_getFrontDirection(v0);
    return v9;
}


// 0x80dcacc
int __fastcall sub_80DCACC(int a1, int a2, int a3)
{
    int v3; // r6

    __asm
    {
        SVC         6
        SVC         6
    }
    return a1 + (a3 - a1) * v3;
}


// 0x80dcafa
int __fastcall sub_80DCAFA(char a1)
{
    int v1; // r5
    int v2; // r2

    v2 = *(v1 + 19);
    return object_getCoordinatesForPanels(a1 + *(v1 + 18));
}


// 0x80dcb1c
void sub_80DCB1C()
{
    int v0; // r5

    (*(&off_80DCB40 + *(v0 + 8)))();
    if ( *(v0 + 5) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80dcb4c
signed int __noreturn sub_80DCB4C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) -= 12582912 * object_getFrontDirection(v0);
    *(v0 + 60) = 12582912;
    sprite_load(v0, 128, 12, 103);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dcb9c
int sub_80DCB9C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( *(v0 + 5) == 1 )
        return (*(&off_80DCBC8 + *(v0 + 9)))();
    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    result = battle_isTimeStop();
    if ( v2 )
        return (*(&off_80DCBC8 + *(v0 + 9)))();
    return result;
}


// 0x80dcbcc
char *__fastcall sub_80DCBCC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r4
    int v5; // r0
    unsigned __int8 v6; // vf
    char *result; // r0
    unsigned int v8; // r0
    unsigned __int8 v9; // cf
    __int64 v10; // r0

    if ( *(v3 + 10) )
    {
        *(v3 + 52) += *(v3 + 64);
        *(v3 + 60) -= *(v3 + 72);
        v5 = *(v3 + 32);
        v6 = __OFSUB__(v5--, 1);
        *(v3 + 32) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
        {
            sub_80DCC96();
            SpawnT4BattleObjectWithId0(v3, v3 + 64, *(v3 + 52), *(v3 + 56), *(v3 + 60));
            camera_initShakeEffect_80302a8(2, 15);
            result = &dword_8;
            *(v3 + 8) = 8;
            return result;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(196, 4, a3);
        v4 = *&byte_80DCC4C[4 * *(v3 + 4)];
        *(v3 + 64) = object_getFrontDirection(v3) * v4;
        *(v3 + 72) = v4;
        *(v3 + 32) = *&byte_80DCC60[4 * *(v3 + 4)];
    }
    v8 = *(v3 + 34) + 1;
    *(v3 + 34) = v8;
    v9 = __CFSHR__(v8, 3);
    result = (v8 >> 3);
    if ( !v9 )
    {
        LODWORD(v10) = *(v3 + 18);
        HIDWORD(v10) = *(v3 + 19);
        result = object_highlightPanel(v10);
    }
    return result;
}


// 0x80dcc70
int __fastcall sub_80DCC70(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(188, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dcc96
_BYTE *sub_80DCC96()
{
    int v0; // r5
    int v1; // r6
    _BYTE *result; // r0
    char v3; // zf
    int v4; // r6

    if ( *(v0 + 5) == 1
        || (v1 = *(v0 + 44), result = object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0), !v3) )
    {
        v4 = *(v0 + 44);
        result = sub_80C53A6(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
    }
    return result;
}


// 0x80dccd4
void sub_80DCCD4()
{
    int v0; // r5

    (*(&off_80DCCEC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dccf8
signed int __noreturn sub_80DCCF8()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) -= 3145728 * object_getFrontDirection(v0);
    *(v0 + 60) = 3145728;
    sprite_load(v0, 128, 8, 21);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 41;
    *(v0 + 17) = 41;
    sprite_setAnimation(v0, 0x29u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dcd48
int sub_80DCD48()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80DCD70 + *(v0 + 9)))();
    }
    return result;
}


// 0x80dcd74
char *__fastcall sub_80DCD74(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    char *result; // r0
    unsigned int v7; // r0
    unsigned __int8 v8; // cf
    __int64 v9; // r0

    if ( *(v3 + 10) )
    {
        *(v3 + 52) += *(v3 + 64);
        *(v3 + 60) -= *(v3 + 72);
        v4 = *(v3 + 32);
        v5 = __OFSUB__(v4--, 1);
        *(v3 + 32) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
        {
            sub_80DCDFA();
            sub_80DCE18();
            result = &dword_8;
            *(v3 + 8) = 8;
            return result;
        }
    }
    else
    {
        *(v3 + 10) = 4;
        PlaySoundEffect(383, 4, a3);
        *(v3 + 64) = object_getFrontDirection(v3) << 19;
        *(v3 + 72) = 0x80000;
        *(v3 + 32) = 6;
    }
    v7 = *(v3 + 34) + 1;
    *(v3 + 34) = v7;
    v8 = __CFSHR__(v7, 3);
    result = (v7 >> 3);
    if ( !v8 )
    {
        LODWORD(v9) = *(v3 + 18);
        HIDWORD(v9) = *(v3 + 19);
        result = object_highlightPanel(v9);
    }
    return result;
}


// 0x80dcdd4
int __fastcall sub_80DCDD4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(189, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dcdfa
int sub_80DCDFA()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80dce18
void sub_80DCE18()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1

    v1 = v0->panelY;
    v2 = object_getCoordinatesForPanels(v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v2, v2, v3, 0);
}


// 0x80dce38
void sub_80DCE38()
{
    int v0; // r5

    (*(&off_80DCE50 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dce5c
signed int __noreturn sub_80DCE5C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 21);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 42;
    *(v0 + 17) = 42;
    sprite_setAnimation(v0, 0x2Au);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dce9e
signed int sub_80DCE9E()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    unsigned __int8 v3; // vf
    signed int result; // r0

    if ( battle_isBattleOver()
        || (battle_isTimeStop(), v1)
        && (v2 = *(v0 + 4), v3 = __OFSUB__(v2, 1), --v2, *(v0 + 4) = v2, ((v2 < 0) ^ v3) | (v2 == 0))
        || (result = *(*(v0 + 76) + 9), result != *(v0 + 5)) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dcec6
int __fastcall sub_80DCEC6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    int v8; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    object_spawnType3(190, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 76) = v8;
        *(v4 + 22) = *(v8 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dcef4
void sub_80DCEF4()
{
    int v0; // r5

    (*(&off_80DCF0C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dcf18
int __noreturn sub_80DCF18()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int result; // r0
    int v4; // r0
    int v5; // r1
    __int16 v6; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 8;
    sprite_load(v0, 128, 8, 21);
    sprite_hasShadow();
    *v0 |= 2u;
    *(v0 + 16) = 43;
    *(v0 + 17) = 43;
    sprite_setAnimation(v0, 0x2Bu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
        return object_freeMemory();
    object_setupCollisionData(v2, 59, 13, 3);
    v4 = object_setCollisionHitEffect(1);
    object_presentCollisionData(v4, v5);
    v6 = *&byte_80DCEEC[2 * *(v0 + 4)];
    *(v0 + 36) = v6;
    *(v0 + 38) = v6;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dcf88
void __noreturn sub_80DCF88()
{
    Battle *v0; // r5
    signed int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int v4; // r1
    char v5; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_9;
    v1 = sub_801156A(0);
    if ( (v1 < 0) ^ v2 || *&byte_80DCFEC[4 * v0->Alliance] & v0->collisionData->collisionFlags )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
LABEL_9:
        object_clearCollisionRegion();
        v0->currState = 8;
        return;
    }
    v3 = battle_isTimeStop();
    if ( v5 )
        v3 = (*(&off_80DCFE4 + v0->currAction))();
    object_presentCollisionData(v3, v4);
}


// 0x80dcff4
int __fastcall sub_80DCFF4(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !v3->currPhase )
    {
        v3->currPhase = 4;
        PlaySoundEffect(450, 4, a3);
        sub_80DD062();
    }
    v3->x += v3->vx;
    object_setPanelsFromCoordinates(v3);
    object_updateCollisionPanels(v3);
    if ( !object_isCurrentPanelValid() )
        object_clearCollisionRegion();
    v4 = v3->Timer;
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    v3->Timer = result;
    if ( (result < 0) ^ v5 )
    {
        object_clearCollisionRegion();
        result = 8;
        v3->currState = 8;
    }
    return result;
}


// 0x80dd03a
int __fastcall sub_80DD03A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(191, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dd062
int sub_80DD062()
{
    int v0; // r5
    signed int v1; // r0
    int v2; // r0
    int result; // r0

    *(v0 + 64) = object_getFrontDirection(v0) * *&byte_80DD098[4 * *(v0 + 4)];
    v1 = 7;
    if ( *(v0 + 22) )
        v1 = 0;
    v2 = v1 - *(v0 + 18);
    if ( v2 < 0 )
        v2 = -v2;
    result = 2621440 * v2;
    __asm { SVC         6 }
    *(v0 + 32) = result;
    return result;
}


// 0x80dd0ac
void sub_80DD0AC()
{
    int v0; // r5

    (*(&off_80DD0C4 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dd0d0
void __noreturn sub_80DD0D0()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 16, 22);
    sprite_hasShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(1);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, 1);
        object_setCollisionHitEffect(3);
        v3 = object_setCollisionStatusEffect1(*&byte_80DD144[4 * *(v0 + 100)]);
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80DD15C();
    }
    else
    {
        object_freeMemory();
    }
}


// 0x80dd15c
void sub_80DD15C()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    battle_isTimeStop();
    if ( v1 )
    {
        object_removeCollisionData();
        object_spawnCollisionEffect();
        if ( battle_isBattleOver() || *(*(v0 + 84) + 112) )
        {
            v4 = object_clearCollisionRegion();
            object_presentCollisionData(v4, v5);
            *(v0 + 8) = 8;
        }
        else
        {
            v2 = (*(&off_80DD1A0 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80dd1ac
signed int sub_80DD1AC()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r1

    if ( sub_80DD322() )
    {
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
        result = 0;
        *(v0 + 68) = 0;
    }
    else if ( sub_80DD2E0() )
    {
        *(v0 + 9) = 4;
        result = *(v0 + 96);
        if ( result )
        {
            v2 = *(result + 36);
            if ( result )
            {
                if ( *(result + 19) - *(v0 + 19) < 0 )
                    *(v0 + 68) = -*(v0 + 68);
            }
        }
    }
    else
    {
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    return result;
}


// 0x80dd204
signed int sub_80DD204()
{
    Battle *v0; // r5
    signed int result; // r0

    if ( sub_80DD322() )
    {
        v0->currAction = 8;
        v0->currPhase = 0;
        result = 0;
        v0->vx = 0;
    }
    else
    {
        v0->y += v0->vy;
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    return result;
}


// 0x80dd22e
int sub_80DD22E()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        *(v0 + 16) = 1;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dd25e
int __fastcall sub_80DD25E(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r6
    int result; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r3
    unsigned int v9; // [sp+4h] [bp-Ch]
    int v10; // [sp+8h] [bp-8h]

    object_spawnType3(192, a1, a2, a3);
    result = v3;
    if ( v3 )
    {
        *(v3 + 14) = 3;
        *(v3 + 100) = v9;
        *(v3 + 22) = v9 >> 8;
        *(v3 + 96) = v10;
        *(v3 + 44) = v4;
        *v3 |= 0x10u;
        object_setPanelsFromCoordinates(v3);
        v6 = *&byte_8113DC0[4 * *(v3 + 100)];
        v7 = object_getFrontDirection(v3);
        *(v3 + 64) = v7 * v8;
        *(v3 + 68) = v8;
        result = v3;
    }
    return result;
}


// 0x80dd2b6
signed int __fastcall sub_80DD2B6(signed int result)
{
    signed int v1; // r5

    if ( result )
    {
        v1 = result;
        result = *(result + 9);
        if ( result != 8 )
        {
            if ( result == 4 )
                *(v1 + 64) = 0;
            else
                *(v1 + 68) = 0;
            *(v1 + 9) = 8;
            *(v1 + 10) = 0;
            result = 8;
            *(v1 + 8) = 8;
        }
    }
    return result;
}


// 0x80dd2e0
signed int sub_80DD2E0()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r0
    int v5; // r3
    unsigned __int8 v6; // vf
    int v7; // r1
    int v8; // r0
    int v9; // r1
    int v10; // r1

    result = *(v0 + 96);
    if ( result )
    {
        v2 = *(result + 18);
        v3 = *(v0 + 18);
        v4 = object_getFrontDirection(v0);
        if ( (v4 * v5 < 0) ^ v6 )
            goto LABEL_10;
        v7 = *(v0 + 19);
        v8 = object_getCoordinatesForPanels(*(v0 + 18)) - *(v0 + 52);
        if ( v8 <= 0 )
            v8 = -v8;
        if ( v8 > 196608 )
        {
LABEL_10:
            result = 0;
        }
        else
        {
            v9 = *(v0 + 19);
            *(v0 + 52) = object_getCoordinatesForPanels(*(v0 + 18));
            *(v0 + 56) = v10;
            result = 1;
        }
    }
    return result;
}


// 0x80dd322
BOOL sub_80DD322()
{
    unsigned __int8 *v0; // r5

    return 7 * v0[22] == v0[18] || !v0[19] || v0[19] == 4;
}


// 0x80dd34c
void sub_80DD34C()
{
    int v0; // r5

    (*(&off_80DD364 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dd370
int sub_80DD370()
{
    int result; // r0

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
        result = object_genericDestroy();
    return result;
}


// 0x80dd382
int __noreturn sub_80DD382()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0
    _BYTE *v4; // r0
    int result; // r0
    int v6; // r0
    int v7; // r1
    int v8; // r2
    signed __int16 v9; // r0
    int v10; // r1
    int v11; // r1

    object_setCoordinatesFromPanels(v0);
    v1 = object_getFrontDirection(v0);
    *(v0 + 54) += 24 * v1;
    *(v0 + 64) = -229376 * v1;
    v2 = 49152 * *(v0 + 5);
    if ( *(v0 + 4) == 3 )
        v2 = 98304 * *(v0 + 5);
    *(v0 + 68) = v2;
    sprite_load(v0, 128, 16, 13);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v3 = object_getFlip(v0);
    sprite_setFlip(v0, v3);
    v4 = object_createCollisionData();
    if ( !v4 )
        return object_freeMemory();
    object_setupCollisionData(v4, 10, 5, 3);
    v6 = object_setCollisionHitEffect(255);
    object_presentCollisionData(v6, v7);
    *(v0 + 100) = *(v0 + 6);
    v9 = 32;
    v10 = *(v0 + 4);
    if ( v10 == 3 )
        v9 = 16;
    *(v0 + 32) = v9;
    v11 = 2 * v10;
    *(v0 + 34) = v11 + 28;
    PlaySoundEffect(320, v11, v8);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dd438
void __noreturn sub_80DD438()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    battle_isTimeStop();
    if ( v1 && battle_isBattleOver() )
        goto LABEL_15;
    if ( *(*(v0 + 84) + 112) & 0x1E800000 )
    {
        object_clearCollisionRegion();
        *(v0 + 96) = *(v0 + 18);
    }
    (*(&off_80DD4A0 + *(v0 + 9)))();
    if ( *(v0 + 8) != 8 && !*(*(v0 + 84) + 1) && *(v0 + 18) != *(v0 + 96) )
        object_setCollisionRegion(1);
    v2 = object_isCurrentPanelValid();
    if ( !v2 )
LABEL_15:
        sub_80DD584();
    else
        object_presentCollisionData(v2, v3);
}


// 0x80dd4b0
void __noreturn sub_80DD4B0()
{
    int v0; // r5
    int v1; // r0

    sub_80DD6F4();
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    sub_80DD738();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
    {
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
    }
    sub_80DD5C8();
}


// 0x80dd4e8
int sub_80DD4E8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int result; // r0

    sub_80DD6F4();
    *(v0 + 52) += *(v0 + 64);
    sub_80DD738();
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v1 = *(v0 + 19);
    v2 = object_getCoordinatesForPanels(*(v0 + 18));
    if ( !sub_800E6E8(*(v0 + 52), *(v0 + 52) - *(v0 + 64), v2) || !*(v0 + 7) )
        sub_80DD5C8();
    *(v0 + 32) = *(v0 + 7);
    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80dd538
void __noreturn sub_80DD538()
{
    int v0; // r5
    int v1; // r0
    char v2; // r0

    sub_80DD6F4();
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
    {
        *(v0 + 18) += object_getFrontDirection(v0);
        v2 = 1;
        if ( __CFSHL__(*(v0 + 68), 1) )
            v2 = -1;
        *(v0 + 19) += v2;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 10 - *(v0 + 4) - *(v0 + 4);
    }
    sub_80DD5C8();
}


// 0x80dd584
signed int sub_80DD584()
{
    int v0; // r5
    signed int result; // r0

    object_clearCollisionRegion();
    *(v0 + 16) = 1;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80dd594
int __fastcall sub_80DD594(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(193, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 76) = v10;
    }
    return result;
}


// 0x80dd5b4
_BYTE *__fastcall sub_80DD5B4(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80DD594(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80dd5c8
int __noreturn sub_80DD5C8()
{
    int v0; // r5
    int result; // r0

    result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
    if ( !(result & 0x10) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dd5e2
int sub_80DD5E2()
{
    int v0; // r5
    int result; // r0
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // r1
    int v8; // r1
    int v9; // r2
    int v10; // r3

    result = *(v0 + 6);
    if ( *(v0 + 6) )
    {
        if ( result != 1 )
        {
            if ( battle_isBattleOver() )
            {
                result = object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x20;
                if ( result == 32 * *(v0 + 22) )
                    return result;
            }
            else
            {
                *(v0 + 5);
                sub_800EC48(*(v0 + 18), *(v0 + 19), v2, &off_80DD6BC);
                result = panelFlagCheck_8015D80(v3, v4, v5, v6);
                if ( !result )
                    return result;
            }
            v7 = *&byte_80DD6A8[4 * *(v0 + 4)] * -*(v0 + 5);
            goto LABEL_14;
        }
        result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        if ( !(result & 0x20) )
        {
            result = object_getEnemyPlayerPanels();
            v9 = *(v0 + 18);
            v10 = *(v0 + 19);
            if ( result <= v9 )
            {
                if ( v8 == v10 )
                {
LABEL_15:
                    result = 0;
                    *(v0 + 6) = 0;
                    return result;
                }
                result = (result - v9) * (1 - (((result - v9) >> 30) & 0xFFFFFFFE));
                if ( result != (v8 - v10) * (1 - (((v8 - v10) >> 30) & 0xFFFFFFFE)) )
                    return result;
                v7 = *&byte_80DD6A8[4 * *(v0 + 4)];
                if ( *(v0 + 19) != 1 )
                    v7 = -v7;
LABEL_14:
                *(v0 + 68) = v7;
                *(v0 + 64) = *&byte_80DD6D0[4 * *(v0 + 4)] * object_getFrontDirection(v0);
                *(v0 + 7) = 5;
                goto LABEL_15;
            }
        }
    }
    return result;
}


// 0x80dd6f4
int sub_80DD6F4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r4

    result = *(v0 + 100);
    if ( result == 2 )
    {
        result = *(v0 + 104) + 1;
        if ( result >= 6 )
        {
            v2 = *(v0 + 23);
            v3 = ((((((*(v0 + 22) ^ v2) << 8) + *(v0 + 16)) << 8) + 13) << 8) + 16;
            sub_80E33FA(v2, *(v0 + 52), *(v0 + 56), *(v0 + 60));
            result = 0;
        }
        *(v0 + 104) = result;
    }
    return result;
}


// 0x80dd738
int sub_80DD738()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    signed int v3; // r1

    result = *(v0 + 34);
    if ( *(v0 + 34) )
    {
        *(v0 + 34) = result - 1;
        v2 = object_getFrontDirection(v0);
        v3 = 0x4000;
        if ( *(v0 + 4) == 3 )
            v3 = 0x8000;
        result = *(v0 + 64) + v3 * v2;
        *(v0 + 64) = result;
    }
    return result;
}


// 0x80dd764
int sub_80DD764()
{
    int v0; // r5

    return (*(&off_80DD778 + *(v0 + 8)))();
}


// 0x80dd784
int sub_80DD784()
{
    int v0; // r5
    int v1; // r2
    int v2; // r1
    int v3; // r1
    int v4; // r0
    _BYTE *v5; // r0
    int v6; // r0
    int v7; // r1

    if ( !battle_isBattleOver() )
    {
        if ( object_isCurrentPanelValid() )
        {
            sprite_load(v0, 128, 12, 47);
            sprite_loadAnimationData(v0);
            sprite_noShadow(v0);
            *(v0 + 16) = 0;
            *(v0 + 17) = -1;
            v1 = *(*(v0 + 76) + 56);
            *(v0 + 96) = *(*(v0 + 76) + 52);
            *(v0 + 100) = v1;
            *(v0 + 104) = *(v0 + 60);
            v2 = *(v0 + 19);
            *(v0 + 108) = object_getCoordinatesForPanels(*(v0 + 18));
            *(v0 + 112) = v3;
            v4 = object_getFlip(v0);
            sprite_setFlip(v0, v4);
            v5 = object_createCollisionData();
            if ( v5 )
            {
                object_setupCollisionData(v5, 28, 5, *(v0 + 4));
                v6 = object_clearCollisionRegion();
                object_presentCollisionData(v6, v7);
                *(v0 + 8) = 4;
                sub_80DD7FC();
            }
        }
    }
    return object_freeMemory();
}


// 0x80dd7fc
void __noreturn sub_80DD7FC()
{
    object_removeCollisionData();
    JUMPOUT(*byte_80DD802);
}


// 0x80dd848
signed int sub_80DD848()
{
    int v0; // r5
    int v1; // r1
    signed int result; // r0

    *v0 |= 2u;
    *(v0 + 32) = 0;
    *(v0 + 52) = sub_801164C(*(v0 + 96), *(v0 + 104), *(v0 + 108));
    *(v0 + 60) = v1;
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    result = 4;
    *(v0 + 9) = 4;
    return result;
}


// 0x80dd87c
int sub_80DD87C()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int result; // r0
    int v6; // r6
    int v7; // r1
    int v8; // r6

    LODWORD(v1) = *(v0 + 18);
    HIDWORD(v1) = *(v0 + 19);
    object_highlightPanel(v1);
    v2 = *(v0 + 32) + 1;
    *(v0 + 32) = v2;
    if ( v2 <= 15 )
    {
        v6 = *(v0 + 32);
        *(v0 + 52) = sub_801164C(*(v0 + 96), *(v0 + 104), *(v0 + 108));
        *(v0 + 60) = v7;
        v8 = *(v0 + 32);
        result = sub_801164C(*(v0 + 100), *(v0 + 104), *(v0 + 112));
        *(v0 + 56) = result;
    }
    else
    {
        *(v0 + 16) = 1;
        object_setCollisionRegion(1);
        PlaySoundEffect(151, v3, v4);
        *(v0 + 9) = 8;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80dd8d2
int sub_80DD8D2()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 32) == 28 )
        object_clearCollisionRegion();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 20;
        result = 12;
        *(v0 + 9) = 12;
    }
    return result;
}


// 0x80dd8f0
int sub_80DD8F0()
{
    unsigned __int8 *v0; // r5
    int v1; // r0
    int result; // r0

    v1 = *(v0 + 16) - 1;
    *(v0 + 16) = v1;
    if ( v1 )
    {
        if ( v1 & 2 )
            result = *v0 | 2;
        else
            result = *v0 & 0xFD;
        *v0 = result;
    }
    else
    {
        result = 8;
        *(v0 + 2) = 8;
    }
    return result;
}


// 0x80dd91a
int __fastcall sub_80DD91A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(194, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80dd930
_BYTE *__fastcall sub_80DD930(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80DD91A(a1, a2, a3, a4);
    *result |= 0x10u;
    return result;
}


// 0x80dd940
void sub_80DD940()
{
    int v0; // r5

    (*(&off_80DD964 + *(v0 + 8)))();
    if ( *(v0 + 6) )
        object_updateSpritePaused();
    else
        object_updateSpriteTimestop();
}


// 0x80dd970
int __noreturn sub_80DD970()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = *(&dword_80DD9FC + *(v0 + 4));
    *(v0 + 52) -= object_getFrontDirection(v0) << 19;
    sprite_load(v0, 128, 16, 81);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(&dword_80DDA04 + *(v0 + 4));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 22, 5, 1);
    object_setCollisionStatusEffect1(16);
    v5 = object_setCollisionHitEffect(12);
    object_presentCollisionData(v5, v6);
    *(v0 + 32) = *(v0 + 5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dda08
void __noreturn sub_80DDA08()
{
    int v0; // r5
    int v1; // r1
    char v2; // zf
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_11;
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    if ( *(v0 + 6) )
    {
        v1 = 10;
        if ( *(*(v0 + 76) + 9) != 10 )
        {
LABEL_11:
            object_clearCollisionRegion();
            *(v0 + 8) = 8;
            return;
        }
    }
    if ( !*(v0 + 6) || (battle_isTimeStop(), v2) )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3, 1);
        v5 = v3 - 1;
        *(v0 + 32) = v5;
        if ( !(((v5 < 0) ^ v4) | (v5 == 0)) )
        {
            object_presentCollisionData(v5, v1);
            return;
        }
        goto LABEL_11;
    }
}


// 0x80dda5a
int __fastcall sub_80DDA5A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(195, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80dda84
void sub_80DDA84()
{
    int v0; // r5

    (*(&off_80DDA9C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80ddaa8
int __noreturn sub_80DDAA8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v4; // r0
    int v5; // r1

    sprite_load(v0, 128, 16, 9);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 64) = 786432 * object_getFrontDirection(v0);
    *(v0 + 18) -= object_getFrontDirection(v0);
    object_setCoordinatesFromPanels(v0);
    v2 = object_createCollisionData();
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, 3);
        v4 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v4, v5);
        sprite_setPallete(0);
        *(v0 + 100) = 10;
        *(v0 + 8) = 4;
        sub_80DDB24();
    }
    return object_freeMemory();
}


// 0x80ddb24
void __noreturn sub_80DDB24()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_12;
    if ( *(*(v0 + 84) + 112) )
    {
        object_clearCollisionRegion();
        *(v0 + 96) = *(v0 + 18);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
    }
    (*(&off_80DDB94 + *(v0 + 9)))();
    sub_80DDBCA();
    if ( !*(*(v0 + 84) + 1) && *(v0 + 18) != *(v0 + 96) )
        object_setCollisionRegion(1);
    v1 = object_isCurrentPanelValid();
    if ( !v1 )
    {
LABEL_12:
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v1, v2);
    }
}


// 0x80ddb98
signed int sub_80DDB98()
{
    Battle *v0; // r5

    v0->x += v0->vx;
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80ddbac
int __fastcall sub_80DDBAC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(196, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80ddbca
int sub_80DDBCA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 100);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 100) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 100) = 5;
        result = sub_80DDBDE();
    }
    return result;
}


// 0x80ddbde
int sub_80DDBDE()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(&v0->vx, v0->x, v0->y - 0x10000, v0->z - 0x10000);
}


// 0x80ddc10
int sub_80DDC10()
{
    int v0; // r5

    return (*(&off_80DDC24 + *(v0 + 8)))();
}


// 0x80ddc30
void __noreturn sub_80DDC30()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v7; // r1
    unsigned int v8; // r0
    _BYTE *v9; // r0
    int v10; // r0
    int v11; // r1
    int v12; // r1
    int v13; // r2
    int v14; // [sp+0h] [bp-8h]

    *v0 |= 2u;
    sprite_load(v0, 128, 16, 86);
    *(v0 + 16) = 2;
    *(v0 + 17) = 2;
    sprite_setAnimation(v0, 2u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_hasShadow();
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 52) += object_getFrontDirection(v0) << 19;
    *(v0 + 60) += 0x80000;
    v2 = object_getCoordinatesForPanels(*(v0 + 4) & 7);
    __asm { SVC         6 }
    *(v0 + 64) = v2 - *(v0 + 52);
    __asm { SVC         6 }
    *(v0 + 68) = v7 - *(v0 + 56);
    __asm { SVC         6 }
    *(v0 + 72) = *(v0 + 60) + 851968;
    *(v0 + 32) = 10;
    v8 = *(v0 + 4);
    *(v0 + 18) = v8 & 7;
    *(v0 + 19) = v8 >> 4;
    v9 = object_createCollisionData();
    if ( !v9 )
    {
        object_freeMemory();
        JUMPOUT(__CS__, v14);
    }
    object_setupCollisionData(v9, 21, 5, 3);
    sub_801A146();
    v10 = object_clearCollisionRegion();
    object_presentCollisionData(v10, v11);
    PlaySoundEffect(255, v12, v13);
    *(v0 + 8) = 4;
}


// 0x80ddcf4
void __noreturn sub_80DDCF4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    (*(&off_80DDD28 + *(v0 + 9)))();
    object_updateSprite();
    object_presentCollisionData(v1, v2);
}


// 0x80ddd30
char *sub_80DDD30()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    char *result; // r0
    __int64 v5; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( v1 )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        *(v0 + 60) -= *(v0 + 72);
        result = *(v0 + 32);
        if ( !(result & 4) )
        {
            LODWORD(v5) = *(v0 + 18);
            HIDWORD(v5) = *(v0 + 19);
            result = object_highlightPanel(v5);
        }
    }
    else
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 60) = 0;
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0xF800010 )
        {
            SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
            PlaySoundEffect(112, v2, v3);
            camera_initShakeEffect_80302a8(1, 15);
            object_crackPanel(*(v0 + 18), *(v0 + 19));
        }
        *(v0 + 9) = 4;
        *(v0 + 10) = 0;
        result = (*v0 & 0xFD);
        *v0 = result;
    }
    return result;
}


// 0x80dddb8
signed int sub_80DDDB8()
{
    int v0; // r5
    signed int result; // r0

    *v0 &= 0xFDu;
    object_clearCollisionRegion();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80dddcc
int __fastcall sub_80DDDCC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(197, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80dddf0
void sub_80DDDF0()
{
    int v0; // r5

    (*(&off_80DDE08 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dde14
int __noreturn sub_80DDE14()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    _BYTE *v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 20;
    sprite_load(v0, 128, 8, 9);
    sprite_hasShadow();
    *v0 |= 2u;
    v1 = byte_80DDE80[*(v0 + 4)];
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    v3 = object_createCollisionData();
    if ( !v3 )
        return object_freeMemory();
    object_setupCollisionData(v3, 6, 5, 1);
    v5 = object_setCollisionHitEffect(10);
    object_presentCollisionData(v5, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dde82
void __noreturn sub_80DDE82()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 9 )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *&byte_80DDEEC[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
        {
            object_clearCollisionRegion();
            *(v0 + 9) = 8;
            *(v0 + 10) = 0;
        }
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80DDEDC + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80ddef4
int sub_80DDEF4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 5);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80ddf18
int __fastcall sub_80DDF18(int a1, int a2, int a3)
{
    int v3; // r5
    int v8; // r0
    int result; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 4;
        *(v3 + 16) = byte_80DDF84[*(v3 + 4)];
        PlaySoundEffect(240, byte_80DDF84, a3);
        *(v3 + 64) = object_getFrontDirection(v3) << 19;
        __asm { SVC         6 }
        *(v3 + 32) = 0;
    }
    *(v3 + 52) += *(v3 + 64);
    object_setPanelsFromCoordinates(v3);
    object_updateCollisionPanels(v3);
    if ( object_isCurrentPanelValid() )
    {
        v8 = *(v3 + 32);
        _VF = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v3 + 32) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            object_clearCollisionRegion();
            *(v3 + 9) = 8;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    else
    {
        object_clearCollisionRegion();
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80ddf86
int sub_80DDF86()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 10 || result == 20 )
        {
            result = sub_80DDFDE();
        }
        else if ( result <= 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80ddfb6
int __fastcall sub_80DDFB6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(198, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 76) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80ddfde
int sub_80DDFDE()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x80de000
void sub_80DE000()
{
    int v0; // r5

    (*(&off_80DE018 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80de024
void __noreturn sub_80DE024()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 77);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = *(v0 + 7);
    v3 = object_getCoordinatesForPanels(*(v0 + 6));
    *(v0 + 64) = sub_8001330((v0 + 52), v3, v4);
    *(v0 + 68) = v5;
    *(v0 + 72) = v6;
    *(v0 + 32) = 20;
    *(v0 + 8) = 4;
}


// 0x80de080
int sub_80DE080()
{
    Battle *v0; // r5

    return sub_80DE088(v0);
}


// 0x80de088
int __usercall sub_80DE088@<R0>(Battle *obj@<R5>)
{
    int v1; // r0
    unsigned __int8 v2; // vf
    Battle *v3; // r5
    int v4; // r1
    int v5; // r2
    int v6; // r1
    int v7; // r2
    int v8; // r3
    int v9; // r0
    u32 v10; // r1
    int result; // r0

    if ( sprite_getFrameParameters() & 0x80 )
        *&obj->currAnimation = 1;
    v1 = obj->Timer;
    v2 = __OFSUB__(v1--, 1);
    obj->Timer = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *obj->parent = 0;
        *&obj->currState = 8;
        SpawnT4BattleObjectWithId0(obj, &obj->vx, obj->x, obj->y, obj->z);
        v3 = battle_findPlayer(obj->Alliance);
        object_addHP(v3, 300);
        PlaySoundEffect(138, v4, v5);
        sub_801A7CC(5);
        v9 = v3->ai->unk_60;
        if ( v9 )
            v9 = sub_80E0DC0(v9);
        result = sub_80E0D98(v9, v6, v7, v8);
    }
    else
    {
        obj->x += obj->vx;
        obj->y += obj->vy;
        v10 = obj->vz;
        obj->z += v10;
        obj->vz = v10 - 34952;
        result = object_setPanelsFromCoordinates(obj);
    }
    return result;
}


// 0x80de112
int __fastcall sub_80DE112(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType3(199, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v5;
        *v5 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80de13c
void sub_80DE13C()
{
    int v0; // r5

    (*(&off_80DE154 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80de160
int sub_80DE160()
{
    return object_genericDestroy();
}


// 0x80de168
int __noreturn sub_80DE168()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 4, 16);
    sprite_noShadow(v0);
    *v0 &= 0xFDu;
    *(v0 + 16) = 7;
    *(v0 + 17) = 7;
    sprite_setAnimation(v0, 7u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(3 * *(v0 + 4));
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) -= 36;
    sub_80DE30E();
    *(v0 + 8) = 4;
    return sub_80DE1B8();
}


// 0x80de1b8
int sub_80DE1B8()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80DE1E0 + *(v0 + 9)))();
    }
    return result;
}


// 0x80de1f4
signed int sub_80DE1F4()
{
    _BYTE *v0; // r5
    signed int result; // r0
    int v2; // r1

    result = 96;
    v2 = v0[96] - 1;
    v0[96] = v2;
    if ( !v2 )
    {
        *v0 |= 2u;
        sub_80DE38C(1);
        v0[9] = 4;
        result = 0;
        v0[10] = 0;
    }
    return result;
}


// 0x80de21a
int sub_80DE21A()
{
    int v0; // r5
    int result; // r0

    *(v0 + 56) += *(v0 + 68);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    result = 3 * (*(v0 + 98) ^ 1);
    if ( result == *(v0 + 19) )
    {
        if ( *(v0 + 98) == 1 )
        {
            sub_80DE3B0();
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            *(v0 + 101) = 0;
            *(v0 + 104) = *(v0 + 56);
            result = 8;
            *(v0 + 9) = 8;
        }
    }
    return result;
}


// 0x80de266
int sub_80DE266()
{
    Battle *v0; // r5
    int v1; // r2
    int result; // r0
    int v3; // r1

    v1 = v0->extraVars[0] + 1;
    v0->extraVars[0] = v1;
    if ( v1 == v0->extraVars[3] )
    {
        v0->extraVars[2] ^= 1u;
        v0->vy = -v0->vy;
        v3 = v0->panelY;
        v0->x = object_getCoordinatesForPanels(v0->panelX);
        v0->extraVars[0] = 0;
        result = 4;
        v0->currAction = 4;
    }
    else
    {
        v0->x += v0->vx;
        sub_80DE350();
        result = object_setPanelsFromCoordinates(v0);
    }
    return result;
}


// 0x80de2b0
signed int sub_80DE2B0()
{
    int v0; // r5
    signed int result; // r0

    if ( *(v0 + 96) )
    {
        --*(v0 + 96);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    else
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 1;
            sub_80DE38C(*(v0 + 98));
        }
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80de2f0
int __fastcall sub_80DE2F0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-18h]
    char v7; // [sp+4h] [bp-14h]
    char v8; // [sp+Ch] [bp-Ch]
    int v9; // [sp+10h] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a4;
    object_spawnType3(200, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 96) = v8;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80de30e
int sub_80DE30E()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int result; // r0

    *(v0 + 68) = *&byte_80DE3DC[4 * *(v0 + 4)];
    v1 = object_getFrontDirection(v0);
    *(v0 + 64) = v1 * v2;
    __asm { SVC         6 }
    *(v0 + 99) = 0;
    __asm { SVC         6 }
    *(v0 + 100) = -128;
    result = 0;
    *(v0 + 98) = 0;
    *(v0 + 97) = 0;
    return result;
}


// 0x80de350
int sub_80DE350()
{
    int v0; // r5
    int v1; // r3
    int result; // r0

    v1 = *(v0 + 101) + *(v0 + 100);
    *(v0 + 101) = v1;
    result = 3072 * *&math_sinTable[2 * v1] * *&byte_80DE384[4 * *(v0 + 98)];
    *(v0 + 56) = *(v0 + 104) + result;
    return result;
}


// 0x80de38c
void __fastcall sub_80DE38C(int result)
{
    Battle *v1; // r5
    u32 v2; // t1

    if ( result )
    {
        v2 = v1->z;
        SpawnT4BattleObjectWithId0(v1, (v1->Alliance ^ v1->directionFlip) << 8, v1->x, v1->y, 0);
    }
}


// 0x80de3b0
int sub_80DE3B0()
{
    int v0; // r5
    int result; // r0

    result = *&byte_80DE3D0[4 * *(v0 + 98)];
    *(v0 + 68);
    __asm { SVC         6 }
    *(v0 + 96) = result;
    return result;
}


// 0x80de404
void sub_80DE404()
{
    int v0; // r5

    (*(&off_80DE41C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80de428
int sub_80DE428()
{
    return object_genericDestroy();
}


// 0x80de430
int __noreturn sub_80DE430()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    _BYTE *v3; // r7
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2

    sprite_load(v0, 128, 4, 16);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 2;
    *(v0 + 17) = 2;
    sprite_setAnimation(v0, 2u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(3 * *(v0 + 4));
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) -= 36;
    v2 = object_createCollisionData();
    v3 = v2;
    if ( v2 )
    {
        object_setupCollisionData(v2, 4, 5, *&byte_80DE4C8[4 * *(v0 + 4)]);
        v3[1] = 1;
        v5 = object_setCollisionHitEffect(*&byte_80DE4DC[4 * *(v0 + 4)]);
        object_presentCollisionData(v5, v6);
        sub_80DE67E();
        sub_80DE7C8();
        sub_80DE70C(1);
        PlaySoundEffect(247, v7, v8);
        *(v0 + 8) = 4;
        sub_80DE4EC();
    }
    return object_freeMemory();
}


// 0x80de4ec
int __noreturn sub_80DE4EC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // zf
    int result; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) & 0xFF800000 )
            object_clearCollisionRegion();
        v1 = battle_isTimeStop();
        if ( v3 )
            v1 = (*(&off_80DE534 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
        result = object_highlightCurrentCollisionPanels();
    }
    return result;
}


// 0x80de544
int sub_80DE544()
{
    int v0; // r5
    int result; // r0

    *(v0 + 56) += *(v0 + 68);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    sub_80DE730();
    result = 3 * (*(v0 + 100) ^ 1);
    if ( result == *(v0 + 19) )
    {
        if ( *(v0 + 100) == 1 )
        {
            sub_80DE7A0();
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
        else
        {
            *(v0 + 103) = 0;
            *(v0 + 104) = *(v0 + 56);
            result = 4;
            *(v0 + 9) = 4;
        }
    }
    return result;
}


// 0x80de594
signed int sub_80DE594()
{
    Battle *v0; // r5
    signed int v1; // r2
    int v2; // r1

    v1 = v0->extraVars[2] + 1;
    v0->extraVars[2] = v1;
    if ( v1 == v0->extraVars[5] )
    {
        v0->extraVars[4] ^= 1u;
        v0->vy = -v0->vy;
        v2 = v0->panelY;
        v0->x = object_getCoordinatesForPanels(v0->panelX);
        v0->extraVars[2] = 0;
        v0->currAction = 0;
    }
    else
    {
        v0->currAnimation = sub_810FA4C(v1) * *&byte_80DE610[4 * v0->extraVars[4]] + *(&dword_80DE608 + v0->extraVars[4]);
        v0->x += v0->vx;
        sub_80DE6D0();
        object_setPanelsFromCoordinates(v0);
        sub_80DE730();
    }
    return object_updateCollisionPanels(v0);
}


// 0x80de618
int sub_80DE618()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 98) )
    {
        --*(v0 + 98);
        *(v0 + 56) += *(v0 + 68);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        result = sub_80DE730();
    }
    else
    {
        if ( !*(v0 + 10) )
        {
            *(v0 + 10) = 1;
            sub_80DE70C(*(v0 + 100));
        }
        object_clearCollisionRegion();
        *v0 &= 0xFDu;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80de660
int __fastcall sub_80DE660(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(201, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80de67e
int sub_80DE67E()
{
    int v0; // r5
    char v1; // r1
    int v2; // r0
    int v3; // r2
    int result; // r0

    v1 = *(v0 + 19);
    *(v0 + 96) = *(v0 + 18);
    *(v0 + 97) = v1;
    *(v0 + 68) = *&byte_80DE3DC[4 * *(v0 + 4)];
    v2 = object_getFrontDirection(v0);
    *(v0 + 64) = v2 * v3;
    __asm { SVC         6 }
    *(v0 + 101) = 0;
    __asm { SVC         6 }
    *(v0 + 102) = -128;
    result = 0;
    *(v0 + 100) = 0;
    *(v0 + 98) = 0;
    *(v0 + 99) = 0;
    return result;
}


// 0x80de6d0
int sub_80DE6D0()
{
    int v0; // r5
    int v1; // r3
    int result; // r0

    v1 = *(v0 + 103) + *(v0 + 102);
    *(v0 + 103) = v1;
    result = 3072 * *&math_sinTable[2 * v1] * *&byte_80DE704[4 * *(v0 + 100)];
    *(v0 + 56) = *(v0 + 104) + result;
    return result;
}


// 0x80de70c
void __fastcall sub_80DE70C(int result)
{
    Battle *v1; // r5
    u32 v2; // t1

    if ( result )
    {
        v2 = v1->z;
        SpawnT4BattleObjectWithId0(v1, (v1->Alliance ^ v1->directionFlip) << 8, v1->x, v1->y, 0);
    }
}


// 0x80de730
int sub_80DE730()
{
    unsigned __int8 *v0; // r5
    int result; // r0
    unsigned __int8 v2; // r1

    result = v0[18];
    if ( result != v0[96] || v0[19] != v0[97] )
    {
        sub_80DE768(v0[96], v0[97]);
        v2 = v0[19];
        v0[96] = v0[18];
        v0[97] = v2;
        result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80de768
int __fastcall sub_80DE768(int result, int a2)
{
    int v2; // r5
    bool v3; // zf
    signed int v4; // r2
    int v5; // [sp-8h] [bp-1Ch]
    int v6; // [sp-4h] [bp-18h]

    if ( result > 0 && result < 7 && a2 > 0 && a2 < 4 )
    {
        v5 = result;
        v6 = a2;
        v3 = object_isPanelSolid(result, a2) == 0;
        result = v5;
        if ( !v3 )
        {
            v4 = *(&dword_80DE79C + *(v2 + 4));
            if ( v4 != 255 )
                object_setPanelType(v5, v6, v4);
        }
    }
    return result;
}


// 0x80de7a0
int sub_80DE7A0()
{
    int v0; // r5
    int result; // r0

    result = *&byte_80DE7C0[4 * *(v0 + 100)];
    *(v0 + 68);
    __asm { SVC         6 }
    *(v0 + 98) = result;
    return result;
}


// 0x80de7c8
char *sub_80DE7C8()
{
    int v0; // r5
    int v1; // r2
    char *result; // r0
    char *v3; // ST00_4
    int v4; // ST04_4
    int v5; // r4

    v1 = 0;
    result = &byte_80DE3DC[4 * *(v0 + 4) + 24];
    do
    {
        v3 = result;
        v4 = v1;
        v5 = *(v0 + 4);
        sub_80DE2F0(*(v0 + 18), *(v0 + 19), v1, result[v1]);
        result = v3;
        v1 = v4 + 1;
    }
    while ( v4 != 3 );
    return result;
}


// 0x80de7f4
void sub_80DE7F4()
{
    int v0; // r5

    (*(&off_80DE80C + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80de818
void __noreturn sub_80DE818()
{
    int v0; // r5
    char *v1; // r1
    int v2; // r2
    unsigned int v3; // r0

    v1 = &(*off_80DE88C[*(v0 + 5)])[4 * (*(v0 + 22) ^ *(v0 + 23))];
    v2 = *(v0 + 4);
    *(v0 + 32) = v1[v2] << 8;
    *(v0 + 34) = v1[v2 + 2];
    *(v0 + 96) = -7864320 * object_getFrontDirection(v0);
    *(v0 + 100) = 3145728;
    sub_80DE8A4();
    *v0 |= 2u;
    v3 = 3141;
    if ( *(v0 + 4) )
        v3 = 68677;
    sub_8011504(v3, 0x6050300u);
}


// 0x80de8a4
int sub_80DE8A4()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 96) + 2621440 * (*(v0 + 18) - (4 - (*(v0 + 22) ^ *(v0 + 23))));
    *(v0 + 96) = result;
    return result;
}


// 0x80de8c0
void __noreturn sub_80DE8C0()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    int v3; // r0
    int v4; // r1
    int v5; // r7
    int v6; // r0
    int v7; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    object_clearCollisionRegion();
    v3 = *(v0 + 84);
    v4 = *(v3 + 112);
    if ( v4 )
        sub_80E11E0(v3, v4, v1, v2);
    v5 = *(v0 + 18);
    (*(&off_80DE920 + *(v0 + 9)))();
    if ( *(v0 + 8) != 8 && *(v0 + 18) != v5 && object_isValidPanel(*(v0 + 18), *(v0 + 19)) )
        object_setCollisionRegion(2);
    v6 = object_highlightPanelRegion(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11), *(*(v0 + 84) + 1), *(v0 + 22));
    object_presentCollisionData(v6, v7);
}


// 0x80de924
signed int sub_80DE924()
{
    int v0; // r5
    int v1; // r0
    signed int v2; // r1

    if ( *(v0 + 104) == 1 )
        sub_80DE9E4();
    v1 = *(v0 + 104) + 1;
    v2 = 4;
    if ( *(v0 + 5) )
        v2 = 6;
    if ( v1 >= v2 )
        v1 = 0;
    *(v0 + 104) = v1;
    if ( !sub_80DE984() )
    {
        *(v0 + 8) = 8;
        object_clearCollisionRegion();
    }
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80de960
_BYTE *__fastcall sub_80DE960(char a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    _BYTE *result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(202, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
        if ( result[5] == 1 )
            *result |= 0x10u;
    }
    return result;
}


// 0x80de984
int sub_80DE984()
{
    int v0; // r5
    unsigned int v1; // r0
    int v2; // r1
    int result; // r0

    v1 = 2 * (*(v0 + 32) >> 8);
    v2 = 40960 * *&math_sinTable[v1] + *(v0 + 100);
    *(v0 + 52) = 40960 * *&math_cosTable[v1] + *(v0 + 96);
    *(v0 + 56) = v2;
    *(v0 + 32) += LOWORD(off_80DE9DC[*(v0 + 5)]) * (2 * *(v0 + 4) - 1) * object_getFrontDirection(v0);
    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    return result;
}


// 0x80de9e4
int sub_80DE9E4()
{
    int v0; // r5
    int v1; // r4
    int result; // r0

    v1 = (object_getFlip(v0) << 24) | 0x450C | (*(v0 + 16) << 16);
    result = sub_80E33FA(*(v0 + 5), *(v0 + 52), *(v0 + 56), *(v0 + 60));
    if ( *(v0 + 5) == 1 )
        result = sub_80E3428(result, 1);
    return result;
}


// 0x80dea7c
void sandwormObject_80DEA7C()
{
    int v0; // r5

    (*(&off_80DEA94 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80deaa0
int snakearmRelated_destroy_80DEAA0()
{
    return object_genericDestroy();
}


// 0x80deaa8
int __noreturn snakearmRelated_80DEAA8()
{
    int v0; // r5
    _BYTE *v1; // r0
    _BYTE *v2; // r7
    int v4; // r0
    int v5; // r1
    int v6; // r0

    sprite_load(v0, 128, 4, 26);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 1;
    *(v0 + 17) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(v0 + 98));
    object_setCoordinatesFromPanels(v0);
    v1 = object_createCollisionData();
    v2 = v1;
    if ( v1 )
    {
        object_setupCollisionData(v1, 10, 5, 3);
        v2[1] = 1;
        v4 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v4, v5);
        sub_80DECBC();
        v6 = object_getFlip(v0);
        sprite_setFlip(v0, v6);
        *(v0 + 8) = 4;
        snakearmRelated_80DEB1C();
    }
    return object_freeMemory();
}


// 0x80deb1c
int __noreturn snakearmRelated_80DEB1C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r0
    int v4; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        if ( *(*(v0 + 84) + 112) & 0xFF800000 )
            object_clearCollisionRegion();
        result = battle_isTimeStop();
        if ( v2 )
        {
            v3 = (*(&off_80DEB60 + *(v0 + 9)))();
            object_presentCollisionData(v3, v4);
            result = object_highlightCurrentCollisionPanels();
        }
    }
    return result;
}


// 0x80deb70
int snakearmRelated_action0x0_80DEB70()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r5
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // [sp+0h] [bp-18h]

    v1 = *(v0 + 18);
    v2 = *(v0 + 19);
    v3 = v0;
    v4 = *(v0 + 76);
    *(v8 + 112) = spawnSnakearmRelatedObject_t1_0x1c_80BC998(v1, v2, v3);
    PlaySoundEffect(225, v5, v6);
    *(v8 + 9) = 4;
    result = 0;
    *(v8 + 10) = 0;
    return result;
}


// 0x80deb94
signed int snakearmRelated_action0x4_80DEB94()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // ST00_4
    int v9; // r5
    int v10; // r1
    int v11; // r2

    v1 = *(v0 + 120) - 1;
    *(v0 + 120) = v1;
    if ( v1 <= 0 )
    {
        *(v0 + 120) = 0;
        snakearmRelated_setAnim2CurAction8IfCurActionNot8_80BC9BE(*(v0 + 112));
        *(v0 + 112) = 0;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) = 5632 * *&math_sinTable[2 * (*(v0 + 106) >> 8)];
    v2 = *(v0 + 102);
    v3 = snakearmRelated_divideR0By4_StoreIntoR1_SetR0To3If4_8114F52(*(v0 + 100)) + 1;
    if ( v3 != *(v0 + 99) )
    {
        *(v0 + 16) = v3;
        *(v0 + 99) = v3;
    }
    *(v0 + 106) += *(v0 + 104);
    v4 = *(v0 + 100) + 1;
    *(v0 + 100) = v4;
    if ( v4 == *(v0 + 102) )
    {
        v5 = *(v0 + 18);
        v6 = *(v0 + 19);
        v7 = v0;
        v8 = v0;
        v9 = *(v0 + 76);
        v0 = v8;
        *(v8 + 116) = spawnSnakearmRelatedObject_t1_0x1c_80BC998(v5, v6, v7);
        *(v8 + 16) = 0;
        PlaySoundEffect(446, v10, v11);
        *(v8 + 60) = 0;
        *(v8 + 9) = 8;
        *(v8 + 10) = 0;
    }
    object_setPanelsFromCoordinates(v0);
    snakearmRelated_80DED58();
    return object_updateCollisionPanels(v0);
}


// 0x80dec3c
signed int snakearmRelated_action0x8_80DEC3C()
{
    int v0; // r5
    int v1; // r1
    signed int result; // r0
    int v3; // r1

    v1 = *(v0 + 120) - 1;
    *(v0 + 120) = v1;
    if ( v1 <= 0 )
    {
        *(v0 + 120) = 0;
        snakearmRelated_setAnim2CurAction8IfCurActionNot8_80BC9BE(*(v0 + 112));
        *(v0 + 112) = 0;
    }
    object_clearCollisionRegion();
    *v0 &= 0xFDu;
    result = 122;
    v3 = *(v0 + 122) - 1;
    *(v0 + 122) = v3;
    if ( v3 <= 0 )
    {
        *(v0 + 122) = 0;
        snakearmRelated_setAnim2CurAction8IfCurActionNot8_80BC9BE(*(v0 + 116));
        *(v0 + 116) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80dec84
int __fastcall spawnSandwormObject_80DEC84(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-18h]
    char v8; // [sp+4h] [bp-14h]
    char v9; // [sp+8h] [bp-10h]
    int v10; // [sp+10h] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(203, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v10;
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 98) = *(v4 + 4);
        *(v4 + 110) = *(v4 + 18);
        *(v4 + 111) = *(v4 + 19);
        *(v4 + 112) = 0;
        *(v4 + 116) = 0;
    }
    return result;
}


// 0x80decbc
int sub_80DECBC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    int v3; // r0
    int v4; // r4
    int v5; // r1
    int v6; // r1
    int v7; // r2
    __int16 v8; // r3

    v1 = 4 * *(v0 + 98);
    *(v0 + 120) = *&byte_80DEA58[v1 + 24];
    *(v0 + 122) = *&byte_80DEA58[v1 + 26];
    *(v0 + 23) = 1;
    *(v0 + 96) = *(v0 + 18) + object_getFrontDirection(v0);
    *(v0 + 97) = *(v0 + 19);
    *(v0 + 108) = *&byte_80DEA50[2 * *(v0 + 98)];
    v2 = *(v0 + 97);
    v3 = object_getCoordinatesForPanels(*(v0 + 96));
    v4 = *(v0 + 108);
    *(v0 + 64) = battleCoordCalc_8114F6A((v0 + 52), v3, v5, 0);
    *(v0 + 68) = v6;
    *(v0 + 72) = v7;
    *(v0 + 104) = v8;
    *(v0 + 60) = 0;
    *(v0 + 100) = 0;
    *(v0 + 102) = *(v0 + 108);
    *(v0 + 106) = 0;
    *(v0 + 16) = 1;
    *(v0 + 99) = 1;
    return sub_80DED80();
}


// 0x80ded58
int snakearmRelated_80DED58()
{
    unsigned __int8 *v0; // r5
    int result; // r0
    int v2; // r1

    result = v0[18];
    v2 = v0[19];
    if ( result != v0[110] || v2 != v0[111] )
    {
        v0[110] = result;
        v0[111] = v2;
        result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80ded80
int sub_80DED80()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // [sp-4h] [bp-18h]

    v1 = *(v0 + 98);
    result = 0;
    do
    {
        v3 = result;
        if ( byte_80DEDD8[result] != 255 )
            sub_80DEFD6(*(v0 + 18), *(v0 + 19), byte_80DEA58[7 * v1 + result], 0);
        result = v3 + 1;
    }
    while ( v3 + 1 < 7 );
    return result;
}


// 0x80dee60
void sub_80DEE60()
{
    int v0; // r5

    (*(&off_80DEE78 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80dee84
int sub_80DEE84()
{
    return object_genericDestroy();
}


// 0x80dee8c
int __noreturn sub_80DEE8C()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 4, 26);
    sprite_removeShadow();
    *v0 &= 0xFDu;
    v1 = *(&dword_80DEEE4 + *(v0 + 110));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(v0 + 98));
    sub_80DF016();
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 8) = 4;
    return sub_80DEEE8();
}


// 0x80deee8
int sub_80DEEE8()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80DEF10 + *(v0 + 9)))();
    }
    return result;
}


// 0x80def1c
signed int sub_80DEF1C()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r1

    result = 100;
    v2 = *(v0 + 100) - 1;
    *(v0 + 100) = v2;
    if ( !v2 )
    {
        *v0 |= 2u;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80def3c
signed int sub_80DEF3C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) = 5632 * *&math_sinTable[2 * (*(v0 + 106) >> 8)];
    v1 = *(v0 + 102);
    v2 = snakearmRelated_divideR0By4_StoreIntoR1_SetR0To3If4_8114F52(*(v0 + 100)) + byte_80DEFC4[*(v0 + 110)];
    if ( v2 != *(v0 + 99) )
    {
        *(v0 + 16) = v2;
        *(v0 + 99) = v2;
    }
    *(v0 + 106) += *(v0 + 104);
    v3 = *(v0 + 100) + 1;
    *(v0 + 100) = v3;
    if ( v3 == *(v0 + 102) )
    {
        *(v0 + 16) = 0;
        *(v0 + 60) = 0;
        *(v0 + 9) = 8;
        *(v0 + 10) = 0;
    }
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80defc6
signed int sub_80DEFC6()
{
    int v0; // r5
    signed int result; // r0

    *v0 &= 0xFDu;
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80defd6
int __fastcall sub_80DEFD6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    __int16 v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(204, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v9;
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 110) = *(v4 + 5);
        *(v4 + 111) = *(v4 + 6);
        *(v4 + 100) = v8;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 98) = *(v4 + 4);
        *(v4 + 52) = *(v9 + 52);
        *(v4 + 56) = *(v9 + 56) - 1;
        *(v4 + 60) = *(v9 + 60);
    }
    return result;
}


// 0x80df016
int sub_80DF016()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r4
    int v4; // r1
    int v5; // r1
    int v6; // r2
    __int16 v7; // r3
    int result; // r0

    *(v0 + 23) = 1;
    *(v0 + 96) = *(v0 + 18) + object_getFrontDirection(v0);
    *(v0 + 97) = *(v0 + 19);
    *(v0 + 108) = *&byte_80DEA50[2 * *(v0 + 98)];
    v1 = *(v0 + 97);
    v2 = object_getCoordinatesForPanels(*(v0 + 96));
    v3 = *(v0 + 108);
    *(v0 + 64) = battleCoordCalc_8114F6A((v0 + 52), v2, v4, 0);
    *(v0 + 68) = v5;
    *(v0 + 72) = v6;
    *(v0 + 104) = v7;
    *(v0 + 102) = *(v0 + 108);
    *(v0 + 106) = 0;
    result = *(&dword_80DF098 + *(v0 + 110));
    *(v0 + 16) = result;
    *(v0 + 99) = result;
    return result;
}


// 0x80df0a4
void sub_80DF0A4()
{
    int v0; // r5

    (*(&off_80DF0BC + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80df0c8
signed int __noreturn sub_80DF0C8()
{
    int v0; // r5
    int v1; // r0
    _BYTE *v2; // r0
    int v3; // r0
    int v4; // r1
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0x80000;
    sprite_load(v0, 128, 12, 28);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(4);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = object_createCollisionData();
    if ( !v2 )
    {
        object_freeMemory();
        JUMPOUT(&locret_80DF15E);
    }
    object_setupCollisionData(v2, 4, 5, 3);
    v3 = object_setCollisionHitEffect(6);
    object_presentCollisionData(v3, v4);
    *(v0 + 32) = *(v0 + 4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80df132
void __noreturn sub_80DF132()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v0 + 32) = v4;
    if ( ((v4 < 0) ^ v3) | (v4 == 0) )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        object_presentCollisionData(v4, v1);
    }
}


// 0x80df188
void sub_80DF188()
{
    int v0; // r5

    (*(&off_80DF1A0 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80df1ac
signed int __noreturn sub_80DF1AC()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 0;
    *(v0 + 52) += 2621440 * object_getFrontDirection(v0);
    sprite_load(v0, 128, 16, 68);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80df1fc
int sub_80DF1FC()
{
    int v0; // r5

    return (*(&off_80DF214 + *(v0 + 9)))();
}


// 0x80df218
int __fastcall sub_80DF218(int a1, signed int a2)
{
    int v2; // r5
    int v7; // r0
    int v8; // r0
    int result; // r0

    if ( !*(v2 + 11) )
    {
        *(v2 + 11) = 4;
        *(v2 + 32) = *(v2 + 4);
        __asm { SVC         6 }
        *(v2 + 96) = *(v2 + 4);
        *(v2 + 100) = 0;
        *(v2 + 34) = 0;
    }
    v7 = *(v2 + 34);
    _VF = __OFSUB__(v7--, 1);
    *(v2 + 34) = v7;
    if ( ((v7 < 0) ^ _VF) | (v7 == 0) && *(v2 + 100) < 3 )
    {
        sub_80DF288(*(v2 + 100));
        *(v2 + 34) = *(v2 + 96);
        ++*(v2 + 100);
    }
    v8 = *(v2 + 32);
    _VF = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v2 + 32) = result;
    if ( ((result < 0) ^ _VF) | (result == 0) )
    {
        result = 8;
        *(v2 + 8) = 8;
    }
    return result;
}


// 0x80df262
int __fastcall sub_80DF262(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(206, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80df288
char *__fastcall sub_80DF288(int a1)
{
    signed int v1; // r4
    char *result; // r0
    int v3; // r0

    v1 = 0;
    result = (&off_80DF2CC)[a1];
    do
    {
        sub_80DF2A0(result);
        result = (v3 + 8);
        ++v1;
    }
    while ( v1 < 3 );
    return result;
}


// 0x80df2a0
void __fastcall sub_80DF2A0(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // r0
    int v4; // r4
    int v5; // r6

    v2 = a1;
    if ( *(a1 + 1) )
    {
        v3 = object_getFrontDirection(v1);
        v4 = *(v2 + 4);
        v5 = *(v1 + 44);
        sub_80C53A6(v3 * *v2 + *(v1 + 18), *(v1 + 19), *(v1 + 14), 0);
    }
}


// 0x80df328
void sub_80DF328()
{
    int v0; // r5

    (*(&off_80DF340 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80df34c
signed int __noreturn sub_80DF34C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 60) = 16711680;
    sprite_load(v0, 128, 16, 29);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 3;
    *(v0 + 17) = 3;
    sprite_setAnimation(v0, 3u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80df3cc
int sub_80DF3CC()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        result = *(v0 + 4);
        *(v0 + 32) = result;
    }
    return result;
}


// 0x80df3f0
int sub_80DF3F0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 0;
        *(v0 + 60) = 0;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80df41c
int sub_80DF41C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    char v4; // r0
    int v5; // ST00_4
    char v6; // r0
    int v7; // r6
    int v8; // r1
    int v9; // r2
    int v10; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        *(v0 + 34) = 3;
        *(v0 + 32) = 0;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 10;
        GetPositiveSignedRNG2();
        v5 = *(&dword_80DF484 + (v4 & 3)) << 16;
        v6 = object_getFrontDirection(v0);
        v7 = *(v0 + 44);
        sub_80C6ADA(v6 + *(v0 + 18), *(v0 + 19), *(v0 + 14), v5);
        PlaySoundEffect(185, v8, v9);
        v10 = *(v0 + 34);
        v2 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80df488
int sub_80DF488()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 16;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 3;
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80df4b0
int sub_80DF4B0()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 2;
        result = 13;
        *(v0 + 32) = 13;
    }
    return result;
}


// 0x80df4d4
int __fastcall sub_80DF4D4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(207, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80df4fc
void sub_80DF4FC()
{
    int v0; // r5

    (*(&off_80DF514 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80df520
signed int __noreturn sub_80DF520()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    if ( *(v0 + 7) )
        sprite_decompress(*(v0 + 4), *(v0 + 5));
    sprite_load(v0, 128, *(v0 + 4), *(v0 + 5));
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = *(v0 + 6);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    *v0 |= 2u;
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 40) = byte_100;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80df574
int sub_80DF574()
{
    int v0; // r5

    return (*(&off_80DF588 + *(v0 + 9)))();
}


// 0x80df5a0
void sub_80DF5A0()
{
    ;
}


// 0x80df5a4
int sub_80DF5A4()
{
    int v0; // r5

    return (*(&off_80DF5B8 + *(v0 + 10)))();
}


// 0x80df5c0
int sub_80DF5C0()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        v1 = object_getEnemyDirection();
        v2 = *(v0 + 19);
        v3 = object_getCoordinatesForPanels(v1 + *(v0 + 18));
        *(v0 + 64) = sub_8001330((v0 + 52), v3, v4);
        *(v0 + 68) = v5;
        *(v0 + 72) = v6;
        *(v0 + 32) = 10;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v7 = *(v0 + 72);
    *(v0 + 60) += v7;
    *(v0 + 72) = v7 - 24576;
    object_setPanelsFromCoordinates(v0);
    v8 = *(v0 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80df626
int sub_80DF626()
{
    int v0; // r5
    int result; // r0
    int v6; // r0

    if ( *(v0 + 11) )
    {
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        v6 = *(v0 + 32);
        _VF = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 64) = 393216 * object_getEnemyDirection();
        result = 18350080;
        __asm { SVC         6 }
        *(v0 + 32) = 18350080;
    }
    return result;
}


// 0x80df66a
int sub_80DF66A()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    _DWORD *v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r3
    int v12; // r0
    unsigned __int8 v13; // vf

    if ( *(v0 + 11) )
    {
        v5 = *(v0 + 48) << 16;
        v6 = *(v0 + 56);
        v7 = *(v0 + 50);
        sub_801BDDE(3u);
        v8 = (v0 + 52);
        *v8 = v9;
        v8[1] = v10;
        v8[2] = v11;
        v12 = *(v0 + 32);
        v13 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v13) | (result == 0) )
        {
            *(v0 + 54) = *(v0 + 48);
            *(v0 + 62) = *(v0 + 50);
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 2;
        *(v0 + 48) = *(v0 + 54);
        *(v0 + 50) = *(v0 + 62);
        v1 = *(v0 + 19);
        v2 = object_getCoordinatesForPanels(*(v0 + 18));
        SpawnT4BattleObjectWithId0(v0, v2, v2, v3, 1572864);
        result = 40;
        *(v0 + 32) = 40;
    }
    return result;
}


// 0x80df6ce
int sub_80DF6CE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r1
    int v8; // r2
    int v9; // r0

    if ( *(v0 + 11) )
    {
        v5 = *(v0 + 34);
        v6 = __OFSUB__(v5--, 1);
        *(v0 + 34) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
        {
            *(v0 + 34) = 10;
            *(v0 + 17) = -1;
            sub_80B8E7C(*(v0 + 96));
            sub_80B8E7C(*(v0 + 100));
            PlaySoundEffect(106, v7, v8);
        }
        v9 = *(v0 + 32);
        v6 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v0 + 16) = 0;
            *(v0 + 9) = 0;
            *(v0 + 10) = 0;
            sub_80B8E58(*(v0 + 96));
            result = sub_80B8E58(*(v0 + 100));
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 14;
        v1 = sub_80B8E30(14);
        sub_80B8E30(v1);
        PlaySoundEffect(106, v2, v3);
        result = 120;
        *(v0 + 32) = 120;
    }
    return result;
}


// 0x80df742
void __fastcall sub_80DF742(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r1
    int v5; // r2
    char v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r0
    int v12; // r0
    unsigned __int8 v13; // vf

    if ( *(v3 + 11) )
    {
        v11 = *(v3 + 104) - 1;
        *(v3 + 104) = v11;
        if ( v11 <= 0 )
        {
            PlaySoundEffect(249, a2, a3);
            *(v3 + 104) = 11;
        }
        v12 = *(v3 + 32);
        v13 = __OFSUB__(v12--, 1);
        *(v3 + 32) = v12;
        if ( ((v12 < 0) ^ v13) | (v12 == 0) )
        {
            *(v3 + 16) = 0;
            *(v3 + 9) = 0;
            *(v3 + 10) = 0;
            sub_80B8E58(*(v3 + 96));
        }
    }
    else
    {
        *(v3 + 11) = 4;
        *(v3 + 32) = 120;
        *(v3 + 34) = 10;
        *(v3 + 16) = 4;
        PlaySoundEffect(248, 4, a3);
        PlaySoundEffect(249, v4, v5);
        *(v3 + 104) = 11;
        sub_80B8E30(11);
        object_getFlip(v3);
        v6 = object_getEnemyDirection();
        v7 = *(v3 + 19);
        v8 = object_getCoordinatesForPanels(2 * v6 + *(v3 + 18));
        SpawnT4BattleObjectWithId0(v3, v8, v8, v9 + 1572864, 1572864);
        *(v10 + 32) = *(v3 + 32);
    }
}


// 0x80df7d6
int sub_80DF7D6()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    _DWORD *v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    unsigned __int8 v12; // vf
    int v13; // r1
    int v14; // r2
    int v15; // r0

    if ( *(v0 + 11) )
    {
        v4 = *(v0 + 48) << 16;
        v5 = *(v0 + 56);
        v6 = *(v0 + 50);
        sub_801BDDE(3u);
        v7 = (v0 + 52);
        *v7 = v8;
        v7[1] = v9;
        v7[2] = v10;
        v11 = *(v0 + 34);
        v12 = __OFSUB__(v11--, 1);
        *(v0 + 34) = v11;
        if ( ((v11 < 0) ^ v12) | (v11 == 0) )
        {
            sub_80DF8D2();
            *(v0 + 34) = 8;
            PlaySoundEffect(109, v13, v14);
        }
        v15 = *(v0 + 32);
        v12 = __OFSUB__(v15, 1);
        result = v15 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            *(v0 + 54) = *(v0 + 48);
            *(v0 + 62) = *(v0 + 50);
            *(v0 + 9) = 0;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 16) = 2;
        *(v0 + 48) = *(v0 + 54);
        *(v0 + 50) = *(v0 + 62);
        sub_80DF8D2();
        *(v0 + 32) = 120;
        PlaySoundEffect(109, v1, v2);
        result = 8;
        *(v0 + 34) = 8;
    }
    return result;
}


// 0x80df848
int __fastcall sub_80DF848(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    __int16 v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(208, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 60) = v5;
        *(v4 + 76) = v10;
        *(v4 + 22) = v9;
        *v4 |= 0x10u;
        sub_80DF520();
    }
    return result;
}


// 0x80df876
int __fastcall sub_80DF876(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80df880
int __fastcall sub_80DF880(int result, char a2)
{
    if ( result )
    {
        *(result + 16) = a2;
        *(result + 17) = -1;
    }
    return result;
}


// 0x80df88c
int __fastcall sub_80DF88C(int result)
{
    if ( result )
    {
        *(result + 9) = 4;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80df89a
int __fastcall sub_80DF89A(int result)
{
    if ( result )
    {
        *(result + 9) = 8;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80df8a8
int __fastcall sub_80DF8A8(int result)
{
    if ( result )
    {
        *(result + 9) = 12;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80df8b6
int __fastcall sub_80DF8B6(int result)
{
    if ( result )
    {
        *(result + 9) = 16;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80df8c4
int __fastcall sub_80DF8C4(int result)
{
    if ( result )
    {
        *(result + 9) = 20;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80df8d2
void sub_80DF8D2()
{
    Battle *v0; // r5
    u32 v1; // r1
    u32 v2; // r2
    u32 v3; // r3
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3

    v1 = v0->x;
    v2 = v0->y;
    v3 = v0->z;
    v4 = sub_801BDDE(0x1Fu);
    SpawnT4BattleObjectWithId0(v0, v4, v5, v6, v7);
}


// 0x80df90c
void sub_80DF90C()
{
    int v0; // r5

    (*(&off_80DF924 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80df930
int __noreturn sub_80DF930()
{
    int v0; // r5
    int v1; // r2
    int v2; // r1
    char v7; // r0
    int v8; // r0
    u8 v9; // r0
    char v10; // r0
    _BYTE *v11; // r0
    int v13; // r0
    int v14; // r1

    *v0 |= 2u;
    sprite_load(v0, 128, 16, 86);
    sprite_noShadow(v0);
    v1 = *(v0 + 100);
    v2 = *(v1 + 36);
    __asm { SVC         6 }
    if ( *(v1 + 38) >= 2 )
    {
        GetPositiveSignedRNG2();
        v8 = byte_80DFA48[v7 & 0xF];
        if ( v8 != 255 )
            *(v0 + 96) = v8;
    }
    v9 = byte_80DF9F4[*(v0 + 96)];
    *(v0 + 16) = v9;
    *(v0 + 17) = v9;
    sprite_setAnimation(v0, v9);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    GetPositiveSignedRNG2();
    *(v0 + 19) = byte_80DFA10[v10 & 0xF];
    *(v0 + 18) = 7;
    object_setCoordinatesFromPanels(v0);
    *(v0 + 64) = *&byte_80DFA00[4 * *(v0 + 97)];
    *(v0 + 44) = byte_80DFA24[*(v0 + 96)];
    v11 = object_createCollisionData();
    if ( v11 )
    {
        object_setupCollisionData(v11, 4, 5, 2);
        *(*(v0 + 84) + 48) |= *&byte_80DFA30[4 * *(v0 + 96)];
        v13 = object_setCollisionHitEffect(255);
        object_presentCollisionData(v13, v14);
        *(v0 + 8) = 4;
        sub_80DFA58();
    }
    return object_freeMemory();
}


// 0x80dfa58
void __noreturn sub_80DFA58()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( battle_isBattleOver() )
        goto LABEL_7;
    if ( *(*(v0 + 84) + 112) )
    {
        sub_80DFB80();
LABEL_7:
        v4 = object_clearCollisionRegion();
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 8;
        return;
    }
    battle_isTimeStop();
    if ( v1 )
    {
        v2 = (*(&off_80DFAA0 + *(v0 + 9)))();
        object_presentCollisionData(v2, v3);
    }
}


// 0x80dfaa8
signed int sub_80DFAA8()
{
    Battle *v0; // r5
    signed int result; // r0

    if ( sub_80DFB2C() )
    {
        v0->currAction = 4;
        result = 0;
        v0->currPhase = 0;
    }
    else
    {
        v0->x += v0->vx;
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    return result;
}


// 0x80dface
signed int sub_80DFACE()
{
    int v0; // r5
    signed int result; // r0

    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80dfad6
int __fastcall sub_80DFAD6(int a1, char a2, int a3)
{
    int v3; // r5
    char v4; // ST04_1
    int result; // r0
    char v6; // r2
    int v7; // [sp+0h] [bp-24h]
    int v8; // [sp+8h] [bp-1Ch]
    int v9; // [sp+Ch] [bp-18h]

    v7 = a1;
    v4 = a2;
    v8 = a3;
    object_spawnType3(209, 0, 0, 0);
    result = v3;
    v6 = v4;
    if ( v3 )
    {
        *(v3 + 76) = v9;
        *(v3 + 22) = *(v9 + 22);
        *(v3 + 14) = 0;
        *(v3 + 96) = v7;
        if ( v7 == 3 )
        {
            v6 = 0;
        }
        else if ( v7 == 4 )
        {
            v6 = 1;
        }
        *(v3 + 97) = v6;
        *(v3 + 100) = v8;
        *v3 |= 0x10u;
    }
    return result;
}


// 0x80dfb20
int __fastcall sub_80DFB20(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80dfb2c
signed int sub_80DFB2C()
{
    int v0; // r5
    int v2; // r0
    int v3; // r1
    int v4; // r2

    if ( *(v0 + 52) > -9175040 )
        return 0;
    v2 = *(v0 + 96);
    if ( v2 == 3 || v2 == 4 )
    {
        sub_80DFB56();
        PlaySoundEffect(195, v3, v4);
    }
    return 1;
}


// 0x80dfb56
int sub_80DFB56()
{
    int v0; // r5
    int v1; // r6
    int v2; // r2

    v1 = *(v0 + 44);
    object_spawnCollisionRegion(2, 2, 0, 0);
    return sub_80E2FE8(67501953, 0, v2, 0);
}


// 0x80dfb80
int sub_80DFB80()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0

    if ( *&byte_80DFBC0[4 * *(v0 + 96)] & *(*(v0 + 84) + 112) )
    {
        v1 = *(v0 + 76);
        v2 = *&byte_80DFBD8[2 * *(v0 + 96)] + *(v1 + 96);
        if ( v2 > *(v1 + 98) )
            LOWORD(v2) = *(v1 + 98);
        *(v1 + 96) = v2;
    }
    return sub_80DFBE4();
}


// 0x80dfbe4
int sub_80DFBE4()
{
    Battle *v0; // r5
    int result; // r0
    int v2; // r4
    int v3; // r1
    int v4; // r2

    result = v0->collisionData->collisionFlags & 0x2000;
    if ( result )
    {
        v2 = *&byte_80DFC18[4 * v0->extraVars[0]];
        SpawnT4BattleObjectWithId0(v0, 1572864, v0->x, v0->y, v0->z + 1572864);
        result = PlaySoundEffect(418, v3, v4);
    }
    return result;
}


// 0x80dfc38
int sub_80DFC38()
{
    int v0; // r5

    return (*(&off_80DFC4C + *(v0 + 8)))();
}


// 0x80dfc58
int sub_80DFC58()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v3; // r0
    int v4; // r1

    *v0 &= 0xFDu;
    v1 = object_createCollisionData();
    if ( v1 )
    {
        object_setupCollisionData(v1, 1, 2, 3);
        v3 = object_clearCollisionRegion();
        object_presentCollisionData(v3, v4);
        *(v0 + 8) = 4;
        sub_80DFC8C();
    }
    return object_freeMemory();
}


// 0x80dfc8c
void __noreturn sub_80DFC8C()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    if ( !sub_80DFDC8() || (object_removeCollisionData(), object_spawnCollisionEffect(), battle_isBattleOver()) )
    {
        v4 = object_clearCollisionRegion();
        object_presentCollisionData(v4, v5);
        *(v0 + 8) = 8;
    }
    else
    {
        sub_80DFDD6();
        battle_isTimeStop();
        if ( v1 )
        {
            v2 = (*(&off_80DFCD4 + *(v0 + 9)))();
            object_presentCollisionData(v2, v3);
        }
    }
}


// 0x80dfce0
int sub_80DFCE0()
{
    int v0; // r5
    int v1; // r0

    *(*(v0 + 84) + 48) &= 0xFFFFCFFF;
    sub_80DFDAC();
    v1 = *(v0 + 96);
    if ( v1 )
    {
        if ( v1 == 1 )
        {
            object_setCollisionRegion(1);
            *(*(v0 + 84) + 48) |= 0x1000u;
            *(v0 + 96) = 0;
        }
        else if ( v1 == 2 )
        {
            object_setCollisionRegion(1);
            *(*(v0 + 84) + 48) |= 0x2000u;
            *(v0 + 96) = 0;
        }
    }
    else
    {
        object_clearCollisionRegion();
    }
    return object_highlightCurrentCollisionPanels();
}


// 0x80dfd38
int sub_80DFD38()
{
    int v0; // r5

    *(v0 + 96) = 0;
    *(*(v0 + 84) + 48) ^= 0x1000u;
    object_clearCollisionRegion();
    *(v0 + 9) = 0;
    return object_highlightCurrentCollisionPanels();
}


// 0x80dfd56
int sub_80DFD56()
{
    int v0; // r5

    *(v0 + 96) = 0;
    *(*(v0 + 84) + 48) ^= 0x2000u;
    object_clearCollisionRegion();
    *(v0 + 9) = 0;
    return object_highlightCurrentCollisionPanels();
}


// 0x80dfd74
int sub_80DFD74()
{
    int v0; // r5
    int result; // r0
    int v2; // [sp+0h] [bp-18h]

    object_spawnType3(210, 0, 0, 0);
    result = v0;
    if ( v0 )
    {
        *(v0 + 76) = v2;
        *(v0 + 22) = *(v2 + 22);
        *(v0 + 14) = 0;
        *v0 |= 0x10u;
    }
    return result;
}


// 0x80dfda0
int __fastcall sub_80DFDA0(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80dfdac
signed int sub_80DFDAC()
{
    Battle *v0; // r5
    char v1; // r0
    u32 *v2; // r1

    v1 = object_getFrontDirection(v0);
    v2 = v0->parent;
    v0->panelX = *(v2 + 18) + v1;
    v0->panelY = *(v2 + 19);
    object_setCoordinatesFromPanels(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80dfdc8
int sub_80DFDC8()
{
    int v0; // r5
    int result; // r0

    result = *(*(v0 + 76) + 36);
    if ( !*(*(v0 + 76) + 36) )
        result = 0;
    return result;
}


// 0x80dfdd6
int sub_80DFDD6()
{
    int v0; // r5
    int result; // r0

    *(*(v0 + 76) + 116) = 0;
    result = 0;
    while ( !(*(*(v0 + 84) + 112) & *&byte_80DFE08[4 * result]) )
    {
        if ( ++result == 5 )
            return result;
    }
    *(*(v0 + 76) + 116) = ++result;
    return result;
}


// 0x80dfe1c
int __fastcall sub_80DFE1C(int result)
{
    if ( result )
        *(result + 96) = 1;
    return result;
}


// 0x80dfe28
int __fastcall sub_80DFE28(int result)
{
    if ( result )
        *(result + 96) = 2;
    return result;
}


// 0x80dfe40
void sub_80DFE40()
{
    int v0; // r5

    (*(&off_80DFE58 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dfe64
int sub_80DFE64()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0
    char v3; // r3
    int v4; // r0
    int v5; // r1

    object_setCoordinatesFromPanels(v0);
    *(v0 + 32) = *(v0 + 5);
    v1 = object_createCollisionData();
    if ( !v1 )
        return object_freeMemory();
    v3 = 3;
    if ( *(v0 + 6) )
    {
        v3 = 1;
        if ( *(v0 + 6) != 1 )
            v3 = 0;
    }
    object_setupCollisionData(v1, 10, 5, v3);
    object_setCollisionHitEffect(0);
    v4 = object_clearCollisionRegion();
    object_presentCollisionData(v4, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80dfea8
void __noreturn sub_80DFEA8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    object_removeCollisionData();
    object_spawnCollisionEffect();
    if ( !(*v0 & 0x10) && battle_isBattleOver() )
    {
        object_clearCollisionRegion();
        *(v0 + 8) = 8;
    }
    else
    {
        v1 = (*(&off_80DFEE0 + *(v0 + 9)))();
        object_presentCollisionData(v1, v2);
    }
}


// 0x80dfee8
int sub_80DFEE8()
{
    int v0; // r5
    __int64 v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2

    if ( !(*(v0 + 32) & 4) )
    {
        LODWORD(v1) = *(v0 + 18);
        HIDWORD(v1) = *(v0 + 19);
        object_highlightPanel(v1);
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
            *v0 |= 2u;
        sprite_load(v0, 128, 16, 38);
        sprite_noShadow(v0);
        *(v0 + 16) = 0;
        *(v0 + 17) = 0;
        sprite_setAnimation(v0, 0);
        sprite_loadAnimationData(v0);
        v5 = object_getFlip(v0);
        sprite_setFlip(v0, v5);
        object_setCollisionRegion(1);
        if ( *(v0 + 4) )
            sub_8109794(*(v0 + 18), *(v0 + 19));
        PlaySoundEffect(185, v6, v7);
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80dff84
int __fastcall sub_80DFF84(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType3(211, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v10 + 22);
    }
    return result;
}


// 0x80dffa2
_BYTE *__fastcall sub_80DFFA2(char a1, int a2, int a3, int a4)
{
    _BYTE *result; // r0

    result = sub_80DFF84(a1, a2, a3, a4);
    if ( result )
        *result |= 0x10u;
    return result;
}


// 0x80dffb8
void sub_80DFFB8()
{
    int v0; // r5

    (*(&off_80DFFD0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80dffdc
void __noreturn sub_80DFFDC()
{
    Battle *v0; // r5

    v0->futurePanelX = v0->panelX;
    v0->futurePanelY = v0->panelY;
    object_setCoordinatesFromPanels(v0);
    v0->x -= 5242880 * object_getFrontDirection(v0);
    v0->z = 10485760;
    sub_8011504(0x100Du, 0x4050100u);
}


// 0x80e002c
void __noreturn sub_80E002C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r4
    int v5; // r2
    __int64 v6; // r0
    char *v7; // r0
    int v8; // r1

    v1 = *(v0 + 84);
    object_removeCollisionData();
    if ( *(v1 + 112) )
    {
        object_clearCollisionRegion();
        ++*(v0 + 112);
        *(v0 + 116) = 8;
    }
    if ( *(v0 + 9) )
    {
        if ( *(v0 + 9) != 12 && !*(v1 + 1) )
        {
            v2 = *(v0 + 116);
            v3 = __OFSUB__(v2--, 1);
            *(v0 + 116) = v2;
            if ( ((v2 < 0) ^ v3) | (v2 == 0) )
                object_setCollisionRegion(1);
        }
    }
    v4 = *(*(v0 + 84) + 10);
    (*(&off_80E00A0 + *(v0 + 9)))();
    if ( *(*(v0 + 84) + 10) != v4 )
    {
        *(v0 + 112) = 0;
        if ( *(v0 + 9) != 12 )
            object_setCollisionRegion(1);
    }
    v5 = *(v0 + 84);
    LODWORD(v6) = *(v5 + 10);
    HIDWORD(v6) = *(v5 + 11);
    v7 = object_highlightPanel(v6);
    object_presentCollisionData(v7, v8);
}


// 0x80e00b0
int sub_80E00B0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 64) = object_getFrontDirection(v0) << 18;
        *(v0 + 72) = -524288;
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        *(v0 + 60) = 0;
        object_setCollisionRegion(1);
        *(v0 + 104) = *(v0 + 18);
        *(v0 + 108) = *(v0 + 19);
        *(v0 + 120) = 0;
        *(v0 + 124) = 0;
        sub_80E02AC(*(v0 + 18), *(v0 + 19));
    }
    *(v0 + 52) += *(v0 + 64);
    result = *(v0 + 60) + *(v0 + 72);
    *(v0 + 60) = result;
    return result;
}


// 0x80e0118
BOOL __noreturn sub_80E0118()
{
    int v0; // r5
    char v1; // zf
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    char v6; // r0
    int v7; // r2
    char v8; // r1
    int v9; // r0
    int v10; // r1
    int v11; // r1
    int v12; // r0
    int v13; // r3
    int v14; // r6
    int v15; // r1
    int v16; // r1
    BOOL result; // r0

    object_isPanelSolid(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v1 )
        goto LABEL_18;
    if ( !*(v0 + 11) )
    {
        v2 = *(v0 + 120);
        if ( !*(v0 + 124) )
            sub_80E02F4();
        *(v0 + 96) = sub_80E0376(v2);
        *(v0 + 100) = v3;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 0;
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 32) + 1;
    *(v0 + 32) = v4;
    if ( v4 == 3 )
    {
        v5 = *(v0 + 100);
        v6 = convertXYToPanelXY_800E258(*(v0 + 96));
        v7 = *(v0 + 84);
        *(v7 + 10) = v6;
        *(v7 + 11) = v8;
        v4 = 3;
    }
    if ( v4 == 6 )
    {
        *(v0 + 104) = *(v0 + 18);
        *(v0 + 108) = *(v0 + 19);
        v9 = *(v0 + 120);
        if ( !*(v0 + 124) )
            sub_80E02F4();
        *(v0 + 96) = sub_80E0376(v9);
        *(v0 + 100) = v10;
        object_updateCollisionPanels(v0);
        *(v0 + 32) = 0;
        sub_80E02AC(*(v0 + 18), *(v0 + 19));
    }
    v11 = *(v0 + 108);
    v12 = object_getCoordinatesForPanels(*(v0 + 104));
    v13 = *(v0 + 100);
    v14 = *(v0 + 32);
    *(v0 + 52) = sub_80E0348(v12, v15, *(v0 + 96));
    *(v0 + 56) = v16;
    object_setPanelsFromCoordinates(v0);
    result = object_isValidPanel(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( v1 )
    {
LABEL_18:
        object_clearCollisionRegion();
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e01ee
int __noreturn sub_80E01EE()
{
    int v0; // r5
    char v1; // zf
    int result; // r0

    object_isPanelSolid(*(*(v0 + 84) + 10), *(*(v0 + 84) + 11));
    if ( !v1 )
        sub_80E02AC(*(v0 + 18), *(v0 + 19));
    object_clearCollisionRegion();
    *(v0 + 9) = 12;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80e0226
int sub_80E0226()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 16) = 1;
        *(v0 + 32) = 5;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e0248
int __fastcall sub_80E0248(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    char v8; // [sp+8h] [bp-Ch]

    v6 = a1;
    v7 = a2;
    v8 = a3;
    object_spawnType3(212, a2, a3, a4);
    result = v4;
    if ( v4 )
        result = BasicBattleObjectInitialize(v4, v6, v7, v8);
    return result;
}


// 0x80e025e
void __fastcall __noreturn sub_80E025E(int a1, int a2)
{
    Battle *v2; // r5
    int *v3; // r3
    int v4; // [sp+0h] [bp-1Ch]
    int v5; // [sp+4h] [bp-18h]

    v4 = a1;
    v5 = a2;
    object_getFrontDirection(v2);
    v3 = &byte_80E029C[8 * v2->Alliance];
    object_getFirstPanelInDirectionFiltered(v4, v5, *v3, v3[1]);
}


// 0x80e02ac
BOOL __fastcall __noreturn sub_80E02AC(int a1, int a2)
{
    int v2; // r5
    int v3; // r6
    int v4; // r7

    v3 = a1;
    v4 = a2;
    return object_getPanelParameters(a1, a2) & *&byte_80E02EC[4 * *(v2 + 22)]
            && sub_800AE54(v3, v4, *(v2 + 22) ^ 1)
            && !(object_getFlag() & 6);
}


// 0x80e02f4
void __noreturn sub_80E02F4()
{
    Battle *v0; // r5
    int v1; // r0

    v1 = object_getFrontDirection(v0);
    sub_80E02AC(v1 + v0->panelX, v0->panelY);
}


// 0x80e0348
int __fastcall sub_80E0348(int a1, int a2, int a3)
{
    int v3; // r6

    __asm
    {
        SVC         6
        SVC         6
    }
    return a1 + (a3 - a1) * v3;
}


// 0x80e0376
int __fastcall sub_80E0376(char a1)
{
    int v1; // r5
    int v2; // r2

    v2 = *(v1 + 19);
    return object_getCoordinatesForPanels(a1 + *(v1 + 18));
}


// 0x80e0568
void __noreturn sub_80E0568()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    u8 v2; // r0

    v1 = &byte_80E0398[4 * *(v0 + 4)];
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = v1[2];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(v1[3] + *(v0 + 6));
    sprite_setFlip(v0, *(v0 + 5));
    *v0 |= 2u;
    if ( *(v0 + 7) )
        sub_8002E14(0);
    sub_80E0616();
    *(v0 + 8) = 4;
}


// 0x80e05c4
void __noreturn sub_80E05C4()
{
    int v0; // r5
    int v1; // r0
    char v2; // vf

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 || (sub_80E0616(), sprite_getFrameParameters() & 0x80) && ((*(v0 + 32) < 0) ^ v2) | (*(v0 + 32) == 0) )
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    sprite_update(v0);
}


// 0x80e05f6
void __usercall SpawnT4BattleObjectWithId0(Battle *obj@<R5>, int a1@<R0>, int a2@<R1>, int a3@<R2>, int a4@<R3>)
{
    object_spawnType4(obj, 0, a2, a3, a4);
}


// 0x80e0602
int __fastcall sub_80E0602(int result)
{
    if ( result )
        *(result + 32) = 1;
    return result;
}


// 0x80e060e
int __fastcall sub_80E060E(int result)
{
    int v1; // r5

    *(result + 96) = 1;
    *(result + 76) = v1;
    return result;
}


// 0x80e0616
int sub_80E0616()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 96);
    if ( result )
    {
        result = (*v0 & 0xFD) | **(v0 + 76) & 2;
        *v0 = result;
    }
    return result;
}


// 0x80e0638
int sub_80E0638()
{
    int v0; // r5

    return (*(&off_80E064C + *(v0 + 8)))();
}


// 0x80e0654
int sub_80E0654()
{
    int v0; // r5

    *v0 |= 8u;
    *(v0 + 8) = 4;
    return sub_80E0668();
}


// 0x80e0668
int sub_80E0668()
{
    int v0; // r5

    return (*(&off_80E067C + *(v0 + 10)))();
}


// 0x80e0684
int sub_80E0684()
{
    int v0; // r5
    int v1; // r10
    int v2; // r0
    int v3; // r2
    int v4; // r0
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_8001382(16);
        v2 = sub_802D246();
        v3 = *(v1 + oToolkit_S2034880_Ptr);
        if ( v2 & &byte_400 )
        {
            v4 = 0;
            if ( *(v3 + 26) > 1 )
                v4 = 8;
        }
        else
        {
            v4 = 0;
            if ( *(*(v3 + 60) + 5) >= 2 )
                v4 = 8;
        }
        engine_setScreeneffect(v4, 16);
        byte_2036740[0] = 1;
        *(v0 + 11) = 4;
    }
    result = IsPaletteFadeActive();
    if ( !result )
    {
        sub_8001382(1);
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80e06e0
int sub_80E06E0()
{
    int result; // r0

    result = sub_800AA92(0);
    if ( !result )
    {
        sub_8001382(2);
        result = object_freeMemory();
    }
    return result;
}


// 0x80e06f8
Battle *__fastcall sub_80E06F8(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5

    object_spawnType4(v4, 2, a2, a3, a4);
    v4->objFlags |= 4u;
    return v4;
}


// 0x80e0710
int sub_80E0710()
{
    int v0; // r5

    return (*(&off_80E0724 + *(v0 + 8)))();
}


// 0x80e0730
int sub_80E0730()
{
    int v0; // r5

    return (*(&off_80E0744 + *(v0 + 9)))();
}


// 0x80e0754
int sub_80E0754()
{
    int v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r3
    char v4; // zf
    int v5; // r4
    int v6; // r6
    _BYTE *v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 4) )
            sub_800D58C();
        v1 = object_getEdgePanelMatchingRow();
        if ( !v4 )
        {
            v5 = *(v0 + 22);
            v6 = *(v0 + 44) + *(v0 + 50);
            v7 = sub_80C6548(v1, v2, *(v0 + 14), v3);
            if ( v7 )
                *v7 |= 0x10u;
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v8 = *(v0 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v9 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e07e0
int __fastcall sub_80E07E0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 3, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e0844
int sub_80E0844()
{
    int v0; // r5

    return (*(&off_80E0858 + *(v0 + 8)))();
}


// 0x80e0864
void __noreturn sub_80E0864()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    u8 v2; // r0

    v1 = (&off_80E0804 + *(v0 + 4));
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = v1[2];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_setPallete(v1[3]);
    sprite_update(v0);
    *v0 |= 2u;
    *(v0 + 8) = 4;
}


// 0x80e08a6
void __noreturn sub_80E08A6()
{
    int v0; // r5

    if ( sprite_getFrameParameters() & 0x80 )
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    sprite_update(v0);
}


// 0x80e08c4
Battle *__fastcall sub_80E08C4(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 4, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4->parent = v6;
        v4->Alliance = *(v6 + 22);
    }
    return result;
}


// 0x80e08e0
void nullsub_99()
{
    ;
}


// 0x80e08fc
int sub_80E08FC()
{
    int v0; // r5

    return (*(&off_80E0910 + *(v0 + 8)))();
}


// 0x80e091c
void __noreturn sub_80E091C()
{
    int v0; // r5
    char *v1; // r4
    int v2; // r0

    v1 = &byte_80E08E4[8 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 8) = 4;
    sub_80E0954();
}


// 0x80e0954
void sub_80E0954()
{
    int v0; // r5
    char v1; // zf
    int v2; // r1
    int v3; // r2
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r4
    int v7; // r0
    int v8; // r1
    int v9; // r6
    int v10; // r2
    int v11; // r1
    int v12; // r3
    int *v13; // r0
    int v14; // ST00_4
    int v15; // r5

    battle_isTimeStop();
    if ( v1 )
    {
        *v0 |= 2u;
        if ( !sub_800EB6C(*(v0 + 22)) )
        {
            v2 = 2;
            *v0 &= 0xFDu;
        }
        if ( !*(v0 + 4) )
        {
            v4 = *(v0 + 32);
            v5 = __OFSUB__(v4--, 1);
            *(v0 + 32) = v4;
            if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            {
                *(v0 + 32) = 60;
                PlaySoundEffect(136, v2, v3);
            }
        }
        v6 = *(v0 + 76);
        v7 = getBattleArmPositionMaybe_8018810(*(v6 + 40), 5, *(v6 + 22), *(v6 + 23));
        v9 = v8 << 16;
        v10 = *(v6 + 56);
        v11 = *(v6 + 52) + (v7 << 16);
        v12 = *(v6 + 60) + v9;
        v13 = (v0 + 52);
        *v13 = v11;
        v13[1] = v10;
        v13[2] = v12;
        object_setPanelsFromCoordinates(v0);
        object_isCurrentPanelValid();
        if ( v1 )
            *v0 &= 0xFDu;
        if ( **(v0 + 100) && (v14 = v0, v15 = *(v0 + 76), v0 = v14, object_getFlag() & *(*(v14 + 96) + 4)) )
        {
            object_updateSpriteTimestop();
        }
        else
        {
            **(v0 + 100) = 0;
            object_freeMemory();
        }
    }
}


// 0x80e09ee
int __fastcall sub_80E09EE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 6, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 100) = v5;
        *v5 = v4;
    }
    return result;
}


// 0x80e0a0a
int __fastcall sub_80E0A0A(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e0ad4
void sub_80E0AD4()
{
    int v0; // r5
    char v1; // zf

    (*(&off_80E0AFC + *(v0 + 8)))();
    if ( !(battle_getFlags() & 1) || (battle_isPaused(), v1) )
        UpdateBattleObjectSprite();
}


// 0x80e0b08
void __noreturn sub_80E0B08()
{
    int v0; // r5
    char *v1; // r4
    u8 v2; // r0
    int *v3; // r0
    _BYTE *v4; // r1
    int v5; // r2
    char *v6; // r0
    int v7; // r1

    v1 = &byte_80E0A14[12 * *(v0 + 4)];
    *(v0 + 96) = v1;
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v2 = v1[2];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(v1[3]);
    v3 = *(v1 + 2);
    if ( *(v0 + 4) == 9 )
    {
        v4 = *(*(v0 + 76) + 88);
        if ( *v4 != 2 || v4[1] || (v3 = battle_networkInvert(*(v0 + 22))) != 0 )
            v3 = &timer_2000000;
    }
    sprite_setUnk0x2c(v3);
    sub_8002EAC();
    v6 = (&loc_88 + 1);
    v7 = *(v0 + 4);
    if ( v7 == 8 )
        v6 = byte_12D;
    PlaySoundEffect(v6, v7, v5);
    *(v0 + 8) = 4;
    sub_80E0B8C();
}


// 0x80e0b8c
void sub_80E0B8C()
{
    int v0; // r5
    int v1; // r4
    char v2; // zf
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r1

    v1 = *(v0 + 76);
    *v0 |= 2u;
    if ( sub_800EB6C(*(v0 + 22)) )
    {
        *v0 |= 2u;
        if ( !*(v0 + 12) )
            *v0 &= 0xFDu;
    }
    else
    {
        *v0 &= 0xFDu;
    }
    object_isValidPanel(*(v1 + 18), *(v1 + 19));
    if ( v2 )
        *v0 &= 0xFDu;
    nullsub_10();
    if ( *(v0 + 9) != 8 )
    {
        v3 = *(v1 + 56);
        v4 = *(v1 + 60);
        v5 = (v0 + 52);
        *v5 = *(v1 + 52);
        v5[1] = v3;
        v5[2] = v4;
        *(v0 + 58) -= 2;
        *(v0 + 62) -= 2;
    }
    v6 = object_getFlipDirection(*(v1 + 22), *(v1 + 23));
    v7 = sub_800F26C(*(v1 + 40));
    *(v0 + 52) += sub_8018842(v7, v8, *(*(v0 + 96) + 4)) * v6 << 16;
    *(v0 + 60) += v9 << 16;
    (*(&off_80E0C68 + *(v0 + 9)))();
    if ( sub_800EB6C(*(v0 + 22)) )
    {
        if ( !*(v0 + 12) )
            *v0 &= 0xFDu;
    }
    else
    {
        *v0 &= 0xFDu;
    }
    object_isValidPanel(*(v1 + 18), *(v1 + 19));
    if ( v2 )
        *v0 &= 0xFDu;
    nullsub_10();
}


// 0x80e0c74
int sub_80E0C74()
{
    int v0; // r5
    _BYTE *v1; // r3
    int result; // r0

    if ( !**(v0 + 100) || (v1 = *(*(v0 + 76) + 84), !v1[6]) )
    {
LABEL_5:
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    if ( v1[6] != 16 )
    {
        result = v1[22];
        if ( v1[22] )
            return result;
        goto LABEL_5;
    }
    *(v0 + 104) = v1[21];
    *(v0 + 9) = 8;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80e0caa
int __fastcall sub_80E0CAA(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r3
    char *v5; // r0
    int v6; // r1
    int result; // r0
    _DWORD *v8; // r0

    if ( !*(v3 + 11) )
    {
        ++*(v3 + 16);
        if ( *(v3 + 4) == 8 )
            PlaySoundEffect(292, 8, a3);
        *(v3 + 11) = 4;
    }
    v4 = *(*(v3 + 76) + 84);
    if ( *(v4 + 6) )
    {
        if ( *(v4 + 22) && *(v4 + 60) >= 0 )
        {
            --*(v3 + 16);
            *v3 |= 2u;
            v5 = (&loc_88 + 1);
            v6 = *(v3 + 4);
            if ( v6 == 8 )
                v5 = byte_12D;
            PlaySoundEffect(v5, v6, a3);
            *(v3 + 9) = 0;
            result = 0;
            *(v3 + 10) = 0;
        }
        else
        {
            result = sprite_getFrameParameters();
            if ( result & 0x80 )
            {
                result = *v3 & 0xFD;
                *v3 = result;
            }
        }
    }
    else
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            v8 = *(v3 + 100);
            if ( *v8 == v3 )
                *v8 = 0;
            result = object_freeMemory();
        }
    }
    return result;
}


// 0x80e0d38
int sub_80E0D38()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    _DWORD *v5; // r0

    if ( !*(v0 + 11) )
    {
        v1 = -524288 * object_getFrontDirection(v0);
        if ( *(v0 + 104) & 0x14 )
            v1 = -v1;
        *(v0 + 64) = v1;
        *(v0 + 68) = -163840;
        ++*(v0 + 16);
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *v0 &= 0xFDu;
        v5 = *(v0 + 100);
        if ( *v5 == v0 )
            *v5 = 0;
        result = object_freeMemory();
    }
    return result;
}


// 0x80e0d98
int __fastcall sub_80E0D98(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 7, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 100) = v5;
        *v5 = v4;
        *v4 |= 4u;
        *(v4 + 12) = 1;
    }
    return result;
}


// 0x80e0dc0
int __fastcall sub_80E0DC0(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e0dca
int __fastcall sub_80E0DCA(int result)
{
    *(result + 12) = 0;
    return result;
}


// 0x80e0dd0
int __fastcall sub_80E0DD0(int result)
{
    *(result + 12) = 1;
    return result;
}


// 0x80e0df0
int chargeShotChargeObject_80E0DF0()
{
    int v0; // r5

    return (*(&off_80E0E04 + *(v0 + 8)))();
}


// 0x80e0e10
void chargeShotChargeObject_init_80E0E10()
{
    int v0; // r5

    *(v0 + 100) = 1;
    *(v0 + 8) = 4;
    chargeShotChargeObject_update_80E0E20();
}


// 0x80e0e20
void chargeShotChargeObject_update_80E0E20()
{
    int v0; // r5
    int v1; // r4
    char v2; // zf
    int v3; // r6
    int v4; // r0
    int v5; // r0
    int v6; // r0
    int v7; // r1
    int v8; // r7
    int v9; // r2
    int v10; // r1
    int v11; // r3
    int *v12; // r0
    int v13; // [sp-4h] [bp-14h]

    v1 = *(v0 + 76);
    battle_isPaused();
    if ( v2 )
    {
        if ( **(v0 + 96) )
        {
            *v0 |= 2u;
            if ( sub_800EB6C(*(v1 + 22)) )
            {
                *v0 |= 2u;
                if ( *(v0 + 100) )
                {
                    *v0 |= 2u;
                    object_isValidPanel(*(v1 + 18), *(v1 + 19));
                    if ( v2 )
                        *v0 &= 0xFDu;
                }
                else
                {
                    *v0 &= 0xFDu;
                }
            }
            else
            {
                *v0 &= 0xFDu;
            }
            v3 = *(v1 + 88);
            v4 = *(v3 + 30);
            v13 = *(v3 + 30);
            if ( !*(v3 + 30) || (v4 == 1 || v4 != 2) && battle_networkInvert(*(v1 + 22)) )
                *v0 &= 0xFDu;
            sub_80E0F2E(v13);
            *(v0 + 120) = *(v0 + 116);
            v5 = *(v3 + 29);
            *(v0 + 116) = v5;
            *(v0 + 16) = v5;
            if ( !v5 )
                *v0 &= 0xFDu;
            sub_80E0F5E();
            v6 = getBattleArmPositionMaybe_8018810(*(v1 + 40), 0, *(v1 + 22), *(v1 + 23));
            v8 = v7 << 16;
            v9 = *(v1 + 56);
            v10 = *(v1 + 52) + (v6 << 16);
            v11 = *(v1 + 60) + v8;
            v12 = (v0 + 52);
            *v12 = v10;
            v12[1] = v9;
            v12[2] = v11;
            object_updateSprite();
        }
        else
        {
            *(v0 + 8) = 8;
        }
    }
    else if ( !*(*(v1 + 88) + 30) )
    {
        *v0 &= 0xFDu;
    }
}


// 0x80e0f02
int __fastcall spawnChargeShotChargeObject_80E0F02(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 8, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *v5 = v4;
        *(v4 + 96) = v5;
        *v4 |= 4u;
    }
    return result;
}


// 0x80e0f22
int __fastcall sub_80E0F22(int result)
{
    *(result + 100) = 0;
    return result;
}


// 0x80e0f28
int __fastcall sub_80E0F28(int result)
{
    *(result + 100) = 1;
    return result;
}


// 0x80e0f2e
int __fastcall sub_80E0F2E(int result)
{
    int v1; // r5
    int v2; // r2
    int v3; // r3

    v2 = 21;
    if ( result != 1 )
        v2 = 8;
    v3 = *(v1 + 108);
    *(v1 + 108) = v2;
    if ( v3 != v2 )
    {
        sprite_load(v1, 128, 20, v2);
        sprite_loadAnimationData(v1);
        sprite_noShadow(v1);
        *(v1 + 17) = -1;
        result = *v1 & 0xF7;
        *v1 = result;
    }
    return result;
}


// 0x80e0f5e
int sub_80E0F5E()
{
    _DWORD *v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    int result; // r0

    v1 = v0[19];
    v2 = *(v1 + 88);
    v3 = *(v2 + 30);
    if ( v3 != 1 && v3 == 2 || (result = battle_networkInvert(*(v1 + 22))) == 0 )
    {
        if ( v0[29] == 1 )
        {
            result = v0[30];
            if ( !result )
                result = PlaySoundEffect(113, v1, v2);
        }
        else
        {
            result = v0[29];
            if ( result == 2 )
            {
                result = v0[30];
                if ( result == 1 )
                    result = PlaySoundEffect(114, v1, v2);
            }
        }
    }
    return result;
}


// 0x80e0fa0
int sub_80E0FA0()
{
    int v0; // r5

    return (*(&off_80E0FB4 + *(v0 + 8)))();
}


// 0x80e0fc0
void __noreturn sub_80E0FC0()
{
    int v0; // r5
    int v1; // r0

    *v0 |= 3u;
    sprite_load(v0, 128, 16, 5);
    sprite_hasShadow();
    *(v0 + 16) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sub_8002E14(*(v0 + 12));
    *(v0 + 32) = 10;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 8) = 4;
    sub_80E100A();
}


// 0x80e100a
void sub_80E100A()
{
    int v0; // r5

    (*(&off_80E1020 + *(v0 + 9)))();
    object_updateSprite();
}


// 0x80e1028
int sub_80E1028()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    unsigned __int8 v3; // vf
    int v4; // r1

    *(v0 + 52) += *(v0 + 64);
    result = *(v0 + 72) - 12288;
    *(v0 + 72) = result;
    v2 = *(v0 + 60);
    v3 = __OFADD__(v2, result);
    v4 = v2 + result;
    *(v0 + 60) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e1054
int sub_80E1054()
{
    int v0; // r5
    int result; // r0

    *v0 &= 0xFDu;
    if ( *(v0 + 32) & 2 )
        *v0 |= 2u;
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
        result = sub_80E107C();
    return result;
}


// 0x80e107c
int sub_80E107C()
{
    return object_freeMemory();
}


// 0x80e1084
u32 __fastcall sub_80E1084(char a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    u32 v5; // r6
    u32 v6; // r7
    char v8; // [sp+0h] [bp-10h]

    v8 = a1;
    object_spawnType4(v4, 9, a2, a3, a4);
    if ( v4 )
    {
        v4->pad_0C[0] = v8;
        v4->vx = v5;
        v4->vy = 0;
        v4->vz = v6;
    }
    return v6;
}


// 0x80e10a4
int sub_80E10A4()
{
    int v0; // r5

    return (*(&off_80E10B8 + *(v0 + 4)))();
}


// 0x80e10c0
int sub_80E10C0()
{
    int v0; // r5
    char v1; // zf
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r1
    __int16 v6; // r0

    if ( !(*(v0 + 6) & 2) )
    {
        battle_isPaused();
        if ( !v1 )
            return sub_8002378(0, 0, 9, 20);
        if ( !(*(v0 + 6) & 1) )
        {
            battle_isTimeStop();
            if ( !v1 )
                return sub_8002378(0, 0, 9, 20);
        }
    }
    if ( !*(v0 + 8) )
    {
        *(v0 + 34) = *(v0 + 5);
        *(v0 + 32) = 0;
        *(v0 + 8) = 4;
    }
    v3 = *(v0 + 34);
    v4 = __OFSUB__(v3--, 1);
    *(v0 + 34) = v3;
    if ( (v3 < 0) ^ v4 )
    {
        Terminate_ePalette20097a0_Transform(20);
        result = object_freeMemory();
    }
    else
    {
        v5 = 0;
        v6 = *(v0 + 32) + 1;
        *(v0 + 32) = v6;
        if ( !(v6 & 4) )
            v5 = *&byte_80E113C[4 * *(v0 + 7)];
        result = sub_8002378(0, v5, 9, 20);
    }
    return result;
}


// 0x80e114c
int sub_80E114C()
{
    int v0; // r5
    char v1; // zf
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 6) & 2 || (battle_isPaused(), v1) && (*(v0 + 6) & 2 || (battle_isTimeStop(), v1)) )
    {
        if ( !*(v0 + 8) )
        {
            *(v0 + 34) = *(v0 + 5);
            *(v0 + 32) = 0;
            *(v0 + 8) = 4;
        }
        v3 = *(v0 + 34);
        v4 = __OFSUB__(v3--, 1);
        *(v0 + 34) = v3;
        if ( (v3 < 0) ^ v4 )
        {
            Terminate_ePalette20097a0_Transform(20);
            Terminate_ePalette20097a0_Transform(21);
            result = object_freeMemory();
        }
        else
        {
            sub_8002378(0, 0x7FFF, 15, 20);
            result = sub_8002378(0, 0x7FFF, 15, 21);
        }
    }
    else
    {
        sub_8002378(0, 0, 9, 20);
        result = sub_8002378(0, 0, 9, 21);
    }
    return result;
}


// 0x80e11e0
int __fastcall sub_80E11E0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+4h] [bp-8h]

    object_spawnType4(v4, 10, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v6;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80e11fc
int sub_80E11FC()
{
    int v0; // r5

    return (*(&off_80E1210 + *(v0 + 8)))();
}


// 0x80e121c
void sub_80E121C()
{
    Battle *v0; // r5
    u32 *v1; // r4
    u32 *v2; // r5
    int v3; // r0
    int v4; // ST00_4
    char *v5; // r0
    int v6; // r1
    int v7; // r2
    u32 v8; // r2
    u32 v9; // r3
    u32 *v10; // r0
    int v11; // r0
    u32 *v12; // r5
    int v13; // r0
    int v14; // ST00_4
    int v15; // r0
    int v16; // r0
    Battle *v17; // [sp-4h] [bp-Ch]

    v1 = v0->parent;
    if ( sub_800F29C(*(v1 + 20)) == 2 )
    {
        v17 = v0;
        v2 = v0->parent;
        v3 = sub_8013774(2, 44);
        v4 = v3;
        v5 = sub_8013774(v3, 41);
        sub_800FC9E(v5, v4);
        sprite_load(v17, 128, v6, v7);
        sprite_loadAnimationData(v17);
        sprite_hasShadow();
        v17->objFlags |= 2u;
        v8 = v17->parent[14];
        v9 = v17->parent[15];
        v10 = &v17->x;
        *v10 = v17->parent[13];
        v10[1] = v8;
        v10[2] = v9;
        v11 = sub_801002C();
        v0 = v17;
        sprite_setPallete(v11);
        if ( sub_800F29C(*(v1 + 20)) == 2 )
        {
            v12 = v17->parent;
            v13 = sub_8013774(2, 44);
            v14 = v13;
            v15 = sub_8013774(v13, 41);
            v0 = v17;
            sub_8011420(v15, v14);
        }
        v16 = object_getFlip(v0);
        sprite_setFlip(v0, v16);
        v0->currAnimation = HIBYTE(v0->objParams) + 3;
        v0->currAnimationCpy = -1;
    }
    *&v0->currState = 4;
    sub_80E12BA();
}


// 0x80e12ba
void sub_80E12BA()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r1
    int v4; // r4

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 7) )
        {
            v1 = *(v0 + 76);
            if ( sub_800F29C(*(v1 + 40)) == 2 )
                sub_80E1352(v1, 0);
            else
                sub_80E146C(v1);
        }
        *(v0 + 11) = 4;
    }
    if ( sprite_getFrameParameters() & 0x80 )
    {
        *v0 &= 0xFDu;
        v2 = sub_800F29C(*(*(v0 + 76) + 40));
        sub_8011044(v2, v3);
        if ( !*(v0 + 7) )
        {
            v4 = *(v0 + 76);
            if ( sub_800F29C(*(v4 + 40)) == 2 )
                sub_80E13DC(v4);
            else
                sub_80E14AC(v4);
        }
        *(v0 + 8) = 8;
    }
    object_updateSpriteTimestop();
}


// 0x80e1332
int __fastcall sub_80E1332(int a1, int a2, int a3, int a4)
{
    return sub_80C0F52(a1, a2, a3, a4);
}


// 0x80e1352
int __fastcall sub_80E1352(int a1, unsigned int a2)
{
    int v2; // r7
    unsigned int v3; // r6
    int v4; // r4
    int result; // r0
    char v6; // cf
    unsigned int v7; // r6
    int v8; // r2
    unsigned int v9; // r6
    _BYTE *v10; // r1
    unsigned int v11; // r6
    _BYTE *v12; // r1
    unsigned int v13; // r6
    unsigned int v14; // r6

    v2 = a1;
    v3 = a2;
    v4 = *(a1 + 84);
    *a1 &= 0xFDu;
    result = SetAIDataUnk0x48Flag(0x100000);
    v6 = v3 & 1;
    v7 = v3 >> 1;
    if ( !v6 )
    {
        v8 = *(v2 + 88);
        if ( *(v8 + 96) )
            result = sub_80E0DCA(*(v8 + 96));
    }
    v6 = v7 & 1;
    v9 = v7 >> 1;
    if ( !v6 )
    {
        v10 = *(v4 + 72);
        if ( v10 )
            *v10 &= 0xFDu;
    }
    v6 = v9 & 1;
    v11 = v9 >> 1;
    if ( !v6 )
    {
        v12 = *(v4 + 76);
        if ( v12 )
            *v12 &= 0xFDu;
    }
    v6 = v11 & 1;
    v13 = v11 >> 1;
    if ( !v6 )
    {
        result = battle_networkInvert(*(v2 + 22));
        if ( result != 1 )
            result = sub_801DACC(2);
    }
    v6 = v13 & 1;
    v14 = v13 >> 1;
    if ( !v6 )
    {
        result = *(*(v2 + 88) + 88);
        if ( result )
            result = sub_80E0F22(result);
    }
    if ( !(v14 & 1) )
    {
        result = *(*(v2 + 88) + 92);
        if ( result )
            result = sub_80C4C46(result);
    }
    return result;
}


// 0x80e13dc
int __fastcall sub_80E13DC(int a1)
{
    int v1; // r7
    int v2; // r4
    int v3; // r2
    _BYTE *v4; // r1
    _BYTE *v5; // r1
    int v6; // r0
    int result; // r0

    v1 = a1;
    v2 = *(a1 + 84);
    if ( !(object_getFlag() & 4) && sub_800EB6C(*(v1 + 22)) )
        *v1 |= 2u;
    ClearAIDataUnk0x48Flag(0x100000);
    v3 = *(v1 + 88);
    if ( *(v3 + 96) )
        sub_80E0DD0(*(v3 + 96));
    v4 = *(v2 + 72);
    if ( v4 )
        *v4 |= 2u;
    v5 = *(v2 + 76);
    if ( v5 )
        *v5 |= 2u;
    if ( battle_networkInvert(*(v1 + 22)) != 1 )
        sub_801DA48(2);
    v6 = *(*(v1 + 88) + 88);
    if ( v6 )
        sub_80E0F28(v6);
    result = *(*(v1 + 88) + 92);
    if ( result )
        result = sub_80C4C4C(result);
    return result;
}


// 0x80e146c
int __fastcall sub_80E146C(int a1)
{
    int v1; // r4
    int v2; // r2
    _BYTE *v3; // r1
    _BYTE *v4; // r1

    v1 = *(a1 + 84);
    *a1 &= 0xFDu;
    v2 = *(a1 + 88);
    if ( *(v2 + 96) )
        sub_80E0DCA(*(v2 + 96));
    v3 = *(v1 + 72);
    if ( v3 )
        *v3 &= 0xFDu;
    v4 = *(v1 + 76);
    if ( v4 )
        *v4 &= 0xFDu;
    return sub_801DACC(1);
}


// 0x80e14ac
int __fastcall sub_80E14AC(int a1)
{
    int v1; // r4
    int v2; // r2
    _BYTE *v3; // r1
    _BYTE *v4; // r1

    v1 = *(a1 + 84);
    *a1 |= 2u;
    v2 = *(a1 + 88);
    if ( *(v2 + 96) )
        sub_80E0DD0(*(v2 + 96));
    v3 = *(v1 + 72);
    if ( v3 )
        *v3 |= 2u;
    v4 = *(v1 + 76);
    if ( v4 )
        *v4 |= 2u;
    return sub_801DA48(1);
}


// 0x80e14ec
int __fastcall sub_80E14EC(int a1, unsigned int a2)
{
    int result; // r0

    if ( **(a1 + 88) == 2 )
        result = sub_80E1352(a1, a2);
    else
        result = sub_80E146C(a1);
    return result;
}


// 0x80e1502
int __fastcall sub_80E1502(int a1)
{
    int result; // r0

    if ( **(a1 + 88) == 2 )
        result = sub_80E13DC(a1);
    else
        result = sub_80E14AC(a1);
    return result;
}


// 0x80e1520
int sub_80E1520()
{
    int v0; // r5

    return (*(&off_80E1534 + *(v0 + 8)))();
}


// 0x80e1540
void __noreturn sub_80E1540()
{
    int v0; // r5

    sprite_load(v0, 128, 12, 9);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 8) = 4;
    sub_80E1566();
}


// 0x80e1566
void sub_80E1566()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    char v3; // zf
    int v4; // r0
    int v5; // r4
    int v6; // r0
    int v7; // r0
    int v8; // r1
    int v9; // r6
    int v10; // r1
    int v11; // r2
    int v12; // r3
    int *v13; // r0

    v1 = *v0 & 0xFD;
    *v0 = v1;
    if ( !sub_8013774(v1, 41) )
    {
        v2 = sub_8013774(0, 44);
        if ( v2 >= 11 && v2 <= 24 && !battle_networkInvert(*(v0 + 22)) )
            *v0 |= 2u;
    }
    battle_isTimeStop();
    if ( v3 )
    {
        if ( battle_isBattleOver() )
            goto LABEL_24;
        if ( !*(v0 + 100) )
        {
            v4 = sub_80E1670();
            v5 = v4;
            v6 = *(v4 + 40);
            if ( v6 < 371 || v6 > &byte_178 || *(v5 + 16) != 79 )
            {
                v7 = getBattleArmPositionMaybe_8018810(v6, 17, *(v5 + 22), *(v5 + 23));
            }
            else
            {
                v7 = 0;
                v8 = 0;
            }
            v9 = v8 << 16;
            v10 = *(v5 + 52) + (v7 << 16);
            v11 = *(v5 + 56) + 0x80000;
            v12 = *(v5 + 60) + v9 + 0x80000;
            v13 = (v0 + 52);
            *v13 = v10;
            v13[1] = v11;
            v13[2] = v12;
        }
        object_setPanelsFromCoordinates(v0);
        object_isCurrentPanelValid();
        if ( v3 )
            *v0 &= 0xFDu;
        if ( **(v0 + 96) )
        {
            object_updateSpriteTimestop();
        }
        else
        {
LABEL_24:
            **(v0 + 96) = 0;
            object_freeMemory();
        }
    }
}


// 0x80e1620
int __fastcall sub_80E1620(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 15, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v7 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80e1644
int __fastcall sub_80E1644(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e164a
int sub_80E164A()
{
    int v0; // r5
    int v1; // r1
    int result; // r0
    int v3; // r1

    v1 = *(*(v0 + 88) + 64);
    result = *(v1 + 18);
    v3 = *(v1 + 19);
    return result;
}


// 0x80e1654
signed int sub_80E1654()
{
    int v0; // r5
    int v1; // r1
    signed int result; // r0

    v1 = *(*(v0 + 88) + 64);
    *(v1 + 100) = 1;
    result = 1;
    *(v1 + 16) = 1;
    return result;
}


// 0x80e1662
int sub_80E1662()
{
    int v0; // r5
    int v1; // r1
    int result; // r0

    v1 = *(*(v0 + 88) + 64);
    *(v1 + 100) = 0;
    result = 0;
    *(v1 + 16) = 0;
    return result;
}


// 0x80e1670
int sub_80E1670()
{
    int v0; // r5
    int result; // r0
    int v2; // [sp+0h] [bp-44h]

    *(&v2 + object_getEnemyByNameRange(&v2, 0, 451, *(v0 + 22) ^ 1)) = 0;
    result = sub_80E16CC(0, *(v0 + 76));
    if ( !result )
    {
        result = sub_80E16CC(1, *(v0 + 76));
        if ( !result )
            result = sub_80E16CC(2, *(v0 + 76));
    }
    return result;
}


// 0x80e16cc
int __fastcall sub_80E16CC(int a1, int a2)
{
    int v2; // r4

    v2 = *(a2 + 18);
    return sub_80E1704();
}


// 0x80e1704
int sub_80E1704()
{
    unsigned int v0; // r4
    int *v1; // r7
    int result; // r0
    int v3; // r3
    int v4; // r1

    result = 0;
    while ( 1 )
    {
        v3 = *v1;
        if ( !*v1 )
            break;
        v4 = *(v3 + 18);
        if ( v4 >= v0 && v4 <= (v0 >> 8) )
        {
            if ( result )
                result = sub_80E1730(result, v4, v0 >> 8, v3);
            else
                result = *v1;
        }
        ++v1;
    }
    return result;
}


// 0x80e1730
int __fastcall sub_80E1730(int a1, int a2, int a3, int a4)
{
    int v4; // r6
    int v5; // r4
    int v6; // r0
    int v7; // r2

    v5 = a1;
    v6 = *(v4 + 19);
    v7 = *(a4 + 19);
    if ( v6 == *(v5 + 19) )
    {
        if ( v6 != v7 )
            return v5;
        return sub_80E175C(a4, v5, v4);
    }
    if ( v6 != v7 )
        return sub_80E175C(a4, v5, v4);
    return a4;
}


// 0x80e175c
int __fastcall sub_80E175C(int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r6
    int v5; // r0
    int v6; // r2
    int v7; // r3
    int v8; // r0
    int v9; // r2
    int v10; // r3

    v3 = a3;
    v4 = a1;
    v5 = *(a3 + 18);
    v6 = *(a2 + 18);
    v7 = v6 - v5;
    if ( v6 - v5 < 0 )
        v7 = v5 - v6;
    v8 = *(v4 + 18) - v5;
    if ( v8 < 0 )
        v8 = -v8;
    if ( v8 < v7 )
        return v4;
    if ( v8 <= v7 )
    {
        v9 = *(v4 + 18);
        v10 = *(a2 + 18);
        if ( v9 == v10 )
            return sub_80E17AC(v4, a2, v3);
        if ( *(v3 + 22) == *(v3 + 23) )
        {
            if ( v9 > v10 )
                return v4;
        }
        else if ( v9 <= v10 )
        {
            return v4;
        }
    }
    return a2;
}


// 0x80e17ac
int __fastcall sub_80E17AC(int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r6
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int v8; // r0
    int v9; // r3
    int v10; // r0
    int result; // r0

    v3 = a3;
    v4 = a1;
    v5 = a2;
    v6 = *(a1 + 19);
    v7 = *(v5 + 19);
    v8 = *(v3 + 19);
    v9 = v7 - v8;
    if ( v7 - v8 < 0 )
        v9 = v8 - v7;
    v10 = v6 - v8;
    if ( v10 < 0 )
        v10 = -v10;
    if ( v10 >= v9 && (v10 > v9 || *(v3 + 19) < *(v4 + 19)) )
        result = v5;
    else
        result = v4;
    return result;
}


// 0x80e17e8
int sub_80E17E8()
{
    int v0; // r5

    return (*(&off_80E17FC + *(v0 + 8)))();
}


// 0x80e1808
int sub_80E1808()
{
    int v0; // r5

    return (*(&off_80E181C + *(v0 + 9)))();
}


// 0x80e1830
int sub_80E1830()
{
    int v0; // r5

    return (*(&off_80E1844 + *(v0 + 10)))();
}


// 0x80e1854
int __fastcall sub_80E1854(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
        if ( *(v4 + 25) != 23 )
            sub_80E1332(*(v4 + 76), 1, a3, a4);
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *(v4 + 10) = 4;
    }
    return result;
}


// 0x80e1880
signed int sub_80E1880()
{
    int v0; // r5
    void (__fastcall *v1)(int, int, int); // r3
    int v2; // r6
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r4
    int v7; // r5
    signed int result; // r0
    int v9; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v1 = *(&off_802CD5C + *(v0 + 25));
        v2 = *(v0 + 44) + *(v0 + 50);
        v3 = *(v0 + 18);
        v4 = *(v0 + 19);
        v5 = *(v0 + 14);
        v6 = *(v0 + 4);
        v9 = v0;
        v7 = *(v0 + 76);
        v1(v3, v4, v5);
        v0 = v9;
        if ( *(v9 + 48) - 221 <= 0x3B )
        {
            byte_203C960 = *(v9 + 25);
            byte_203C961 = *(v9 + 14);
            dword_203C964 = *(v9 + 44);
            *byte_203C968 = *(v9 + 4);
            word_203C962 = *(v9 + 50);
        }
        *(v9 + 11) = 4;
    }
    result = *(v0 + 24);
    if ( !*(v0 + 24) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80e18da
int sub_80E18DA()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80e18f8
int __fastcall sub_80E18F8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        if ( !*(v4 + 25) || *(v4 + 25) == 23 )
            goto LABEL_7;
        sub_80E1332(*(v4 + 76), 0, a3, a4);
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
LABEL_7:
        *(v4 + 9) = 16;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e192c
int __fastcall sub_80E192C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int v7; // ST08_4
    bool v8; // zf
    int result; // r0
    unsigned int v10; // r6
    int v11; // r3
    char v12; // [sp-10h] [bp-14h]
    char v13; // [sp-10h] [bp-14h]
    int v14; // [sp-Ch] [bp-10h]
    char v15; // [sp-Ch] [bp-10h]
    char v16; // [sp-8h] [bp-Ch]

    if ( a4 )
        goto LABEL_8;
    v12 = a1;
    v14 = a2;
    v7 = a3;
    v8 = sub_802CE78(*(v4 + 22) ^ 1) == 189;
    LOBYTE(a1) = v12;
    a2 = v14;
    a3 = v7;
    a4 = 0;
    if ( v8 )
    {
        sub_800ABC6(*(v4 + 18), *(v4 + 19));
        sub_802CEA6(*(v4 + 22) ^ 1);
        v10 = sub_80E199A(v5) + 1966080;
        result = sub_80E37D2(v12, v14, 0, v11);
    }
    else
    {
LABEL_8:
        v13 = a1;
        v15 = a2;
        v16 = a3;
        object_spawnType4(v4, 16, a2, a3, a4);
        result = v4;
        if ( v4 )
        {
            *(v4 + 18) = v13;
            *(v4 + 19) = v15;
            *(v4 + 14) = v16;
            *(v4 + 25) = *(v4 + 60);
            *(v4 + 76) = v4;
            *(v4 + 22) = *(v4 + 22);
            *(v4 + 44) = v5;
            *(v4 + 48) = v6;
        }
    }
    return result;
}


// 0x80e199a
int __fastcall sub_80E199A(__int16 a1)
{
    int v1; // r0
    unsigned __int8 v2; // cf
    unsigned int v3; // r0
    unsigned int v4; // r0

    v1 = a1 & 0x87FF;
    v2 = __CFSHL__(v1, 17);
    v3 = v1 << 17;
    if ( v2 )
        v4 = v3 >> 16;
    else
        v4 = v3 >> 17;
    return 3 * v4;
}


// 0x80e19bc
int sub_80E19BC()
{
    int v0; // r5

    return (*(&JumpTable80E19CC + *(v0 + 8)))();
}


// 0x80e19dc
signed int sub_80E19DC()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 32) = *(&dword_80E19F0 + *(v0 + 4));
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e19f4
int sub_80E19F4()
{
    int v0; // r5

    return (*(&off_80E1A08 + *(v0 + 9)))();
}


// 0x80e1a0c
int sub_80E1A0C()
{
    int v0; // r5
    _DWORD *v1; // r0
    unsigned int v2; // r0
    bool v3; // cf
    int v4; // r0
    int result; // r0
    int v6; // r2
    _DWORD *v7; // r7
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    int v12; // r3
    int v13; // r4
    int v14; // r1
    int v15; // r2
    int v16; // r1
    int v17; // r2

    v1 = *(v0 + 96);
    if ( (!v1 || *v1) && (v2 = *(v0 + 32), v3 = v2 >= 1, v4 = v2 - 1, *(v0 + 32) = v4, v4 != 0 && v3) )
    {
        v6 = *(v0 + 4);
        result = v4 & 0xF;
        if ( result == 15 )
        {
            v7 = *(v0 + 76);
            v8 = v7[13];
            v9 = v7[14];
            v10 = v7[15];
            v11 = sub_801BDDE(0x1Fu);
            v13 = *(v0 + 5);
            SpawnT4BattleObjectWithId0(v0, v11, v14, v15, v12 + 0x100000);
            result = *(v0 + 6);
            if ( !*(v0 + 6) )
                result = PlaySoundEffect(111, v16, v17);
        }
    }
    else
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e1a5e
int sub_80E1A5E()
{
    int v0; // r5

    *(v0 + 11) = 1;
    return object_freeMemory();
}


// 0x80e1a6a
int __fastcall sub_80E1A6A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 17, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        if ( v5 )
            *v5 = v4;
        *(v4 + 96) = v5;
    }
    return result;
}


// 0x80e1a86
int __fastcall sub_80E1A86(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e1a90
void sub_80E1A90()
{
    int v0; // r5

    (*(&off_80E1AA8 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e1ab4
signed int __noreturn sub_80E1AB4()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 8, 12);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 14;
    *(v0 + 17) = 14;
    sprite_setAnimation(v0, 0xEu);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e1afa
signed int sub_80E1AFA()
{
    int v0; // r5
    signed int result; // r0

    result = battle_isBattleOver();
    if ( result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e1b0a
int sub_80E1B0A()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80e1b1e
int __fastcall sub_80E1B1E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 18, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80e1b3c
int __fastcall sub_80E1B3C(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e1b48
int sub_80E1B48()
{
    int v0; // r5

    return (*(&off_80E1B5C + *(v0 + 8)))();
}


// 0x80e1b68
void __noreturn sub_80E1B68()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2

    sprite_load(v0, 128, 8, *(v0 + 4));
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    sprite_removeShadow();
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *v0 |= 2u;
    PlaySoundEffect(140, 2, v2);
    sub_8010DF6(1, *(v0 + 4));
    *(v0 + 8) = 4;
}


// 0x80e1bbe
int sub_80E1BBE()
{
    int v0; // r5

    return (*(&off_80E1BD0 + *(v0 + 9)))();
}


// 0x80e1bdc
int sub_80E1BDC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_8002E14(0);
        *(v0 + 32) = 22;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        sub_80E1CB0(4 * *(v0 + 32), 112 * *(v0 + 32) & 0xFF);
        result = sprite_setColorShader(v0, 8456);
    }
    return result;
}


// 0x80e1c24
unsigned int sub_80E1C24()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    unsigned int result; // r0
    unsigned int v4; // r0
    unsigned __int8 v5; // cf

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( (v1 < 0) ^ v2 )
    {
        *v0 |= 2u;
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    else
    {
        *v0 |= 2u;
        v4 = *(v0 + 32);
        v5 = __CFSHR__(v4, 2);
        result = v4 >> 2;
        if ( v5 )
        {
            result = *v0 & 0xFD;
            *v0 = result;
        }
    }
    return result;
}


// 0x80e1c66
signed int sub_80E1C66()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    signed int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80E1CB0(0, 0);
        sub_8002E14(2);
        *(v0 + 32) = 8;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( !((v1 < 0) ^ v2) )
        return sub_8002C7A(2 * *(v0 + 32));
    sprite_disableAlpha();
    *v0 &= 0xFDu;
    sub_8011044(1, *(v0 + 4));
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80e1cb0
int __fastcall sub_80E1CB0(int a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int v4; // r2
    int v5; // r1
    int v6; // r3
    int *v7; // r0

    v3 = *&math_sinTable[2 * a2] * a1 << 8;
    v4 = *(*(v2 + 76) + 56);
    v5 = *(*(v2 + 76) + 52) + (*&math_cosTable[2 * a2] * a1 << 8);
    v6 = *(*(v2 + 76) + 60) + v3;
    v7 = (v2 + 52);
    *v7 = v5;
    v7[1] = v4;
    v7[2] = v6;
    return v2 + 64;
}


// 0x80e1cd6
Battle *__fastcall sub_80E1CD6(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 19, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4->parent = v6;
        v4->Alliance = *(v6 + 22);
    }
    return result;
}


// 0x80e1cf8
int sub_80E1CF8()
{
    int v0; // r5

    return (*(&off_80E1D0C + *(v0 + 8)))();
}


// 0x80e1d18
void __noreturn sub_80E1D18()
{
    int v0; // r5

    *v0 |= 2u;
    sprite_load(v0, 128, 20, 2);
    sprite_noShadow(v0);
    *(v0 + 16) = 1;
    *(v0 + 17) = 1;
    sprite_setAnimation(v0, 1u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(v0 + 4));
    *(v0 + 72) = 0x20000;
    *(v0 + 8) = 4;
    sub_80E1D54();
}


// 0x80e1d54
void __noreturn sub_80E1D54()
{
    int v0; // r5

    sprite_update(v0);
    *(v0 + 60) += *(v0 + 72);
    if ( sprite_getFrameParameters() & 0x80 )
        *(v0 + 8) = 8;
}


// 0x80e1d72
int sub_80E1D72()
{
    return object_freeMemory();
}


// 0x80e1d7a
Battle *__fastcall sub_80E1D7A(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5

    object_spawnType4(v4, 20, a2, a3, a4);
    return v4;
}


// 0x80e1d88
void sub_80E1D88()
{
    int v0; // r5

    (*(&off_80E1DA0 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e1dac
signed int __noreturn sub_80E1DAC()
{
    int v0; // r5
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    if ( *(v0 + 19) != 3 )
    {
        *(v0 + 58) += 48;
        *(v0 + 62) += 48;
    }
    sprite_load(v0, 128, 16, 19);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 2;
    *(v0 + 17) = 2;
    sprite_setAnimation(v0, 2u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e1dfc
signed int sub_80E1DFC()
{
    int v0; // r5
    signed int result; // r0

    result = battle_isBattleOver();
    if ( result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e1e0c
int sub_80E1E0C()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80e1e20
int __fastcall sub_80E1E20(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 21, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80e1e3e
int __fastcall sub_80E1E3E(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e1e4c
int sub_80E1E4C()
{
    int v0; // r5

    return (*(&off_80E1E60 + *(v0 + 5)))();
}


// 0x80e1e70
char *sub_80E1E70()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // cf
    char *result; // r0
    int v4; // r7
    int v5; // r6
    unsigned __int8 v6; // vf

    v1 = *(v0 + 32) + 1;
    *(v0 + 32) = v1;
    if ( v1 >= *(v0 + 6) )
        object_setPanelType(6, 3, *(v0 + 4));
    v2 = __CFSHR__(v1, 3);
    result = (v1 >> 3);
    if ( !v2 )
    {
        v4 = 3;
        do
        {
            v5 = 6;
            do
            {
                result = object_getPanelDataOffset(v5, v4);
                if ( result[2] )
                    object_setPanelTypeBlink(v5, v4, *(v0 + 4), result[3]);
                v6 = __OFSUB__(v5--, 1);
            }
            while ( !((v5 < 0) ^ v6) );
            v6 = __OFSUB__(v4--, 1);
        }
        while ( !((v4 < 0) ^ v6) );
    }
    return result;
}


// 0x80e1ec6
char *sub_80E1EC6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // cf
    char *result; // r0
    int v4; // r7
    int v5; // r6
    int v6; // r3
    unsigned __int8 v7; // vf
    int v8; // r7
    int v9; // r6

    v1 = *(v0 + 32) + 1;
    *(v0 + 32) = v1;
    if ( v1 >= *(v0 + 6) )
    {
        v8 = 3;
        do
        {
            v9 = 6;
            do
            {
                if ( object_getPanelDataOffset(v9, v8)[3] != *(v0 + 22) )
                    object_setPanelType(v9, v8, 3);
                v7 = __OFSUB__(v9--, 1);
            }
            while ( !((v9 < 0) ^ v7) );
            v7 = __OFSUB__(v8--, 1);
        }
        while ( !((v8 < 0) ^ v7) );
        result = object_freeMemory();
    }
    else
    {
        v2 = __CFSHR__(v1, 3);
        result = (v1 >> 3);
        if ( !v2 )
        {
            v4 = 3;
            do
            {
                v5 = 6;
                do
                {
                    result = object_getPanelDataOffset(v5, v4);
                    v6 = result[3];
                    if ( *(v0 + 22) != v6 )
                    {
                        if ( result[2] )
                            object_setPanelTypeBlink(v5, v4, *(v0 + 4), v6);
                    }
                    v7 = __OFSUB__(v5--, 1);
                }
                while ( !((v5 < 0) ^ v7) );
                v7 = __OFSUB__(v4--, 1);
            }
            while ( !((v4 < 0) ^ v7) );
        }
    }
    return result;
}


// 0x80e1f32
signed int sub_80E1F32()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // cf
    signed int result; // r0
    int v4; // r7
    int v5; // r6
    bool v6; // zf
    bool v7; // nf
    unsigned __int8 v8; // vf
    int v9; // r7
    int v10; // r6
    int v11; // r0
    bool v12; // zf
    bool v13; // nf
    unsigned __int8 v14; // vf

    v1 = *(v0 + 32) + 1;
    *(v0 + 32) = v1;
    if ( v1 >= *(v0 + 6) )
    {
        v9 = 3;
        do
        {
            v10 = 6;
            do
            {
                v11 = *(v0 + 18);
                if ( *(v0 + 22) )
                {
                    v14 = __OFSUB__(v11, v10);
                    v12 = v11 == v10;
                    v13 = v11 - v10 < 0;
                }
                else
                {
                    v14 = __OFSUB__(v10, v11);
                    v12 = v10 == v11;
                    v13 = v10 - v11 < 0;
                }
                if ( !((v13 ^ v14) | v12) && object_getPanelDataOffset(v10, v9)[2] )
                    object_setPanelType(v10, v9, *(v0 + 4));
                v8 = __OFSUB__(v10--, 1);
            }
            while ( !((v10 < 0) ^ v8) );
            v8 = __OFSUB__(v9--, 1);
        }
        while ( !((v9 < 0) ^ v8) );
        result = object_freeMemory();
    }
    else
    {
        v2 = __CFSHR__(v1, 3);
        result = v1 >> 3;
        if ( !v2 )
        {
            v4 = 3;
            do
            {
                v5 = 6;
                do
                {
                    result = *(v0 + 18);
                    if ( *(v0 + 22) )
                    {
                        v8 = __OFSUB__(result, v5);
                        v6 = result == v5;
                        v7 = result - v5 < 0;
                    }
                    else
                    {
                        v8 = __OFSUB__(v5, result);
                        v6 = v5 == result;
                        v7 = v5 - result < 0;
                    }
                    if ( !((v7 ^ v8) | v6) )
                    {
                        result = object_getPanelDataOffset(v5, v4);
                        if ( *(result + 2) )
                            object_setPanelTypeBlink(v5, v4, *(v0 + 4), *(result + 3));
                    }
                    v8 = __OFSUB__(v5--, 1);
                }
                while ( !((v5 < 0) ^ v8) );
                v8 = __OFSUB__(v4--, 1);
            }
            while ( !((v4 < 0) ^ v8) );
        }
    }
    return result;
}


// 0x80e1fb6
char *sub_80E1FB6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // cf
    char *result; // r0
    int v4; // r6
    char *v5; // r0
    unsigned __int8 v6; // vf
    signed int v7; // r6
    char *v8; // r7
    int v9; // r6
    signed int v10; // r6
    char *v11; // r7
    char *v12; // r0
    int v13; // r3

    v1 = *(v0 + 32) + 1;
    *(v0 + 32) = v1;
    if ( v1 >= *(v0 + 6) )
    {
        v9 = 6;
        do
        {
            if ( object_getPanelDataOffset(v9, 2)[2] )
                object_setPanelType(v9, 2, *(v0 + 4));
            v6 = __OFSUB__(v9--, 1);
        }
        while ( !((v9 < 0) ^ v6) );
        v10 = 0;
        v11 = &byte_80E2060;
        do
        {
            v12 = object_getPanelDataOffset(*v11, byte_0[v11 + 1]);
            if ( v12[2] )
            {
                v13 = v12[3];
                object_setPanelType(*v11, v11[1], *(v0 + 4));
            }
            v11 += 2;
            ++v10;
        }
        while ( v10 < 4 );
        result = object_freeMemory();
    }
    else
    {
        v2 = __CFSHR__(v1, 3);
        result = (v1 >> 3);
        if ( !v2 )
        {
            v4 = 6;
            do
            {
                v5 = object_getPanelDataOffset(v4, 2);
                if ( v5[2] )
                    object_setPanelTypeBlink(v4, 2, *(v0 + 4), v5[3]);
                v6 = __OFSUB__(v4--, 1);
            }
            while ( !((v4 < 0) ^ v6) );
            v7 = 0;
            v8 = &byte_80E2060;
            do
            {
                result = object_getPanelDataOffset(*v8, byte_0[v8 + 1]);
                if ( result[2] )
                    object_setPanelTypeBlink(*v8, v8[1], *(v0 + 4), result[3]);
                v8 += 2;
                ++v7;
            }
            while ( v7 < 4 );
        }
    }
    return result;
}


// 0x80e2068
Battle *__fastcall sub_80E2068(char a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    char v5; // ST00_1
    u8 v6; // ST04_1
    Battle *result; // r0
    int v8; // [sp+8h] [bp-8h]

    v5 = a1;
    v6 = a2;
    object_spawnType4(v4, 22, a2, a3, a4);
    result = v4;
    v4->panelX = v5;
    v4->panelY = v6;
    v4->Alliance = *(v8 + 22);
    return result;
}


// 0x80e2080
void sub_80E2080()
{
    int v0; // r5

    (*(&off_80E20A4 + *(v0 + 8)))();
    if ( *(v0 + 5) == 2 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e20b0
signed int __noreturn sub_80E20B0()
{
    int v0; // r5
    int v5; // r0
    int v6; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    v5 = object_getFrontDirection(v0);
    *(v0 + 52) = *(v0 + 52) - 1310720 * v5 - -2621430 * v5;
    *(v0 + 60) = 8;
    *(v0 + 32) = 0;
    *(v0 + 34) = *(v0 + 4);
    *(v0 + 64) = 174762 * object_getFrontDirection(v0);
    *(v0 + 72) = -559240;
    sprite_load(v0, 128, 16, 16);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v6 = object_getFlip(v0);
    sprite_setFlip(v0, v6);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e213c
int sub_80E213C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    if ( battle_isBattleOver() )
        return object_freeMemory();
    if ( *(v0 + 5) != 2 )
    {
        if ( *(*(v0 + 76) + 9) != *(&dword_80E21A8 + *(v0 + 5)) )
            return object_freeMemory();
        result = battle_isTimeStop();
        if ( !v2 )
            return result;
    }
    v3 = *(v0 + 34);
    v4 = __OFSUB__(v3--, 1);
    *(v0 + 34) = v3;
    if ( ((v3 < 0) ^ v4) | (v3 == 0) )
        return object_freeMemory();
    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) += *(v0 + 72);
    v5 = *(v0 + 32);
    v4 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        object_setCoordinatesFromPanels(v0);
        *(v0 + 52) -= 1310720 * object_getFrontDirection(v0);
        *(v0 + 60) = 0x800000;
        result = 15;
        *(v0 + 32) = 15;
    }
    return result;
}


// 0x80e21ac
int __fastcall sub_80E21AC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 25, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 76) = v5;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80e21d8
int sub_80E21D8()
{
    int v0; // r5

    return (*(&off_80E21EC + *(v0 + 8)))();
}


// 0x80e21f8
signed int sub_80E21F8()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 32) = 1;
    *(v0 + 34) = *(v0 + 5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e2208
int sub_80E2208()
{
    int v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3
    char v5; // zf
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0
    int v9; // r4

    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != 12 )
        return object_freeMemory();
    result = battle_isTimeStop();
    if ( !v5 )
        return result;
    v6 = *(v0 + 34);
    v7 = __OFSUB__(v6--, 1);
    *(v0 + 34) = v6;
    if ( ((v6 < 0) ^ v7) | (v6 == 0) )
        return object_freeMemory();
    v8 = *(v0 + 32);
    v7 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v7 )
    {
        v9 = *(v0 + 4);
        sub_80E2388(result, v2, v3, v4);
        result = 10;
        *(v0 + 32) = 10;
    }
    return result;
}


// 0x80e2244
int __fastcall sub_80E2244(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 26, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e225c
void sub_80E225C()
{
    int v0; // r5

    (*(&off_80E2274 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e2280
signed int __noreturn sub_80E2280()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    int v7; // r0
    int v8; // r0
    char *v9; // r3
    int v10; // r2
    int v11; // r3
    signed __int16 v12; // r0
    u8 v13; // r0
    signed int result; // r0

    v1 = 2 * *(v0 + 4);
    v2 = byte_80E233C[v1 + 1];
    *(v0 + 18) = byte_80E233C[v1];
    *(v0 + 19) = v2;
    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 40;
    GetPositiveSignedRNG2();
    if ( *(v0 + 4) >= 2 )
    {
        __asm { SVC         6 }
        *(v0 + 54) += 240;
    }
    else
    {
        __asm { SVC         6 }
        *(v0 + 58) += 72;
    }
    object_setPanelsFromCoordinates(v0);
    GetPositiveSignedRNG2();
    v8 = (v7 & 0x3FFFF) + 0x40000;
    v9 = &byte_80E2348[2 * *(v0 + 4)];
    v10 = *v9 * v8;
    v11 = v9[1] * v8;
    *(v0 + 64) = v10;
    *(v0 + 68) = v11;
    v12 = 70;
    if ( *(v0 + 4) >= 2 )
        v12 = 30;
    *(v0 + 32) = v12;
    sprite_load(v0, 128, 8, 12);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v13 = 15;
    if ( *(v0 + 4) >= 2 )
        v13 = 16;
    *(v0 + 16) = v13;
    *(v0 + 17) = v13;
    sprite_setAnimation(v0, v13);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    sprite_setFlip(v0, *(&dword_80E2354 + *(v0 + 4)));
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e2358
int sub_80E2358()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( battle_isBattleOver() )
        return object_freeMemory();
    result = battle_isTimeStop();
    if ( v2 )
    {
        v3 = *(v0 + 32);
        v4 = __OFSUB__(v3--, 1);
        *(v0 + 32) = v3;
        if ( !(((v3 < 0) ^ v4) | (v3 == 0)) )
        {
            *(v0 + 52) += *(v0 + 64);
            result = *(v0 + 68) + *(v0 + 56);
            *(v0 + 56) = result;
            return result;
        }
        return object_freeMemory();
    }
    return result;
}


// 0x80e2388
int __fastcall sub_80E2388(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 27, a2, a3, a4);
    result = v4;
    if ( v4 )
        *(v4 + 22) = *(v6 + 22);
    return result;
}


// 0x80e23a4
int sub_80E23A4()
{
    int v0; // r5

    return (*(&off_80E23B8 + *(v0 + 8)))();
}


// 0x80e23c4
int sub_80E23C4()
{
    int v0; // r5

    return (*(&off_80E23D8 + *(v0 + 9)))();
}


// 0x80e23e8
int sub_80E23E8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    char *v3; // r0
    char *v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    v1 = *(v0 + 11);
    if ( !*(v0 + 11) )
    {
        v2 = 16;
        if ( *(v0 + 4) )
            v2 = 64;
        sub_801DF8C(v2);
        v3 = sub_802E070(*(v0 + 22));
        if ( *(v0 + 4) )
        {
            *(v3 + 29) = &byte_1E0;
            *(v3 + 30) = 0;
        }
        else
        {
            *(v3 + 30) = &byte_1E0;
            *(v3 + 29) = 0;
        }
        if ( sub_800A8F8(v3) && !(sub_802D246() & 8) )
        {
            v4 = sub_802E070(*(v0 + 22) ^ 1);
            if ( *(v0 + 4) )
            {
                *(v4 + 29) = &byte_438;
                *(v4 + 30) = 0;
            }
            else
            {
                *(v4 + 30) = &byte_438;
                *(v4 + 29) = 0;
            }
        }
        (loc_8000AC8)(dword_86E55FC, 100759872, 256, &off_80E24AC);
        (loc_8000AC8)(byte_86E56FC, 50337520, 32, sub_80E24B8);
        *(v0 + 32) = 70;
        v1 = 4;
        *(v0 + 11) = 4;
    }
    if ( !sub_800A8F8(v1) || !(sub_802D246() & 8) || !battle_networkInvert(*(v0 + 22)) )
        sub_800AE90(120, 12);
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e24b8
int __fastcall sub_80E24B8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 28, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e24e4
int sub_80E24E4()
{
    int v0; // r5

    return (*(&off_80E24F8 + *(v0 + 8)))();
}


// 0x80e2504
int sub_80E2504()
{
    int v0; // r5

    return (*(&off_80E2518 + *(v0 + 9)))();
}


// 0x80e2528
int sub_80E2528()
{
    int v0; // r5
    int v1; // r4
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( !*(v0 + 11) )
    {
        object_reservePanel(*(*(v0 + 76) + 18), *(*(v0 + 76) + 19));
        *(v0 + 5) = 1;
        v1 = *(v0 + 4);
        sub_80E2712(1, v2, v3, v0 + 5);
        *(v0 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        object_removePanelReserve(*(*(v0 + 76) + 18), *(*(v0 + 76) + 19));
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e2566
int __fastcall sub_80E2566(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 29, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e25d0
int sub_80E25D0()
{
    int v0; // r5

    return (*(&off_80E25E4 + *(v0 + 8)))();
}


// 0x80e25f0
int sub_80E25F0()
{
    int v0; // r5
    int v1; // r0

    v1 = 24 * *(v0 + 4);
    *(v0 + 96) = &byte_80E2588[v1];
    (*(&off_80E2620 + byte_80E2588[v1 + 1]))();
    *(v0 + 32) = 8;
    *(v0 + 8) = 4;
    return sub_80E2628();
}


// 0x80e2628
int sub_80E2628()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    bool v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int v8; // r1
    int v9; // r2
    int v10; // [sp-8h] [bp-18h]

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 8;
        v2 = *(v0 + 100) - 1;
        *(v0 + 100) = v2;
        if ( v2 < 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            v10 = *(v0 + 104 + v2) & 7;
            v3 = (*(*(v0 + 96) + 20))() == 0;
            result = v10;
            if ( !v3 )
            {
                v4 = object_getCoordinatesForPanels(v10);
                if ( *(v0 + 4) == 2 )
                {
                    sub_80E1D7A(v4, v4, v5, 0);
                    result = PlaySoundEffect(144, v8, v9);
                }
                else
                {
                    SpawnT4BattleObjectWithId0(v0, v4, v4, v5, 0);
                    result = PlaySoundEffect(151, v6, v7);
                }
            }
        }
    }
    return result;
}


// 0x80e268c
int sub_80E268C()
{
    int v0; // r5

    **(v0 + 76) = 0;
    return object_freeMemory();
}


// 0x80e269a
void __noreturn sub_80E269A()
{
    int v0; // r5
    int v1; // r1
    int v2; // r7
    int v3; // r2
    int v4; // r3
    int v5; // r6
    int v6; // r7
    int v7; // r0
    int v8; // ST08_4
    int v9; // ST0C_4
    bool v10; // zf
    int v11; // [sp-18h] [bp-28h]
    int v12; // [sp-14h] [bp-24h]

    v1 = 3;
    v2 = *(v0 + 96);
    v3 = *(v2 + 4);
    v4 = *(v2 + 8);
    v5 = 0;
    v6 = v0 + 104;
    do
    {
        v7 = 6;
        do
        {
            v11 = v7;
            v12 = v1;
            v8 = v3;
            v9 = v4;
            v10 = object_checkPanelParameters(v7, v1, v3, v4) == 0;
            v1 = v12;
            v3 = v8;
            v4 = v9;
            if ( !v10 )
                *(v6 + v5++) = 16 * v12 | v11;
            v7 = v11 - 1;
        }
        while ( v11 != 1 );
        v1 = v12 - 1;
    }
    while ( v12 != 1 );
    *(v0 + 100) = v5;
    if ( v5 )
        sub_8000C72(v6, v5, v5);
}


// 0x80e26d8
void __noreturn sub_80E26D8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r7
    int v3; // r2
    int v4; // r3
    int v5; // r6
    int v6; // r7
    int v7; // r0
    bool v8; // zf
    int v9; // [sp-10h] [bp-20h]
    int v10; // [sp-Ch] [bp-1Ch]

    v1 = *(v0 + 19);
    v2 = *(v0 + 96);
    v3 = *(v2 + 4);
    v4 = *(v2 + 8);
    v5 = 0;
    v6 = v0 + 104;
    v7 = 6;
    do
    {
        v9 = v7;
        v10 = v1;
        v8 = object_checkPanelParameters(v7, v1, v3, v4) == 0;
        v1 = v10;
        if ( !v8 )
            *(v6 + v5++) = 16 * v10 | v9;
        v7 = v9 - 1;
    }
    while ( v9 != 1 );
    *(v0 + 100) = v5;
    if ( v5 )
        sub_8000C72(v6, v5, v5);
}


// 0x80e2712
Battle *__fastcall sub_80E2712(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-Ch]
    int v7; // [sp+4h] [bp-8h]

    v6 = a4;
    object_spawnType4(v4, 30, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4->Alliance = *(v7 + 22);
        v4->parent = v6;
    }
    return result;
}


// 0x80e28a8
int sub_80E28A8()
{
    int v0; // r5

    return (*(&off_80E28BC + *(v0 + 8)))();
}


// 0x80e28c8
unsigned int sub_80E28C8()
{
    int v0; // r5
    int v1; // r0
    char v2; // r1
    char *v3; // r4
    int v4; // r0
    int v5; // r1
    int v6; // r2

    if ( *(v0 + 22) )
    {
        v1 = *(v0 + 4);
        v2 = 18;
        if ( v1 == 17 )
        {
LABEL_5:
            *(v0 + 4) = v2;
            goto LABEL_6;
        }
        if ( v1 == 18 )
        {
            v2 = 17;
            goto LABEL_5;
        }
    }
LABEL_6:
    v3 = &byte_80E272C[20 * *(v0 + 4)];
    *(v0 + 96) = v3;
    v4 = *(v0 + 4);
    (*(&off_80E291C + v3[1]))();
    *(v0 + 32) = v3[3];
    *(v0 + 8) = 4;
    return sub_80E292C(4, v5, v6);
}


// 0x80e292c
unsigned int __fastcall sub_80E292C(int a1, int a2, int a3)
{
    int v3; // r5
    unsigned int result; // r0
    int v5; // r0
    unsigned __int8 v6; // cf
    int v7; // r6
    unsigned int v8; // r0
    char *v9; // r0
    int v10; // r6
    unsigned int v11; // r0
    int v12; // r3
    int v13; // r1
    int v14; // r0
    int v15; // [sp-18h] [bp-28h]
    int v16; // [sp-18h] [bp-28h]
    int v17; // [sp-14h] [bp-24h]
    int v18; // [sp-14h] [bp-24h]
    char v19; // [sp-10h] [bp-20h]
    signed int v20; // [sp-10h] [bp-20h]
    unsigned int v21; // [sp-4h] [bp-14h]

    result = *(v3 + 32) - 1;
    *(v3 + 32) = result;
    if ( result )
    {
        if ( !(result & 3) )
        {
            v21 = result;
            v5 = *(v3 + 4);
            if ( v5 != 8 && v5 != 7 && v5 != 12 )
                PlaySoundEffect(163, 3, a3);
            result = v21;
        }
        if ( !*(*(v3 + 96) + 2) || (v6 = __CFSHR__(result, 3), result >>= 3, v6) )
        {
            v7 = *(v3 + 100) - 1;
            if ( v7 >= 0 )
            {
                v8 = *(v3 + 104 + v7);
                v15 = v8 & 7;
                v17 = v8 >> 4;
                v19 = **(v3 + 96);
                v9 = object_getPanelDataOffset(v8 & 7, v8 >> 4);
                object_setPanelTypeBlink(v15, v17, v19, v9[3]);
            }
        }
    }
    else
    {
        v10 = *(v3 + 100) - 1;
        if ( v10 >= 0 )
        {
            v11 = *(v3 + 104 + v10);
            v16 = v11 & 7;
            v18 = v11 >> 4;
            v20 = **(v3 + 96);
            v12 = object_getPanelDataOffset(v11 & 7, v11 >> 4)[3];
            object_setPanelType(v16, v18, v20);
        }
        v13 = *(v3 + 4);
        if ( v13 != 8 && v13 != 7 )
        {
            v14 = 164;
            if ( v13 == 6 || v13 == 11 )
                v14 = 144;
            PlaySoundEffect(v14, v13, **(v3 + 96));
        }
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80e29e6
int sub_80E29E6()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 76);
    if ( v1 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80e29f8
int __noreturn sub_80E29F8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r2
    int v4; // r3
    int v5; // r6
    int result; // r0
    int v7; // ST08_4
    int v8; // ST0C_4
    bool v9; // zf
    int v10; // [sp-10h] [bp-20h]
    int v11; // [sp-Ch] [bp-1Ch]

    v1 = 3;
    v2 = 8 * *(v0 + 22) + *(v0 + 96);
    v3 = *(v2 + 4);
    v4 = *(v2 + 8);
    v5 = 0;
    do
    {
        result = 6;
        do
        {
            v10 = result;
            v11 = v1;
            v7 = v3;
            v8 = v4;
            v9 = object_checkPanelParameters(result, v1, v3, v4) == 0;
            v1 = v11;
            v3 = v7;
            v4 = v8;
            if ( !v9 )
                *(v0 + 104 + v5++) = 16 * v11 | v10;
            result = v10 - 1;
        }
        while ( v10 != 1 );
        v1 = v11 - 1;
    }
    while ( v11 != 1 );
    *(v0 + 100) = v5;
    return result;
}


// 0x80e2a30
int __noreturn sub_80E2A30()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r2
    int v4; // r3
    int v5; // r6
    int result; // r0
    int v7; // ST08_4
    int v8; // ST0C_4
    bool v9; // zf
    int v10; // [sp-10h] [bp-20h]
    int v11; // [sp-Ch] [bp-1Ch]

    v1 = *(v0 + 19);
    v2 = 8 * *(v0 + 22) + *(v0 + 96);
    v3 = *(v2 + 4);
    v4 = *(v2 + 8);
    v5 = 0;
    result = 6;
    do
    {
        v10 = result;
        v11 = v1;
        v7 = v3;
        v8 = v4;
        v9 = object_checkPanelParameters(result, v1, v3, v4) == 0;
        v1 = v11;
        v3 = v7;
        v4 = v8;
        if ( !v9 )
            *(v0 + 104 + v5++) = 16 * v11 | v10;
        result = v10 - 1;
    }
    while ( v10 != 1 );
    *(v0 + 100) = v5;
    return result;
}


// 0x80e2a64
__int64 __noreturn sub_80E2A64()
{
    int v0; // r5
    int v1; // r0
    int v2; // r4
    bool v3; // zf
    __int64 result; // r0
    signed int v5; // r6
    __int64 v6; // [sp-10h] [bp-20h]

    v1 = object_getFrontDirection(v0);
    v2 = 8 * *(v0 + 22) + *(v0 + 96);
    LODWORD(v6) = v1 + *(v0 + 18);
    HIDWORD(v6) = *(v0 + 19);
    v3 = object_checkPanelParameters(v6, SHIDWORD(v6), *(v2 + 4), *(v2 + 8)) == 0;
    result = v6;
    v5 = 0;
    if ( !v3 )
    {
        *(v0 + 104) = 16 * BYTE4(v6) | v6;
        v5 = 1;
    }
    *(v0 + 100) = v5;
    return result;
}


// 0x80e2a9a
__int64 __noreturn sub_80E2A9A()
{
    int v0; // r5
    int v1; // r4
    bool v2; // zf
    __int64 result; // r0
    signed int v4; // r6
    __int64 v5; // [sp-10h] [bp-20h]

    v1 = 8 * *(v0 + 22) + *(v0 + 96);
    LODWORD(v5) = *(v0 + 18);
    HIDWORD(v5) = *(v0 + 19);
    v2 = object_checkPanelParameters(v5, SHIDWORD(v5), *(v1 + 4), *(v1 + 8)) == 0;
    result = v5;
    v4 = 0;
    if ( !v2 )
    {
        *(v0 + 104) = 16 * BYTE4(v5) | v5;
        v4 = 1;
    }
    *(v0 + 100) = v4;
    return result;
}


// 0x80e2aca
int __fastcall sub_80E2ACA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]
    int v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v6 = a1;
    v7 = a2;
    v8 = a4;
    object_spawnType4(v4, 31, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 76) = v8;
    }
    return result;
}


// 0x80e2ae8
int sub_80E2AE8()
{
    int v0; // r5

    return (*(&off_80E2AFC + *(v0 + 8)))();
}


// 0x80e2b08
int sub_80E2B08()
{
    int v0; // r5

    return (*(&off_80E2B1C + *(v0 + 9)))();
}


// 0x80e2b2c
int __fastcall sub_80E2B2C(int a1, int a2, int a3)
{
    int v3; // r5
    char v4; // r0
    int v5; // r1
    int v6; // r4
    int result; // r0

    if ( !*(v3 + 11) )
    {
        v4 = *(v3 + 18);
        v5 = *(v3 + 19);
        *(v3 + 5) = 1;
        v6 = *(v3 + 4);
        sub_80E2ACA(v4, v5, a3, v3 + 5);
        *(v3 + 11) = 4;
    }
    result = *(v3 + 5);
    if ( !*(v3 + 5) )
    {
        *(v3 + 9) = 12;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80e2b5a
int __fastcall sub_80E2B5A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 32, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e2b7c
int sub_80E2B7C()
{
    int v0; // r5

    return (*(&off_80E2B90 + *(v0 + 8)))();
}


// 0x80e2b9c
int sub_80E2B9C()
{
    int v0; // r5

    return (*(&off_80E2BB0 + *(v0 + 9)))();
}


// 0x80e2bc0
int sub_80E2BC0()
{
    int v0; // r5

    return (*(&off_80E2BD4 + *(v0 + 10)))();
}


// 0x80e2be0
signed int sub_80E2BE0()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 96) = 3;
    *(v0 + 104) = 0;
    *(v0 + 100) = 197121;
    sub_8000C72(v0 + 100, 3, 4);
    *(v0 + 32) = 12;
    result = 4;
    *(v0 + 10) = 4;
    return result;
}


// 0x80e2c08
int sub_80E2C08()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r3
    int v8; // r6
    _BYTE *v9; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        v4 = *(v0 + 96);
        v2 = __OFSUB__(v4--, 1);
        *(v0 + 96) = v4;
        if ( (v4 < 0) ^ v2 )
        {
            result = 8;
            *(v0 + 10) = 8;
        }
        else
        {
            v5 = sub_800D4D0(*(v0 + 22), *(v0 + 23), *(v0 + 100 + *(v0 + 96)));
            if ( v5 )
            {
                v8 = *(v0 + 44) + *(v0 + 50);
                v9 = sub_80CCC26(v5, v6, *(v0 + 14), v7);
                if ( v9 )
                    *v9 |= 0x10u;
            }
            result = 12;
            *(v0 + 32) = 12;
        }
    }
    return result;
}


// 0x80e2c70
int sub_80E2C70()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 104);
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e2c80
int __fastcall sub_80E2C80(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 33, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e2ca4
int sub_80E2CA4()
{
    int v0; // r5

    return (*(&off_80E2CB8 + *(v0 + 8)))();
}


// 0x80e2cc4
int sub_80E2CC4()
{
    int v0; // r5

    return (*(&off_80E2CD8 + *(v0 + 9)))();
}


// 0x80e2ce8
int sub_80E2CE8()
{
    int v0; // r5

    return (*(&off_80E2CFC + *(v0 + 10)))();
}


// 0x80e2d08
void __noreturn sub_80E2D08()
{
    sub_80E2D98();
}


// 0x80e2d0e
int __fastcall sub_80E2D0E(int a1, int a2, int a3, int a4, int (*a5)(void))
{
    int v5; // r5

    if ( a1 )
    {
        PlaySoundEffect(145, a2, a3);
        *(v5 + 32) = 30;
        *(v5 + 10) = 4;
    }
    else
    {
        *(v5 + 32) = 30;
        *(v5 + 9) = 12;
        *(v5 + 10) = 0;
    }
    return a5();
}


// 0x80e2d30
int sub_80E2D30()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 32) = 30;
        sub_80E2DE0();
    }
    return result;
}


// 0x80e2d54
int sub_80E2D54()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e2d76
int __fastcall sub_80E2D76(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 34, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e2d98
void __noreturn sub_80E2D98()
{
    int v0; // r5

    sub_800D618(1, 1, *(v0 + 22));
}


// 0x80e2daa
int __fastcall sub_80E2DAA(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int (__fastcall *a8)(int))
{
    int v8; // r4
    int v9; // r5
    int v10; // r6
    int v11; // r7
    int v12; // r0
    int v13; // r1

    if ( a1 )
    {
        v12 = object_getCoordinatesForPanels(v10);
        SpawnT4BattleObjectWithId0(v9, v12, v12, v13, 0);
        object_setPanelAllianceTimerShort(v10);
        ++v8;
    }
    if ( v11 + 1 <= 3 )
        JUMPOUT(&loc_80E2DA0);
    if ( v10 + 1 <= 6 )
        JUMPOUT(&loc_80E2D9E);
    *(v9 + 96) = v8;
    return a8(v8);
}


// 0x80e2de0
int __noreturn sub_80E2DE0()
{
    int v0; // r5
    BOOL v1; // r0

    v1 = object_checkPanelParameters(6, 3, *&byte_80E2E24[8 * *(v0 + 22)], *&byte_80E2E24[8 * *(v0 + 22) + 4]);
    return sub_80E2DFA(v1);
}


// 0x80e2dfa
int sub_80E2DFA() { // could not decompile
    asm(".func\
    .thumb_func\
    sub_80E2DFA:\
        tst r0, r0\
        pop {r0-r4}\
        beq loc_80E2E12\
        push {r0-r4}\
        ldrb r2, [r5,#0xe]\
        ldr r6, [r5,#0x2c]\
        ldrh r3, [r5,#0x32]\
        add r6, r6, r3\
        bl sub_80CCD4A\
        pop {r0-r4}\
        add r4, #1\
    loc_80E2E12:\
        sub r1, #1\
        bne loc_80E2DF4\
        sub r0, #1\
        bne loc_80E2DF2\
        mov r0, r4\
        pop {r4,r6,r7,pc}\
        .byte 0, 0\
    off_80E2E20: .word byte_80E2E24\
    byte_80E2E24: .byte 0x0, 0x0, 0x20, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x40, 0x0, 0x0, 0x0, 0x0\
        .byte 0x0\
    .endfunc // sub_80E2DFA"
    );
}

// 0x80e2e34
int sub_80E2E34()
{
    int v0; // r5

    return (*(&off_80E2E48 + *(v0 + 8)))();
}


// 0x80e2e54
int sub_80E2E54()
{
    int v0; // r5

    return (*(&off_80E2E68 + *(v0 + 9)))();
}


// 0x80e2e78
int sub_80E2E78()
{
    int v0; // r5

    return (*(&off_80E2E8C + *(v0 + 10)))();
}


// 0x80e2e94
int sub_80E2E94()
{
    int v0; // r5
    int v1; // r5
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // [sp-4h] [bp-8h]

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v5 = v0;
    v1 = *(v0 + 76);
    sprite_forceWhitePallete();
    v2 = *(v5 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v5 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        result = 4;
        *(v5 + 10) = 4;
    }
    return result;
}


// 0x80e2ebc
int __fastcall sub_80E2EBC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r2
    int v7; // r4
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r5
    int result; // r0

    if ( !*(v4 + 11) )
    {
        *(v4 + 32) = 60;
        sub_80E11E0(60, a2, a3, a4);
        PlaySoundEffect(188, v5, v6);
        v7 = *&byte_80E2F18[4 * *(v4 + 22)];
        sub_80C53A6(*(v4 + 18), *(v4 + 19), *(v4 + 14), 0);
        *(v4 + 11) = 4;
    }
    v8 = *(v4 + 32);
    v9 = __OFSUB__(v8--, 1);
    *(v4 + 32) = v8;
    if ( (v8 < 0) ^ v9 )
    {
        *(v4 + 9) = 12;
        result = 0;
        *(v4 + 10) = 0;
    }
    else
    {
        v10 = *(v4 + 76);
        result = sprite_forceWhitePallete();
    }
    return result;
}


// 0x80e2f24
int __fastcall sub_80E2F24(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 35, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e2f56
int sub_80E2F56()
{
    int v0; // r5

    return (*(&off_80E2F68 + *(v0 + 8)))();
}


// 0x80e2f74
int sub_80E2F74()
{
    int v0; // r5

    sub_8000C72(v0 + 96, *(v0 + 5), *(v0 + 5));
    *(v0 + 8) = 4;
    return sub_80E2F8C();
}


// 0x80e2f8c
unsigned int sub_80E2F8C()
{
    int v0; // r5
    unsigned int v1; // r0
    bool v2; // cf
    unsigned int result; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r4
    char *v7; // ST00_4
    int v8; // r1
    int v9; // r1
    int v10; // r2

    v1 = *(v0 + 32);
    v2 = v1 >= 1;
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( !v2 )
    {
        *(v0 + 32) = *(v0 + 34);
        v4 = *(v0 + 5) - 1;
        *(v0 + 5) = v4;
        if ( v4 < 0 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            v5 = object_getCoordinatesForPanels(*(v0 + 96 + v4) & 7);
            v6 = byte_80E2F48[2 * *(v0 + 4)];
            v7 = &byte_80E2F48[2 * *(v0 + 4)];
            SpawnT4BattleObjectWithId0(v0, v5, v5, v8, *(v0 + 60));
            result = v7[1];
            if ( v7[1] )
                result = PlaySoundEffect(result, v9, v10);
        }
    }
    return result;
}


// 0x80e2fe0
int sub_80E2FE0()
{
    return object_freeMemory();
}


// 0x80e2fe8
int __fastcall sub_80E2FE8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r6
    int v7; // [sp+0h] [bp-1Ch]
    __int16 v8; // [sp+4h] [bp-18h]
    int v9; // [sp+8h] [bp-14h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 36, a2, a3, a4);
    result = v7;
    if ( v4 )
    {
        *(v4 + 34) = v8;
        if ( __CFSHL__(v7, 25) )
        {
            *(v4 + 18) = 0;
            result = object_getPanelsExceptCurrentFilterred(
                                 8 * v7 & 0x3FF,
                                 0,
                                 *&byte_8019C34[8 * v7 & 0x3FF],
                                 *&byte_8019C34[(8 * v7 & 0x3FF) + 4]);
        }
        else
        {
            v6 = *(v9 + 22);
            result = sub_80E3038(*(v4 + 6), *(v4 + 7), 0x10000, 0);
        }
        *(v4 + 5) = result;
    }
    return result;
}


// 0x80e3038
int __fastcall sub_80E3038(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    int v5; // r6
    int v6; // r7
    char *v7; // r4
    int v8; // r6
    int v9; // r0
    int v11; // [sp+0h] [bp-28h]
    int v12; // [sp+4h] [bp-24h]
    int v13; // [sp+8h] [bp-20h]
    int v14; // [sp+Ch] [bp-1Ch]
    int v15; // [sp+10h] [bp-18h]
    int v16; // [sp+14h] [bp-14h]
    int v17; // [sp+18h] [bp-10h]

    v11 = a1;
    v12 = a2;
    v13 = a3;
    v14 = a4;
    v7 = *(&off_8019B78 + v4);
    v15 = object_getAllianceDirection(v5);
    v8 = 0;
    while ( 1 )
    {
        v9 = *v7;
        if ( v9 == 127 )
            break;
        v16 = v9 * v15 + v11;
        v17 = v7[1] + v12;
        if ( object_checkPanelParameters(v16, v17, v13, v14) )
            *(v6 + v8++) = v16 | 16 * v17;
        v7 += 2;
    }
    return v8;
}


// 0x80e309c
int sub_80E309C()
{
    int v0; // r5

    return (*(&off_80E30B0 + *(v0 + 8)))();
}


// 0x80e30bc
int sub_80E30BC()
{
    int v0; // r5

    return (*(&off_80E30D0 + *(v0 + 9)))();
}


// 0x80e30e0
int sub_80E30E0()
{
    int v0; // r5
    int v1; // r4
    int v2; // r6
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // [sp-8h] [bp-14h]
    int v7; // [sp-4h] [bp-10h]

    if ( !*(v0 + 11) )
    {
        v6 = object_getFrontDirection(v0) + *(v0 + 18);
        v7 = *(v0 + 19);
        if ( object_checkPanelParameters(v6, v7, 16, 260571264) )
        {
            v1 = *(v0 + 4);
            v2 = *(v0 + 44);
            sub_80CD2B4(v6, v7, *(v0 + 22), 0);
        }
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v3 = *(v0 + 32);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v4 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3128
int __fastcall sub_80E3128(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 37, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e3150
void sub_80E3150()
{
    int v0; // r5

    (*(&off_80E3168 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e3174
void __noreturn sub_80E3174()
{
    int v0; // r5

    sub_801BE2A(*(v0 + 4));
}


// 0x80e318e
int sub_80E318E()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    v3 = *(*(v0 + 76) + 56);
    v4 = *(*(v0 + 76) + 60);
    v5 = (v0 + 52);
    *v5 = *(*(v0 + 76) + 52);
    v5[1] = v3;
    v5[2] = v4;
    return v0 + 64;
}


// 0x80e31c0
int __fastcall sub_80E31C0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 38, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e31d8
int sub_80E31D8()
{
    int v0; // r5

    return (*(&off_80E31EC + *(v0 + 8)))();
}


// 0x80e31f8
int sub_80E31F8()
{
    int v0; // r5

    return (*(&off_80E320C + *(v0 + 9)))();
}


// 0x80e321c
int sub_80E321C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        sub_80E3290();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3242
int __fastcall sub_80E3242(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 39, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e3264
void __noreturn sub_80E3264()
{
    Battle *v0; // r5
    int v1; // r2
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3

    object_getFrontDirection(v0);
    sub_81096FA(v0->panelX, v0->panelY, v1, &off_80E3280);
    object_getFirstPanelInDirectionFiltered(v2, v3, v4, v5);
}


// 0x80e3290
void __noreturn sub_80E3290()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 22);
    sub_80E3264();
}


// 0x80e32b8
int sub_80E32B8()
{
    int v0; // r5

    return (*(&off_80E32CC + *(v0 + 8)))();
}


// 0x80e32d8
void __noreturn sub_80E32D8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    u8 v7; // r0

    *v0 |= 2u;
    v1 = *(v0 + 4);
    if ( v1 == 255 )
    {
        v2 = *(*(v0 + 76) + 40);
        *(v0 + 40) = v2;
        v3 = sub_800F26C(v2);
        sprite_load(v0, 128, v3, v4);
        v5 = sub_800F29C(*(v0 + 40));
        sub_8010DF6(v5, v6);
        sub_80C4526(*(v0 + 80), 1);
    }
    else
    {
        sprite_load(v0, 128, v1, *(v0 + 5));
    }
    v7 = *(v0 + 6);
    *(v0 + 16) = v7;
    *(v0 + 17) = v7;
    sprite_setAnimation(v0, v7);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 34) = *(v0 + 100);
    if ( *(v0 + 102) )
    {
        sprite_hasShadow();
        if ( !*(v0 + 103) )
            sprite_removeShadow();
    }
    else
    {
        sprite_noShadow(v0);
    }
    sprite_setPallete(*(v0 + 112));
    sprite_setFlip(v0, *(v0 + 7));
    *(v0 + 32) = 0;
    sprite_setColorShader(v0, *(v0 + 96));
    *(v0 + 8) = 4;
    sub_80E336E();
}


// 0x80e336e
int sub_80E336E()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    char v3; // zf
    int v4; // r0
    unsigned int v5; // r0
    unsigned __int8 v6; // cf

    if ( *(v0 + 108) == 1 )
    {
        v1 = sub_80136CC(*(v0 + 22), 44);
        if ( v1 < 11 || v1 > 24 )
            goto LABEL_15;
    }
    if ( *(v0 + 108) == 2 && *(*(v0 + 76) + 9) < 16 )
        goto LABEL_15;
    result = battle_isPaused();
    if ( !v3 )
        return result;
    v4 = *(v0 + 32) + 1;
    if ( v4 >= *(v0 + 34) )
    {
LABEL_15:
        *(v0 + 8) = 8;
        return sub_80E33D2();
    }
    *(v0 + 32) = v4;
    sprite_update(v0);
    *v0 |= 2u;
    result = *(v0 + 104);
    if ( !result )
    {
        v5 = *(v0 + 32);
        v6 = __CFSHR__(v5, 2);
        result = v5 >> 2;
        if ( !v6 )
        {
            result = *v0 & 0xFD;
            *v0 = result;
        }
    }
    return result;
}


// 0x80e33d2
int sub_80E33D2()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r0
    int v3; // r1

    if ( *(v0 + 4) == 255 )
    {
        v1 = *(v0 + 80);
        if ( v1 )
            *v1 |= 4u;
    }
    v2 = sub_800F29C(*(v0 + 40));
    sub_8011044(v2, v3);
    return object_freeMemory();
}


// 0x80e33fa
int __fastcall sub_80E33FA(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-10h]
    int v7; // [sp+4h] [bp-Ch]
    int v8; // [sp+8h] [bp-8h]

    object_spawnType4(v4, 40, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 96) = v7;
        *(v4 + 100) = v8;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 4u;
    }
    return result;
}


// 0x80e341e
int __fastcall sub_80E341E(int result, int a2)
{
    *(result + 108) = a2;
    return result;
}


// 0x80e3422
int __fastcall sub_80E3422(int result)
{
    *(result + 104) = 1;
    return result;
}


// 0x80e3428
int __fastcall sub_80E3428(int result, int a2)
{
    *(result + 112) = a2;
    return result;
}


// 0x80e342c
int sub_80E342C()
{
    int v0; // r5

    return (*(&off_80E3440 + *(v0 + 8)))();
}


// 0x80e344c
int sub_80E344C()
{
    int v0; // r5

    return (*(&off_80E3460 + *(v0 + 9)))();
}


// 0x80e3470
int __fastcall sub_80E3470(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r3
    int v5; // r6
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( !*(v3 + 11) )
    {
        *(v3 + 32) = 120;
        v4 = *(v3 + 50);
        v5 = *(v3 + 44) + v4;
        sub_80CDF60(*(v3 + 22), a2, a3, v4);
        *(v3 + 11) = 4;
    }
    v6 = *(v3 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v7 )
    {
        *(v3 + 9) = 12;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80e349e
int __fastcall sub_80E349E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 41, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e34c0
int battleTrapObjectMaybe_80E34C0()
{
    int v0; // r5

    return (*(&off_80E34D4 + *(v0 + 8)))();
}


// 0x80e34e0
int sub_80E34E0()
{
    int v0; // r5

    return (*(&off_80E34F4 + *(v0 + 9)))();
}


// 0x80e3504
int sub_80E3504()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        sub_802CEA6(*(v0 + 22));
        sub_80E3560();
        sub_802CE8A(*(v0 + 76), *(v0 + 48), *(v0 + 44), *(v0 + 50));
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e353e
int __fastcall spawnBattleTrapMaybe_80E353E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 42, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e3560
int sub_80E3560()
{
    int v0; // r5

    return (*(&off_80E3574 + *(v0 + 4)))();
}


// 0x80e358c
int __fastcall sub_80E358C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int v7; // r4

    v5 = *(v4 + 44);
    v6 = *(v4 + 48);
    v7 = *(v4 + 4);
    return sub_80CE0EC(*(v4 + 76), a2, *(v4 + 14), a4);
}


// 0x80e359e
int sub_80E359E()
{
    return 0;
}


// 0x80e35a4
int sub_80E35A4()
{
    int v0; // r5

    return (*(&off_80E35B8 + *(v0 + 8)))();
}


// 0x80e35c4
int sub_80E35C4()
{
    int v0; // r5

    return (*(&off_80E35D8 + *(v0 + 9)))();
}


// 0x80e35e8
int sub_80E35E8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        sub_80E362C();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e360e
int __fastcall sub_80E360E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    sub_80033E4(43, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e362c
int __noreturn sub_80E362C()
{
    int v0; // r5
    int v1; // r6
    char *v2; // r0
    int v3; // r2
    int result; // r0
    int *i; // r7
    unsigned __int8 v6; // vf
    int v7; // r6
    unsigned int v8; // r0
    int v9; // r2
    char *v10; // r3
    int v11; // r4
    int v12; // r7
    int v13; // r6
    int v14; // r4
    int v15; // [sp+0h] [bp-44h]
    int v16; // [sp+18h] [bp-2Ch]
    int *v17; // [sp+1Ch] [bp-28h]
    int v18; // [sp+28h] [bp-1Ch]
    int v19; // [sp+2Ch] [bp-18h]
    int v20; // [sp+30h] [bp-14h]

    v20 = *&byte_80E36E4[4 * *(v0 + 22)];
    v18 = 1;
    v1 = 0;
    do
    {
        v19 = 1;
        do
        {
            v2 = object_getPanelDataOffset(v18, v19);
            v3 = v20;
            if ( *(v2 + 5) & v20 )
                *(&v15 + v1++) = v18 | 16 * v19;
            ++v19;
        }
        while ( v19 <= 3 );
        ++v18;
    }
    while ( v18 <= 6 );
    result = v1;
    if ( v1 )
    {
        if ( *&byte_80E3714[2 * *(v0 + 14)] )
            PlaySoundEffect(*&byte_80E3714[2 * *(v0 + 14)], byte_80E3714, v3);
        for ( i = &v15; ; i = v17 )
        {
            v6 = __OFSUB__(v1, 1);
            v7 = v1 - 1;
            if ( (v7 < 0) ^ v6 )
                break;
            v16 = v7;
            v17 = i;
            v8 = *(i + v7);
            v9 = *(v0 + 14);
            v10 = &byte_80E36EC[8 * v9];
            v11 = *v10;
            v12 = *(v10 + 1);
            v13 = *(v0 + 44) + *(v0 + 50);
            sub_80C53A6(v8 & 7, v8 >> 4, v9, 0);
            v1 = v16;
        }
        v14 = byte_80E371E[*(v0 + 14)];
        result = sub_80E2FE8(128, 2, v3, 0);
    }
    return result;
}


// 0x80e3728
int sub_80E3728()
{
    int v0; // r5

    return (*(&off_80E373C + *(v0 + 8)))();
}


// 0x80e3748
int sub_80E3748()
{
    int v0; // r5

    return (*(&off_80E375C + *(v0 + 9)))();
}


// 0x80e376c
int sub_80E376C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // ST04_4
    int v5; // ST00_4
    Battle *v6; // r0
    int v7; // r2
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 60;
        object_subtractHP(*(v0 + 76), *(v0 + 44));
        v1 = *(v0 + 19);
        v2 = object_getCoordinatesForPanels(*(v0 + 18));
        v5 = v2;
        v4 = v3;
        v6 = sub_80E1D7A(v2, v2 + 0x100000, v3, 0);
        sub_80E1D7A(v6, v5 - 0x100000, v4, 0);
        sub_80E2ACA(*(v0 + 18), *(v0 + 19), v7, v0 + 5);
        *(v0 + 5) = 1;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e37d2
int __fastcall sub_80E37D2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 44, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e37f4
void sub_80E37F4()
{
    int v0; // r5

    (*(&off_80E3818 + *(v0 + 8)))();
    if ( *(v0 + 4) == 4 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e3824
signed int __noreturn sub_80E3824()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 31);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e386a
int sub_80E386A()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( *(v0 + 4) != 4 && *(*(v0 + 76) + 9) != 11 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
        if ( *(v0 + 4) == 4 || (result = battle_isTimeStop(), v2) )
            result = (*(&off_80E38B4 + *(v0 + 9)))();
    }
    return result;
}


// 0x80e38c8
int sub_80E38C8()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 9;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 16) = 3;
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e38ee
int sub_80E38EE()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 11);
    if ( result == 1 )
    {
        *(v0 + 16) = 1;
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3904
int sub_80E3904()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 10) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 16) = 2;
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 1;
        result = 27;
        *(v0 + 32) = 27;
    }
    return result;
}


// 0x80e3930
signed int sub_80E3930()
{
    int v0; // r5
    signed int result; // r0

    result = *(v0 + 11);
    if ( result == 2 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( result == 1 )
    {
        *(v0 + 16) = 3;
        *(v0 + 9) = 16;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3950
int sub_80E3950()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 11);
    if ( result == 1 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3962
int sub_80E3962()
{
    int v0; // r5
    _DWORD *v1; // r1

    v1 = *(v0 + 96);
    if ( *v1 == v0 )
        *v1 = 0;
    return object_freeMemory();
}


// 0x80e3976
int __fastcall sub_80E3976(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 45, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 76) = v9;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80e39a0
void sub_80E39A0()
{
    int v0; // r5

    (*(&off_80E39C4 + *(v0 + 8)))();
    if ( *(v0 + 6) == 1 )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e39d0
int __noreturn sub_80E39D0()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    *(v0 + 62) += 2;
    *(v0 + 58) += 2;
    sprite_load(v0, 128, 16, 32);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = *(&word_80E3A30 + *(v0 + 4));
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 8) = 4;
    return sub_80E3A32();
}


// 0x80e3a32
int sub_80E3A32()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() || *(v0 + 6) != 1 && *(*(v0 + 76) + 9) != 11 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else if ( *(v0 + 6) == 1 || (result = battle_isTimeStop(), v2) )
    {
        result = (*(&off_80E3A70 + *(v0 + 9)))();
    }
    return result;
}


// 0x80e3a74
int sub_80E3A74()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = *(v0 + 5);
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e3a92
int __fastcall sub_80E3A92(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-10h]
    char v8; // [sp+4h] [bp-Ch]
    int v9; // [sp+8h] [bp-8h]

    v7 = a1;
    v8 = a2;
    object_spawnType4(v4, 46, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 76) = v5;
        *(v4 + 22) = *(v9 + 22);
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80e3ab8
int sub_80E3AB8()
{
    int v0; // r5

    return (*(&off_80E3ACC + *(v0 + 8)))();
}


// 0x80e3ad8
int sub_80E3AD8()
{
    int v0; // r5

    return (*(&off_80E3AEC + *(v0 + 9)))();
}


// 0x80e3afc
int sub_80E3AFC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r5
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0
    int v10; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v10 = v0;
        v1 = *(v0 + 4);
        v2 = *(v0 + 76);
        sub_801A7CC(v1);
        v6 = *(*(v2 + 88) + 96);
        if ( v6 )
            v6 = sub_80E0DC0(v6);
        sub_80E0D98(v6, v3, v4, v5);
        v0 = v10;
        *(v10 + 32) = 60;
        *(v10 + 11) = 4;
    }
    v7 = *(v0 + 32);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v8 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e3b50
int __fastcall sub_80E3B50(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    object_spawnType4(v4, 47, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 76) = v9;
        *(v4 + 22) = *(v9 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e3b70
void sub_80E3B70()
{
    int v0; // r5

    (*(&off_80E3B88 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e3b94
signed int __noreturn sub_80E3B94()
{
    int v0; // r5
    int v5; // r2
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    **(v0 + 100) = *(v0 + 18);
    sprite_load(v0, 128, 16, 39);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    sprite_setPallete(0);
    *(v0 + 64) = object_getFrontDirection(v0) * *(v0 + 96);
    __asm { SVC         6 }
    *(v0 + 34) = 0;
    *v0 |= 2u;
    **(v0 + 76) = v0;
    PlaySoundEffect(270, 2, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e3bea
void __noreturn sub_80E3BEA()
{
    int v0; // r5
    int v1; // r1

    v1 = *(v0 + 56);
    sub_80E3D1A(*(v0 + 52));
}


// 0x80e3c14
int sub_80E3C14()
{
    int v0; // r5
    int v1; // r2
    int result; // r0
    signed int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( !object_isCurrentPanelValid() )
    {
        **(v0 + 76) = 0;
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    if ( !**(v0 + 76) )
    {
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    if ( *(v0 + 10) )
        goto LABEL_18;
    *(v0 + 10) = 1;
    *(v0 + 32) = *(v0 + 34);
    if ( *(v0 + 104) )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
        return result;
    }
    v3 = 1;
    if ( *(v0 + 64) < 0 )
        v3 = -1;
    sub_81096FA(*(v0 + 18) + v3, *(v0 + 19), v1, byte_80E3CB4);
    if ( object_checkPanelParameters(v4, v5, v6, v7) )
    {
LABEL_18:
        *(v0 + 52) += *(v0 + 64);
        object_setPanelsFromCoordinates(v0);
        **(v0 + 100) = *(v0 + 18);
        v8 = *(v0 + 32);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            object_setCoordinatesFromPanels(v0);
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        result = *(v0 + 5);
        if ( !*(v0 + 5) )
        {
            *(v0 + 64) = -*(v0 + 64);
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80e3cc4
int __fastcall sub_80E3CC4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 1;
        *(v3 + 16) = 1;
        PlaySoundEffect(189, a2, a3);
        *(v3 + 32) = *(v3 + 4);
    }
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        **(v3 + 76) = 1;
        result = 8;
        *(v3 + 8) = 8;
    }
    return result;
}


// 0x80e3cf2
int __fastcall sub_80E3CF2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    int v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 48, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 96) = v10;
        *(v4 + 100) = v5;
        *(v4 + 76) = v6;
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e3d1a
void __fastcall __noreturn sub_80E3D1A(int a1)
{
    int v1; // r5
    int v2; // r0
    int v3; // r1
    int v4; // r0
    void (__noreturn *v5)(); // r1

    v2 = convertXYToPanelXY_800E258(a1);
    v4 = object_getPanelParameters(v2, v3);
    v5 = &LCDControl;
    if ( *(v1 + 22) )
        v5 = GameEntryPoint;
    if ( v4 & v5 )
        *(v1 + 104) = 1;
}


// 0x80e3d68
void sub_80E3D68()
{
    int v0; // r5

    (*(&off_80E3D84 + *(v0 + 8)))();
    if ( !(*(v0 + 36) & 1) )
        object_updateSprite();
}


// 0x80e3d90
int __noreturn sub_80E3D90()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    u8 v2; // r0

    v1 = &byte_80E3D44[4 * *(v0 + 4)];
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v2 = v1[2];
    *(v0 + 16) = v2;
    *(v0 + 17) = v2;
    sprite_setAnimation(v0, v2);
    sprite_loadAnimationData(v0);
    sprite_setPallete(v1[3] + *(v0 + 6));
    sprite_setFlip(v0, *(v0 + 5));
    *v0 |= 2u;
    *(v0 + 36) = 0;
    *(v0 + 8) = 4;
    return sub_80E3DE0();
}


// 0x80e3de0
int sub_80E3DE0()
{
    int v0; // r5
    int result; // r0

    (*(&off_80E3E10 + *(v0 + 4)))();
    result = (*v0 & 0xFD) | **(v0 + 76) & 2;
    *v0 = result;
    return result;
}


// 0x80e3e34
void sub_80E3E34()
{
    ;
}


// 0x80e3e38
int __fastcall sub_80E3E38(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r3
    signed int v6; // r2
    int v7; // r0
    int v8; // r2
    int result; // r0

    v4 = *(v3 + 9);
    if ( !*(v3 + 9) )
    {
        *(v3 + 9) = 1;
        *(v3 + 34) = 0;
        v4 = PlaySoundEffect(160, a2, a3);
    }
    if ( v4 == 1 )
    {
        v5 = *(v3 + 76);
        if ( v5 )
        {
            v6 = 16;
            if ( *(v3 + 5) )
                v6 = -16;
            *(v3 + 52) = *(*(v3 + 76) + 52) + (v6 << 16);
            *(v3 + 56) = *(v5 + 56);
        }
        v7 = *(v3 + 34);
        if ( v7 != 4 )
        {
            v8 = *(&dword_80E3EB0 + v7);
            if ( !*(v3 + 5) )
                v8 = -v8;
            *(v3 + 54) += v8;
            *(v3 + 34) = v7 + 1;
        }
        result = *(*(v3 + 76) + 76);
        if ( !result )
        {
            *(v3 + 16) = 3;
            result = 2;
            *(v3 + 9) = 2;
        }
    }
    else
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            result = 8;
            *(v3 + 8) = 8;
        }
    }
    return result;
}


// 0x80e3eb4
int sub_80E3EB4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 9) )
    {
        *(v0 + 9) = 4;
        *(v0 + 32) = 60;
    }
    if ( *(v0 + 32) < 55 )
        *(v0 + 16) = 1;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e3edc
int sub_80E3EDC()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    *(v0 + 36) = 1;
    result = battle_isTimeStop();
    if ( v2 )
    {
        *(v0 + 36) = 0;
        result = *(*(v0 + 76) + 9);
        if ( result != 11 )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e3efc
int sub_80E3EFC()
{
    int v0; // r5
    char v1; // zf
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0

    *(v0 + 36) = 1;
    battle_isTimeStop();
    if ( v1 )
    {
        *(v0 + 36) = 0;
        if ( *(*(v0 + 76) + 9) != 13 )
            *(v0 + 8) = 8;
    }
    v2 = *(*(v0 + 76) + 56);
    v3 = *(*(v0 + 76) + 60);
    v4 = (v0 + 52);
    *v4 = *(*(v0 + 76) + 52);
    v4[1] = v2;
    v4[2] = v3;
    return v0 + 64;
}


// 0x80e3f2a
int sub_80E3F2A()
{
    int v0; // r5
    char v1; // zf
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int result; // r0

    *(v0 + 36) = 1;
    battle_isTimeStop();
    if ( v1 )
    {
        *(v0 + 36) = 0;
        if ( *(*(v0 + 76) + 9) != 10 )
            *(v0 + 8) = 8;
    }
    v2 = *(*(v0 + 76) + 56);
    v3 = *(*(v0 + 76) + 60);
    v4 = (v0 + 52);
    *v4 = *(*(v0 + 76) + 52);
    v4[1] = v2;
    v4[2] = v3;
    result = (*v0 & 0xFD) | **(v0 + 76) & 2;
    *v0 = result;
    return result;
}


// 0x80e3f6c
int sub_80E3F6C()
{
    int v0; // r5
    int result; // r0
    char v2; // zf
    int v3; // r0
    unsigned __int8 v4; // vf

    *(v0 + 36) = 1;
    if ( !*(v0 + 9) )
    {
        *(v0 + 9) = 4;
        *(v0 + 32) = 30;
    }
    result = battle_isTimeStop();
    if ( v2 )
    {
        *(v0 + 36) = 0;
        if ( *(*(v0 + 76) + 9) != 11
            || (v3 = *(v0 + 32),
                    v4 = __OFSUB__(v3, 1),
                    result = v3 - 1,
                    *(v0 + 32) = result,
                    ((result < 0) ^ v4) | (result == 0)) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e3fa2
int sub_80E3FA2()
{
    _DWORD *v0; // r5
    int result; // r0

    v0[13] += v0[16];
    result = v0[17];
    v0[14] += result;
    return result;
}


// 0x80e3fb4
Battle *__fastcall sub_80E3FB4(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0

    object_spawnType4(v4, 49, a2, a3, a4);
    result = v4;
    v4->parent = &v4->objFlags;
    return result;
}


// 0x80e3fc4
int __fastcall sub_80E3FC4(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e3fd0
void sub_80E3FD0()
{
    int v0; // r5

    (*(&off_80E3FF0 + *(v0 + 8)))();
    if ( !battle_isPaused() )
        object_updateSpritePaused();
}


// 0x80e3ffc
signed int __noreturn sub_80E3FFC()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, 16, 42);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 6;
    *(v0 + 17) = 6;
    sprite_setAnimation(v0, 6u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e403e
signed int sub_80E403E()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned int v7; // r0
    int v8; // r0
    signed int result; // r0
    _DWORD *v10; // r0

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    *v0 = **(v0 + 76);
    v5 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v5);
    v6 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v6);
    v7 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v7);
    v8 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v8);
    if ( battle_isBattleOver() || *(*(v0 + 76) + 9) != byte_80E40C0[*(v0 + 4)] )
        goto LABEL_12;
    result = *(v0 + 9);
    if ( result == 1 )
    {
        *(v0 + 16) = 7;
        *(v0 + 17) = -1;
        result = 0;
        *(v0 + 9) = 0;
        return result;
    }
    if ( result == 2 )
    {
LABEL_12:
        v10 = *(v0 + 96);
        if ( v10 )
            *v10 = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e40c2
int __fastcall sub_80E40C2(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 50, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 52) = *(v7 + 52);
        *(v4 + 56) = *(v7 + 56);
        *(v4 + 60) = *(v7 + 60);
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v7 + 22);
    }
    return result;
}


// 0x80e40ec
int sub_80E40EC()
{
    int v0; // r5

    return (*(&off_80E4100 + *(v0 + 8)))();
}


// 0x80e410c
int sub_80E410C()
{
    int v0; // r5

    return (*(&off_80E4120 + *(v0 + 9)))();
}


// 0x80e4130
int sub_80E4130()
{
    int v0; // r5
    char v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r2
    int v5; // r3
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = *(v0 + 4);
        v3 = *(v0 + 44);
        sub_80CF374(v1 + *(v0 + 18), *(v0 + 19), v4, v5);
        *(v0 + 32) = 120;
        *(v0 + 11) = 4;
    }
    v6 = *(v0 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v7) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e4164
int __fastcall sub_80E4164(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 51, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e4188
int sub_80E4188()
{
    int v0; // r5

    return (*(&off_80E419C + *(v0 + 8)))();
}


// 0x80e41a8
int sub_80E41A8()
{
    int v0; // r5

    return (*(&off_80E41BC + *(v0 + 9)))();
}


// 0x80e41cc
int sub_80E41CC()
{
    int v0; // r5

    return (*(&off_80E41E0 + *(v0 + 10)))();
}


// 0x80e41f0
void __noreturn sub_80E41F0()
{
    int v0; // r5

    sub_80E42AA(v0 + 96, *(v0 + 22), *(v0 + 23));
}


// 0x80e4220
_BYTE *sub_80E4220()
{
    int v0; // r5
    _BYTE *result; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r3
    int v6; // r6

    result = (*(v0 + 32) - 1);
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 10;
        v2 = *(v0 + 34) - 1;
        *(v0 + 34) = v2;
        if ( v2 < 0 )
        {
            result = &dword_C;
            *(v0 + 10) = 12;
        }
        else
        {
            v3 = *(v0 + 120);
            v4 = v3 + 1;
            if ( v3 + 1 >= *(v0 + 116) )
                v4 = 0;
            *(v0 + 120) = v4;
            v5 = *(v0 + 50);
            v6 = *(v0 + 44) + v5;
            result = sub_80CF5B2(*(v0 + 96 + v3) & 7, *(v0 + 96 + v3) >> 4, *(v0 + 14), v5);
        }
    }
    return result;
}


// 0x80e4266
int sub_80E4266()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 90;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e4288
int __fastcall sub_80E4288(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 52, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e42aa
void __fastcall __noreturn sub_80E42AA(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // [sp+4h] [bp-24h]
    int v5; // [sp+8h] [bp-20h]

    v4 = a2;
    v5 = a3;
    object_getFrontDirection(v3);
    sub_800D5F0(-5 * (v4 ^ v5) + 6, v4);
}


// 0x80e4344
int sub_80E4344()
{
    int v0; // r5

    return (*(&off_80E4358 + *(v0 + 8)))();
}


// 0x80e4364
int sub_80E4364()
{
    int v0; // r5
    int v1; // r0

    *(v0 + 18) = *(v0 + 52);
    *(v0 + 19) = *(v0 + 56);
    if ( !object_isCurrentPanelValid() )
        return object_freeMemory();
    v1 = 4 * *(v0 + 4);
    *(v0 + 96) = &byte_80E4334[v1];
    *(v0 + 100) = *(v0 + 5);
    *(v0 + 32) = byte_80E4334[v1];
    *(v0 + 5) = byte_80E4334[v1 + 1];
    *(v0 + 6) = byte_80E4334[v1 + 2];
    *(v0 + 7) = byte_80E4334[v1 + 3];
    *(v0 + 8) = 4;
    return sub_80E43A8();
}


// 0x80e43a8
int sub_80E43A8()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int result; // r0
    int v4; // r7
    int v5; // r1

    if ( !battle_isTimeStop() && battle_isBattleOver() || (v1 = *(v0 + 32) - 1, *(v0 + 32) = v1, !v1) )
        *(v0 + 8) = 8;
    v2 = *(v0 + 6) - 1;
    if ( v2 >= 0 )
    {
        *(v0 + 6) = v2;
        object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), *(v0 + 100), *(v0 + 22));
    }
    result = *(v0 + 5) - 1;
    *(v0 + 5) = result;
    if ( !result )
    {
        v4 = *(v0 + 96);
        *(v0 + 6) = *(v4 + 2);
        v5 = *(v0 + 7);
        result = *(v4 + 1) - v5;
        *(v0 + 5) = result;
        *(v0 + 7) = 2 * v5;
    }
    return result;
}


// 0x80e43f6
Battle *__fastcall sub_80E43F6(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-Ch]

    object_spawnType4(v4, 53, a2, a3, a4);
    result = v4;
    if ( v4 )
        v4->Alliance = *(v6 + 22);
    return result;
}


// 0x80e440c
int sub_80E440C()
{
    int v0; // r5

    return (*(&off_80E4420 + *(v0 + 8)))();
}


// 0x80e442c
int sub_80E442C()
{
    int v0; // r5

    return (*(&off_80E4440 + *(v0 + 9)))();
}


// 0x80e4450
int sub_80E4450()
{
    int v0; // r5

    return (*(&off_80E4464 + *(v0 + 10)))();
}


// 0x80e4470
signed int sub_80E4470()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    (loc_8000AC8)(dword_86E55FC, 100759872, 256, &off_80E44B0);
    (loc_8000AC8)(byte_86E56FC, 50337520, 32, sub_80E44BC);
    v1 = sub_80E4532();
    *(v0 + 96) = v1;
    if ( v1 )
    {
        *(v0 + 32) = 1;
        result = 4;
        *(v0 + 10) = 4;
    }
    else
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80e44bc
int sub_80E44BC()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 32) = 10;
        sub_80E459C();
    }
    return result;
}


// 0x80e44e0
int sub_80E44E0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 90;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    if ( v1 >= 20 )
        sub_80E4612(v1);
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        sub_80E45F8(result);
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e4510
int __fastcall sub_80E4510(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 54, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e4532
int sub_80E4532()
{
    int v0; // r5
    int v1; // r10
    int *v2; // r7
    signed int v3; // r6
    int v4; // r4
    int v5; // r0

    v2 = (*(v1 + oToolkit_S2034880_Ptr) + 128 + 16 * (*(v0 + 22) ^ 1));
    v3 = 0;
    v4 = 0;
    do
    {
        if ( *v2 )
        {
            v5 = sub_80E4566(*v2);
            if ( v5 >= v4 )
                v4 = v5;
        }
        ++v2;
        ++v3;
    }
    while ( v3 < 4 );
    return v4;
}


// 0x80e4566
int __fastcall sub_80E4566(int a1)
{
    _BYTE *v1; // r1
    char *v2; // r0
    char *v3; // r1
    int result; // r0

    v1 = *(a1 + 88);
    if ( !v1 )
        return 0;
    if ( *v1 != 2 )
        return *(a1 + 26);
    v2 = getBattleHandAddr_8010018(*(a1 + 22));
    v3 = &v2[2 * *v2 + 2];
    result = 0;
    while ( *v3 != 0xFFFF )
    {
        ++result;
        v3 += 2;
    }
    return result;
}


// 0x80e459c
int __noreturn sub_80E459C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r3
    int v4; // r4
    int v5; // r0
    int v6; // r1
    bool v7; // zf
    int v8; // r1
    int v9; // r6
    int v11; // [sp-14h] [bp-24h]
    int v12; // [sp-10h] [bp-20h]
    int v13; // [sp-Ch] [bp-1Ch]
    int v14; // [sp-8h] [bp-18h]

    v1 = 8 * *(v0 + 22);
    v2 = *&byte_80E45E8[v1];
    v3 = *&byte_80E45E8[v1 + 4];
    v4 = 0;
    v5 = 6;
    do
    {
        v6 = 3;
        do
        {
            v11 = v5;
            v12 = v6;
            v13 = v2;
            v14 = v3;
            v7 = object_checkPanelParameters(v5, v6, v2, v3) == 0;
            v5 = v11;
            v8 = v12;
            v2 = v13;
            v3 = v14;
            if ( !v7 )
            {
                v9 = *(v0 + 44) + *(v0 + 50);
                sub_80C53A6(v11, v12, *(v0 + 14), 0);
                v5 = v11;
                v8 = v12;
                v2 = v13;
                v3 = v14;
                ++v4;
            }
            v6 = v8 - 1;
        }
        while ( v6 );
        --v5;
    }
    while ( v5 );
    return v4;
}


// 0x80e45f8
signed int __fastcall sub_80E45F8(int a1)
{
    int v1; // r5
    signed int result; // r0

    result = sub_800A8F8(a1);
    if ( result )
        result = sub_802E04E(*(v1 + 22) ^ 1);
    return result;
}


// 0x80e4612
signed int __fastcall sub_80E4612(int a1)
{
    int v1; // r5
    signed int result; // r0

    result = sub_800A8F8(a1);
    if ( result )
    {
        result = battle_networkInvert(*(v1 + 22));
        if ( result )
            result = sub_800AE90(120, 12);
    }
    return result;
}


// 0x80e4634
int sub_80E4634()
{
    int v0; // r5

    return (*(&off_80E4648 + *(v0 + 8)))();
}


// 0x80e4654
int sub_80E4654()
{
    int v0; // r5

    return (*(&off_80E4668 + *(v0 + 9)))();
}


// 0x80e4678
int sub_80E4678()
{
    int v0; // r5
    char v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r3
    int v5; // r1
    int v6; // r2
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = *(v0 + 4);
        v3 = *(v0 + 44);
        sub_80CFBC4(v1 + *(v0 + 18), *(v0 + 19), *(v0 + 22), v4);
        PlaySoundEffect(274, v5, v6);
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v7 = *(v0 + 32);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v8) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e46b6
int __fastcall sub_80E46B6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 55, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e46d8
int sub_80E46D8()
{
    int v0; // r5

    return (*(&off_80E46E8 + *(v0 + 8)))();
}


// 0x80e46f8
void sub_80E46F8()
{
    int v0; // r5
    char v1; // r0
    unsigned int v2; // r0

    *v0 |= 2u;
    sprite_load(v0, 128, 16, 1);
    GetRNG2();
    sprite_setAnimation(v0, v1 & 1);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_noShadow(v0);
    sprite_setPallete(*(v0 + 4));
    GetRNG2();
    *(v0 + 64) = ((v2 & 0xF) - 7) << 15;
    v2 >>= 4;
    *(v0 + 68) = ((v2 & 0xF) - 7) << 15;
    *(v0 + 72) = ((v2 >> 4) + 12) << 15;
    *(v0 + 8) = 4;
    sub_80E475C();
}


// 0x80e475c
int sub_80E475C()
{
    _DWORD *v0; // r5
    int v1; // r6
    int v2; // r1
    int v3; // r2
    _DWORD *v4; // r7
    int result; // r0

    v1 = v0[18];
    v2 = v0[14] + v0[17];
    v3 = v0[15] + v1;
    if ( v3 < 0 )
        v3 = 0;
    v4 = v0 + 13;
    *v4 = v0[13] + v0[16];
    v4[1] = v2;
    v4[2] = v3;
    v0[18] = v1 - 81920;
    result = v0[15];
    if ( !result )
        result = sub_80E4790();
    return result;
}


// 0x80e4790
int sub_80E4790()
{
    Battle *v0; // r5

    SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
    return object_freeMemory();
}


// 0x80e47a4
int *__fastcall sub_80E47A4(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5

    return object_spawnType4(v4, 56, a2, a3, a4);
}


// 0x80e47b4
int sub_80E47B4()
{
    int v0; // r5

    return (*(&off_80E47C8 + *(v0 + 8)))();
}


// 0x80e47d4
int sub_80E47D4()
{
    int v0; // r5

    return (*(&off_80E47E8 + *(v0 + 9)))();
}


// 0x80e47f8
int __fastcall sub_80E47F8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    if ( !*(v4 + 11) )
    {
        sub_80CFCD6(*(v4 + 11), a2, a3, a4);
        *(v4 + 5) = 1;
        *(v4 + 32) = 60;
        *(v4 + 11) = 4;
    }
    result = *(v4 + 5);
    if ( !*(v4 + 5) )
    {
        *(v4 + 9) = 12;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e4824
int __fastcall sub_80E4824(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 57, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e4848
int sub_80E4848()
{
    int v0; // r5

    return (*(&off_80E485C + *(v0 + 8)))();
}


// 0x80e4868
void __noreturn sub_80E4868()
{
    int v0; // r5
    int v1; // r0

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(*(v0 + 4));
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 64) = object_getFrontDirection(v0) << 20;
    *(v0 + 72) = -425984;
    *(v0 + 32) = 30;
    *(v0 + 8) = 4;
    sub_80E48C0();
}


// 0x80e48c0
void __noreturn sub_80E48C0()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0

    sprite_update(v0);
    *(v0 + 52) += *(v0 + 64);
    v1 = *(v0 + 72);
    *(v0 + 60) += v1;
    *(v0 + 72) = v1 + 15360;
    v2 = *(v0 + 32) - 1;
    *(v0 + 32) = v2;
    if ( !v2 )
        *(v0 + 8) = 8;
}


// 0x80e48f0
int sub_80E48F0()
{
    return object_freeMemory();
}


// 0x80e48f8
int __fastcall sub_80E48F8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 58, a2, a3, a4);
    result = v4;
    if ( v4 )
        *(v4 + 22) = *(v6 + 22);
    return result;
}


// 0x80e4910
int sub_80E4910()
{
    int v0; // r5

    return (*(&off_80E4924 + *(v0 + 8)))();
}


// 0x80e4930
int sub_80E4930()
{
    int v0; // r5

    return (*(&off_80E4944 + *(v0 + 9)))();
}


// 0x80e4954
int __fastcall sub_80E4954(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r5
    int result; // r0
    int v8; // [sp-4h] [bp-14h]

    if ( !*(v4 + 11) )
    {
        sub_80C4AEC((v4 + 5), a2, a3, a4);
        sub_80E49C4(*(v4 + 76));
        v5 = sub_801E658();
        v8 = v4;
        v6 = *(v4 + 76);
        if ( sub_8013774(v5, 33) )
            sub_8014446();
        else
            sub_801443C();
        v4 = v8;
        *(v8 + 32) = 60;
        *(v8 + 11) = 4;
    }
    result = *(v4 + 5);
    if ( !*(v4 + 5) )
    {
        *(v4 + 9) = 12;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e49a2
int __fastcall sub_80E49A2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 59, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e49c4
char *__fastcall sub_80E49C4(int a1)
{
    char *v1; // r0
    char *v2; // r0
    char *v3; // r0
    char *v4; // r0
    char *v5; // r0
    char *v6; // r0
    char *v7; // r0
    char *v8; // r0
    char *v9; // r0

    v1 = sub_8013754(a1, 49, 0);
    v2 = sub_8013754(v1, 19, 0);
    v3 = sub_8013754(v2, 20, 0);
    v4 = sub_8013754(v3, 22, 0);
    v5 = sub_8013764(v4, 84, 0);
    v6 = sub_8013754(v5, 36, 0);
    v7 = sub_8013754(v6, 25, 0);
    v8 = sub_8013754(v7, 24, 0);
    v9 = sub_8013754(v8, 26, 0);
    return sub_8013754(v9, 99, 0);
}


// 0x80e4a1c
void sub_80E4A1C()
{
    int v0; // r5

    (*(&off_80E4A40 + *(v0 + 8)))();
    if ( *(v0 + 8) == 8 )
        sub_801BCD0();
    else
        sub_801BC24();
}


// 0x80e4a4c
int sub_80E4A4C()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 9) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
            result = sub_8016C9C();
    }
    else
    {
        *(v0 + 9) = 3;
        result = 3;
        *(v0 + 16) = 3;
    }
    return result;
}


// 0x80e4a6e
void __noreturn sub_80E4A6E()
{
    int v0; // r5
    int v1; // r0

    sprite_load(v0, 128, 12, 32);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 2;
    *(v0 + 17) = 2;
    sprite_setAnimation(v0, 2u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 8) = 4;
    sub_80E4AAE();
}


// 0x80e4aae
int sub_80E4AAE()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r1
    int v4; // r6
    int v5; // r1
    int v6; // r3
    int v7; // r2
    int *v8; // r0
    unsigned int v9; // r0
    int v10; // r0
    char v11; // zf
    int v12; // ST00_4
    int v13; // r5
    int result; // r0

    v1 = *(v0 + 76);
    v2 = getBattleArmPositionMaybe_8018810(*(v1 + 40), 30, *(v1 + 22), *(v1 + 23));
    v4 = v3 << 16;
    v5 = *(v1 + 52) + (v2 << 16);
    v6 = *(v1 + 60) + v4;
    v7 = *(v1 + 56) - 0x20000;
    v8 = (v0 + 52);
    *v8 = v5;
    v8[1] = v7;
    v8[2] = v6 - 0x20000;
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v10);
    object_setPanelsFromCoordinates(v0);
    object_isCurrentPanelValid();
    if ( v11 )
        *v0 &= 0xFDu;
    if ( !**(v0 + 96)
        || (*v0 = *v0 & 0xFD | *v1 & 2, v12 = v0, v13 = *(v0 + 76), result = object_getFlag(), v0 = v12, result >= 0) )
    {
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e4b34
int __fastcall sub_80E4B34(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 60, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80e4b58
int __fastcall sub_80E4B58(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e4b68
int sub_80E4B68()
{
    int v0; // r5

    return (*(&off_80E4B7C + *(v0 + 8)))();
}


// 0x80e4b88
int sub_80E4B88()
{
    int v0; // r5

    *(v0 + 40) = 211;
    *(v0 + 36) = 1;
    *(v0 + 38) = 1;
    *(v0 + 8) = 4;
    return sub_80E4B9E();
}


// 0x80e4b9e
int sub_80E4B9E()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
        result = (*(&off_80E4BB8 + *(v0 + 10)))();
    return result;
}


// 0x80e4bc0
int sub_80E4BC0()
{
    _WORD *v0; // r5

    v0[17] = 11;
    v0[16] = 20;
    v0[5] = 4;
    return sub_80E4BD4();
}


// 0x80e4bd4
int sub_80E4BD4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r3
    int v6; // ST04_4
    int v7; // r6
    int v8; // r2

    if ( battle_isBattleOver() )
    {
LABEL_7:
        **(v0 + 96) = 0;
        goto LABEL_8;
    }
    if ( *(v0 + 36) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result )
            return result;
        v2 = *(v0 + 34) - 1;
        *(v0 + 34) = v2;
        if ( v2 )
        {
            v3 = sub_80E4C26();
            if ( v3 != 255 )
            {
                v6 = v4;
                v7 = *(v0 + 44);
                sub_80D006E(v3, v4, *(v0 + 14), v5);
                PlaySoundEffect(100, v6, v8);
                result = 20;
                *(v0 + 32) = 20;
                return result;
            }
        }
        goto LABEL_7;
    }
LABEL_8:
    clearEntryOfBattleStateBattleObjectList_800F656();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80e4c26
int sub_80E4C26()
{
    int v0; // r5
    int v1; // r10
    int result; // r0
    int v3; // r7
    signed int v4; // r4
    int v5; // r3
    int v6; // r1

    if ( sub_802D246() & 8 )
        return sub_80E4C78();
    v3 = *(v1 + oToolkit_S2034880_Ptr) + 16 * (*(v0 + 22) ^ 1) + 128;
    v4 = 0;
    v5 = 0;
    do
    {
        if ( *v3 && (!v5 || *(*v3 + 36) >= *(v5 + 36)) )
            v5 = *v3;
        v3 += 4;
        ++v4;
    }
    while ( v4 < 4 );
    result = 255;
    if ( v5 )
    {
        result = *(v5 + 18);
        v6 = *(v5 + 19);
    }
    return result;
}


// 0x80e4c78
signed int sub_80E4C78()
{
    int v0; // r5
    u32 v1; // r6
    signed int result; // r0
    int v3; // r1

    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    if ( !*(v1 + 36) )
        return 255;
    result = *(v1 + 18);
    v3 = *(v1 + 19);
    return result;
}


// 0x80e4c96
int __fastcall sub_80E4C96(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    char v8; // [sp+0h] [bp-Ch]
    int v9; // [sp+4h] [bp-8h]

    v8 = a3;
    object_spawnType4(v4, 110, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        v7 = *(v9 + 22);
        *(v4 + 22) = v7;
        *(v4 + 44) = v5;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80e4cb8
void sub_80E4CB8()
{
    int v0; // r5

    (*(&off_80E4CD0 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e4cdc
void __noreturn sub_80E4CDC()
{
    int v0; // r5

    *v0 |= 2u;
    sprite_load(v0, 128, 12, 0);
    sprite_loadAnimationData(v0);
    sprite_hasShadow();
    sprite_setField0x3Bit5();
    sub_800302A(1);
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80E4D1E();
}


// 0x80e4d1e
signed int sub_80E4D1E()
{
    Battle *v0; // r5
    u32 *v1; // r4
    u32 v2; // r2
    u32 *v3; // r0
    u8 v4; // t1
    char v5; // r1
    int v6; // r0
    signed int result; // r0

    v1 = v0->parent;
    v2 = v1[14];
    v3 = &v0->x;
    *v3 = v1[13];
    v3[1] = v2;
    v3[2] = 0;
    v0->objFlags |= 2u;
    v4 = v0->Alliance;
    v5 = 0;
    v6 = *(v1 + 16);
    if ( *(v1 + 16) )
    {
        v5 = 2;
        if ( v6 != 3 )
        {
            v5 = 1;
            if ( v6 != 4 )
            {
                v5 = 2;
                v0->objFlags &= 0xFDu;
            }
        }
    }
    v0->currAnimation = v5;
    v0->objFlags |= 2u;
    if ( !sub_800EB6C(v0->Alliance) )
        v0->objFlags &= 0xFDu;
    result = v0->bPhaseInitialized;
    if ( !v0->bPhaseInitialized )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
        result = 4;
        v0->bPhaseInitialized = 4;
    }
    return result;
}


// 0x80e4d8a
Battle *__fastcall sub_80E4D8A(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 62, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4->Alliance = *(v6 + 22);
        v4->parent = v6;
    }
    return result;
}


// 0x80e4da2
int __fastcall sub_80E4DA2(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e4db0
int sub_80E4DB0()
{
    int v0; // r5

    return (*(&off_80E4DC4 + *(v0 + 8)))();
}


// 0x80e4dd0
void __noreturn sub_80E4DD0()
{
    int v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r0
    int v9; // r2

    sprite_load(v0, 128, 16, 48);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    if ( !*(v0 + 5) )
    {
        sub_81096FA(*(v0 + 22) ^ *(v0 + 23) ^ 1, *(v0 + 19), v2, byte_80E4E74);
        v7 = object_getClosestPanelMatchingRowFiltered(v3, v4, v5, v6);
        if ( !v7 )
            LOBYTE(v7) = object_getFrontDirection(v0) + *(v0 + 18);
        *(v0 + 18) = v7;
    }
    object_setCoordinatesFromPanels(v0);
    v8 = object_getFrontDirection(v0);
    *(v0 + 52) -= 6225920 * v8;
    *(v0 + 60) = 2621440;
    *(v0 + 64) = 2129920 * v8;
    *(v0 + 72) = 819200;
    *(v0 + 32) = 2;
    sprite_setPallete(*(v0 + 4));
    *v0 |= 2u;
    PlaySoundEffect(392, 2, v9);
    *(v0 + 16) = 4;
    sprite_setAnimation(v0, 4u);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *(v0 + 8) = 4;
    sub_80E4E84();
}


// 0x80e4e84
void sub_80E4E84()
{
    int v0; // r5

    if ( battle_isBattleOver() )
    {
        *(v0 + 8) = 8;
    }
    else
    {
        (*(&off_80E4EA8 + *(v0 + 9)))();
        UpdateBattleObjectSprite();
    }
}


// 0x80e4eb8
int sub_80E4EB8()
{
    int v0; // r5

    sub_80E4FFC();
    *(v0 + 9) = 4;
    return sub_80E4EC8();
}


// 0x80e4ec8
int sub_80E4EC8()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r0

    v0->x += v0->vx;
    v0->z -= v0->vz;
    v1 = v0->Timer - 1;
    v0->Timer = v1;
    if ( !v1 )
    {
        v0->Timer = 2;
        object_setCoordinatesFromPanels(v0);
        v2 = object_getFrontDirection(v0);
        v0->x -= 655360 * v2;
        v0->z = 1966080;
        v0->vx = 327680 * v2;
        v0->vz = 983040;
        v0->currAnimation = 3;
        sub_80E5024();
        v0->currAction = 8;
    }
    return sub_80E4FE8();
}


// 0x80e4f18
int sub_80E4F18()
{
    int v0; // r5
    int v1; // r0
    int v2; // r6

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 60) -= *(v0 + 72);
    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
    {
        if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
            sub_80E5050();
        v2 = *(v0 + 44);
        object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
        SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        *(v0 + 8) = 8;
    }
    return sub_80E4FE8();
}


// 0x80e4fb6
int sub_80E4FB6()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 32) - 1;
    *(v0 + 32) = v1;
    if ( !v1 )
        *(v0 + 8) = 8;
    return sub_80E4FE8();
}


// 0x80e4fca
int __fastcall sub_80E4FCA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType4(v4, 63, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 14) = v9;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 44) = v5;
    }
    return result;
}


// 0x80e4fe8
int sub_80E4FE8()
{
    unsigned __int8 *v0; // r5

    return highlightPanelIfSomeCondition_8109660(v0[18], v0[19], 4, v0[22] ^ v0[23]);
}


// 0x80e4ffc
int sub_80E4FFC()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(274448, v0->x, v0->y, v0->z);
}


// 0x80e5024
int sub_80E5024()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(208912, v0->x, v0->y + 0x40000, v0->z);
}


// 0x80e5050
void __noreturn sub_80E5050()
{
    int v0; // r5

    sub_80E5068(*(v0 + 18), *(v0 + 19));
}


// 0x80e5068
void __fastcall __noreturn sub_80E5068(int a1, int a2)
{
    int v2; // r5
    int v3; // r6
    int v4; // r0
    int v5; // r1
    char v6; // [sp+0h] [bp-20h]
    int v7; // [sp+4h] [bp-1Ch]

    v6 = a1;
    v7 = a2;
    if ( object_getPanelParameters(a1, a2) & 0x10 )
    {
        v3 = *(v2 + 44);
        object_spawnCollisionRegion(v6, v7, *(v2 + 14), 0);
        v4 = object_getCoordinatesForPanels(v6);
        SpawnT4BattleObjectWithId0(v2, v4, v4, v5, 0);
    }
}


// 0x80e50c4
int sub_80E50C4()
{
    int v0; // r5

    return (*(&off_80E50D8 + *(v0 + 8)))();
}


// 0x80e50e4
int sub_80E50E4()
{
    int v0; // r5

    sub_80E5174();
    *(v0 + 96) = v0 + 100;
    *(v0 + 5) = 3;
    *(v0 + 8) = 4;
    return sub_80E50FE();
}


// 0x80e50fe
int sub_80E50FE()
{
    int v0; // r5
    _BYTE *v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( battle_isBattleOver() )
    {
LABEL_8:
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    if ( !*(v0 + 9) )
    {
        *(v0 + 9) = 1;
        v1 = *(v0 + 96);
        *(v0 + 96) = v1 + 1;
        v2 = *(v0 + 4);
        v3 = *(v0 + 44);
        sub_80CE6E6(*v1 & 7, *v1 >> 4, *(v0 + 14), 0);
        *(v0 + 32) = 8;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v7 = *(v0 + 5) - 1;
        *(v0 + 5) = v7;
        if ( v7 )
        {
            result = 0;
            *(v0 + 9) = 0;
            return result;
        }
        goto LABEL_8;
    }
    return result;
}


// 0x80e5150
int __fastcall sub_80E5150(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+0h] [bp-Ch]
    int v8; // [sp+4h] [bp-8h]

    v7 = a3;
    object_spawnType4(v4, 64, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v8;
        *(v4 + 14) = v7;
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 44) = v5;
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e5174
int sub_80E5174()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r2
    int v5; // r3
    char v6; // r0
    _BYTE *v7; // r4
    signed int v8; // r3
    signed int v9; // r7
    unsigned __int8 *v10; // r6
    int result; // r0
    unsigned __int8 v12; // r1
    int v13; // r3
    int v14; // [sp+0h] [bp-20h]
    int v15; // [sp+4h] [bp-1Ch]
    int v16; // [sp+8h] [bp-18h]

    v1 = object_getEnemyByNameRange(&v14, 0, 174, *(v0 + 22) ^ 1);
    v2 = object_getEnemyByNameRange(&v14 + v1, byte_100, 451, *(v0 + 22) ^ 1) + v1;
    if ( v2 <= 2 )
    {
        if ( v2 < 2 )
        {
            v15 = v14;
            v16 = v14;
        }
        else
        {
            v3 = v14;
            v4 = *(v14 + 36);
            v5 = *(v15 + 36);
            if ( v4 < v5 )
            {
                v3 = v15;
            }
            else if ( v4 <= v5 )
            {
                GetPositiveSignedRNG2();
                v3 = *(&v14 + (v6 & 4));
            }
            v16 = v3;
        }
    }
    v7 = (v0 + 100);
    v8 = 0;
    do
    {
        v7[v8] = *(*(&v14 + v8) + 18) | 16 * *(*(&v14 + v8) + 19);
        ++v8;
    }
    while ( v8 < 3 );
    v9 = 2;
    do
    {
        v10 = v7 + 1;
        do
        {
            result = sub_80E5208(*v7, *v10);
            *v7 = result;
            *v10++ = v12;
        }
        while ( v13 != 1 );
        ++v7;
        --v9;
    }
    while ( v9 );
    return result;
}


// 0x80e5208
int __fastcall sub_80E5208(int result, int a2)
{
    int v2; // r5

    if ( *(v2 + 22) == *(v2 + 23) )
    {
        if ( (result & 0xF) > (a2 & 0xF) )
            return result;
        if ( (result & 0xF) >= (a2 & 0xF) )
            goto LABEL_7;
    }
    else
    {
        if ( (result & 0xF) < (a2 & 0xF) )
            return result;
        if ( (result & 0xF) <= (a2 & 0xF) )
        {
LABEL_7:
            if ( result <= a2 )
                return result;
            return a2;
        }
    }
    return a2;
}


// 0x80e5244
int sub_80E5244()
{
    int v0; // r5

    return (*(&off_80E5258 + *(v0 + 8)))();
}


// 0x80e5264
int __fastcall sub_80E5264(int a1, int a2, int a3)
{
    int v3; // r5

    *(v3 + 108) = 3;
    PlaySoundEffect(173, a2, a3);
    *(v3 + 8) = 4;
    return sub_80E527A();
}


// 0x80e527a
int sub_80E527A()
{
    int v0; // r5
    int result; // r0

    result = *(*(v0 + 76) + 9);
    if ( result != 4 )
    {
        result = *(*(*(v0 + 76) + 84) + 60);
        if ( !(result & 0x80010000) )
            result = sub_80E5296();
    }
    return result;
}


// 0x80e5296
int sub_80E5296()
{
    int v0; // r5

    return (*(&off_80E52A8 + *(v0 + 10)))();
}


// 0x80e52b0
int sub_80E52B0()
{
    int v0; // r5
    int v1; // r10
    int result; // r0
    int v3; // r1

    if ( !*(v0 + 6) || (result = *(*(v1 + oToolkit_S2034880_Ptr) + 4 * *(v0 + 22) + 192)) == 0 )
    {
        result = *(v0 + 96);
        if ( !*(v0 + 96) || (result = *(v0 + 97), !*(v0 + 97)) )
        {
            v3 = *(v0 + 108) - 1;
            *(v0 + 108) = v3;
            if ( !v3 )
                *(v0 + 108) = 3;
            sub_80E5386(result, *(v0 + 108));
        }
    }
    return result;
}


// 0x80e5304
int sub_80E5304()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 34) - 1;
    *(v0 + 34) = result;
    if ( !result )
    {
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e5314
int sub_80E5314()
{
    int v0; // r5

    if ( !*(v0 + 6) )
        sub_80E544C(v0);
    *(v0 + 96) = 0;
    return object_freeMemory();
}


// 0x80e532c
Battle *sub_80E532C()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r3
    Battle *result; // r0
    int v5; // r1

    if ( sub_80E543C(v0->Alliance) && v1 < 1 )
        return 0;
    object_spawnType4(v0, 65, v1, v2, v3);
    result = v0;
    if ( v0 )
    {
        v5 = v0->Alliance;
        v0->Alliance = v5;
        v0->parent = &v0->objFlags;
        v0->objFlags &= 0xEFu;
        sub_80E541A(v0, v5, 1);
        result = v0;
    }
    return result;
}


// 0x80e5368
_BYTE *__fastcall sub_80E5368(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    _BYTE *result; // r0

    object_spawnType4(v4, 65, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v4 + 5);
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e5386
int __fastcall __noreturn sub_80E5386(int a1, int a2)
{
    _BYTE *v2; // r5
    int v3; // r1
    bool v4; // zf
    int result; // r0
    int v6; // r6
    int v7; // r7
    int v8; // r0
    int v9; // r1
    int v10; // ST00_4
    int v11; // ST04_4
    int v12; // r2
    int v13; // [sp-8h] [bp-18h]
    int v14; // [sp-4h] [bp-14h]

    v13 = object_getClosestPanelMatchingRowFiltered(
                    v2[22] ^ v2[23] ^ 1,
                    a2,
                    *&byte_80E5400[8 * v2[22]],
                    *&byte_80E5400[8 * v2[22] + 4]);
    v14 = v3;
    v4 = (object_getPanelParameters(v13, v3) & 0x800000) == 0;
    result = v13;
    if ( !v4 )
        return 0;
    if ( v2[4] )
    {
        v6 = object_getFlipDirection(v2[22] ^ v2[23], v2[23]);
        v7 = object_getPanelParameters(v13, v14) & 0x20;
        v8 = v13;
        v9 = v14;
        do
        {
            v8 += v6;
            if ( (v8 - 1) >= 6 )
                break;
            v10 = v8;
            v11 = v9;
            v12 = object_getPanelParameters(v8, v9);
            v8 = v10;
            v9 = v11;
            if ( v12 & 0x800000 )
                break;
        }
        while ( (v12 & 0x20) == v7 );
        result = v8 - v6;
    }
    return result;
}


// 0x80e5410
int __fastcall sub_80E5410(int result)
{
    *(result + 8) = 8;
    *(result + 96) = 0;
    return result;
}


// 0x80e541a
int __fastcall sub_80E541A(int result, int a2, int a3)
{
    int v3; // r10
    int *v4; // r4
    int v5; // ST00_4
    int v6; // ST04_4

    v4 = (*(v3 + oToolkit_S2034880_Ptr) + 4 * a2 + 192);
    if ( *v4 )
    {
        v5 = result;
        v6 = a3;
        sub_80E5410(*v4);
        result = v5;
        a3 = v6;
    }
    *v4 = result;
    v4[2] = a3;
    return result;
}


// 0x80e543c
int __fastcall sub_80E543C(int a1)
{
    int v1; // r10
    int *v2; // r2
    int result; // r0
    int v4; // r1

    v2 = (*(v1 + oToolkit_S2034880_Ptr) + 4 * a1 + 192);
    result = *v2;
    v4 = v2[2];
    return result;
}


// 0x80e544c
int __fastcall sub_80E544C(int result)
{
    int v1; // r10
    _DWORD *v2; // r2
    signed int v3; // r1

    v2 = (*(v1 + oToolkit_S2034880_Ptr) + 192);
    v3 = 0;
    do
    {
        if ( result == *v2 )
        {
            *v2 = 0;
            v2[2] = 0;
        }
        ++v2;
        ++v3;
    }
    while ( v3 < 2 );
    return result;
}


// 0x80e5470
void sub_80E5470()
{
    int v0; // r5

    (*(&off_80E5488 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e5494
signed int __noreturn sub_80E5494()
{
    int v0; // r5
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    sprite_load(v0, 128, 4, 2);
    *(v0 + 16) = 9;
    sprite_setAnimation(v0, 9u);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    sprite_setPallete(0);
    *(v0 + 64) = object_getFrontDirection(v0) * *(v0 + 96);
    __asm { SVC         6 }
    *(v0 + 34) = 0;
    *v0 |= 2u;
    **(v0 + 108) = v0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e54dc
int sub_80E54DC()
{
    int v0; // r5

    return (*(&off_80E54F0 + *(v0 + 9)))();
}


// 0x80e54fc
int sub_80E54FC()
{
    int v0; // r5
    int result; // r0
    void (__noreturn *v2)(); // r1

    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    if ( object_isCurrentPanelValid() && **(v0 + 108) )
    {
        result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
        v2 = &LCDControl;
        if ( *(v0 + 22) )
            v2 = GameEntryPoint;
        if ( result & v2 )
        {
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        **(v0 + 108) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e5546
int sub_80E5546()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 10) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            *(v0 + 16) = 8;
            *(*(v0 + 76) + 104) = 1;
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 1;
        object_setCoordinatesFromPanels(v0);
        result = 10;
        *(v0 + 16) = 10;
    }
    return result;
}


// 0x80e557a
signed int sub_80E557A()
{
    int v0; // r5
    signed int result; // r0

    result = **(v0 + 108);
    if ( !result )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e558a
int __fastcall sub_80E558A(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    int v9; // [sp+8h] [bp-Ch]
    int v10; // [sp+Ch] [bp-8h]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType4(v4, 66, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v7;
        *(v4 + 19) = v8;
        *(v4 + 22) = *(v10 + 22);
        *(v4 + 96) = v9;
        *(v4 + 76) = v10;
        *(v4 + 108) = v5;
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e55c0
int sub_80E55C0()
{
    int v0; // r5

    return (*(&off_80E55D4 + *(v0 + 8)))();
}


// 0x80e55e0
int sub_80E55E0()
{
    int v0; // r5

    return (*(&off_80E55F4 + *(v0 + 9)))();
}


// 0x80e5600
char *sub_80E5600()
{
    int v0; // r5
    char *result; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r6
    int v5; // r1

    if ( *(v0 + 10) )
    {
        sub_80465BC();
        sub_80465F8();
        result = (*(v0 + 32) - 1);
        *(v0 + 32) = result;
        if ( result == &dword_1C + 2 )
        {
            sub_800362C((*(v0 + 76) + 52));
            result = sub_8046670(52, 0, v5);
        }
        else if ( result == &dword_18 + 1 )
        {
            result = PlaySoundEffect(206, v2, v3);
        }
        else if ( result <= 0 )
        {
            v4 = *(v0 + 44);
            sub_80C53A6(*(*(v0 + 96) + 18), *(*(v0 + 96) + 19), *(v0 + 14), 0);
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 10) = 4;
        sub_8046664();
        result = dword_28;
        *(v0 + 32) = 40;
    }
    return result;
}


// 0x80e566c
void sub_80E566C()
{
    int v0; // r5
    u8 v1; // r0
    u8 v2; // r1
    Battle *v3; // r5

    sub_800BCC0();
    v1 = *(v0 + 4);
    v2 = *(v0 + 5);
    v3 = *(v0 + 76);
    v3->panelX = v1;
    v3->panelY = v2;
    object_setCoordinatesFromPanels(v3);
    v3->currAnimation = 11;
    object_updateSpriteTimestop();
    sub_80E5700();
}


// 0x80e569c
int sub_80E569C()
{
    int v0; // r5
    int v1; // ST00_4
    u8 v2; // r0
    u8 v3; // r1
    Battle *v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 32) = 60;
    }
    sub_80E5700();
    v1 = v0;
    v2 = *(v0 + 4);
    v3 = *(v0 + 5);
    v4 = *(v0 + 76);
    v4->panelX = v2;
    v4->panelY = v3;
    object_setCoordinatesFromPanels(v4);
    v5 = *(v1 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
        result = object_timefreezeEnd();
    return result;
}


// 0x80e56d0
int __fastcall sub_80E56D0(int result, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    char v7; // [sp-14h] [bp-18h]
    char v8; // [sp-10h] [bp-14h]
    char v9; // [sp-Ch] [bp-10h]
    int v10; // [sp-4h] [bp-8h]

    if ( a4 )
    {
        v10 = a4;
        v7 = result;
        v8 = a2;
        v9 = a3;
        object_spawnType4(v4, 67, a2, a3, a4);
        result = v4;
        if ( v4 )
        {
            *(v4 + 18) = v7;
            *(v4 + 19) = v8;
            *(v4 + 14) = v9;
            *(v4 + 76) = v4;
            *(v4 + 96) = v10;
            *(v4 + 22) = *(v4 + 22);
            *(v4 + 44) = v5;
            *(v4 + 48) = v6;
        }
    }
    return result;
}


// 0x80e5700
void sub_80E5700()
{
    int v0; // r5

    if ( *(*(v0 + 76) + 80) )
        object_updateSpriteTimestop();
}


// 0x80e5710
void sub_80E5710()
{
    int v0; // r5

    (*(&off_80E5728 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e5734
void __noreturn sub_80E5734()
{
    int v0; // r5
    int v1; // r7
    int v2; // r4
    int v3; // r1

    v1 = *(v0 + 76);
    v2 = object_getFrontDirection(v0);
    *(v0 + 108) = object_getCoordinatesForPanels(*(v1 + 18)) - 5242880 * v2;
    *(v0 + 112) = v3;
    *(v0 + 60) = -1048576;
    sub_801BE2A(0x1000u);
}


// 0x80e57a0
int sub_80E57A0()
{
    int v0; // r5

    return (*(&off_80E57B4 + *(v0 + 9)))();
}


// 0x80e57bc
int sub_80E57BC()
{
    int v0; // r5
    _DWORD *v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r3
    int v6; // r1
    int result; // r0
    _BYTE *v8; // r1

    v1 = *(v0 + 96);
    if ( !v1 || !*v1 || !sub_80E58F4() )
    {
LABEL_10:
        **(v0 + 100) = 2;
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 16;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2--, 1);
    *(v0 + 32) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        *(v0 + 32) = 16;
        v4 = *(v0 + 34);
        v3 = __OFSUB__(v4--, 1);
        *(v0 + 34) = v4;
        if ( !(((v4 < 0) ^ v3) | (v4 == 0)) )
        {
            *(v0 + 108) += *(v0 + 64);
            *(v0 + 72) = -*(v0 + 72);
            result = ((*(v0 + 120) >> 16) + 383) << 16;
            *(v0 + 120) = result;
            *(v0 + 116) = result;
            return result;
        }
        goto LABEL_10;
    }
    *(v0 + 116) += *(v0 + 72);
    object_getFrontDirection(v0);
    v5 = *(v0 + 112);
    *(v0 + 52) = sub_80E58D2(120, (*(v0 + 116) >> 16) & 0xFF, *(v0 + 108));
    *(v0 + 56) = v6;
    object_setPanelsFromCoordinates(v0);
    result = object_getPanelParameters(*(v0 + 18), *(v0 + 19));
    if ( result )
    {
        if ( result & *(v0 + 104) )
        {
            v8 = *(v0 + 100);
            *v8 = 1;
            v8[1] = *(v0 + 18);
            v8[2] = *(v0 + 19);
            *(v0 + 9) = 4;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80e5872
signed int sub_80E5872()
{
    int v0; // r5
    _DWORD *v1; // r0
    signed int result; // r0
    int v3; // r1
    int v4; // r2

    v1 = *(v0 + 96);
    if ( v1 && *v1 )
    {
        result = *(v0 + 11);
        if ( !*(v0 + 11) )
        {
            object_setCoordinatesFromPanels(v0);
            *(v0 + 16) = 1;
            PlaySoundEffect(189, v3, v4);
            sub_80E5910(*(v0 + 18), *(v0 + 19));
            result = 4;
            *(v0 + 11) = 4;
        }
    }
    else
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e58a8
int __fastcall sub_80E58A8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int *v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 68, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v8 + 22);
        *(v4 + 76) = v8;
        *(v4 + 96) = v6;
        if ( v6 )
            *v6 = v4;
        *(v4 + 100) = v5;
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e58d2
int __fastcall sub_80E58D2(int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r7

    v4 = *&math_sinTable[2 * a2] * a1 << 8;
    return a3 + (*&math_cosTable[2 * a2] * a1 << 8) * v3;
}


// 0x80e58f4
BOOL sub_80E58F4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    v1 = object_getFrontDirection(v0);
    v2 = *(v0 + 112);
    v3 = convertXYToPanelXY_800E258(7864320 * v1 + *(v0 + 108));
    return object_isValidPanel(v3, v4);
}


// 0x80e5910
int __fastcall sub_80E5910(char a1, int a2)
{
    return object_spawnCollisionRegion(a1, a2, 5, 0);
}


// 0x80e5944
int sub_80E5944()
{
    int v0; // r5

    return (*(&off_80E5958 + *(v0 + 8)))();
}


// 0x80e5964
int sub_80E5964()
{
    int v0; // r5

    return (*(&off_80E5978 + *(v0 + 9)))();
}


// 0x80e5988
int __fastcall sub_80E5988(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r3
    int v5; // r6
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( !*(v3 + 11) )
    {
        v4 = *(v3 + 50);
        v5 = *(v3 + 44) + v4;
        sub_80D2E94(*(v3 + 18), *(v3 + 19), a3, v4);
        *(v3 + 5) = 1;
        *(v3 + 32) = 40;
        *(v3 + 11) = 4;
    }
    result = *(v3 + 5);
    if ( !*(v3 + 5) )
    {
        v7 = *(v3 + 32);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v3 + 32) = result;
        if ( (result < 0) ^ v8 )
        {
            *(v3 + 9) = 12;
            result = 0;
            *(v3 + 10) = 0;
        }
    }
    return result;
}


// 0x80e59c6
int __fastcall sub_80E59C6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 69, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e59e8
int sub_80E59E8()
{
    int v0; // r5

    return (*(&off_80E59FC + *(v0 + 8)))();
}


// 0x80e5a08
int sub_80E5A08()
{
    int v0; // r5

    *(v0 + 96) = sub_80E5A8A();
    *(v0 + 34) = *(v0 + 5);
    *(v0 + 32) = 0;
    *(v0 + 8) = 4;
    return sub_80E5A22();
}


// 0x80e5a22
int sub_80E5A22()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    char v4; // r0
    int v5; // r6
    int v6; // r1
    int v7; // r3
    int v8; // r0

    if ( battle_isBattleOver() )
        goto LABEL_9;
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 32) = 20;
        *(v0 + 96) = sub_80E5A8A();
        v4 = sub_80E5AD6(*(v0 + 96));
        v5 = *(v0 + 44);
        *(v0 + 5);
        sub_80CF594(v4, v6, *(v0 + 14), v7);
        v8 = *(v0 + 34);
        v2 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
LABEL_9:
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e5a64
int __fastcall sub_80E5A64(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 70, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 44) = v5;
        *(v4 + 14) = 1;
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e5a8a
int sub_80E5A8A()
{
    int v0; // r5
    int v1; // r10
    int *v2; // r3
    signed int v3; // r2
    int v4; // r4
    int v5; // r0
    int result; // r0
    int v11; // [sp+0h] [bp-1Ch]

    v2 = (*(v1 + oToolkit_S2034880_Ptr) + 16 * (*(v0 + 22) ^ 1) + 128);
    v3 = 0;
    v4 = 0;
    do
    {
        v5 = *v2;
        if ( *v2 && *(v5 + 36) )
            *(&v11 + v4++) = v5;
        ++v2;
        ++v3;
    }
    while ( v3 < 4 );
    result = v4;
    if ( v4 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v11 + v4);
    }
    return result;
}


// 0x80e5ad6
int __fastcall sub_80E5AD6(int a1)
{
    char v1; // r0
    signed int v3; // r4
    int v4; // r6
    char *v5; // r7
    int v10; // [sp+0h] [bp-28h]
    __int64 v11; // [sp+4h] [bp-24h]
    int v12; // [sp+10h] [bp-18h]
    int v13; // [sp+14h] [bp-14h]

    LODWORD(v11) = *(a1 + 18);
    HIDWORD(v11) = *(a1 + 19);
    GetPositiveSignedRNG2();
    if ( !byte_80E5B50[v1 & 0xF] )
        return v11;
    v3 = 0;
    v4 = 0;
    v5 = &byte_80E5B58;
    do
    {
        v12 = *v5 + v11;
        v13 = v5[1] + HIDWORD(v11);
        object_isValidPanel(v12, v13);
        if ( !_ZF )
            *(&v10 + v4++) = v12 | 16 * v13;
        v5 += 2;
        ++v3;
    }
    while ( v3 < 4 );
    if ( !v4 )
        return v11;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v10 + v4) & 7;
}


// 0x80e5b5e
void sub_80E5B5E()
{
    ;
}


// 0x80e5b62
Battle *__fastcall sub_80E5B62(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5

    object_spawnType4(v4, 71, a2, a3, a4);
    return v4;
}


// 0x80e5b6e
int __fastcall sub_80E5B6E(int result)
{
    if ( !result )
        result = object_freeMemory();
    return result;
}


// 0x80e5b7a
int sub_80E5B7A()
{
    int v0; // r5

    return 12 * *(v0 + 5) + 64;
}


// 0x80e5b88
int sub_80E5B88()
{
    int v0; // r5
    int *v1; // r6
    signed int v2; // r3
    int result; // r0

    sub_80E5B7A();
    v2 = 3;
    while ( 1 )
    {
        result = *v1;
        if ( !*v1 )
            break;
        ++v1;
        if ( !--v2 )
            return result;
    }
    *v1 = v0;
    return result;
}


// 0x80e5ba2
int sub_80E5BA2()
{
    int v0; // r4
    int v1; // r5
    int *v2; // r6
    signed int v3; // r2
    int result; // r0

    sub_80E5B7A();
    v3 = 0;
    while ( 1 )
    {
        result = v2[v3];
        if ( result == v1 )
            break;
        ++v3;
        if ( v3 > 2 )
            return result;
    }
    if ( v3 != 2 )
    {
        if ( v3 != 1 )
            *v2 = v2[1];
        v2[1] = v2[2];
    }
    v2[2] = 0;
    result = *v2;
    if ( !*v2 )
    {
        result = *(v1 + 5) + 4;
        *(v0 + result) = 0;
    }
    return result;
}


// 0x80e5bde
signed int sub_80E5BDE()
{
    int v0; // r5
    _DWORD *v1; // r6
    signed int result; // r0

    sub_80E5B7A();
    result = 0;
    do
    {
        if ( *v1 == v0 )
            break;
        ++v1;
        ++result;
    }
    while ( result <= 2 );
    return result;
}


// 0x80e5bf6
int __fastcall sub_80E5BF6(int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r5
    int v5; // ST00_4
    int result; // r0

    v5 = a2 | 16 * a3;
    sub_80E5B7A();
    result = *(v4 + 5) + 4;
    *(v3 + result) = v5;
    return result;
}


// 0x80e5c0c
int sub_80E5C0C()
{
    int v0; // r4
    int v1; // r5

    sub_80E5B7A();
    return *(v0 + *(v1 + 5) + 4) & 0xF;
}


// 0x80e5c2c
int sub_80E5C2C()
{
    int v0; // r5

    return (*(&off_80E5C40 + *(v0 + 8)))();
}


// 0x80e5c4c
void __noreturn sub_80E5C4C()
{
    int v0; // r5
    unsigned __int8 *v1; // r0
    int v2; // r0

    v1 = &dword_80E5C28 + 2 * *(v0 + 4);
    sprite_load(v0, 128, *v1, v1[1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    sprite_setPallete(*(v0 + 5));
    *(v0 + 34) = 0;
    *v0 |= 2u;
    *(v0 + 8) = 4;
    sub_80E5CA0();
}


// 0x80e5ca0
void sub_80E5CA0()
{
    int v0; // r5
    int v2; // r0
    _DWORD *v6; // r4
    int v7; // r2
    int v8; // r3
    _DWORD *v9; // r0

    if ( *(v0 + 6) == 1 || (battle_isTimeStop(), _ZF) )
    {
        *v0 |= 2u;
        if ( **(v0 + 96) )
        {
            v2 = *(v0 + 34);
            __asm { SVC         6 }
            ++*(v0 + 34);
            object_getEnemyDirection();
            v6 = *(v0 + 76);
            v7 = v6[14] + *(v0 + 68);
            v8 = v6[15] + *(v0 + 72);
            v9 = (v0 + 52);
            *v9 = v6[13] + *(v0 + 64);
            v9[1] = v7;
            v9[2] = v8;
            object_updateSprite();
        }
        else
        {
            *v0 &= 0xFDu;
            *(v0 + 8) = 8;
        }
    }
    else
    {
        *v0 &= 0xFDu;
    }
}


// 0x80e5d12
int __fastcall sub_80E5D12(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 72, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 64) = *(v4 + 52);
        *(v4 + 68) = *(v4 + 56);
        *(v4 + 72) = *(v4 + 60);
        *(v4 + 96) = v5;
        if ( v5 )
            *v5 = v4;
    }
    return result;
}


// 0x80e5d3e
int __fastcall sub_80E5D3E(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e5d44
void sub_80E5D44()
{
    int v0; // r5

    (*(&off_80E5D5C + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e5d68
signed int __noreturn sub_80E5D68()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, 16, 0);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e5daa
int sub_80E5DAA()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0
    int result; // r0
    char v6; // zf
    int v7; // r2

    v1 = *(v0 + 76);
    v2 = v1[14];
    v3 = v1[15];
    v4 = (v0 + 52);
    *v4 = v1[13];
    v4[1] = v2;
    v4[2] = v3;
    if ( battle_isBattleOver()
        || (result = battle_isTimeStop(), v6) && ((v7 = *(v0 + 76), *(v7 + 8) == 8) || (result = *(v7 + 9), result == 8)) )
    {
        result = object_freeMemory();
    }
    return result;
}


// 0x80e5ddc
Battle *__fastcall sub_80E5DDC(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 73, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        v4->x = *(v6 + 52);
        v4->y = *(v6 + 56);
        v4->z = *(v6 + 60);
        v4->Alliance = *(v6 + 22);
        v4->parent = v6;
    }
    return result;
}


// 0x80e5e00
int sub_80E5E00()
{
    int v0; // r5

    return (*(&off_80E5E14 + *(v0 + 8)))();
}


// 0x80e5e20
int sub_80E5E20()
{
    int v0; // r5

    return (*(&off_80E5E34 + *(v0 + 9)))();
}


// 0x80e5e44
int sub_80E5E44()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // r4
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // [sp-8h] [bp-18h]
    int v9; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = &byte_80E5E98[8 * *(v0 + 22)];
        v8 = v1 + *(v0 + 18);
        v9 = *(v0 + 19);
        if ( object_checkPanelParameters(v8, v9, *v2, v2[1]) )
        {
            v3 = *(v0 + 4);
            v4 = *(v0 + 44);
            sub_80D4408(v8, v9, *(v0 + 14), 0);
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e5ea8
int __fastcall sub_80E5EA8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 74, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e5ecc
int sub_80E5ECC()
{
    int v0; // r5

    return (*(&off_80E5EE0 + *(v0 + 8)))();
}


// 0x80e5eec
int sub_80E5EEC()
{
    int v0; // r5

    return (*(&off_80E5F00 + *(v0 + 9)))();
}


// 0x80e5f10
int sub_80E5F10()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // r4
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // [sp-8h] [bp-18h]
    int v9; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = &byte_80E5F68[8 * *(v0 + 22)];
        v8 = v1 + *(v0 + 18);
        v9 = *(v0 + 19);
        if ( object_checkPanelParameters(v8, v9, *v2, v2[1]) )
        {
            v3 = *(v0 + 4);
            v4 = *(v0 + 44) + *(v0 + 50);
            sub_80D3742(v8, v9, *(v0 + 14), 0);
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e5f78
int __fastcall sub_80E5F78(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 75, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e5f9c
int sub_80E5F9C()
{
    int v0; // r5

    return (*(&off_80E5FB0 + *(v0 + 8)))();
}


// 0x80e5fbc
int sub_80E5FBC()
{
    int v0; // r5

    return (*(&off_80E5FD0 + *(v0 + 8)))();
}


// 0x80e5fdc
int sub_80E5FDC()
{
    int v0; // r5

    return (*(&off_80E5FF0 + *(v0 + 9)))();
}


// 0x80e6000
int sub_80E6000()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // r4
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // [sp-8h] [bp-18h]
    int v9; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v1 = object_getEnemyDirection();
        v2 = &byte_80E6054[8 * *(v0 + 22)];
        v8 = v1 + *(v0 + 18);
        v9 = *(v0 + 19);
        if ( object_checkPanelParameters(v8, v9, *v2, v2[1]) )
        {
            v3 = *(v0 + 4);
            v4 = *(v0 + 44);
            sub_80D49CC(v8, v9, *(v0 + 14), 0);
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e6088
int sub_80E6088()
{
    int v0; // r5

    return (*(&off_80E609C + *(v0 + 8)))();
}


// 0x80e60a8
int sub_80E60A8()
{
    int v0; // r5

    return (*(&off_80E60BC + *(v0 + 9)))();
}


// 0x80e60cc
int sub_80E60CC()
{
    int v0; // r5

    return (*(&off_80E60E0 + *(v0 + 10)))();
}


// 0x80e60ec
int sub_80E60EC()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r4
    _BYTE *v4; // r6
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // [sp+0h] [bp-1Ch]
    int v11; // [sp+4h] [bp-18h]
    int v12; // [sp+8h] [bp-14h]

    if ( *(v0 + 11) )
    {
        v3 = *(v0 + 6);
        v4 = (v0 + 96);
        do
        {
            v10 = object_getCoordinatesForPanels(*v4 & 7);
            v11 = v5;
            v12 = 0;
            v6 = sub_800362C(&v10);
            sub_800AE90(v6, v7);
            ++v4;
            --v3;
        }
        while ( v3 );
        v8 = *(v0 + 32);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        v1 = sub_80E61F4();
        *(v0 + 6) = v1;
        if ( v1 )
        {
            (loc_8000AC8)(dword_86E55FC, 100759872, 256, &off_80E6174);
            (loc_8000AC8)(byte_86E56FC, 50337520, 32, sub_80E6180);
            *(v0 + 32) = 60;
            result = 4;
            *(v0 + 11) = 4;
        }
        else
        {
            *(v0 + 9) = 12;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80e6180
int sub_80E6180()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80e619e
int sub_80E619E()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 6);
        sub_80E621C(*(v0 + 96));
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e61d2
int __fastcall sub_80E61D2(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 78, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e61f4
int sub_80E61F4()
{
    int v0; // r5

    return sub_801632C(*(v0 + 22) ^ 1);
}


// 0x80e621c
void __fastcall __noreturn sub_80E621C(unsigned int a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // [sp-8h] [bp-1Ch]
    int v4; // [sp-4h] [bp-18h]

    v2 = *(v1 + 44);
    v3 = a1 & 7;
    v4 = a1 >> 4;
    sub_80C53A6(a1 & 7, a1 >> 4, 0, 0);
    sub_80E7486(v3, v4, *(v1 + 22));
}


// 0x80e6254
int sub_80E6254()
{
    int v0; // r5

    return (*(&off_80E6268 + *(v0 + 8)))();
}


// 0x80e6274
int sub_80E6274()
{
    int v0; // r5

    return (*(&off_80E6288 + *(v0 + 9)))();
}


// 0x80e6298
int sub_80E6298()
{
    int v0; // r5

    return (*(&off_80E62AC + *(v0 + 10)))();
}


// 0x80e62b4
int sub_80E62B4()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80E6316();
        *(v0 + 11) = 4;
    }
    result = sub_80E6438();
    if ( !result )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80e62d2
int sub_80E62D2()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e62f4
int __fastcall sub_80E62F4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 79, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e6316
int sub_80E6316()
{
    int v0; // r5

    return (*(&off_80E632C + *(v0 + 4)))();
}


// 0x80e6338
void __noreturn sub_80E6338()
{
    int v0; // r5
    int v1; // r0

    *(v0 + 104) = 0;
    v1 = object_getEnemyDirection();
    sub_80E6458(v1 + *(v0 + 18), *(v0 + 19));
}


// 0x80e636a
BOOL sub_80E636A()
{
    int v0; // r5
    int v1; // r0
    int v2; // ST04_4
    BOOL result; // r0
    int v4; // [sp+0h] [bp-18h]

    *(v0 + 104) = 0;
    v1 = 2 * *(v0 + 22);
    v4 = *(&dword_80E63CC + v1);
    v2 = *(&dword_80E63CC + v1 + 1);
    result = object_isValidPanel(v4, *(v0 + 19));
    if ( result )
        sub_80E6458(v4, *(v0 + 19));
    return result;
}


// 0x80e63d0
void sub_80E63D0()
{
    int v0; // r5
    int v1; // r0

    *(v0 + 104) = 0;
    v1 = object_getEnemyDirection();
    sub_80E6458(v1 + *(v0 + 18), byte_80E642D[0] + *(v0 + 19));
}


// 0x80e6438
signed int sub_80E6438()
{
    int v0; // r5
    int i; // r3

    for ( i = 0; ; ++i )
    {
        if ( i >= *(v0 + 104) )
            return 0;
        if ( *(v0 + 96 + i) )
            break;
    }
    return 1;
}


// 0x80e6458
BOOL __fastcall __noreturn sub_80E6458(int a1, int a2)
{
    int v2; // r5

    return object_checkPanelParameters(a1, a2, *&byte_80E6470[8 * *(v2 + 22)], *&byte_80E6470[8 * *(v2 + 22) + 4]);
}


// 0x80e6480
int sub_80E6480()
{
    int v0; // r5

    return (*(&off_80E6494 + *(v0 + 8)))();
}


// 0x80e64a0
int sub_80E64A0()
{
    int v0; // r5

    return (*(&off_80E64B4 + *(v0 + 9)))();
}


// 0x80e64c4
int sub_80E64C4()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        sub_80E650A();
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 96);
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e64e8
int __fastcall sub_80E64E8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 80, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e650a
int sub_80E650A()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    int result; // r0
    int v4; // r1
    bool v5; // zf
    int v6; // r2
    int v7; // r3
    int v8; // r4
    int v9; // [sp-8h] [bp-18h]
    int v10; // [sp-4h] [bp-14h]

    v1 = 1;
    v2 = v0 + 96;
    *(v0 + 96) = 0;
    do
    {
        result = sub_800D4D0(*(v0 + 22) ^ 1, *(v0 + 23), v1);
        if ( result )
        {
            v9 = result;
            v10 = v4;
            v5 = object_checkPanelParameters(result, v4, 16, 260571264) == 0;
            result = v9;
            if ( !v5 )
            {
                v5 = sub_800D668(v9, v10, *(v0 + 22)) == 0;
                result = v9;
                if ( !v5 )
                {
                    v8 = *(v0 + 4);
                    result = sub_80E6720(v9, v10, v6, v7);
                    ++v2;
                }
            }
        }
        ++v1;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x80e655c
void sub_80E655C()
{
    int v0; // r5

    (*(&off_80E6574 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80e6580
int __noreturn sub_80E6580()
{
    int v0; // r5
    u32 v1; // r0
    int result; // r0
    int v3; // r1
    int v4; // r2

    sprite_load(v0, 128, 12, 19);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 1;
    *(v0 + 17) = -1;
    v1 = battle_findPlayer(*(v0 + 22));
    if ( v1 )
    {
        *(v0 + 6) = *(v1 + 18);
        *(v0 + 7) = *(v1 + 19);
        *v0 |= 2u;
        sprite_setPallete(4 * *(v0 + 4));
        object_setCoordinatesFromPanels(v0);
        PlaySoundEffect(297, v3, v4);
        *(v0 + 8) = 4;
        result = sub_80E65E0();
    }
    else
    {
        **(v0 + 76) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e65e0
int sub_80E65E0()
{
    int v0; // r5

    return (*(&off_80E65F4 + *(v0 + 9)))();
}


// 0x80e6600
int __fastcall sub_80E6600(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v3 + 11) )
        object_setPanelAlliance(*(v3 + 18), *(v3 + 19), *(v3 + 22) ^ 1);
    v4 = *(v3 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v3 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        *(v3 + 16) = 0;
        PlaySoundEffect(298, a2, a3);
        *(v3 + 9) = 4;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80e6644
int sub_80E6644()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v0 + 11) )
    {
        *(v0 + 60) += 0x40000;
        result = *(v0 + 60) >> 16;
        if ( result < 16 )
            return result;
        *(v0 + 60) = 0x100000;
        *(v0 + 32) = 16;
        *(v0 + 11) = 4;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v3 )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e667c
int sub_80E667C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r1
    char *v7; // r0
    int v8; // r2
    char *v9; // r4
    int v10; // r0
    int v11; // r1
    char *v12; // r0
    int result; // r0

    v1 = *(v0 + 7);
    v2 = object_getCoordinatesForPanels(*(v0 + 6));
    v4 = calcAngle_800117C(v3 - *(v0 + 56), v2 - *(v0 + 52));
    *(v0 + 52) += sub_80011A0(v4, *(v0 + 64));
    *(v0 + 56) += v5;
    if ( object_setPanelsFromCoordinates(v0) != *(v0 + 6) || v6 != *(v0 + 7) )
    {
        result = *(v0 + 64) + 0x4000;
        *(v0 + 64) = result;
    }
    else
    {
        if ( *(*(battle_findPlayer(*(v0 + 22)) + 88) + 187) )
        {
            v12 = sub_802E070(*(v0 + 22));
            v8 = *(v0 + 5);
            *(v12 + 27) += v8;
        }
        else
        {
            v7 = getBattleHandAddr_8010018(*(v0 + 22));
            v9 = &v7[2 * *v7 + 2];
            v10 = *v9;
            v11 = 0xFFFF;
            if ( v10 != 0xFFFF )
            {
                v11 = *(getChip8021DA8(v10) + 9);
                v8 = 2;
                if ( v11 & 2 )
                {
                    v8 = *(v9 + 12) + *(v0 + 5);
                    *(v9 + 12) = v8;
                }
            }
        }
        PlaySoundEffect(140, v11, v8);
        **(v0 + 76) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e6720
int __fastcall sub_80E6720(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    _BYTE *v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 81, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 76) = v6;
        *v6 = 1;
        *v4 |= 0x10u;
    }
    return result;
}


// 0x80e6758
int sub_80E6758()
{
    int v0; // r5

    return (*(&off_80E676C + *(v0 + 8)))();
}


// 0x80e6778
int sub_80E6778()
{
    int v0; // r5

    return (*(&off_80E678C + *(v0 + 9)))();
}


// 0x80e679c
int sub_80E679C()
{
    int v0; // r5
    int v1; // r4
    int v2; // r3
    int v3; // r6
    int result; // r0
    int v5; // [sp-8h] [bp-18h]
    int v6; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v5 = object_getFrontDirection(v0) + *(v0 + 18);
        v6 = *(v0 + 19);
        if ( object_checkPanelParameters(v5, v6, 16, 260571264) )
        {
            v1 = *(v0 + 4);
            v2 = *(v0 + 50);
            v3 = *(v0 + 44) + v2;
            sub_80D4FA6(v5, v6, *(v0 + 14), v2);
        }
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e67e6
int __fastcall sub_80E67E6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 82, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e680c
int sub_80E680C()
{
    int v0; // r5

    return (*(&off_80E6820 + *(v0 + 8)))();
}


// 0x80e682c
int sub_80E682C()
{
    int v0; // r5

    return (*(&off_80E6840 + *(v0 + 9)))();
}


// 0x80e6850
int sub_80E6850()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(*(v0 + 76) + 6) = 1;
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e6878
int __fastcall sub_80E6878(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 83, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e689c
int sub_80E689C()
{
    int v0; // r5

    return (*(&off_80E68B0 + *(v0 + 8)))();
}


// 0x80e68bc
int sub_80E68BC()
{
    int v0; // r5

    return (*(&off_80E68D0 + *(v0 + 9)))();
}


// 0x80e68dc
int sub_80E68DC()
{
    int v0; // r5

    return (*(&off_80E68F0 + *(v0 + 10)))();
}


// 0x80e68f8
void sub_80E68F8()
{
    int v0; // r5

    if ( *(v0 + 11) )
    {
        if ( !chatbox_mask_eFlags2009F38(128) )
            *(v0 + 10) = 4;
    }
    else
    {
        *(v0 + 11) = 4;
        chatbox_runScript(&TextScriptBattleDialog8736D74, *(v0 + 5) + 30);
    }
}


// 0x80e6924
int sub_80E6924()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 11) = 4;
        sub_80E698E();
    }
    sub_80E6A7C();
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 9) = 8;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e696c
int __fastcall sub_80E696C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-14h]
    int v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 84, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 100) = v8;
        *(v4 + 96) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e698e
void __noreturn sub_80E698E()
{
    Battle *v0; // r5
    int *v1; // r0
    int v2; // r4
    int v3; // r6
    char *v4; // r1
    char *v5; // r1
    int v6; // r0
    int v7; // [sp-8h] [bp-28h]
    int v8; // [sp-4h] [bp-24h]
    int v9; // [sp+0h] [bp-20h]
    int v10; // [sp+4h] [bp-1Ch]
    int v11; // [sp+8h] [bp-18h]

    v1 = &byte_80E6A6C[8 * v0->Alliance];
    v9 = *v1;
    v10 = v1[1];
    v2 = 0;
    v3 = 0;
    while ( 1 )
    {
        v4 = &byte_80E6A60[4 * v0->Alliance + 2 * v2];
        v7 = *v4;
        v8 = v4[1];
        if ( object_checkPanelParameters(v7, v8, v9, v10) )
        {
            v5 = &v11 + 2 * v3;
            *v5 = v7 | 16 * v8;
            v5[1] = v2;
            ++v3;
        }
        if ( ++v2 >= 2 )
        {
            object_getFrontDirection(v0);
            v6 = 1;
            if ( v0->Alliance )
                v6 = 6;
            object_getFirstPanelInDirectionFiltered(v6, 1, v9, v10 - 260571264);
        }
    }
}


// 0x80e6a7c
void sub_80E6A7C()
{
    int v0; // r5

    if ( *(v0 + 104) )
        object_updateSpriteTimestop();
}


// 0x80e6a90
int sub_80E6A90()
{
    int v0; // r5

    return (*(&off_80E6AA4 + *(v0 + 8)))();
}


// 0x80e6ab0
int sub_80E6AB0()
{
    int v0; // r5

    return (*(&off_80E6AC4 + *(v0 + 9)))();
}


// 0x80e6ad0
int sub_80E6AD0()
{
    int v0; // r5

    return (*(&off_80E6AE4 + *(v0 + 10)))();
}


// 0x80e6af0
int sub_80E6AF0()
{
    int v0; // r5
    int v1; // r1
    char v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v0 + 11) )
    {
        v9 = *(v0 + 32);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *(v0 + 10) = 4;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        object_getFlip(v0);
        v1 = *(v0 + 76);
        v2 = *(v1 + 18);
        v3 = *(v1 + 19);
        v4 = object_getCoordinatesForPanels(v2);
        SpawnT4BattleObjectWithId0(v0, v4, v4, v5, 0x200000);
        PlaySoundEffect(119, v6, v7);
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80e6b36
int sub_80E6B36()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r5

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( ((v1 < 0) ^ v2) | (v1 == 0) )
        {
            sub_80E6BA6();
            *(v0 + 10) = 8;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 32) = 10;
    }
    v3 = *(v0 + 76);
    return sprite_forceWhitePallete();
}


// 0x80e6b64
int sub_80E6B64()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 20;
        *(v0 + 32) = 20;
    }
    return result;
}


// 0x80e6b88
int __fastcall sub_80E6B88(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // [sp+Ch] [bp-8h]

    object_spawnType4(v4, 85, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 44) = 0;
        *(v4 + 48) = v5;
    }
    return result;
}


// 0x80e6ba6
void sub_80E6BA6()
{
    int v0; // r5
    int v1; // r3
    unsigned __int8 *v2; // r1
    int v3; // r5

    v1 = 0;
    while ( 1 )
    {
        v2 = &dword_80E6BD4 + 2 * v1;
        if ( *v2 == *(v0 + 4) )
            break;
        if ( ++v1 > 3 )
            return;
    }
    v3 = *(v0 + 76);
    sprite_setPallete(v2[1]);
}


// 0x80e6bdc
int sub_80E6BDC()
{
    int v0; // r5

    return (*(&off_80E6BF0 + *(v0 + 8)))();
}


// 0x80e6bfc
int sub_80E6BFC()
{
    int v0; // r5

    return (*(&off_80E6C10 + *(v0 + 9)))();
}


// 0x80e6c1c
int sub_80E6C1C()
{
    int v0; // r5

    return (*(&off_80E6C30 + *(v0 + 10)))();
}


// 0x80e6c34
int sub_80E6C34()
{
    int v0; // r5
    int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result == 60 )
            sub_80E6CAA();
        if ( result <= 0 )
        {
            *(v0 + 9) = 8;
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 120;
        *(v0 + 32) = 120;
    }
    return result;
}


// 0x80e6c8c
int __fastcall sub_80E6C8C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // [sp+Ch] [bp-8h]

    object_spawnType4(v4, 86, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 44) = 0;
        *(v4 + 48) = v5;
    }
    return result;
}


// 0x80e6caa
unsigned __int64 __noreturn sub_80E6CAA()
{
    int v0; // r5
    int v1; // r6
    int v2; // r4
    bool v3; // zf
    unsigned __int64 result; // r0
    char *v5; // [sp+0h] [bp-10h]

    v5 = &byte_80E6D0C[120 * *(v0 + 22) + 12 * *(v0 + 4)];
    v1 = 1;
    do
    {
        v2 = 1;
        do
        {
            v3 = object_checkPanelParameters(v2, v1, 16, 64) == 0;
            result = __PAIR__(v1, v2);
            if ( !v3 )
                object_setPanelType(v2, v1, (*&v5[4 * (v1 - 1)] >> 4 * (v2 - 1)) & 0xF);
            ++v2;
        }
        while ( v2 <= 6 );
        ++v1;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x80e6dfc
void __fastcall sub_80E6DFC(int result, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r4
    char *v5; // r6
    int v6; // r3
    int v7; // r6
    int v8; // r0
    int v9; // r1

    v4 = 0;
    while ( 1 )
    {
        v5 = &byte_80E6E34[2 * v4];
        v6 = *v5;
        v7 = v5[1];
        if ( a3 == v6 )
            break;
        if ( ++v4 >= 5 )
            return;
    }
    v8 = object_getCoordinatesForPanels(result);
    SpawnT4BattleObjectWithId0(v3, v8, v8, v9, 8);
}


// 0x80e6e44
int sub_80E6E44()
{
    int v0; // r5

    return (*(&off_80E6E58 + *(v0 + 8)))();
}


// 0x80e6e64
signed int sub_80E6E64()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 5) = 0;
    *(v0 + 6) = 1;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e6e74
int sub_80E6E74()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = (*(&off_80E6E9C + *(v0 + 9)))();
    }
    return result;
}


// 0x80e6ea0
int __fastcall sub_80E6EA0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // r1
    int v7; // r0
    __int64 v8; // r0
    int v9; // r0
    int v10; // r6

    if ( *(v4 + 10) )
    {
        v7 = *(v4 + 34) + 1;
        *(v4 + 34) = v7;
        if ( !__CFSHR__(v7, 3) )
        {
            LODWORD(v8) = *(v4 + 18);
            HIDWORD(v8) = *(v4 + 19);
            object_highlightPanel(v8);
        }
        result = *(v4 + 32) - 1;
        *(v4 + 32) = result;
        if ( result == 30 )
        {
            v10 = *(v4 + 44);
            result = sub_80C7D50(*(v4 + 18), *(v4 + 19), *(v4 + 14), a4);
        }
        else if ( result < 0 )
        {
            v9 = *(v4 + 5) + 1;
            *(v4 + 5) = v9;
            if ( v9 >= 6 )
            {
                result = 8;
                *(v4 + 8) = 8;
            }
            else
            {
                result = 0;
                *(v4 + 10) = 0;
            }
        }
    }
    else
    {
        *(v4 + 10) = 4;
        *(v4 + 32) = *(v4 + 4) + 30;
        *(v4 + 34) = 0;
        result = *(v4 + 5);
        if ( *(v4 + 5) )
        {
            result = sub_80E6F32();
            *(v4 + 18) = result;
            *(v4 + 19) = v6;
        }
    }
    return result;
}


// 0x80e6f10
int __fastcall sub_80E6F10(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 87, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v11 + 22);
    }
    return result;
}


// 0x80e6f32
int sub_80E6F32()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r1
    int v3; // r2
    signed int v4; // r3
    int result; // r0
    int v6; // r1
    int v7; // r1

    v1 = 0;
    if ( !*(v0 + 6) )
        goto LABEL_7;
    while ( 1 )
    {
        if ( v1 >= 2 )
        {
LABEL_10:
            result = *(v0 + 18);
            v7 = *(v0 + 19);
            return result;
        }
        ++v1;
        v2 = *(*(v0 + 96) + 18);
        v3 = *(v0 + 18);
        if ( v2 != v3 )
            break;
LABEL_7:
        if ( v1 >= 2 )
            goto LABEL_10;
        ++v1;
        if ( *(*(v0 + 96) + 19) != *(v0 + 19) )
        {
            *(v0 + 6) = 1;
            return *(v0 + 18);
        }
    }
    *(v0 + 6) = 0;
    v4 = 1;
    if ( v2 <= v3 )
        v4 = -1;
    result = v3 + v4;
    v6 = *(v0 + 19);
    return result;
}


// 0x80e6f88
int sub_80E6F88()
{
    int v0; // r5

    return (*(&off_80E6F9C + *(v0 + 8)))();
}


// 0x80e6fa8
int sub_80E6FA8()
{
    int v0; // r5

    return (*(&off_80E6FBC + *(v0 + 9)))();
}


// 0x80e6fcc
int sub_80E6FCC()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 120;
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80B8BA0(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    v8 = *(v0 + 32);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v9 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7008
int __fastcall sub_80E7008(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 88, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e702c
int sub_80E702C()
{
    int v0; // r5

    return (*(&off_80E7040 + *(v0 + 8)))();
}


// 0x80e704c
int sub_80E704C()
{
    int v0; // r5

    return (*(&off_80E7060 + *(v0 + 9)))();
}


// 0x80e7070
int sub_80E7070()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80BB13E(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e70a6
int __fastcall sub_80E70A6(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 89, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e70c8
void sub_80E70C8()
{
    int v0; // r5

    (*(&off_80E70EC + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e70f8
signed int __noreturn sub_80E70F8()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 8, 15);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 8;
    *(v0 + 17) = 8;
    sprite_setAnimation(v0, 8u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e7142
int sub_80E7142()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int result; // r0
    char v5; // zf

    if ( battle_isBattleOver() )
        goto LABEL_10;
    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    if ( *(v0 + 4) )
        return sub_80E717A();
    if ( *(*(v0 + 76) + 9) != 10 )
    {
LABEL_10:
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    result = battle_isTimeStop();
    if ( v5 )
        return sub_80E717A();
    return result;
}


// 0x80e717a
int sub_80E717A()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    result = *(v0 + 9);
    if ( result != 4 )
    {
        if ( result == 8 )
            return result;
        *(v0 + 9) = 4;
        *(v0 + 32) = 15;
    }
    v2 = *(v0 + 32);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 9;
        *(v0 + 16) = 9;
        *(v0 + 9) = 8;
    }
    return result;
}


// 0x80e71a0
int __fastcall sub_80E71A0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 90, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e71b8
int __fastcall sub_80E71B8(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e71c4
int sub_80E71C4()
{
    int v0; // r5

    return (*(&off_80E71D8 + *(v0 + 8)))();
}


// 0x80e71e4
int sub_80E71E4()
{
    int v0; // r5

    return (*(&off_80E71F8 + *(v0 + 9)))();
}


// 0x80e7208
int sub_80E7208()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80BB49C(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e723e
int __fastcall sub_80E723E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 91, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7260
int sub_80E7260()
{
    int v0; // r5

    return (*(&off_80E7274 + *(v0 + 8)))();
}


// 0x80e7280
int sub_80E7280()
{
    int v0; // r5

    return (*(&off_80E7294 + *(v0 + 9)))();
}


// 0x80e72a4
int sub_80E72A4()
{
    int v0; // r5

    return (*(&off_80E72B8 + *(v0 + 10)))();
}


// 0x80e72c8
void __fastcall sub_80E72C8(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
    int v7; // r5
    int v8; // r0
    int v9; // r1
    int v10; // r1
    int v11; // r2
    int *v12; // r7
    int v13; // r4
    int v14; // r2
    int v15; // r1
    char v16; // r0
    int v17; // r1
    int v18; // r1
    int v19; // r0
    int v20; // r1
    int v21; // r0
    unsigned __int8 v22; // vf
    int v23; // r4
    int *v24; // r7
    signed int v25; // r6
    int v26; // r1
    char *v27; // r0
    int v28; // r2
    int v29; // r1
    int v30; // [sp-8h] [bp-18h]
    int v31; // [sp-4h] [bp-14h]
    int v32; // [sp+0h] [bp-10h]
    int v33; // [sp+4h] [bp-Ch]
    int v34; // [sp+8h] [bp-8h]

    if ( !(sub_802D246() & 9) )
    {
        v30 = 2 * object_getFrontDirection(v7) + *(v7 + 18);
        v31 = *(v7 + 19);
        v8 = object_getCoordinatesForPanels(v30);
        *(v7 + 116) = sub_80E7774(v8, v8, v9, 0);
        PlaySoundEffect(189, v10, v11);
        sub_80E7486(v30, v31, *(v7 + 22));
    }
    v12 = (v7 + 100);
    v13 = 0;
    while ( 1 )
    {
        v14 = *v12;
        if ( *v12 )
        {
            v34 = *(v14 + 60);
            v15 = *(v14 + 84);
            v16 = *(v15 + 10);
            v17 = *(v15 + 11);
            v32 = object_getCoordinatesForPanels(v16);
            v33 = v18;
            v19 = sub_800362C(&v32);
            sub_800AE90(v19, v20);
        }
        ++v12;
        if ( ++v13 >= 4 )
        {
            v21 = *(v7 + 32);
            v22 = __OFSUB__(v21--, 1);
            *(v7 + 32) = v21;
            if ( (v21 < 0) ^ v22 )
            {
                v23 = *(*(v7 + 96) + 36);
                v24 = (v7 + 100);
                v25 = 0;
                do
                {
                    v26 = *v24;
                    if ( *v24 )
                    {
                        v27 = byte_119;
                        v28 = *(v26 + 36);
                        if ( v28 >= v23 )
                            v27 = byte_119 + 1;
                        PlaySoundEffect(v27, v26, v28);
                        *(v29 + 36) = v23;
                    }
                    ++v24;
                    ++v25;
                }
                while ( v25 < 4 );
                *(v7 + 32) = 30;
                *(v7 + 10) = 12;
            }
            JUMPOUT(__CS__, a7);
        }
    }
}


// 0x80e7464
int __fastcall sub_80E7464(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 92, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7486
int __fastcall __noreturn sub_80E7486(int a1, int a2, int a3)
{
    int v3; // r10
    int v4; // r6
    int *v5; // r3
    int v6; // r4
    int result; // r0
    int v8; // r1

    v4 = (a2 << 8) + a1;
    if ( !(object_getPanelParameters(a1, a2) & *&byte_80E74C4[4 * a3]) )
        return 0;
    v5 = (*(v3 + oToolkit_S2034880_Ptr) + 128);
    v6 = 0;
    while ( 1 )
    {
        result = *v5;
        if ( *v5 )
        {
            v8 = *(result + 84);
            if ( v8 )
            {
                if ( *(v8 + 10) == v4 )
                    break;
            }
        }
        ++v5;
        if ( ++v6 >= 8 )
            return 0;
    }
    return result;
}


// 0x80e74d4
int sub_80E74D4()
{
    int v0; // r5

    return (*(&off_80E74E8 + *(v0 + 8)))();
}


// 0x80e74f4
int sub_80E74F4()
{
    int v0; // r5

    return (*(&off_80E7508 + *(v0 + 9)))();
}


// 0x80e7518
int sub_80E7518()
{
    int v0; // r5
    int v1; // ST00_4
    int v2; // r4
    int v3; // r5
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 4);
        v3 = *(v0 + 76);
        sub_8010474();
        v0 = v1;
        *(v1 + 32) = 30;
        *(v1 + 11) = 4;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v5 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7546
int __fastcall sub_80E7546(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 93, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7568
int sub_80E7568()
{
    int v0; // r5

    return (*(&off_80E757C + *(v0 + 8)))();
}


// 0x80e7588
int sub_80E7588()
{
    int v0; // r5

    return (*(&off_80E759C + *(v0 + 9)))();
}


// 0x80e75ac
int sub_80E75AC()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
        sub_800D5F0(*(&dword_80E75FC + 2 * (*(v0 + 22) ^ *(v0 + 23))), *(v0 + 22));
    result = *(v0 + 12);
    if ( !*(v0 + 12) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7600
int __fastcall sub_80E7600(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 94, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7624
int sub_80E7624()
{
    int v0; // r5

    return (*(&off_80E7638 + *(v0 + 8)))();
}


// 0x80e7644
int sub_80E7644()
{
    int v0; // r5

    return (*(&off_80E7658 + *(v0 + 9)))();
}


// 0x80e7668
int sub_80E7668()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // ST04_4
    bool v4; // zf
    int v5; // r1
    int v6; // r2
    int v7; // r4
    int v8; // r6
    int v9; // ST04_4
    int v10; // r5
    int v11; // r0
    unsigned __int8 v12; // vf
    int result; // r0
    int v14; // [sp-8h] [bp-18h]

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = &byte_80E76C4[8 * *(v0 + 22)];
        v14 = v1 + *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = object_checkPanelParameters(v14, v3, *v2, v2[1]) == 0;
        v5 = v3;
        if ( !v4 )
        {
            v6 = *(v0 + 14);
            v7 = *(v0 + 4);
            v8 = *(v0 + 44);
            v9 = v0;
            v10 = *(v0 + 76);
            sub_80DB2C6(v14, v5, v6, 0);
            v0 = v9;
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v11 = *(v0 + 32);
    v12 = __OFSUB__(v11, 1);
    result = v11 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v12) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e76d4
int __fastcall sub_80E76D4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 95, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e76f8
int sub_80E76F8()
{
    int v0; // r5

    return (*(&off_80E770C + *(v0 + 8)))();
}


// 0x80e7718
void __noreturn sub_80E7718()
{
    int v0; // r5

    sprite_load(v0, 128, 20, 5);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *(v0 + 16) = 11;
    *(v0 + 17) = 11;
    sprite_setAnimation(v0, 0xBu);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *v0 |= 2u;
    sprite_setPallete(2);
    *(v0 + 8) = 4;
    sub_80E7756();
}


// 0x80e7756
int sub_80E7756()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = *(v0 + 4);
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
        result = object_freeMemory();
    return result;
}


// 0x80e7774
Battle *__fastcall sub_80E7774(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5

    object_spawnType4(v4, 96, a2, a3, a4);
    return v4;
}


// 0x80e7788
void sub_80E7788()
{
    int v0; // r5

    (*(&off_80E77AC + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e77b8
signed int __noreturn sub_80E77B8()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 16, 79);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e7816
signed int sub_80E7816()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned int v7; // r0
    int v8; // r0
    int v9; // r0
    signed int result; // r0

    if ( battle_isBattleOver() )
        goto LABEL_7;
    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v4 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v4);
    v5 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v5);
    v6 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v6);
    v7 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v7);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v8 = object_getFlip(v0);
    sprite_setFlip(v0, v8);
    v9 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v9);
    result = *(v0 + 4);
    if ( !*(v0 + 4) )
    {
        result = *(*(v0 + 76) + 9);
        if ( result != *(v0 + 5) )
        {
LABEL_7:
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e7896
int __fastcall sub_80E7896(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 97, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e78ae
int __fastcall sub_80E78AE(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e78bc
void sub_80E78BC()
{
    int v0; // r5

    (*(&off_80E78D4 + *(v0 + 8)))();
    object_updateSpriteTimestop();
}


// 0x80e78e0
signed int __noreturn sub_80E78E0()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    object_setCoordinatesFromPanels(v0);
    *(v0 + 62) = 0;
    sprite_load(v0, 128, 16, 80);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 0;
    *(v0 + 17) = 0;
    sprite_setAnimation(v0, 0);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    *(v0 + 32) = *(v0 + 4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e792a
int sub_80E792A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( battle_isBattleOver()
        || (v1 = *(v0 + 32), v2 = __OFSUB__(v1, 1),
                                                 result = v1 - 1,
                                                 *(v0 + 32) = result,
                                                 ((result < 0) ^ v2) | (result == 0)) )
    {
        result = object_freeMemory();
    }
    return result;
}


// 0x80e7942
int __fastcall sub_80E7942(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // [sp+0h] [bp-10h]
    char v7; // [sp+4h] [bp-Ch]
    int v8; // [sp+8h] [bp-8h]

    v6 = a1;
    v7 = a2;
    object_spawnType4(v4, 98, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v6;
        *(v4 + 19) = v7;
        *(v4 + 22) = *(v8 + 22);
    }
    return result;
}


// 0x80e795c
void sub_80E795C()
{
    int v0; // r5

    (*(&off_80E7980 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e798c
signed int __noreturn sub_80E798C()
{
    int v0; // r5
    int v1; // r0
    signed int result; // r0

    sub_80E7AB0();
    sprite_load(v0, 128, 12, 27);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 2;
    *(v0 + 17) = 2;
    sprite_setAnimation(v0, 2u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e79ce
int sub_80E79CE()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0
    unsigned int v4; // r0
    int v5; // r0
    int v6; // r0
    int result; // r0

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        sub_80E7AB0();
        *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
        v1 = sprite_getPallete(*(v0 + 76));
        sprite_setPallete(v1);
        v2 = sprite_getColorShader(*(v0 + 76));
        sprite_setColorShader(v0, v2);
        v3 = sprite_getFinalPalette(*(v0 + 76));
        (sprite_setFinalPalette)(v3);
        v4 = sub_8002F3E(*(v0 + 76));
        (loc_8002F02)(v4);
        *(v0 + 23) = *(*(v0 + 76) + 23);
        v5 = object_getFlip(v0);
        sprite_setFlip(v0, v5);
        v6 = sprite_getMosaicScalingParameters(*(v0 + 76));
        (sprite_setAlpha)(v6);
        result = (*(&off_80E7A48 + *(v0 + 9)))();
    }
    return result;
}


// 0x80e7a50
int sub_80E7A50()
{
    int v0; // r5
    int result; // r0

    result = *(*(v0 + 76) + 9);
    if ( result != 11 )
    {
        *(v0 + 9) = 4;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7a66
int sub_80E7A66()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        *(v0 + 16) = 3;
        *(v0 + 32) = 14;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e7a88
int __fastcall sub_80E7A88(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 99, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e7aa0
int __fastcall sub_80E7AA0(int result)
{
    if ( result )
    {
        *(result + 9) = 4;
        *(result + 10) = 0;
    }
    return result;
}


// 0x80e7ab0
int sub_80E7AB0()
{
    int v0; // r5
    int result; // r0
    _WORD *v2; // r1

    result = 16 * object_getFrontDirection(v0);
    v2 = *(v0 + 76);
    *(v0 + 54) = v2[27] + result;
    *(v0 + 58) = v2[29];
    *(v0 + 62) = v2[31];
    return result;
}


// 0x80e7acc
void sub_80E7ACC()
{
    int v0; // r5

    (*(&off_80E7AF0 + *(v0 + 8)))();
    if ( *(v0 + 4) )
        object_updateSpriteTimestop();
    else
        object_updateSpritePaused();
}


// 0x80e7afc
signed int __noreturn sub_80E7AFC()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    u8 v4; // r0
    int v5; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 16, 83);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v4 = *(v0 + 5);
    *(v0 + 16) = v4;
    *(v0 + 17) = v4;
    sprite_setAnimation(v0, v4);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v5 = object_getFlip(v0);
    sprite_setFlip(v0, v5);
    *(v0 + 32) = 19;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e7b4a
signed int sub_80E7B4A()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r2
    int v4; // r3
    _DWORD *v5; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r0
    unsigned int v9; // r0
    int v10; // r0
    int v11; // r0
    signed int result; // r0

    if ( battle_isBattleOver() )
        goto LABEL_9;
    if ( *(v0 + 5) == 1 )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( ((v1 < 0) ^ v2) | (v1 == 0) )
            goto LABEL_9;
    }
    v3 = *(*(v0 + 76) + 56);
    v4 = *(*(v0 + 76) + 60);
    v5 = (v0 + 52);
    *v5 = *(*(v0 + 76) + 52);
    v5[1] = v3;
    v5[2] = v4;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v6 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v6);
    v7 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v7);
    v8 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v8);
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v10 = object_getFlip(v0);
    sprite_setFlip(v0, v10);
    v11 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v11);
    result = *(v0 + 4);
    if ( !*(v0 + 4) )
    {
        result = *(*(v0 + 76) + 9);
        if ( result != *(v0 + 6) )
        {
LABEL_9:
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e7bd8
int __fastcall sub_80E7BD8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 100, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e7bf0
int __fastcall sub_80E7BF0(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e7bfc
int sub_80E7BFC()
{
    int v0; // r5

    return (*(&off_80E7C10 + *(v0 + 8)))();
}


// 0x80e7c1c
int sub_80E7C1C()
{
    int v0; // r5

    return (*(&off_80E7C30 + *(v0 + 9)))();
}


// 0x80e7c40
int sub_80E7C40()
{
    int v0; // r5
    int v1; // r0
    int *v2; // r1
    int v3; // r4
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0
    int v8; // [sp-8h] [bp-18h]
    int v9; // [sp-4h] [bp-14h]

    if ( !*(v0 + 11) )
    {
        v1 = object_getFrontDirection(v0);
        v2 = &byte_80E7C98[8 * *(v0 + 22)];
        v8 = v1 + *(v0 + 18);
        v9 = *(v0 + 19);
        if ( object_checkPanelParameters(v8, v9, *v2, v2[1]) )
        {
            v3 = *(v0 + 4);
            v4 = *(v0 + 44) + *(v0 + 50);
            sub_80DA390(v8, v9, *(v0 + 14), 0);
        }
        *(v0 + 32) = 60;
        *(v0 + 11) = 4;
    }
    v5 = *(v0 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7ca8
int __fastcall sub_80E7CA8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 101, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7ccc
int type3Object_0xb6_80E7CCC()
{
    int v0; // r5

    return (*(&off_80E7CE0 + *(v0 + 8)))();
}


// 0x80e7cec
signed int sub_80E7CEC()
{
    _DWORD *v0; // r5
    signed int result; // r0

    v0[24] = sub_80BC610(6, 2, v0[19], 0);
    v0[25] = sub_80BC610(6, 2, v0[19], 0);
    v0[26] = sub_80BC610(6, 2, v0[19], 0);
    v0[27] = sub_80BC610(6, 2, v0[19], 0);
    result = 4;
    v0[2] = 4;
    return result;
}


// 0x80e7d6a
int sub_80E7D6A()
{
    int v0; // r5

    return (*(&off_80E7D7C + *(v0 + 9)))();
}


// 0x80e7d80
void sub_80E7D80()
{
    ;
}


// 0x80e7d84
int __fastcall sub_80E7D84(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+8h] [bp-8h]

    object_spawnType4(v4, 102, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80e7da4
int __fastcall sub_80E7DA4(int *a1)
{
    int *v1; // r5

    v1 = a1;
    sub_80BC644(a1[24]);
    sub_80BC644(v1[25]);
    sub_80BC644(v1[26]);
    return sub_80BC644(v1[27]);
}


// 0x80e7dc4
int sub_80E7DC4()
{
    int v0; // r5

    return (*(&off_80E7DD8 + *(v0 + 8)))();
}


// 0x80e7de4
int sub_80E7DE4()
{
    int v0; // r5

    return (*(&off_80E7DF8 + *(v0 + 9)))();
}


// 0x80e7e08
int sub_80E7E08()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
        sub_80E7E64();
    result = *(v0 + 32) - 1;
    *(v0 + 32) = result;
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7e42
int __fastcall sub_80E7E42(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 103, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7e64
int __noreturn sub_80E7E64()
{
    Battle *v0; // r5
    int v1; // ST00_4
    bool v2; // zf
    int result; // r0

    v1 = object_getFrontDirection(v0) + v0->panelX;
    v2 = object_checkPanelParameters(v1, v0->panelY, 16, 260571264) == 0;
    result = v1;
    if ( v2 )
        result = 0;
    return result;
}


// 0x80e7e9c
int cornfiestaObject_80E7E9C()
{
    int v0; // r5

    return (*(&off_80E7EB0 + *(v0 + 8)))();
}


// 0x80e7ebc
int sub_80E7EBC()
{
    int v0; // r5

    return (*(&off_80E7ED0 + *(v0 + 9)))();
}


// 0x80e7ee0
int sub_80E7EE0()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80BCCDC(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7f16
int __fastcall sub_80E7F16(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 104, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7f38
int sub_80E7F38()
{
    int v0; // r5

    return (*(&off_80E7F4C + *(v0 + 8)))();
}


// 0x80e7f58
int sub_80E7F58()
{
    int v0; // r5

    return (*(&off_80E7F6C + *(v0 + 9)))();
}


// 0x80e7f80
int sub_80E7F80()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r4
    int v7; // r6
    int v8; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 22);
        v6 = *(v0 + 4);
        v7 = *(v0 + 44) + *(v0 + 50);
        v8 = *(v0 + 76);
        sub_80C31F0(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 16;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e7fba
int __fastcall sub_80E7FBA(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 105, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e7fdc
int sub_80E7FDC()
{
    int v0; // r5

    return (*(&off_80E7FF0 + *(v0 + 8)))();
}


// 0x80e7ffc
int sub_80E7FFC()
{
    int v0; // r5

    return (*(&off_80E8010 + *(v0 + 9)))();
}


// 0x80e8020
int sub_80E8020()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80BD20A(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e8058
int __fastcall sub_80E8058(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 106, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e807c
int sub_80E807C()
{
    int v0; // r5

    return (*(&off_80E8090 + *(v0 + 8)))();
}


// 0x80e809c
void __noreturn sub_80E809C()
{
    int v0; // r5
    u8 v1; // r0

    sprite_load(v0, 128, 20, 7);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = *(v0 + 4);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    *v0 |= 2u;
    *(v0 + 64) = *(v0 + 52);
    *(v0 + 68) = *(v0 + 56);
    *(v0 + 72) = *(v0 + 60);
    *(v0 + 8) = 4;
    sub_80E80E0();
}


// 0x80e80e0
void __noreturn sub_80E80E0()
{
    int v0; // r5
    _DWORD *v1; // r4
    int v2; // r2
    int v3; // r3
    _DWORD *v4; // r0

    v1 = *(v0 + 76);
    v2 = v1[14] + *(v0 + 68);
    v3 = v1[15] + *(v0 + 72);
    v4 = (v0 + 52);
    *v4 = v1[13] + *(v0 + 64);
    v4[1] = v2;
    v4[2] = v3;
    ++*(v0 + 62);
    ++*(v0 + 58);
    if ( sprite_getFrameParameters() & 0x80 )
    {
        *v0 &= 0xFDu;
        *(v0 + 8) = 8;
    }
    sprite_update(v0);
}


// 0x80e8124
Battle *__fastcall sub_80E8124(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    Battle *result; // r0
    u32 *v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 107, a2, a3, a4);
    result = v4;
    if ( v4 )
        v4->parent = v6;
    return result;
}


// 0x80e8138
int sub_80E8138()
{
    int v0; // r5

    return (*(&off_80E814C + *(v0 + 8)))();
}


// 0x80e8158
int sub_80E8158()
{
    int v0; // r5

    return (*(&off_80E816C + *(v0 + 9)))();
}


// 0x80e817c
int sub_80E817C()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        sub_80BE3E8(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e81b4
int __fastcall sub_80E81B4(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 108, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e81d8
int sub_80E81D8()
{
    int v0; // r5

    return (*(&off_80E81EC + *(v0 + 8)))();
}


// 0x80e81f8
int sub_80E81F8()
{
    int v0; // r5

    return (*(&off_80E820C + *(v0 + 9)))();
}


// 0x80e821c
int __fastcall sub_80E821C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r6
    int result; // r0

    if ( !*(v4 + 11) )
    {
        v5 = *(v4 + 50);
        v6 = *(v4 + 44) + v5;
        sub_80E8396(v5, a2, *(v4 + 14), a4);
        *(v4 + 11) = 4;
    }
    result = *(v4 + 5);
    if ( !*(v4 + 5) )
    {
        *(v4 + 9) = 12;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e8244
int __fastcall sub_80E8244(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 109, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e8268
int sub_80E8268()
{
    int v0; // r5

    return (*(&off_80E827C + *(v0 + 8)))();
}


// 0x80e8288
int sub_80E8288()
{
    int v0; // r5

    *(v0 + 40) = 211;
    *(v0 + 36) = 1;
    *(v0 + 38) = 1;
    *(v0 + 8) = 4;
    return sub_80E829E();
}


// 0x80e829e
int sub_80E829E()
{
    int v0; // r5
    int result; // r0

    result = battle_isTimeStop();
    if ( !result )
        result = (*(&off_80E82B8 + *(v0 + 10)))();
    return result;
}


// 0x80e82c0
int sub_80E82C0()
{
    _WORD *v0; // r5

    v0[17] = 11;
    v0[16] = 20;
    v0[5] = 4;
    return sub_80E82D4();
}


// 0x80e82d4
int sub_80E82D4()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r3
    int v6; // ST04_4
    int v7; // r6
    int v8; // r2

    if ( battle_isBattleOver() )
    {
LABEL_7:
        **(v0 + 96) = 0;
        goto LABEL_8;
    }
    if ( *(v0 + 36) )
    {
        result = *(v0 + 32) - 1;
        *(v0 + 32) = result;
        if ( result )
            return result;
        v2 = *(v0 + 34) - 1;
        *(v0 + 34) = v2;
        if ( v2 )
        {
            v3 = sub_80E8326();
            if ( v3 != 255 )
            {
                v6 = v4;
                v7 = *(v0 + 44);
                sub_80D006E(v3, v4, *(v0 + 14), v5);
                PlaySoundEffect(183, v6, v8);
                result = 20;
                *(v0 + 32) = 20;
                return result;
            }
        }
        goto LABEL_7;
    }
LABEL_8:
    clearEntryOfBattleStateBattleObjectList_800F656();
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80e8326
int sub_80E8326()
{
    int v0; // r5
    int v1; // r10
    int result; // r0
    int v3; // r7
    signed int v4; // r4
    int v5; // r3
    int v6; // r1

    if ( sub_802D246() & 8 )
        return sub_80E8378();
    v3 = *(v1 + oToolkit_S2034880_Ptr) + 16 * (*(v0 + 22) ^ 1) + 128;
    v4 = 0;
    v5 = 0;
    do
    {
        if ( *v3 && (!v5 || *(*v3 + 36) >= *(v5 + 36)) )
            v5 = *v3;
        v3 += 4;
        ++v4;
    }
    while ( v4 < 4 );
    result = 255;
    if ( v5 )
    {
        result = *(v5 + 18);
        v6 = *(v5 + 19);
    }
    return result;
}


// 0x80e8378
signed int sub_80E8378()
{
    int v0; // r5
    u32 v1; // r6
    signed int result; // r0
    int v3; // r1

    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    if ( !*(v1 + 36) )
        return 255;
    result = *(v1 + 18);
    v3 = *(v1 + 19);
    return result;
}


// 0x80e8396
int __fastcall sub_80E8396(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v7; // r1
    char v8; // [sp+0h] [bp-Ch]
    int v9; // [sp+4h] [bp-8h]

    v8 = a3;
    object_spawnType4(v4, 110, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        v7 = *(v9 + 22);
        *(v4 + 22) = v7;
        *(v4 + 44) = v5;
        result = sub_800F614(v4, v7, 1);
    }
    return result;
}


// 0x80e83b8
int sub_80E83B8()
{
    int v0; // r5

    return (*(&off_80E83CC + *(v0 + 8)))();
}


// 0x80e83d8
int sub_80E83D8()
{
    int v0; // r5

    return (*(&off_80E83EC + *(v0 + 9)))();
}


// 0x80e83fc
int sub_80E83FC()
{
    int v0; // r5
    int result; // r0
    int v2; // [sp+0h] [bp-18h]

    if ( !*(v0 + 11) )
        sub_80E84D0(&v2);
    result = *(v0 + 6) | *(v0 + 7);
    if ( !result )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e8464
int __fastcall sub_80E8464(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 111, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e8486
signed int __fastcall sub_80E8486(int a1, int a2, int a3, int a4)
{
    int v4; // ST00_4
    int v5; // ST04_4
    int v6; // r7
    int v7; // r4
    int v8; // r1
    int v9; // r0
    int v10; // r6
    bool v11; // zf
    int v13; // [sp+0h] [bp-18h]
    int v14; // [sp+4h] [bp-14h]

    v4 = a1;
    v5 = a2;
    v6 = *&byte_80E84C8[4 * a3];
    v7 = object_getFlipDirection(a3, a4);
    v8 = v5;
    v9 = v4 + v7;
    v10 = 0;
    while ( 1 )
    {
        v13 = v9;
        v14 = v8;
        object_isValidPanel(v9, v8);
        if ( v11 )
            break;
        v11 = (object_getPanelParameters(v13, v14) & v6) == 0;
        v8 = v14;
        if ( !v11 )
            return v10;
        ++v10;
        v9 = v13 + v7;
    }
    return 255;
}


// 0x80e84d0
signed int __fastcall __noreturn sub_80E84D0(unsigned __int8 *a1)
{
    Battle *v1; // r5
    unsigned __int8 *v2; // r7
    signed int v3; // r6
    signed int v4; // r0
    signed int v5; // r0
    int v7; // [sp-8h] [bp-18h]
    int v8; // [sp-8h] [bp-18h]
    int v9; // [sp-4h] [bp-14h]
    int v10; // [sp-4h] [bp-14h]

    v2 = a1;
    v3 = 0;
    *a1 = 0;
    *(a1 + 1) = 0;
    a1[6] = 1;
    v7 = object_getFrontDirection(v1) + v1->panelX;
    v9 = v1->panelY;
    if ( object_checkPanelParameters(v7, v9, 16, 260571264) )
    {
        *v2 = v7;
        v2[1] = v9;
        v8 = -5 * (v1->Alliance ^ v1->directionFlip) + 6;
        v10 = v1->panelY;
        if ( object_checkPanelParameters(v8, v10, 16, 260571264) && (v8 != *v2 || v10 != v2[1]) )
        {
            v2[4] = v8;
            v2[5] = v10;
        }
        v3 = 1;
        v4 = sub_80E8486(*v2, v2[1], v1->Alliance, v1->directionFlip);
        v2[3] = v4;
        if ( v4 == 255 || v4 < 4 )
        {
            if ( v2[4] )
            {
                v5 = sub_80E8486(v2[4], v2[5], v1->Alliance, v1->directionFlip ^ 1);
                v2[7] = v5;
                if ( v5 != 255 && (v2[3] == 255 || v5 >= 4) )
                    v2[7] = -1;
            }
        }
        else
        {
            v3 = 0;
        }
    }
    return v3;
}


// 0x80e857c
int sub_80E857C()
{
    int v0; // r5

    return (*(&off_80E8590 + *(v0 + 8)))();
}


// 0x80e859c
int sub_80E859C()
{
    int v0; // r5

    *(v0 + 8) = 4;
    return sub_80E85A8();
}


// 0x80e85a8
int sub_80E85A8()
{
    int v0; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 100) = sub_80E862E(*(v0 + 18), *(v0 + 19) + 1);
        *(v0 + 104) = sub_80E862E(*(v0 + 18), *(v0 + 19) - 1);
        *(v0 + 96) = sub_80E862E(*(v0 + 18), *(v0 + 19));
        *(v0 + 11) = 4;
    }
    result = *(v0 + 96) | *(v0 + 100) | *(v0 + 104);
    if ( !result )
    {
        **(v0 + 108) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e85fa
Battle *__fastcall sub_80E85FA(char a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    Battle *result; // r0
    char v7; // [sp+0h] [bp-14h]
    char v8; // [sp+4h] [bp-10h]
    char v9; // [sp+8h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    v9 = a3;
    object_spawnType4(v4, 112, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        result = BasicBattleObjectInitialize(v4, v7, v8, v9);
        *&result->extraVars[12] = v5;
    }
    return result;
}


// 0x80e8612
int __fastcall sub_80E8612(int result, int a2, int a3)
{
    int v3; // r4
    signed int v4; // r1
    int v5; // r2
    signed int v6; // r1
    int v7; // r2

    v3 = result;
    if ( result )
    {
        sub_80CEAC2(*(result + 100), 2, a3);
        sub_80CEAC2(*(v3 + 104), v4, v5);
        result = sub_80CEAC2(*(v3 + 96), v6, v7);
    }
    return result;
}


// 0x80e862e
int __fastcall sub_80E862E(char a1, int a2)
{
    int v2; // r5
    int v3; // r4
    int v4; // r6

    v3 = *(v2 + 4);
    v4 = *(v2 + 44);
    return sub_80CEAA2(a1, a2, *(v2 + 14), *(v2 + 60));
}


// 0x80e863e
int __fastcall sub_80E863E(char a1, int a2)
{
    int v2; // r5
    char *v3; // r4
    int v4; // r6

    v3 = &byte_200[*(v2 + 4) & 0xFFFF00FF];
    v4 = *(v2 + 44);
    return sub_80CEAA2(a1, a2, *(v2 + 14), *(v2 + 60));
}


// 0x80e8656
int sub_80E8656()
{
    int *v0; // r5
    int result; // r0
    int v2; // r1
    int v3; // r2

    result = sub_80CEAEE(v0[24]);
    if ( result || (result = sub_80CEAEE(v0[25])) != 0 || (result = sub_80CEAEE(v0[26])) != 0 )
        result = sub_80E8612(result, v2, v3);
    return result;
}


// 0x80e8688
void sub_80E8688()
{
    int v0; // r5

    (*(&off_80E86A0 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e86ac
signed int __noreturn sub_80E86AC()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 8, 10);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    *(v0 + 16) = 21;
    *(v0 + 17) = 21;
    sprite_setAnimation(v0, 0x15u);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e86f6
signed int sub_80E86F6()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned int v7; // r0
    int v8; // r0
    int v9; // r0
    signed int result; // r0

    if ( battle_isBattleOver() )
        goto LABEL_6;
    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v4 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v4);
    v5 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v5);
    v6 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v6);
    v7 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v7);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v8 = object_getFlip(v0);
    sprite_setFlip(v0, v8);
    v9 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v9);
    result = *(*(v0 + 76) + 9);
    if ( result != *(v0 + 4) )
    {
LABEL_6:
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e8770
int __fastcall sub_80E8770(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 113, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e8788
int __fastcall sub_80E8788(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e8794
void sub_80E8794()
{
    int v0; // r5

    (*(&off_80E87AC + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e87b8
signed int __noreturn sub_80E87B8()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    u8 v4; // r0
    int v5; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 16, 89);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v4 = *(v0 + 4);
    *(v0 + 16) = v4;
    *(v0 + 17) = v4;
    sprite_setAnimation(v0, v4);
    sprite_loadAnimationData(v0);
    sprite_setPallete(0);
    v5 = object_getFlip(v0);
    sprite_setFlip(v0, v5);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e8802
signed int sub_80E8802()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned int v7; // r0
    int v8; // r0
    int v9; // r0
    signed int result; // r0

    if ( battle_isBattleOver() )
        goto LABEL_6;
    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v4 = sprite_getPallete(*(v0 + 76));
    sprite_setPallete(v4);
    v5 = sprite_getColorShader(*(v0 + 76));
    sprite_setColorShader(v0, v5);
    v6 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v6);
    v7 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v7);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v8 = object_getFlip(v0);
    sprite_setFlip(v0, v8);
    v9 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v9);
    result = *(*(v0 + 76) + 9);
    if ( result != *(v0 + 5) )
    {
LABEL_6:
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e887c
int __fastcall sub_80E887C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 114, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
    }
    return result;
}


// 0x80e8894
int __fastcall sub_80E8894(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e88a0
int sub_80E88A0()
{
    int v0; // r5

    return (*(&off_80E88B4 + *(v0 + 8)))();
}


// 0x80e88c0
int sub_80E88C0()
{
    int v0; // r5

    *(v0 + 5) = 3;
    camera_initShakeEffect_80302a8(2, 12);
    *(v0 + 8) = 4;
    return sub_80E88D8();
}


// 0x80e88d8
int sub_80E88D8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r3
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0

    if ( battle_isBattleOver() )
    {
LABEL_8:
        result = 8;
        *(v0 + 8) = 8;
        return result;
    }
    if ( !*(v0 + 9) )
    {
        *(v0 + 9) = 1;
        sub_80E11E0(1, v1, v2, v3);
        *(v0 + 32) = 8;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v7 = *(v0 + 5) - 1;
        *(v0 + 5) = v7;
        if ( v7 )
        {
            result = 0;
            *(v0 + 9) = 0;
            return result;
        }
        goto LABEL_8;
    }
    return result;
}


// 0x80e8912
int __fastcall sub_80E8912(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+4h] [bp-8h]

    object_spawnType4(v4, 115, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 &= 0xEFu;
    }
    return result;
}


// 0x80e8938
void sub_80E8938()
{
    int v0; // r5

    (*(&off_80E8950 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80e895c
signed int __noreturn sub_80E895C()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    u8 v4; // r0
    int v5; // r0
    signed int result; // r0

    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    sprite_load(v0, 128, 8, 20);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v4 = *(v0 + 4);
    *(v0 + 16) = v4;
    *(v0 + 17) = v4;
    sprite_setAnimation(v0, v4);
    sprite_loadAnimationData(v0);
    sprite_setPallete(16);
    v5 = object_getFlip(v0);
    sprite_setFlip(v0, v5);
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e89ba
signed int sub_80E89BA()
{
    int v0; // r5
    int v1; // r2
    int v2; // r3
    _DWORD *v3; // r0
    int v4; // r0
    unsigned int v5; // r0
    int v6; // r0
    int v7; // r0
    signed int result; // r0
    _DWORD *v9; // r0

    if ( battle_isBattleOver() )
        goto LABEL_8;
    v1 = *(*(v0 + 76) + 56);
    v2 = *(*(v0 + 76) + 60);
    v3 = (v0 + 52);
    *v3 = *(*(v0 + 76) + 52);
    v3[1] = v1;
    v3[2] = v2;
    *v0 = *v0 & 0xFD | **(v0 + 76) & 2;
    v4 = sprite_getFinalPalette(*(v0 + 76));
    (sprite_setFinalPalette)(v4);
    v5 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v5);
    *(v0 + 23) = *(*(v0 + 76) + 23);
    v6 = object_getFlip(v0);
    sprite_setFlip(v0, v6);
    v7 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v7);
    result = *(*(v0 + 76) + 9);
    if ( result != *(v0 + 5) )
    {
LABEL_8:
        v9 = *(v0 + 96);
        if ( v9 )
            *v9 = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e8a2a
int __fastcall sub_80E8A2A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r6
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 116, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *(v4 + 22) = *(v7 + 22);
    }
    return result;
}


// 0x80e8a46
int __fastcall sub_80E8A46(int result)
{
    if ( result )
        *(result + 8) = 8;
    return result;
}


// 0x80e8a52
int __fastcall sub_80E8A52(int result, char a2)
{
    if ( result )
    {
        *(result + 16) = a2;
        *(result + 17) = -1;
    }
    return result;
}


// 0x80e8a60
int sunMoonObject_80E8A60()
{
    int v0; // r5

    return (*(&off_80E8A74 + *(v0 + 8)))();
}


// 0x80e8a80
int sub_80E8A80()
{
    int v0; // r5

    return (*(&off_80E8A94 + *(v0 + 9)))();
}


// 0x80e8aa4
int sub_80E8AA4()
{
    int v0; // r5
    int v1; // ST00_4
    char v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r5
    int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = v0;
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        v4 = *(v0 + 14);
        v5 = *(v0 + 50);
        v6 = *(v0 + 44) + v5;
        v7 = *(v0 + 76);
        spawnType1Object_0x24_80BF6AE(v2, v3, v4, v5);
        v0 = v1;
        *(v1 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e8adc
int __fastcall spawnSunMoonObject_80E8ADC(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 117, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e8b00
int sub_80E8B00()
{
    int v0; // r5

    return (*(&off_80E8B14 + *(v0 + 8)))();
}


// 0x80e8b20
int sub_80E8B20()
{
    int v0; // r5

    return (*(&off_80E8B34 + *(v0 + 9)))();
}


// 0x80e8b44
int sub_80E8B44()
{
    int v0; // r5

    return (*(&off_80E8B58 + *(v0 + 10)))();
}


// 0x80e8b64
signed int sub_80E8B64()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 34) = 16;
    result = 8;
    *(v0 + 10) = 8;
    return result;
}


// 0x80e8b70
void __fastcall __noreturn sub_80E8B70(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0

    v5 = *(v4 + 34);
    if ( v5 == 16 )
        sub_80E8C44(16, a2, a3);
    sub_80E8BF8(v5, a2, a3, a4);
}


// 0x80e8bb0
int sub_80E8BB0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80e8bc0
int __fastcall sub_80E8BC0(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 118, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e8be2
_BYTE *__fastcall sub_80E8BE2(char a1, int a2)
{
    int v2; // r5
    int v3; // r6

    v3 = *(v2 + 44) + *(v2 + 50);
    return sub_80DBEA2(a1, a2, *(v2 + 14), 7864320);
}


// 0x80e8bf8
void __fastcall __noreturn sub_80E8BF8(int a1, int a2, int a3, int a4)
{
    sub_80E8C84(a1, a2, a3, a4);
}


// 0x80e8c44
void __fastcall __noreturn sub_80E8C44(int a1, int a2, int a3)
{
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3

    sub_800EC48(a1, a2, a3, byte_80E8D6C);
    object_getPanelsFiltered(v3, v4, v5, v6);
}


// 0x80e8c84
void __fastcall __noreturn sub_80E8C84(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r3

    ZeroFillByHalfword(v4 + 100, 0x28u, a3, a4);
    sub_800EC48(v5, v6, v7, byte_80E8D6C);
    object_getPanelsFiltered(v8, v9, v10, v11);
}


// 0x80e8cc4
__int64 __fastcall sub_80E8CC4(__int64 result)
{
    int v1; // r4
    signed int v2; // r6
    char *v3; // r3
    int v4; // r2
    int v5; // r3
    __int64 v6; // [sp+0h] [bp-1Ch]

    v2 = 16;
    v3 = byte_80E8D80;
    do
    {
        v6 = result;
        v4 = v3[v2];
        v5 = (v3 + 1);
        LODWORD(result) = result + v4;
        if ( result >= 1 && result <= 6 )
        {
            HIDWORD(result) += *(v5 + v2);
            if ( SHIDWORD(result) >= 1 && SHIDWORD(result) <= 3 )
                *(v1 + result + 6 * HIDWORD(result)) = 1;
        }
        v3 = (v5 - 1);
        result = v6;
        v2 -= 2;
    }
    while ( v2 >= 0 );
    return result;
}


// 0x80e8cfa
void __fastcall __noreturn sub_80E8CFA(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r3

    ZeroFillByHalfword(v4 + 100, 0x28u, a3, a4);
    sub_800EC48(v5, v6, v7, byte_80E8D58);
    object_getPanelsFiltered(v8, v9, v10, v11);
}


// 0x80e8d92
int __fastcall __noreturn sub_80E8D92(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r0
    int v7; // r4
    int v8; // r6
    int v9; // r7
    int result; // r0
    int v15; // [sp+0h] [bp-40h]
    int v16; // [sp+4h] [bp-3Ch]
    int v17; // [sp+8h] [bp-38h]
    int v18; // [sp+Ch] [bp-34h]
    int v19; // [sp+10h] [bp-30h]
    int v20; // [sp+14h] [bp-2Ch]

    v5 = 4;
    do
    {
        v6 = 7;
        do
        {
            v15 = v6;
            v16 = v5;
            v17 = a3;
            v18 = a4;
            v7 = object_getPanelParameters(v6, v5);
            v5 = v16;
            a3 = v17;
            a4 = v18;
            v8 = v19;
            v9 = v20;
            if ( !(v7 & v18) && (v7 & v17) == v17 )
            {
                v19 = v17;
                v20 = v18;
                if ( *(v4 + 6 * v16 + v15 + 100) )
                    *(v9 + v8++) = 16 * v16 | v15;
            }
            v6 = v15 - 1;
        }
        while ( v15 != 1 );
        v5 = v16 - 1;
    }
    while ( v16 != 1 );
    result = v8;
    if ( v8 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(v9 + v8) & 7;
    }
    return result;
}


// 0x80e8df0
int sub_80E8DF0()
{
    int v0; // r5

    return (*(&off_80E8E04 + *(v0 + 8)))();
}


// 0x80e8e10
signed int sub_80E8E10()
{
    int v0; // r5
    signed int result; // r0

    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e8e18
int sub_80E8E18()
{
    int v0; // r5

    return (*(&off_80E8E2C + *(v0 + 9)))();
}


// 0x80e8e34
void sub_80E8E34()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2

    if ( *(v0 + 11) == 1 )
    {
        if ( sub_802B734() )
        {
            sub_801DA48(64);
            *(v0 + 32) = 20;
            *(v0 + 9) = 4;
            *(v0 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 1;
        sub_801DACC(256);
        sub_801BED6(256);
        sub_801DACC(64);
        v1 = *(v0 + 96);
        v2 = *(v0 + 100);
        v3 = *(v0 + 104);
        sub_802B6EC();
    }
}


// 0x80e8e82
int sub_80E8E82()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e8e92
int sub_80E8E92()
{
    battle_clearFlags(4);
    return object_freeMemory();
}


// 0x80e8ea0
int __fastcall sub_80E8EA0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r3
    int v7; // r1
    int v8; // [sp+0h] [bp-20h]
    int v9; // [sp+4h] [bp-1Ch]
    int v10; // [sp+8h] [bp-18h]
    int v11; // [sp+Ch] [bp-14h]
    int v12; // [sp+10h] [bp-10h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    v11 = a4;
    object_spawnType4(v4, 119, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v12;
        *(v4 + 96) = v8;
        *(v4 + 100) = v9;
        *(v4 + 104) = v10;
        v6 = 0;
        do
        {
            v7 = *(v11 + v6);
            *(v4 + 108 + v6) = v7;
            v6 += 2;
        }
        while ( v7 != -1 );
        *(v4 + 22) = *(v12 + 22);
        battle_setFlags(4);
        result = v4;
    }
    return result;
}


// 0x80e8ee0
int sub_80E8EE0()
{
    int v0; // r5

    return (*(&off_80E8EF4 + *(v0 + 8)))();
}


// 0x80e8f00
signed int sub_80E8F00()
{
    _DWORD *v0; // r5
    signed int result; // r0

    v0[24] = sub_80BFF00(6, 2, v0[19], 0);
    v0[25] = sub_80BFF00(6, 2, v0[19], 0);
    v0[26] = sub_80BFF00(6, 2, v0[19], 0);
    result = 4;
    v0[2] = 4;
    return result;
}


// 0x80e8f5c
int sub_80E8F5C()
{
    int v0; // r5

    return (*(&off_80E8F70 + *(v0 + 9)))();
}


// 0x80e8f74
void sub_80E8F74()
{
    ;
}


// 0x80e8f78
int __fastcall sub_80E8F78(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+8h] [bp-8h]

    object_spawnType4(v4, 120, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v6;
        *(v4 + 22) = *(v6 + 22);
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80e8f98
int __fastcall sub_80E8F98(int a1)
{
    int v1; // r5

    v1 = a1;
    sub_80BFF34(*(a1 + 96));
    sub_80BFF34(*(v1 + 100));
    return sub_80BFF34(*(v1 + 104));
}


// 0x80e8fb0
signed int __fastcall sub_80E8FB0(int a1)
{
    int v1; // r5

    v1 = a1;
    sub_80BFF3E(*(a1 + 96));
    sub_80BFF3E(*(v1 + 100));
    return sub_80BFF3E(*(v1 + 104));
}


// 0x80e8fc8
signed int __fastcall sub_80E8FC8(int a1)
{
    int v1; // r5

    v1 = a1;
    sub_80BFF56(*(a1 + 96));
    sub_80BFF56(*(v1 + 100));
    return sub_80BFF56(*(v1 + 104));
}


// 0x80e8fe0
int sub_80E8FE0()
{
    int v0; // r5

    return (*(&off_80E8FF4 + *(v0 + 8)))();
}


// 0x80e9000
int sub_80E9000()
{
    int v0; // r5

    return (*(&off_80E9014 + *(v0 + 9)))();
}


// 0x80e9024
int sub_80E9024()
{
    int v0; // r5

    return (*(&off_80E9038 + *(v0 + 10)))();
}


// 0x80e9048
int __fastcall sub_80E9048(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        if ( *(v4 + 4) == 2 )
        {
LABEL_6:
            result = 4;
            *(v4 + 10) = 4;
            return result;
        }
        sub_80E1332(*(v4 + 76), 1, a3, a4);
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
        goto LABEL_6;
    return result;
}


// 0x80e9074
signed int sub_80E9074()
{
    int v0; // r5
    int v1; // r4
    signed int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 4);
        (*(&off_80E90A4 + *(v0 + 4)))();
        *(v0 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80e90b0
int sub_80E90B0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 30;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 12;
        *(v0 + 10) = 12;
    }
    return result;
}


// 0x80e90ce
int __fastcall sub_80E90CE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        if ( *(v4 + 4) != 2 )
            sub_80E1332(*(v4 + 76), 0, a3, a4);
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        *(v4 + 9) = 12;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e90fe
int __fastcall sub_80E90FE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 121, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e9120
int sub_80E9120()
{
    int v0; // r5

    return (*(&off_80E9134 + *(v0 + 8)))();
}


// 0x80e9140
int sub_80E9140()
{
    int v0; // r5

    return (*(&off_80E9154 + *(v0 + 9)))();
}


// 0x80e9164
signed int sub_80E9164()
{
    int v0; // r5
    int v1; // r0
    char v2; // r0
    int v3; // r4
    int v4; // r6
    signed int result; // r0

    if ( *(v0 + 11) )
    {
        result = *(v0 + 100);
        if ( result )
            return result;
    }
    else
    {
        v1 = object_getFrontDirection(v0);
        if ( !(object_getPanelParameters(v1 + *(v0 + 18), *(v0 + 19)) & 0xF800010) )
        {
            v2 = object_getFrontDirection(v0);
            v3 = *(v0 + 96);
            v4 = *(v0 + 44) + *(v0 + 50);
            sub_80C17F4(v2 + *(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
            result = 4;
            *(v0 + 11) = 4;
            return result;
        }
    }
    *(v0 + 9) = 12;
    result = 0;
    *(v0 + 10) = 0;
    return result;
}


// 0x80e91b8
int __fastcall sub_80E91B8(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 124, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
        *(v4 + 96) = *(v4 + 4);
    }
    return result;
}


// 0x80e91e4
int sub_80E91E4()
{
    int v0; // r5

    return (*(&off_80E91F8 + *(v0 + 8)))();
}


// 0x80e9204
int sub_80E9204()
{
    int v0; // r5

    return (*(&off_80E9218 + *(v0 + 9)))();
}


// 0x80e922c
int sub_80E922C()
{
    int v0; // r5

    return (*(&off_80E9240 + *(v0 + 10)))();
}


// 0x80e924c
int __fastcall sub_80E924C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        sub_80E1332(*(v4 + 76), 1, a3, a4);
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *(v4 + 10) = 4;
    }
    return result;
}


// 0x80e9272
signed int sub_80E9272()
{
    int v0; // r5
    int v1; // r6
    int v2; // r2
    int v3; // r3
    int v4; // r4
    void (*v5)(void); // r0
    int v6; // r1
    int v7; // ST00_4
    int v8; // r5
    signed int result; // r0

    if ( !*(v0 + 11) )
    {
        v1 = *(v0 + 44) + *(v0 + 50);
        v2 = *(v0 + 14);
        v3 = *(v0 + 22);
        v4 = *(v0 + 4);
        v5 = *(&off_80E92B0 + *(v0 + 6));
        v6 = *(v0 + 18);
        v7 = v0;
        v8 = *(v0 + 76);
        v5();
        v0 = v7;
        *(v7 + 11) = 4;
    }
    result = *(v0 + 5);
    if ( !*(v0 + 5) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80e92c4
int __fastcall sub_80E92C4(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v4 + 11) )
    {
        sub_80E1332(*(v4 + 76), 0, a3, a4);
        *(v4 + 32) = 30;
        *(v4 + 11) = 4;
    }
    v5 = *(v4 + 32);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v4 + 32) = result;
    if ( (result < 0) ^ v6 )
    {
        *(v4 + 9) = 16;
        result = 0;
        *(v4 + 10) = 0;
    }
    return result;
}


// 0x80e92ee
int __fastcall sub_80E92EE(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 126, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e9310
int sub_80E9310()
{
    int v0; // r5

    return (*(&off_80E9324 + *(v0 + 8)))();
}


// 0x80e9330
int sub_80E9330()
{
    int v0; // r5

    return (*(&off_80E9344 + *(v0 + 9)))();
}


// 0x80e9354
int sub_80E9354()
{
    int v0; // r5

    return (*(&off_80E9368 + *(v0 + 10)))();
}


// 0x80e9378
int __fastcall sub_80E9378(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 11) )
    {
        v6 = *(v4 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *(v4 + 10) = 4;
        }
    }
    else
    {
        *(v4 + 11) = 4;
        sub_80E1332(*(v4 + 76), 1, a3, a4);
        result = 30;
        *(v4 + 32) = 30;
    }
    return result;
}


// 0x80e93a0
signed int __fastcall sub_80E93A0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST00_4
    int v6; // r2
    int v7; // r0
    int v8; // r6
    int v9; // r5
    int v10; // r0
    int v11; // r6
    int v12; // r5
    int v13; // r1
    int v14; // r3
    signed int result; // r0

    if ( !*(v4 + 11) )
    {
        *(v4 + 11) = 4;
        v5 = v4;
        v6 = *(v4 + 14);
        v7 = *(v4 + 46) << 16;
        v8 = *(v4 + 50) | v7;
        v9 = *(v4 + 76);
        sub_80C1EAC(v7, a2, v6, a4);
        v10 = *(v5 + 46) << 16;
        v11 = *(v5 + 50) | v10;
        v12 = *(v5 + 76);
        sub_80C24D2(v10, v13, *(v5 + 14), v14);
        v4 = v5;
    }
    result = *(v4 + 4);
    if ( !*(v4 + 4) )
    {
        result = *(v4 + 5);
        if ( !*(v4 + 5) )
        {
            result = 8;
            *(v4 + 10) = 8;
        }
    }
    return result;
}


// 0x80e93f2
int sub_80E93F2()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 11) )
    {
        v2 = *(v0 + 32);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 32) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *(v0 + 10) = 12;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        result = 30;
        *(v0 + 32) = 30;
    }
    return result;
}


// 0x80e9412
int __fastcall sub_80E9412(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 11) )
    {
        v6 = *(v4 + 32);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 32) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v4 + 9) = 12;
            result = 0;
            *(v4 + 10) = 0;
        }
    }
    else
    {
        *(v4 + 11) = 4;
        sub_80E1332(*(v4 + 76), 0, a3, a4);
        result = 30;
        *(v4 + 32) = 30;
    }
    return result;
}


// 0x80e943e
int __fastcall sub_80E943E(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 127, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e9460
int sub_80E9460()
{
    int v0; // r5

    return (*(&off_80E9474 + *(v0 + 8)))();
}


// 0x80e9480
signed int sub_80E9480()
{
    int v0; // r5
    char v1; // r0
    signed int result; // r0

    v1 = 6;
    if ( *(v0 + 22) )
        v1 = 1;
    *(v0 + 18) = v1;
    *(v0 + 32) = 0;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e9498
int sub_80E9498()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = sub_80E94B4();
    }
    return result;
}


// 0x80e94b4
int sub_80E94B4()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    signed int v4; // r0

    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        if ( sub_80E94F8() && (v4 = *(v0 + 18), v4 <= 6) && v4 >= 1 )
        {
            result = 50;
            *(v0 + 32) = 50;
        }
        else
        {
            result = 8;
            *(v0 + 8) = 8;
        }
    }
    return result;
}


// 0x80e94dc
int __fastcall sub_80E94DC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+8h] [bp-Ch]
    int v8; // [sp+Ch] [bp-8h]

    v7 = a3;
    object_spawnType4(v4, 128, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v7;
        *(v4 + 76) = v8;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v8 + 22);
    }
    return result;
}


// 0x80e94f8
int sub_80E94F8()
{
    int v0; // r5
    signed int v1; // r6
    int v2; // r7
    int v3; // r4
    int v4; // r0
    bool v5; // zf
    int v6; // r3
    char v7; // r0
    signed int v8; // ST08_4
    int v9; // r6
    char v11; // [sp-8h] [bp-18h]

    v1 = 1;
    v2 = 0;
LABEL_2:
    v3 = 1;
    while ( 1 )
    {
        v4 = -object_getEnemyDirection() * v1 + *(v0 + 18);
        if ( v4 < 1 || v4 > 6 )
            return v2;
        v11 = v4;
        v5 = object_checkPanelParameters(v4, v3, *&byte_80E955C[8 * *(v0 + 22)], *&byte_80E955C[8 * *(v0 + 22) + 4]) == 0;
        v7 = v11;
        if ( !v5 )
        {
            v8 = v1;
            v9 = *(v0 + 44);
            sub_80DF4D4(v11, v3, *(v0 + 14), v6);
            v7 = v11;
            v1 = v8;
            ++v2;
        }
        if ( ++v3 > 3 )
        {
            if ( v2 )
            {
                *(v0 + 18) = v7;
                return v2;
            }
            ++v1;
            goto LABEL_2;
        }
    }
}


// 0x80e956e
void nullsub_12()
{
    ;
}


// 0x80e9570
int sub_80E9570()
{
    int v0; // r5

    return (*(&off_80E9584 + *(v0 + 8)))();
}


// 0x80e9590
int sub_80E9590()
{
    int v0; // r5

    return (*(&off_80E95A4 + *(v0 + 9)))();
}


// 0x80e95b4
int sub_80E95B4()
{
    int v0; // r5

    return (*(&off_80E95C8 + *(v0 + 4)))();
}


// 0x80e95d8
int __fastcall sub_80E95D8(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r10
    u32 *v5; // r4
    u32 v6; // ST00_4
    int v7; // ST04_4
    u32 v8; // ST08_4
    int v9; // r0
    int v10; // r1
    int v11; // r1
    int v12; // r2
    int v13; // r0
    u32 *v14; // r5
    char *v15; // r0
    char v16; // r4
    int v17; // r0
    char *v18; // r0
    char *v19; // r0
    char *v20; // r0
    char *v21; // r0
    signed int v22; // r2
    char *v23; // r0
    int v24; // r0
    char v25; // r3
    int v26; // r0
    unsigned __int8 v27; // vf
    int result; // r0
    Battle *v29; // [sp-4h] [bp-Ch]

    if ( !v3->currPhase )
    {
        v3->currPhase = 1;
        v3->Timer = 60;
        v5 = v3->parent;
        v6 = v5[13];
        v7 = v5[14];
        v8 = v5[15];
        v9 = getBattleArmPositionMaybe_8018810(*(v5 + 20), 0, v3->Alliance, v3->directionFlip);
        SpawnT4BattleObjectWithId0(v3, v9 << 16, v6 + (v9 << 16), v7, v8 + (v10 << 16));
        v13 = PlaySoundEffect(281, v11, v12);
        v29 = v3;
        v14 = v3->parent;
        v15 = sub_801265A(v13);
        if ( v15 < 5 )
        {
            v16 = 5 - v15;
            v17 = sub_8013774(v15, 1);
            v15 = sub_8013754(v17, 1, v17 + v16);
        }
        v18 = sub_8013754(v15, 2, 4);
        v19 = sub_8013754(v18, 3, 4);
        v20 = sub_8013754(v19, 10, 8);
        v21 = sub_8013774(v20, 99);
        if ( v21 )
        {
            v22 = *(*(v4 + oToolkit_S2034880_Ptr) + 7);
            if ( v22 >= v21 )
                v21 = sub_8013754(v21, 99, v22 + 1);
        }
        if ( sub_8013774(v21, 7) == 255 )
        {
            sub_8013754(255, 7, 59);
            sub_8013682(*(v14 + 22))[7] = 59;
        }
        object_setFlag1(262192);
        v23 = sub_8013682(*(v14 + 22));
        v23[27] = 1;
        v23[28] = 1;
        v23[29] = 1;
        v24 = sub_80107C0(v23);
        object_updateCollisionData(v24, 16, 2, v25);
        v3 = v29;
    }
    if ( v3->Timer == 28 )
        PlaySoundEffect(119, a2, a3);
    v26 = v3->Timer;
    v27 = __OFSUB__(v26, 1);
    result = v26 - 1;
    v3->Timer = result;
    if ( (result < 0) ^ v27 )
    {
        v3->currAction = 12;
        result = 0;
        *&v3->currPhase = 0;
    }
    return result;
}


// 0x80e96c6
int sub_80E96C6()
{
    int v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r0
    char *v4; // r0
    char v5; // r1
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 1;
        *(v0 + 32) = 60;
        SpawnT4BattleObjectWithId0(v0, *(v0 + 76), *(*(v0 + 76) + 52), *(*(v0 + 76) + 56), 0);
        v3 = PlaySoundEffect(323, v1, v2);
        sub_8013754(v3, 5, *(v0 + 5));
        v4 = sub_8013682(*(v0 + 22));
        v5 = *(v0 + 5);
        v4[5] = v5;
        sub_80E97BE(v4, v5);
    }
    v6 = *(v0 + 32);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v0 + 32) = result;
    if ( (result < 0) ^ v7 )
    {
        *(v0 + 9) = 12;
        result = 0;
        *(v0 + 10) = 0;
    }
    return result;
}


// 0x80e9714
int __fastcall sub_80E9714(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r4
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // r0
    int v9; // r0
    char *v10; // r0
    char v11; // r1
    int v12; // r0
    unsigned __int8 v13; // vf
    int result; // r0

    if ( !*(v3 + 10) )
    {
        *(v3 + 10) = 1;
        *(v3 + 32) = 60;
        v4 = *(v3 + 76);
        v5 = *(v4 + 52);
        v6 = *(v4 + 56);
        v7 = *(v4 + 60);
        v8 = getBattleArmPositionMaybe_8018810(*(v4 + 40), 0, *(v3 + 22), *(v3 + 23));
        SpawnT4BattleObjectWithId0(v3, *(v3 + 6) << 16, v5 + (v8 << 16), v6, v7);
        sub_8013754(v9, 5, *(v3 + 5));
        v10 = sub_8013682(*(v3 + 22));
        v11 = *(v3 + 5);
        v10[5] = v11;
        sub_80E97BE(v10, v11);
    }
    if ( *(v3 + 32) == 40 )
        PlaySoundEffect(119, a2, a3);
    v12 = *(v3 + 32);
    v13 = __OFSUB__(v12, 1);
    result = v12 - 1;
    *(v3 + 32) = result;
    if ( (result < 0) ^ v13 )
    {
        *(v3 + 9) = 12;
        result = 0;
        *(v3 + 10) = 0;
    }
    return result;
}


// 0x80e9784
int sub_80E9784()
{
    int v0; // r5
    int v1; // r5
    int result; // r0
    int v3; // [sp+0h] [bp-Ch]

    v1 = *(v0 + 76);
    sub_800FFE4(0x20000000);
    *(v3 + 9) = 12;
    result = 0;
    *(v3 + 10) = 0;
    return result;
}


// 0x80e979c
int __fastcall sub_80E979C(char a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    char v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 132, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 18) = v8;
        *(v4 + 19) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e97be
int __fastcall sub_80E97BE(int a1, char a2)
{
    int v2; // r5
    int v3; // r0
    int result; // r0
    char v5; // r2

    v3 = *(*(v2 + 76) + 88);
    *(v3 + 7) = a2;
    result = *(v3 + 6);
    v5 = 0;
    if ( result == 4 || result == 3 || (v5 = 43, result == 44) )
    {
        result = *(*(v2 + 76) + 88);
        *(result + 6) = v5;
    }
    return result;
}


// 0x80e97f0
int sub_80E97F0()
{
    int v0; // r5

    return (*(&off_80E9804 + *(v0 + 8)))();
}


// 0x80e9810
void __noreturn sub_80E9810()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0
    u32 v3; // r0
    int v4; // r0

    object_setPanelsFromCoordinates(v0);
    sprite_load(v0, 128, byte_80E98C0[2 * *(v0 + 4)], byte_80E98C0[2 * *(v0 + 4) + 1]);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    v1 = *(v0 + 6);
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    sprite_setPallete(*(v0 + 7));
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    if ( *(v0 + 4) == 2 )
        sprite_setUnk0x2c(*(v0 + 104));
    v3 = battle_findPlayer(*(v0 + 5));
    *(v0 + 76) = v3;
    *(v0 + 96) = *(v3 + 52);
    *(v0 + 100) = *(v3 + 56);
    *(v0 + 96) += 1310720 * object_getFlipDirection(*(v3 + 22), *(v3 + 23));
    v4 = *(v0 + 96) - *(v0 + 52);
    *(v0 + 32) = 9;
    __asm { SVC         6 }
    *(v0 + 64) = v4;
    __asm { SVC         6 }
    *(v0 + 68) = *(v0 + 100) - *(v0 + 56);
    __asm { SVC         6 }
    *(v0 + 72) = 0x100000 - *(v0 + 60);
    *v0 |= 2u;
    *(v0 + 8) = 4;
}


// 0x80e98de
int sub_80E98DE()
{
    int v0; // r5
    int result; // r0

    if ( !battle_isBattleOver() && object_isCurrentPanelValid() )
        return (*(&off_80E9918 + *(v0 + 9)))();
    SpawnT4BattleObjectWithId0(v0, v0 + 64, *(v0 + 52), *(v0 + 56), *(v0 + 60) + 0x100000);
    result = 8;
    *(v0 + 8) = 8;
    return result;
}


// 0x80e991c
void __noreturn sub_80E991C()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r4
    signed int v4; // r0

    *(v0 + 52) += *(v0 + 64);
    *(v0 + 56) += *(v0 + 68);
    *(v0 + 60) += *(v0 + 72);
    object_setPanelsFromCoordinates(v0);
    if ( *(*(v0 + 76) + 9) == 88 )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( ((v1 < 0) ^ v2) | (v1 == 0) )
        {
            v3 = *(*(v0 + 76) + 88);
            v4 = *(v3 + 13);
            if ( v4 < 8 )
            {
                *(v3 + 13) = v4 + 1;
                *(v3 + v4 + 108) = *(v0 + 4) | 16 * *(v0 + 16);
                *(v0 + 8) = 8;
            }
        }
    }
    sprite_update(v0);
}


// 0x80e996e
int __fastcall sub_80E996E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // [sp+0h] [bp-Ch]
    int v7; // [sp+4h] [bp-8h]

    v6 = a1;
    object_spawnType4(v4, 135, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 104) = v6;
        *(v4 + 22) = *(v7 + 22);
        *v4 &= 0xEBu;
    }
    return result;
}


// 0x80e9994
int sub_80E9994()
{
    int v0; // r5

    return (*(&off_80E99A8 + *(v0 + 8)))();
}


// 0x80e99b4
signed int sub_80E99B4()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 32) = 40;
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e99c0
int sub_80E99C0()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = sub_80E99DC();
    }
    return result;
}


// 0x80e99dc
int sub_80E99DC()
{
    int v0; // r5
    int v1; // r5
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // [sp+0h] [bp-8h]

    v1 = *(v0 + 76);
    result = object_getFlag();
    if ( !(result & 0xA000) )
    {
        v3 = *(v5 + 32);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v5 + 32) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            sub_80E9A38();
            result = *(&off_80E9A0C + *(v5 + 4));
            *(v5 + 32) = result;
        }
    }
    return result;
}


// 0x80e9a1c
int __fastcall sub_80E9A1C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    char v7; // [sp+8h] [bp-Ch]
    int v8; // [sp+Ch] [bp-8h]

    v7 = a3;
    object_spawnType4(v4, 136, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v7;
        *(v4 + 76) = v8;
        *(v4 + 44) = v5;
        *(v4 + 22) = *(v8 + 22);
    }
    return result;
}


// 0x80e9a38
int sub_80E9A38()
{
    int v0; // r5
    int v1; // r0
    int v2; // r4
    int v3; // r6
    int v5; // r0
    int v6; // r1
    int result; // r0
    unsigned int v11; // r0
    int v12; // r3
    int v13; // ST04_4
    int v14; // r4
    int v15; // r6
    int v16; // [sp+0h] [bp-38h]
    int v17; // [sp+4h] [bp-34h]
    int v18; // [sp+8h] [bp-30h]
    int v19; // [sp+Ch] [bp-2Ch]
    int v20; // [sp+10h] [bp-28h]

    v16 = 0;
    v19 = 258;
    sub_8000C72(&v19, 3, 3);
    v1 = 8 * *(v0 + 22);
    v17 = *&byte_80E9ACC[v1];
    v18 = *&byte_80E9ACC[v1 + 4];
    v2 = 1;
    do
    {
        v3 = object_getPanelsInRowIgnoreColumnFiltered(v16, v2, v17, v18);
        if ( v3 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            v11 = *(&v20 + v3);
            v6 = v11 >> 4;
            v5 = v11 & 7;
        }
        else
        {
            _ZF = object_checkPanelParameters(v16, v2, v17, v18) == 0;
            v5 = v16;
            v6 = v2;
            if ( _ZF )
            {
                result = 0;
                v16 = 0;
                goto LABEL_8;
            }
        }
        v16 = v5;
        v12 = 5120 * *(&v19 + v2 - 1);
        v13 = v2;
        v14 = *(v0 + 4) | v12;
        v15 = *(v0 + 44);
        result = sub_80D1182(v5, v6, *(v0 + 14), v12);
        v2 = v13;
LABEL_8:
        ++v2;
    }
    while ( v2 <= 3 );
    return result;
}


// 0x80e9af0
void sub_80E9AF0()
{
    int v0; // r5

    (*(&off_80E9B08 + *(v0 + 8)))();
    sub_801BC24();
}


// 0x80e9b14
void __noreturn sub_80E9B14()
{
    int v0; // r5
    u8 v1; // r0
    int v2; // r0

    sprite_load(v0, 128, 20, 28);
    sprite_loadAnimationData(v0);
    sprite_noShadow(v0);
    *v0 |= 2u;
    v1 = sub_80E9C06();
    *(v0 + 16) = v1;
    *(v0 + 17) = v1;
    sprite_setAnimation(v0, v1);
    sprite_loadAnimationData(v0);
    sprite_update(v0);
    v2 = object_getFlip(v0);
    sprite_setFlip(v0, v2);
    *(v0 + 8) = 4;
    sub_80E9B56();
}


// 0x80e9b56
int sub_80E9B56()
{
    int v0; // r5
    int v1; // r4
    int v2; // r0
    int v3; // r1
    int v4; // r6
    int v5; // r1
    int v6; // r3
    int v7; // r2
    int *v8; // r0
    unsigned int v9; // r0
    int v10; // r0
    char v11; // zf
    int v12; // ST00_4
    int v13; // r5
    int result; // r0

    v1 = *(v0 + 76);
    v2 = getBattleArmPositionMaybe_8018810(*(v1 + 40), 33, *(v1 + 22), *(v1 + 23));
    v4 = v3 << 16;
    v5 = *(v1 + 52) + (v2 << 16);
    v6 = *(v1 + 60) + v4;
    v7 = *(v1 + 56) + 393216;
    v8 = (v0 + 52);
    *v8 = v5;
    v8[1] = v7;
    v8[2] = v6 + 393216;
    v9 = sub_8002F3E(*(v0 + 76));
    (loc_8002F02)(v9);
    v10 = sprite_getMosaicScalingParameters(*(v0 + 76));
    (sprite_setAlpha)(v10);
    object_setPanelsFromCoordinates(v0);
    object_isCurrentPanelValid();
    if ( v11 )
        *v0 &= 0xFDu;
    *v0 = *v0 & 0xFD | *v1 & 2;
    if ( !**(v0 + 96) || (v12 = v0, v13 = *(v0 + 76), result = object_getFlag(), v0 = v12, !(result & 0x10000)) )
    {
        **(v0 + 96) = 0;
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80e9bdc
int __fastcall sub_80E9BDC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r7
    int result; // r0
    int v7; // [sp+0h] [bp-8h]

    object_spawnType4(v4, 137, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 22) = *(v7 + 22);
        *(v4 + 76) = v7;
        *(v4 + 96) = v5;
        *v5 = v4;
        *v4 |= 0x14u;
    }
    return result;
}


// 0x80e9c00
int __fastcall sub_80E9C00(int result)
{
    *(result + 8) = 8;
    return result;
}


// 0x80e9c06
int sub_80E9C06()
{
    int v0; // r5
    char *v1; // r0

    v1 = sub_80182B4(*(*(v0 + 76) + 40));
    return (**(&off_80E9C24 + v1[1]))[v1[2]];
}


// 0x80e9c88
int sub_80E9C88()
{
    int v0; // r5

    return (*(&off_80E9C9C + *(v0 + 8)))();
}


// 0x80e9ca8
signed int sub_80E9CA8()
{
    int v0; // r5
    signed int result; // r0

    *(v0 + 20) = 0;
    *(v0 + 21) = 0;
    *(v0 + 32) = *(v0 + 4);
    result = 4;
    *(v0 + 8) = 4;
    return result;
}


// 0x80e9cba
int sub_80E9CBA()
{
    int v0; // r5
    int result; // r0
    char v2; // zf

    if ( battle_isBattleOver() )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        result = battle_isTimeStop();
        if ( v2 )
            result = sub_80E9CD6();
    }
    return result;
}


// 0x80e9cd6
int sub_80E9CD6()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // r0
    int result; // r0

    if ( !*(v0 + 10) )
    {
        *(v0 + 10) = 4;
        sub_80E9D2A();
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 32) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    else
    {
        v3 = *(v0 + 34);
        v2 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 34) = result;
        if ( ((result < 0) ^ v2) | (result == 0) )
        {
            result = 0;
            *(v0 + 10) = 0;
        }
    }
    return result;
}


// 0x80e9d0c
int __fastcall sub_80E9D0C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    char v8; // [sp+8h] [bp-Ch]
    int v9; // [sp+Ch] [bp-8h]

    v8 = a3;
    object_spawnType4(v4, 138, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 14) = v8;
        *(v4 + 76) = v9;
        *(v4 + 44) = v5;
        *(v4 + 96) = v6;
        *(v4 + 22) = *(v9 + 22);
    }
    return result;
}


// 0x80e9d2a
int __noreturn sub_80E9D2A()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r7
    int v7; // r4
    int v8; // r6
    unsigned int v12; // r0
    int v13; // r3
    int v14; // r4
    int v15; // r6
    int v16; // ST00_4
    int v18; // [sp-8h] [bp-38h]
    int v19; // [sp-4h] [bp-34h]
    int v20; // [sp+0h] [bp-30h]
    int v21; // [sp+4h] [bp-2Ch]
    int v22; // [sp+8h] [bp-28h]

    v1 = 8 * *(v0 + 22);
    v20 = *&byte_80E9DE0[v1];
    v21 = *&byte_80E9DE0[v1 + 4];
    v2 = *(v0 + 96);
    v18 = *(v2 + 18);
    v19 = *(v2 + 19);
    _ZF = object_checkPanelParameters(v18, v19, v20, v21) == 0;
    v4 = v18;
    v5 = v19;
    if ( !_ZF && (v18 != *(v0 + 20) || v19 != *(v0 + 21)) )
        goto LABEL_14;
    v6 = 0;
    v7 = 1;
    do
    {
        v8 = 1;
        do
        {
            if ( v7 != *(v0 + 20) || v8 != *(v0 + 21) )
            {
                if ( object_checkPanelParameters(v7, v8, v20, v21) )
                    *(&v22 + v6++) = v7 | 16 * v8;
            }
            ++v8;
        }
        while ( v8 <= 3 );
        ++v7;
    }
    while ( v7 <= 6 );
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v12 = *(&v22 + v6);
        v5 = v12 >> 4;
        v4 = v12 & 7;
LABEL_14:
        v13 = *(v0 + 7) << 24;
        v14 = *(v0 + 6) | v13;
        v15 = *(v0 + 44);
        v16 = v4;
        sub_80D54F0(v4, v5, *(v0 + 14), v13);
        return v16;
    }
    return 0;
}


// 0x80e9df0
int sub_80E9DF0()
{
    int v0; // r5

    return (*(&off_80E9E04 + *(v0 + 8)))();
}


// 0x80e9e10
int sub_80E9E10()
{
    int v0; // r5

    return (*(&off_80E9E24 + *(v0 + 9)))();
}


// 0x80e9e2c
int sub_80E9E2C()
{
    int v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int result; // r0
    int v7; // r5
    int v8; // r1
    int v9; // r2
    int v10; // [sp-4h] [bp-8h]

    if ( *(v0 + 11) )
    {
        v10 = v0;
        v7 = *(v0 + 76);
        object_updateSpriteTimestop();
        result = *(v10 + 32) - 1;
        *(v10 + 32) = result;
        if ( result == 21 )
        {
            result = PlaySoundEffect(276, v8, v9);
        }
        else if ( result <= 0 )
        {
            *(v10 + 9) = 4;
            result = 0;
            *(v10 + 10) = 0;
        }
    }
    else
    {
        *(v0 + 11) = 4;
        v1 = *(v0 + 96);
        v2 = *(v1 + 18);
        v3 = *(v1 + 19);
        if ( v2 != *(v0 + 4) || v3 != *(v0 + 5) )
        {
            result = 8;
            *(v0 + 8) = 8;
        }
        else
        {
            *(*(v0 + 76) + 16) = 15;
            object_updateSpriteTimestop();
            camera_initShakeEffect_80302a8(3, 30);
            PlaySoundEffect(426, v4, v5);
            result = 46;
            *(v0 + 32) = 46;
        }
    }
    return result;
}


// 0x80e9ea0
void sub_80E9EA0()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int v3; // ST00_4
    int v4; // r5

    if ( *(v0 + 11) )
    {
        v1 = *(v0 + 32);
        v2 = __OFSUB__(v1--, 1);
        *(v0 + 32) = v1;
        if ( (v1 < 0) ^ v2 )
        {
            sub_80E9F64();
            *(v0 + 8) = 8;
        }
        else
        {
            v3 = v0;
            v4 = *(v0 + 76);
            object_updateSpriteTimestop();
            sub_80E9F1C();
            if ( !(*(v3 + 32) & 7) )
            {
                sub_80E9F9C();
                sub_80E9FBC();
            }
        }
    }
    else
    {
        *(v0 + 11) = 4;
        *(v0 + 34) = 0;
        *(v0 + 100) = 0;
        *(*(v0 + 76) + 16) = 16;
        object_updateSpriteTimestop();
        *(v0 + 32) = *(v0 + 104);
    }
}


// 0x80e9efa
int __fastcall sub_80E9EFA(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r7
    int result; // r0
    int v8; // [sp+0h] [bp-14h]
    int v9; // [sp+4h] [bp-10h]
    char v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(v4, 139, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 96) = v8;
        *(v4 + 104) = v9;
        *(v4 + 14) = v10;
        *(v4 + 76) = v11;
        *(v4 + 22) = *(v11 + 22);
        *(v4 + 44) = v5;
        *(v4 + 48) = v6;
    }
    return result;
}


// 0x80e9f1c
int sub_80E9F1C()
{
    int v0; // r5
    __int16 v1; // r0
    int result; // r0

    v1 = *(*(*(v0 + 96) + 88) + 36);
    if ( v1 & 0x40 || v1 & 0x80 || v1 & 0x20 || v1 & 0x10 )
        ++*(v0 + 100);
    result = *(v0 + 34) + 1;
    *(v0 + 34) = result;
    if ( result >= 30 )
    {
        if ( *(v0 + 100) >= 3 )
        {
            result = *(v0 + 32);
            if ( result <= 20 )
                return result;
            *(v0 + 32) = result - 20;
        }
        result = 0;
        *(v0 + 34) = 0;
        *(v0 + 100) = 0;
    }
    return result;
}


// 0x80e9f64
_BYTE *sub_80E9F64()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6

    v1 = *&byte_80E9F8C[4 * *(v0 + 6)];
    v2 = *(v0 + 46) << 16;
    return sub_80C53A6(*(v0 + 4), *(v0 + 5), *(v0 + 14), 0);
}


// 0x80e9f9c
_BYTE *sub_80E9F9C()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return sub_80C53A6(*(v0 + 4), *(v0 + 5), *(v0 + 14), 0);
}


// 0x80e9fbc
void sub_80E9FBC()
{
    int v0; // r5
    int v1; // r1
    int v2; // r6
    int v3; // r1
    int v4; // r7
    char v5; // r0
    char v6; // r2
    int v7; // r0
    char v8; // r0
    char v9; // r2
    int v10; // r0
    int v11; // [sp-8h] [bp-18h]

    v1 = *(v0 + 5);
    v2 = object_getCoordinatesForPanels(*(v0 + 4));
    v4 = v3;
    GetPositiveSignedRNG2();
    v6 = v5;
    v7 = (v5 & 0x1F) << 16;
    if ( !(v6 & 1) )
        v7 = -v7;
    v11 = v2 + v7;
    GetPositiveSignedRNG2();
    v9 = v8;
    v10 = (v8 & 0xF) << 16;
    if ( !(v9 & 1) )
        v10 = -v10;
    SpawnT4BattleObjectWithId0(v0, v10, v11, v4 + 0x100000, v10 + 2359296);
}


// 0x80ea010
int sub_80EA010()
{
    int v0; // r5

    return (*(&off_80EA020 + *(v0 + 8)))();
}


// 0x80ea030
int sub_80EA030()
{
    int v0; // r5

    *(v0 + 8) = 4;
    return sub_80EA03C();
}


// 0x80ea03c
int sub_80EA03C()
{
    int v0; // r5

    return (*(&off_80EA050 + *(v0 + 10)))();
}


// 0x80ea05c
int sub_80EA05C()
{
    int v0; // r5
    char v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 4) )
            v1 = 4 - *(v0 + 22);
        else
            v1 = object_getFrontDirection(v0) + *(v0 + 18);
        v2 = *(v0 + 4) << 8;
        v3 = *(v0 + 44);
        sub_80DE960(v1, 4, *(v0 + 14), 0);
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        result = 4;
        *(v0 + 10) = 4;
    }
    return result;
}


// 0x80ea0a0
int sub_80EA0A0()
{
    int v0; // r5
    char v1; // r0
    int v2; // r4
    int v3; // r6
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        if ( *(v0 + 4) )
            v1 = 5 - 3 * *(v0 + 22);
        else
            v1 = 2 * object_getFrontDirection(v0) + *(v0 + 18);
        v2 = (*(v0 + 4) << 8) + 1;
        v3 = *(v0 + 44);
        sub_80DE960(v1, 0, *(v0 + 14), 0);
        *(v0 + 32) = 20;
        *(v0 + 11) = 4;
    }
    v4 = *(v0 + 32);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        result = 8;
        *(v0 + 10) = 8;
    }
    return result;
}


// 0x80ea0ec
int sub_80EA0EC()
{
    int v0; // r5
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 11) )
    {
        *(v0 + 32) = 10;
        *(v0 + 11) = 4;
    }
    v1 = *(v0 + 32);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 32) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *(v0 + 8) = 8;
    }
    return result;
}


// 0x80ea10a
int sub_80EA10A()
{
    int v0; // r5
    char v1; // t1

    v1 = *(v0 + 4);
    **(v0 + 100) = 0;
    return object_freeMemory();
}


// 0x80ea11c
int __usercall sub_80EA11C@<R0>(Battle *p1@<R5>, void *p2@<R7>, char a1@<R0>, int a2@<R1>, int a3@<R2>, int a4@<R3>)
{
    int v6; // r6
    int result; // r0
    char v8; // [sp+0h] [bp-14h]
    u8 v9; // [sp+4h] [bp-10h]
    u8 v10; // [sp+8h] [bp-Ch]
    int v11; // [sp+Ch] [bp-8h]

    v8 = a1;
    v9 = a2;
    v10 = a3;
    object_spawnType4(p1, 140, a2, a3, a4);
    result = p1;
    if ( p1 )
    {
        p1->panelX = v8;
        p1->pad_0C[0] = v8;
        p1->panelY = v9;
        p1->unk_0D = v9;
        p1->Element = v10;
        *&p1->Alliance = *(v11 + 22);
        *&p1->damage = v6;
        p1->parent = v11;
        if ( LOBYTE(p1->objParams) )
        {
            *&p1->extraVars[4] = p2;
            *p2 = 1;
        }
    }
    return result;
}


// 0x80ea14c
void sub_80EA14C()
{
    int v0; // r5

    (*(&off_80EA164 + *(v0 + 8)))();
    object_updateSpritePaused();
}


// 0x80ea170
void __noreturn sub_80EA170()
{
    int v0; // r4
    int v1; // r5
    int v2; // r0

    sprite_load(v1, 128, 8, 0);
    sprite_loadAnimationData(v1);
    sprite_noShadow(v1);
    *v1 |= 2u;
    *(v1 + 16) = 38;
    *(v1 + 17) = 38;
    sprite_setAnimation(v1, 0x26u);
    sprite_loadAnimationData(v1);
    sprite_update(v1);
    sprite_setPallete(0);
    v2 = object_getFlip(v1);
    sprite_setFlip(v1, v2);
    sprite_setUnk0x2c(*(v0 + 4));
    *(v1 + 8) = 4;
    sub_80EA1BC();
}


// 0x80ea1bc
int sub_80EA1BC()
{
    int v0; // r5
    int v1; // r4
    int v2; // r3
    int v3; // r2
    _DWORD *v4; // r0
    int v5; // r3
    int result; // r0

    *v0 |= 2u;
    if ( battle_getFlags() & 1 )
        *v0 &= 0xFBu;
    v1 = *(v0 + 76);
    v2 = *(v1 + 60);
    v3 = *(v1 + 56) + 0x10000;
    v4 = (v0 + 52);
    *v4 = *(v1 + 52);
    v4[1] = v3;
    v4[2] = v2;
    --*(v0 + 58);
    --*(v0 + 62);
    *(v0 + 23) = *(v1 + 23);
    sub_800F2C6();
    if ( **(v0 + 100) && (v5 = *(v1 + 84), *(v5 + 6)) )
    {
        result = *(v5 + 22);
        if ( !*(v5 + 22) )
        {
            result = *v0 & 0xFD;
            *v0 = result;
        }
    }
    else
    {
        **(v0 + 100) = 0;
        result = object_freeMemory();
    }
    return result;
}


// 0x80ea258
int sub_80EA258()
{
    int v0; // r5

    return (*(sub_80EA26C + *(v0 + 8)))();
}


// 0x80ea26c
signed int __fastcall sub_80EA26C(int a1, int a2, int a3, int a4)
{
    _DWORD *v4; // r5
    signed int result; // r0

    v4 = *(a4 + 72);
    v4[24] = 0;
    v4[25] = 0;
    v4[26] = 0;
    v4[27] = 0;
    result = 4;
    v4[2] = 4;
    return result;
}


// 0x80ea288
int sub_80EA288()
{
    int v0; // r5

    return (*(&off_80EA29C + *(v0 + 9)))();
}


// 0x80ea2a4
int sub_80EA2A4()
{
    int v0; // r5
    int v1; // r10
    Battle **v2; // r4
    Battle **v3; // r7
    signed int v4; // r6
    Battle *v5; // r5
    _BYTE *v6; // r0
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // [sp-4h] [bp-14h]

    if ( *(v0 + 11) )
    {
        v8 = *(v0 + 32);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v0 + 32) = result;
        if ( (result < 0) ^ v9 )
        {
            result = 4;
            *(v0 + 8) = 4;
        }
    }
    else
    {
        v2 = (v0 + 96);
        v10 = v0;
        v3 = (*(v1 + oToolkit_S2034880_Ptr) + 16 * (*(v0 + 22) ^ 1) + 128);
        v4 = 0;
        do
        {
            v5 = *v3;
            if ( *v3 )
            {
                if ( object_getFlag() & 0x202 )
                {
                    SpawnT4BattleObjectWithId0(v5, &v5->vx, v5->x, v5->y, v5->z + 1310720);
                    *v6 |= 4u;
                    *v2 = v5;
                    ++v2;
                }
            }
            ++v3;
            ++v4;
        }
        while ( v4 < 4 );
        *(v10 + 32) = 10;
        *(v10 + 9) = 4;
        result = 4;
        *(v10 + 10) = 4;
    }
    return result;
}


// 0x80ea31e
signed int sub_80EA31E()
{
    int v0; // r5
    _DWORD *i; // r4
    signed int result; // r0
    int v3; // [sp+0h] [bp-14h]

    for ( i = (v0 + 96); *i; ++i )
    {
        sub_801A67E();
        object_clearFlag(514);
    }
    result = 8;
    *(v3 + 8) = 8;
    return result;
}


// 0x80ea364
int sub_80EA364()
{
    int v0; // r5

    return (*(&off_80EA378 + *(v0 + 8)))();
}


// 0x80ea384
void sub_80EA384()
{
    int v0; // r5

    *v0 &= 0xFDu;
    *(v0 + 96) = 31;
    *(v0 + 100) = 4;
    *(v0 + 8) = 4;
    sub_80EA3A4();
}


// 0x80ea3a4
void sub_80EA3A4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    char v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    _BYTE *v7; // r0
    int v8; // r1

    v1 = *(v0 + 96) - 1;
    *(v0 + 96) = v1;
    if ( v1 <= 0 )
    {
        v2 = *(v0 + 100) - 1;
        *(v0 + 100) = v2;
        if ( v2 < 0 )
        {
            *(v0 + 8) = 8;
        }
        else
        {
            *(v0 + 96) = 8;
            v3 = object_getFrontDirection(v0);
            v4 = 8 * *(v0 + 100);
            *&byte_80EA418[v4 + 4];
            *(v0 + 19);
            v5 = object_getCoordinatesForPanels(v3 * byte_80EA418[v4] + *(v0 + 18));
            SpawnT4BattleObjectWithId0(v0, v5, v5, v6, 0);
            if ( v7 )
            {
                v8 = *v7 | 4;
                *v7 = v8;
                PlaySoundEffect(302, v8, 4);
            }
        }
    }
}


// 0x80ea438
int __fastcall sub_80EA438(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    char v6; // r2
    int v7; // [sp+0h] [bp-18h]

    object_spawnType4(v4, 144, a2, a3, a4);
    result = v4;
    if ( v4 )
    {
        *(v4 + 76) = v7;
        *(v4 + 22) = *(v7 + 22);
        v6 = *(v7 + 19);
        *(v4 + 18) = *(v7 + 18);
        *(v4 + 19) = v6;
        *v4 |= 4u;
    }
    return result;
}


// 0x80ea460
int __usercall playerObject_main_80EA460@<R0>(Battle *obj@<R5>)
{
    int result; // r0

    (*(&off_80EA478 + obj->currState))();
    sub_801BCF4();
    return result;
}


// 0x80ea484
void __usercall playerObject_update_80EA484(Battle *obj@<R5>)
{
    int v1; // r4
    int v2; // r0
    int v3; // r0
    int v4; // r1
    char v5; // zf

    sub_8012E74();
    sub_8013DA0();
    sub_801AC6C();
    v1 = obj->ai->AI_index;
    ai_eventuallyRunsAIAttack_801AF44(PlayerObjectAIAttackJumptables[v1]);
    (playerObjectUpdateJumptable_80EA93C[v1])();
    sub_80107D4();
    v2 = sub_80139C4();
    sub_80100EC(v2);
    v3 = battle_isPaused();
    if ( v5 )
        object_presentCollisionData(v3, v4);
}


// 0x80ea734
void __usercall playerAI_update_80EA734(Battle *obj@<R5>)
{
    int v1; // r7
    int v2; // r0
    char (*v3)[8]; // r0
    int v4; // r0

    if ( battle_isBattleOver() )
    {
        sub_8012EA8(obj);
        sub_801A264();
        v4 = sub_801DACC(66);
        if ( sub_802DD2A(v4) )
        {
            *(v1 + 3) = 1;
            object_setAttack0();
        }
        else
        {
            obj->currAnimation = 0;
        }
    }
    else
    {
        v2 = sub_800FFFE();
        if ( v2 & 0x8600 )
        {
            sub_801056A(v2, 0, 0);
        }
        else if ( sub_800FFFE() & 0x80000 )
        {
            object_setAttack0();
        }
        else
        {
            v3 = enemy_getStruct1(obj->nameID);
            (*(&JumpTable80EA7B0 + (*v3)[4]))();
        }
    }
}


// 0x80ea7a0
void nullsub_103()
{
    ;
}


// 0x80eac5c
void nullsub_105()
{
    ;
}


// 0x80ead9c
int sub_80EAD9C()
{
    int v0; // r4
    unsigned __int8 *v1; // r7
    int result; // r0

    (*(&off_80EADD0 + v1[30]))();
    if ( v1[35] )
    {
        result = v1[35] - 1;
        v1[35] = result;
    }
    else
    {
        result = *(v0 + 36);
        if ( result & 1 )
        {
            result = 1;
            v1[34] = 1;
        }
    }
    return result;
}


// 0x80eaddc
signed int __fastcall __noreturn sub_80EADDC(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r6
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1
    signed int result; // r0

    v5 = a4;
    object_clearFlag(0x400000);
    v6 = v4->futurePanelX;
    v4->panelX = v6;
    v7 = v4->futurePanelY;
    v4->panelY = v7;
    object_removePanelReserve(v6, v7);
    object_setCoordinatesFromPanels(v4);
    object_updateCollisionPanels(v4);
    object_clearFlag(4160);
    object_clearFlag2(16);
    v8 = v4->panelX;
    v9 = v4->panelY;
    v4->futurePanelX = v8;
    v4->futurePanelY = v9;
    object_reservePanel(v8, v9);
    object_setFlag1(64);
    *(v5 + 4) = 0;
    *(v5 + 5) = 12;
    result = 4;
    *v5 = 4;
    return result;
}


// 0x80eae28
int __fastcall sub_80EAE28(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // r6
    int result; // r0
    char *v8; // r0
    int v9; // r0
    signed int v10; // r0
    int v11; // r4
    int v12; // r0
    signed int v13; // r1
    int v14; // r0
    u8 v15; // r1
    u8 v16; // r3
    int v17; // r0
    int v18; // r0
    int v19; // r1
    int v20; // ST00_4
    int v21; // ST08_4
    int v22; // ST04_4

    v6 = a4;
    if ( !*(a4 + 1) )
    {
        *(a4 + 1) = 1;
        sub_80E1654();
        if ( sub_80F02A2() )
            object_setAnimation(v4);
        *(v6 + 8) = 3;
    }
    result = *(v6 + 8) - 1;
    *(v6 + 8) = result;
    if ( !result )
    {
        v8 = sub_8013CC4(v4->panelX, v4->panelY);
        v9 = sub_8013774(v8, 44);
        if ( v9 != 23 && v9 != 24 && object_getFlag() & 0xA000 )
        {
            v10 = 0;
        }
        else
        {
            v10 = sub_80EAF1A();
            if ( !v10 )
            {
                v10 = getSlashBeastWaveAttackLockonTypeMaybe_80EAF26();
                if ( !v10 )
                    v10 = *(getChip8021DA8(*(v5 + 20)) + 23);
            }
        }
        v11 = v10;
        v12 = sub_80E164A();
        v14 = battle_beastJumpLockOn_8026554(v12, v13, v11);
        if ( !v14 )
        {
            v14 = v4->panelX;
            v15 = v4->panelY;
        }
        v16 = v4->panelY;
        *(v6 + 2) = v4->panelX;
        *(v6 + 3) = v16;
        v4->panelX = v14;
        v4->panelY = v15;
        object_setCoordinatesFromPanels(v4);
        object_updateCollisionPanels(v4);
        if ( *(v5 + 44) )
        {
            v17 = sub_802D26A();
            if ( v17 == 49 || v17 == 35 || v17 == 51 )
                sub_800F2FC(*(v5 + 44));
        }
        v18 = *(v6 + 2);
        if ( v18 != v4->panelX || *(v6 + 3) != v4->panelY )
        {
            v20 = object_getCoordinatesForPanels(v18);
            v22 = v19;
            v21 = v4->z;
            sub_80EAFC2(v20, v19, v21, 8);
            sub_80EAFC2((v20 + v4->x) >> 1, (v22 + v4->y) >> 1, (v21 + v4->z) >> 1, 0);
        }
        object_setAnimation(v4);
        result = 8;
        *v6 = 8;
    }
    return result;
}


// 0x80eaf1a
signed int sub_80EAF1A()
{
    int v0; // r5
    signed int result; // r0

    result = 0;
    if ( *(v0 + 9) == 82 )
        result = 12;
    return result;
}


// 0x80eaf26
int getSlashBeastWaveAttackLockonTypeMaybe_80EAF26()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    result = 0;
    if ( *(v0 + 9) == 65 )
        result = byte_80EB028[*(v1 + 3)];
    return result;
}


// 0x80eaf36
void sub_80EAF36()
{
    Battle *v0; // r5
    int v1; // r6
    int v2; // r7
    signed int v3; // r1
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v3 = v0->currAction;
    if ( v3 < 16 )
        goto LABEL_11;
    (*(&AIAttackJumptable + v3 - 16))();
    if ( v0->currAction != 8 )
        return;
    if ( *(v2 + 34) && sub_800FC30() != 0xFFFF )
    {
        sub_800FC7C();
        v4 = v2 + 30;
        *v4 = 4;
        *(v4 + 4) = 0;
        *(v1 + 5) = 12;
        sub_80E1662();
    }
    else
    {
LABEL_11:
        sub_801011A();
        v5 = v0->futurePanelX;
        v0->panelX = v5;
        v6 = v0->futurePanelY;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        sub_802D234();
        if ( sub_80F02A2() )
            object_exitAttackState(v0);
        else
            (loc_801171C)();
    }
}


// 0x80eafc2
int __fastcall sub_80EAFC2(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST0C_4
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // ST08_4
    int v9; // r4
    int v10; // r1
    int result; // r0
    int v12; // r4
    int v13; // r0

    v5 = a4;
    v6 = a1;
    v7 = a2;
    v8 = a3;
    v9 = object_getFlip(v4) << 8;
    v10 = v4->nameID - 255;
    result = sub_80E33FA(v5, v6, v7, v8);
    if ( result )
    {
        v12 = result;
        v13 = sub_80136CC(v4->Alliance, 44);
        if ( v13 < 11 || v13 > 24 )
            result = sub_80E341E(v12, 2);
        else
            result = sub_80E341E(v12, 1);
    }
    return result;
}


// 0x80eb04c
signed int sub_80EB04C()
{
    unsigned __int8 *v0; // r7
    signed int result; // r0

    (*(&off_80EB074 + *v0))();
    result = *(v0 + 12);
    if ( !result )
    {
        result = playerObject_checkDirectionButtons_800FA54(0);
        if ( result != v0[12] )
        {
            result = 1;
            *(v0 + 12) = 1;
        }
    }
    return result;
}


// 0x80eb088
void sub_80EB088()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0

    v2 = object_clearFlag(0x400000);
    object_canMove(v2);
    if ( v3 )
        goto LABEL_14;
    *(v1 + 48) = 0;
    v4 = *(v1 + 12);
    v5 = *(v1 + 3);
    if ( *(v1 + 3) )
    {
        if ( v5 == 1 )
        {
            v6 = sub_800F998(v0->panelX, v0->panelY, *(v1 + 12));
        }
        else
        {
            if ( v5 != 2 )
            {
                if ( v5 == 3 )
                    sub_800FA20(v4);
                goto LABEL_14;
            }
            v6 = *(v1 + 22);
            v7 = *(v1 + 23);
        }
    }
    else
    {
        v6 = sub_800F964(v4);
    }
    if ( !v6 )
    {
LABEL_14:
        if ( sub_80F02A2() )
            object_exitAttackState(v0);
        else
            (loc_801171C)();
        return;
    }
    *(v1 + 22) = v6;
    v0->futurePanelX = v6;
    *(v1 + 23) = v7;
    v0->futurePanelY = v7;
    object_reservePanel(v6, v7);
    v8 = sub_801BE04(*(v1 + 22), *(v1 + 23), v0->panelX, v0->panelY);
    SetAIDataUnk0x48Flag(v8);
    object_setFlag1(64);
    sub_800AB46(v0->Alliance, 4, 1);
    if ( sub_80F02A2() )
        object_setAnimation(v0);
    *(v1 + 16) = 3;
    *v1 = 4;
}


// 0x80eb128
int sub_80EB128()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r0

    ClearAIDataUnk0x48Flag(15);
    result = *(v1 + 16) - 1;
    *(v1 + 16) = result;
    if ( !result )
    {
        sub_8013CC4(v0->panelX, v0->panelY);
        v3 = v0->futurePanelX;
        v0->panelX = v3;
        v4 = v0->futurePanelY;
        v0->panelY = v4;
        object_removePanelReserve(v3, v4);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        if ( *(v1 + 44) )
        {
            v5 = sub_802D26A();
            if ( v5 == 49 || v5 == 35 || v5 == 51 )
                sub_800F2FC(*(v1 + 44));
        }
        if ( sub_80F02A2() )
            object_setAnimation(v0);
        *(v1 + 16) = 5;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80eb194
int sub_80EB194()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int result; // r0

    result = v1[8] - 1;
    v1[8] = result;
    if ( !result )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v1[8] = v1[12];
        if ( sub_80F02A2() )
            object_setAnimation(v0);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80eb1c4
void sub_80EB1C4()
{
    int v0; // r4
    Battle *v1; // r5
    int v2; // r7
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    char v6; // r0

    v3 = *(v2 + 16);
    v4 = __OFSUB__(v3--, 1);
    *(v2 + 16) = v3;
    if ( ((v3 < 0) ^ v4) | (v3 == 0) )
    {
        v5 = *(v2 + 3);
        if ( v5 != 1 && sub_8013FAE(v5) )
            v6 = *(v2 + 12);
        else
            v6 = 0;
        *(v0 + 26) = v6;
        if ( sub_80F02A2() )
            object_exitAttackState(v1);
        else
            (loc_801171C)();
    }
}


// 0x80eb1f8
int sub_80EB1F8()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        object_setCollisionRegion(1);
        v5 = v0->futurePanelX;
        v0->panelX = v5;
        v6 = v0->futurePanelY;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        if ( sub_80F02A2() )
            object_setAnimation(v0);
        v1[8] = 5;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80eb234
int sub_80EB234()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EB248 + *v0))();
}


// 0x80eb254
void sub_80EB254()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6--, 1);
        *(v1 + 16) = v6;
        if ( ((v6 < 0) ^ v7) | (v6 == 0) )
            *v1 = 4;
    }
    else
    {
        v2 = object_clearFlag(0x400000);
        object_canMove(v2);
        if ( v3 || (v4 = sub_80EB402(*(v1 + 12), *(v1 + 3))) == 0 )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 22) = v4;
            v0->futurePanelX = v4;
            *(v1 + 23) = v5;
            v0->futurePanelY = v5;
            object_reservePanel(v4, v5);
            object_setAnimation(v0);
            object_setFlag1(64);
            *(v1 + 26) = 1;
            v0->vx = 74898 * (v0->futurePanelX - v0->panelX);
            v0->vy = 44938 * (v0->futurePanelY - v0->panelY);
            *(v1 + 22) = v0->panelX;
            *(v1 + 23) = v0->panelY;
            *(v1 + 16) = 6;
            *(v1 + 1) = 4;
        }
    }
}


// 0x80eb2dc
int sub_80EB2DC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    u32 v3; // r1
    int result; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r2
    int v9; // r0
    unsigned __int8 v10; // vf

    v2 = *(v1 + 1);
    if ( v2 == 1 )
        goto LABEL_4;
    if ( v2 != 2 )
    {
        v0->vz = 557056;
        *(v1 + 16) = 35;
        *(v1 + 1) = 1;
LABEL_4:
        v3 = v0->vz;
        v0->z += v3;
        v0->vz = v3 - 0x8000;
        v0->x += v0->vx;
        v0->y += v0->vy;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( v0->z || *(v1 + 22) != v0->panelX || *(v1 + 23) != v0->panelY )
        {
            object_clearCollisionRegion();
            object_setFlag1(32);
        }
        if ( *(v1 + 16) == 5 )
            object_spawnCollisionRegion(v0->futurePanelX, v0->futurePanelY, 0, 0);
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( !result )
        {
            if ( *(v1 + 3) )
                sub_8013CC4(v0->panelX, v0->panelY);
            v5 = v0->futurePanelX;
            v0->panelX = v5;
            v6 = v0->futurePanelY;
            v0->panelY = v6;
            object_removePanelReserve(v5, v6);
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            v0->z = 0;
            object_setCollisionRegion(1);
            object_clearFlag(32);
            camera_initShakeEffect_80302a8(2, 15);
            PlaySoundEffect(192, v7, v8);
            object_setAnimation(v0);
            *(v1 + 16) = 0;
            result = 2;
            *(v1 + 1) = 2;
        }
        return result;
    }
    v9 = *(v1 + 16);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v10) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80eb3dc
void sub_80EB3DC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        object_setAnimation(v0);
        *(v1 + 16) = *(v1 + 24);
        *(v1 + 1) = 4;
    }
}


// 0x80eb402
int __fastcall sub_80EB402(int a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int result; // r0
    int v5; // r1

    if ( !a2 )
        return sub_800F964(a1);
    if ( a2 == 1 )
        return sub_800F998(*(v2 + 18), *(v2 + 19), a1);
    if ( a2 == 2 )
    {
        result = *(v3 + 22);
        v5 = *(v3 + 23);
    }
    else
    {
        if ( a2 == 3 )
            sub_800FA20(a1);
        result = 0;
    }
    return result;
}


// 0x80eb436
int sub_80EB436()
{
    unsigned __int8 *v0; // r7

    return (*(jt_80EB448 + *v0))();
}


// 0x80eb450
int __fastcall sub_80EB450(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int v7; // ST00_4
    int v8; // r6
    int v9; // r7
    char v10; // r0
    int v11; // r1
    int v12; // r0
    int v13; // r1
    int v14; // r0
    int result; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        sub_80EB562();
        object_setFlag1(0x400000);
        *(v4 + 1) = 4;
        *(v4 + 16) = 0;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(106, a2, a3);
        if ( *(v4 + 3) != 2 )
            sub_800FAAC(*(v4 + 12), *(v4 + 8), v6, 1572864);
        PlaySoundEffect(255, v5, v6);
        v7 = v4;
        v8 = *(v4 + 8);
        v9 = *(v4 + 48);
        v10 = object_getFrontDirection(v3);
        v11 = v3->panelY;
        v12 = object_getCoordinatesForPanels(v10 + v3->panelX);
        v14 = sub_80C6248(v12, v12, v13, 786432);
        sub_80B8E30(v14);
        v4 = v7;
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80eb502
void sub_80EB502()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    char v5; // zf
    int v6; // r0
    int v7; // r0
    char v8; // r6
    int v9; // r0
    int v10; // r0
    __int16 v11; // r4
    char v12; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 18);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v1 + 16) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
    else
    {
        v6 = object_canMove(v4);
        if ( !v5 )
        {
            v7 = playerObject_checkDirectionButtons_800FA54(v6);
            if ( v7 )
            {
                v8 = v7;
                if ( sub_800F964(v7) )
                {
                    v0->parent = 0;
                    v0->ai->unk_68 = 0;
                    object_exitAttackState(v0);
                    v10 = sub_8010332(v9);
                    v11 = v10;
                    v12 = sub_80103A8(v10);
                    sub_80116AE(v8, v11, v12);
                }
            }
        }
    }
}


// 0x80eb562
int sub_80EB562()
{
    int v0; // r5

    return sub_80EB572(*(v0 + 88) + 104, 0);
}


// 0x80eb572
int __fastcall sub_80EB572(int a1, int a2)
{
    int v2; // r5
    int v3; // r9
    int v4; // r7
    int v5; // r0
    int result; // r0
    int v7; // r0
    int v8; // r0

    v3 = a2;
    v4 = *(v2 + 88);
    if ( *v4 )
    {
        if ( *v4 == 1 )
        {
            v7 = *(v4 + 1) - 1;
        }
        else
        {
            if ( *(v4 + 1) )
            {
                result = 0;
                *(v4 + 104) = 0;
                return result;
            }
            v5 = sub_8013774(*(v4 + 1), 44);
            if ( v5 )
            {
                if ( v5 == 11 || v5 == 12 )
                    sub_8015B54(*(v2 + 22)) != 2;
            }
            else
            {
                v8 = sub_801032C();
                if ( !(v8 & byte_200) )
                    sub_8013774(v8, 16);
            }
        }
    }
    return sub_80B8E30(v3 << 16);
}


// 0x80eb628
int sub_80EB628()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EB63C + *v0))();
}


// 0x80eb644
int sub_80EB644()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r8
    int v3; // r0
    int v4; // r1
    int v5; // r4
    int v6; // r1
    int v7; // r2
    void (*v8)(void); // r8
    int v9; // r1
    u32 v10; // r2
    int v11; // r3
    int v12; // r4
    int v13; // r6
    int v14; // r0
    int v15; // r0
    int v17; // [sp-4h] [bp-14h]

    v17 = v2;
    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        v3 = 2 * *(v1 + 3);
        v4 = 3;
        if ( v3 != 30 )
        {
            v4 = 0;
            if ( v3 == 28 )
                v4 = 3 * *(v1 + 12);
        }
        v5 = *&byte_80EB738[v3] | (v4 << 24);
        sub_80B8E30(v3);
        PlaySoundEffect(178, v6, v7);
        object_setFlag1(0x400000);
        *(v1 + 16) = 0;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 9 )
    {
        v8 = *(&off_80EB6F8 + *(v1 + 3));
        v9 = (object_getFrontDirection(v0) << 18) + v0->x;
        v10 = v0->y;
        v11 = v0->z + 3145728;
        v12 = *(v1 + 12);
        v13 = *(v1 + 8);
        v14 = *(v1 + 6);
        v8();
        v0->parent = 0;
        v0->ai->unk_68 = 0;
    }
    v15 = *(v1 + 16) + 1;
    *(v1 + 16) = v15;
    if ( v15 >= 21 )
        *v1 = 4;
    return v17;
}


// 0x80eb758
void sub_80EB758()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80eb776
int sub_80EB776()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EB788 + *v0))();
}


// 0x80eb79c
signed int sub_80EB79C()
{
    unsigned __int8 *v0; // r5
    int v1; // r7
    signed int result; // r0
    signed int v3; // r0
    int v4; // r0
    int v5; // r1

    result = 4;
    *v1 = 4;
    if ( *(v1 + 12) )
    {
        if ( *(v1 + 27) || (v3 = sub_8013774(*(v1 + 27), 44), v3 >= 11) && v3 <= 24 )
        {
LABEL_7:
            *(v1 + 52) = 0;
            sub_8015B00();
        }
        result = sub_800E5FC(v3);
        if ( result )
        {
            object_setFlag1(64);
            v4 = v0[18];
            v0[20] = v4;
            v5 = v0[19];
            v0[21] = v5;
            object_reservePanel(v4, v5);
            goto LABEL_7;
        }
    }
    return result;
}


// 0x80eb862
int sub_80EB862()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r8
    int v3; // r2
    int v4; // r0
    int v5; // r1
    signed int v6; // r4
    int v7; // r4
    int v8; // r0
    int v9; // r1
    int v10; // r1
    int v11; // r3
    int v12; // r4
    int v13; // r4
    int v14; // r0
    int v15; // r8
    char v16; // r0
    int v17; // r4
    int v18; // ST0C_4
    char v19; // r0
    char v20; // ST08_1
    int v21; // r0
    int v22; // r3
    int v23; // r4
    int v24; // r0
    int v25; // r1
    int v26; // r0
    unsigned __int8 v27; // vf
    int v28; // r0
    signed __int16 v30; // r0
    char v31; // [sp-18h] [bp-28h]
    int v32; // [sp-14h] [bp-24h]
    int v33; // [sp-4h] [bp-14h]

    v33 = v2;
    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        sub_8011450(v0);
        object_setDefaultCounterTime();
        v4 = 176;
        v5 = *(v1 + 3);
        if ( v5 == 5 || v5 == 11 || v5 == 6 )
            v4 = 206;
        PlaySoundEffect(v4, v5, v3);
        v6 = sub_80EBB78() << 16;
        v7 = (v6 + sub_80EBAE8()) << 8;
        v8 = sub_80EBB34();
        sub_80B8E30(v8);
        object_setFlag1(0x400000);
        *(v1 + 16) = 21;
        object_getFrontDirection(v0);
        v9 = v0->panelX;
        v10 = v0->panelY;
        v11 = *&byte_80EBA18[4 * *(v1 + 3)];
        nullsub_12();
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 16 && *(v1 + 12) )
    {
        object_getFlip(v0);
        sub_800F2AA(5);
        sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
        v12 = object_getFlip(v0) << 8;
        v13 = (v12 + sub_80EBAE8()) << 8;
        v14 = sub_80EBB34();
        sub_80B8E62(v14);
        sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
    }
    if ( *(v1 + 16) == 12 )
    {
        v15 = *&byte_80EBA18[4 * *(v1 + 3) + 64];
        v16 = object_getFrontDirection(v0);
        v17 = *&byte_80EBA18[4 * *(v1 + 3)];
        v31 = v16 + v0->panelX;
        v32 = v0->panelY;
        v18 = *(v1 + 8) + *(v1 + 6);
        object_spawnCollisionRegion(v16 + v0->panelX, v32, *(v1 + 2), 0);
        v19 = v31;
        if ( *(v1 + 3) == 10 )
        {
            object_spawnCollisionRegion(v31, v32, *(v1 + 2), 0);
            v19 = v31;
        }
        v20 = v19;
        v21 = object_getFlip(v0);
        v23 = (v21 << 8) + byte_80EBAD8[v22];
        v24 = object_getCoordinatesForPanels(v20);
        SpawnT4BattleObjectWithId0(v0, v24, v24, v25, 0x100000);
    }
    v26 = *(v1 + 16);
    v27 = __OFSUB__(v26--, 1);
    *(v1 + 16) = v26;
    if ( (v26 < 0) ^ v27 )
    {
        v28 = *(v1 + 18);
        v27 = __OFSUB__(v28--, 1);
        *(v1 + 18) = v28;
        if ( !(((v28 < 0) ^ v27) | (v28 == 0)) )
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            *(v1 + 1) = 0;
            return v33;
        }
        v30 = 16;
        if ( *(v1 + 12) )
            v30 = 12;
        *v1 = v30;
    }
    return v33;
}


// 0x80ebae8
signed int sub_80EBAE8()
{
    int v0; // r5
    signed int v1; // r7
    unsigned __int8 *v2; // r4
    int v3; // r0
    signed int v4; // r1
    int v5; // r0

    v1 = 0;
    v2 = *(v0 + 88);
    v3 = *v2;
    v4 = v2[1];
    if ( *v2 )
    {
        if ( v3 == 1 )
        {
            if ( v4 < 13 )
                v1 = v2[1];
        }
        else if ( v3 == 2 )
        {
            if ( v2[1] )
            {
                if ( v4 == 19 )
                    v4 = 14;
                v1 = v4;
            }
            else
            {
                v5 = sub_8013774(2, 44);
                v1 = 0;
                if ( v5 >= 11 )
                {
                    v1 = 12;
                    if ( v5 == 12 || v5 != 23 && v5 > 17 )
                        v1 = 13;
                }
            }
        }
    }
    return v1;
}


// 0x80ebb34
int sub_80EBB34()
{
    int v0; // r5
    int v1; // r7
    unsigned __int8 *v2; // r4
    int v3; // r0
    int v4; // r1

    v2 = *(v0 + 88);
    v3 = *v2;
    v4 = v2[1];
    return byte_80EBB64[*(v1 + 3)];
}


// 0x80ebb78
signed int sub_80EBB78()
{
    int v0; // r5
    signed int v1; // r7
    _BYTE *v2; // r4

    v1 = 0;
    v2 = *(v0 + 88);
    if ( *v2 == 1 && v2[1] == 18 && v2[22] == 4 )
        v1 = 12;
    return v1;
}


// 0x80ebb98
int __fastcall sub_80EBB98(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r0
    int result; // r0
    int v5; // r0
    int v6; // r1

    v3 = sub_8013774(a1, 44);
    if ( v3 < 11 || v3 > 24 )
    {
        result = sprite_getFrameParameters();
        if ( !(result & 0x80) )
            return result;
        if ( *(v2 + 52) == 1 )
        {
            v1->directionFlip ^= 1u;
            sub_800F2C6();
            sub_801DBD4();
        }
        v5 = v1->futurePanelX;
        v6 = v1->futurePanelY;
        v1->panelX = v5;
        v1->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_updateCollisionPanels(v1);
        object_setCoordinatesFromPanels(v1);
    }
    result = 16;
    *v2 = 16;
    return result;
}


// 0x80ebc0e
int sub_80EBC0E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EBC20 + *v0))();
}


// 0x80ebc28
int __fastcall sub_80EBC28(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r4
    int result; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r4
    char v11; // r0
    int v12; // r4
    int v13; // r2
    int v14; // r6

    if ( *(v4 + 1) )
    {
        if ( *(v4 + 16) == 8 && *(v4 + 3) >= 4 )
        {
            object_getFlip(v3);
            sub_80B8E62(byte_80EBD2C[*(v4 + 3)]);
            v8 = getBattleArmPositionMaybe_8018810(v3->nameID, 7, v3->Alliance, v3->directionFlip);
            sub_80E33FA(&v3->vx, v3->x + (v8 << 16), v3->y, v3->z + (v9 << 16));
            v10 = object_getFlip(v3) << 8;
            sub_800F2AA(8);
            sub_80E33FA(&v3->vx, v3->x, v3->y, v3->z);
        }
        if ( *(v4 + 16) == 15 )
        {
            PlaySoundEffect(174, a2, a3);
            v11 = object_getFrontDirection(v3);
            v12 = byte_80EBD34[*(v4 + 3)];
            v13 = *(v4 + 6);
            v14 = *(v4 + 8) + v13;
            sub_80C4FFE(v11 + v3->panelX, v3->panelY, v13, 1572864);
        }
        result = *(v4 + 16) + 1;
        *(v4 + 16) = result;
        if ( result == 29 )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        object_setAnimation(v3);
        object_setDefaultCounterTime();
        *(v4 + 16) = 0;
        v5 = sub_80EBD68() << 8;
        v6 = byte_80EBD2C[*(v4 + 3)] + v5;
        sub_80B8E30(v5);
        object_setFlag1(0x400000);
        result = 4;
        *(v4 + 1) = 4;
    }
    return result;
}


// 0x80ebd3c
void sub_80EBD3C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_setAnimation(v0);
        *(v1 + 16) = 3;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80ebd68
int sub_80EBD68()
{
    int v0; // r5
    _BYTE *v1; // r0
    int result; // r0

    v1 = *(v0 + 88);
    if ( *v1 == 2 )
        result = *(&off_80EBD80 + v1[1]);
    else
        result = 0;
    return result;
}


// 0x80ebd9c
void sub_80EBD9C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // r6
    int v4; // r4
    int (__fastcall *v5)(_DWORD, _DWORD, int); // r3
    int v6; // r2
    int v7; // r1
    int v8; // r7
    int v9; // r7
    char v10; // r1
    int v11; // [sp-4h] [bp-10h]

    if ( *(v1 + 1) )
    {
        object_exitAttackState(v0);
    }
    else
    {
        v2 = v1;
        v3 = *(v1 + 8);
        v4 = *(v1 + 12);
        v5 = *(&off_802CCB4 + *(v1 + 3));
        v6 = *(v1 + 2);
        v7 = *(v1 + 6) << 16;
        v8 = *(v1 + 20);
        v9 = v2;
        v11 = v5(v0->panelX, v0->panelY, v6);
        if ( !*(sub_800BF5C(v0->Alliance) + 2) )
        {
            v10 = 0;
            if ( *(v9 + 20) >= &byte_170 )
                v10 = 1;
            sub_800BF16(v0->Alliance, v10, v11);
        }
        *(v9 + 1) = 1;
    }
}


// 0x80ebe00
int sub_80EBE00()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EBE14 + *v0))();
}


// 0x80ebe20
int __fastcall sub_80EBE20(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r1
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0

    if ( !*(v4 + 1) )
    {
        *(v4 + 16) = 5;
        object_getFrontDirection(v3);
        v5 = v3->panelX;
        v6 = v3->panelY;
        nullsub_12();
        *(v4 + 1) = 4;
    }
    v7 = *(v4 + 16);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v4 + 16) = result;
    if ( ((result < 0) ^ v8) | (result == 0) )
    {
        *v4 = 4;
        result = sub_80EBE54(4, a2, a3);
    }
    return result;
}


// 0x80ebe54
int __fastcall sub_80EBE54(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r2
    int result; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        sub_80EB562();
        *(v4 + 1) = 4;
        object_setFlag1(0x400000);
        *(v4 + 16) = 0;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(106, a2, a3);
        sub_800FAAC(*(v4 + 12), *(v4 + 8), v5, 1572864);
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 4 )
    {
        result = 8;
        *v4 = 8;
    }
    return result;
}


// 0x80ebeb2
int sub_80EBEB2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int result; // r0
    char v6; // zf
    char v7; // r6
    int v8; // r0
    int v9; // r0
    __int16 v10; // r4
    char v11; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 18);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v1 + 16) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
    result = object_canMove(v4);
    if ( !v6 )
    {
        result = playerObject_checkDirectionButtons_800FA54(result);
        if ( result )
        {
            v7 = result;
            result = sub_800F964(result);
            if ( result )
            {
                v0->parent = 0;
                v0->ai->unk_68 = 0;
                object_exitAttackState(v0);
                v9 = sub_8010332(v8);
                v10 = v9;
                v11 = sub_80103A8(v9);
                result = sub_80116AE(v7, v10, v11);
            }
        }
    }
    return result;
}


// 0x80ebf10
int sub_80EBF10()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EBF24 + *v0))();
}


// 0x80ebf30
int sub_80EBF30()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        v2 = object_setDefaultCounterTime();
        v3 = v1;
        v4 = &v0->ai->unk_68;
        sub_80B8E30(v2);
        v1 = v3;
        object_setFlag1(0x400000);
        *(v3 + 1) = 4;
        *(v3 + 16) = 1;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ebf6e
int sub_80EBF6E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char v5; // r0
    int v6; // ST00_4
    char v7; // r0
    int v8; // r4
    int v9; // r6
    int v10; // r1
    int v11; // r2
    int v12; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 18) = *(&dword_80EBFEC + *(v1 + 3));
        ++*(v0->ai->unk_68 + 16);
        object_setAnimation(v0);
        *(v1 + 16) = 0;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        *(v1 + 16) = 10;
        GetPositiveSignedRNG2();
        v6 = *(&dword_80EBFF0 + (v5 & 3)) << 16;
        v7 = object_getFrontDirection(v0);
        v8 = *(v1 + 12);
        v9 = *(v1 + 8) + *(v1 + 6);
        sub_80C6ADA(v7 + v0->panelX, v0->panelY, *(v1 + 2), v6);
        PlaySoundEffect(185, v10, v11);
        v12 = *(v1 + 18);
        v3 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v1 + 18) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    return result;
}


// 0x80ebff4
void sub_80EBFF4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        ++*(v0->ai->unk_68 + 16);
        object_setAnimation(v0);
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ec02a
int sub_80EC02A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EC03C + *v0))();
}


// 0x80ec044
u32 *sub_80EC044()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r7
    char v4; // r0
    int v5; // r1
    int v6; // r4
    int v7; // r6
    u32 *result; // r0
    int v9; // [sp-4h] [bp-10h]

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        v2 = object_setDefaultCounterTime();
        v9 = v1;
        v3 = &v0->ai->unk_68;
        sub_80B8E30(v2);
        v1 = v9;
        object_setFlag1(0x400000);
        v4 = object_getFrontDirection(v0) + v0->panelX;
        v5 = v0->panelY;
        v6 = *(v9 + 12);
        v7 = *(v1 + 8) + *(v1 + 6);
        if ( *(v9 + 3) == 1 )
            v0->parent = sub_80E85FA(v4, v5, 0, 1769472);
        else
            v0->parent = sub_80CEAA2(v4, v5, 0, 1769472);
        *(v9 + 16) = 30;
        *(v9 + 1) = 4;
    }
    result = v0->parent;
    if ( !result )
    {
        result = dword_4;
        *v1 = 4;
    }
    return result;
}


// 0x80ec0c0
void sub_80EC0C0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ec0e6
int sub_80EC0E6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EC0F8 + *v0))();
}


// 0x80ec104
signed int sub_80EC104()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 18) = byte_80EC118[*(v0 + 3)];
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80ec11c
int __fastcall sub_80EC11C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r0
    int result; // r0
    char v8; // r0
    int v9; // r6
    int v10; // r4
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v4 + 1) )
    {
        if ( *(v4 + 16) == 5 )
        {
            PlaySoundEffect(174, a2, a3);
            if ( *(v4 + 3) == 3 )
                *(v4 + 12) = word_80EC1BC[*(v4 + 18) - 1];
            v8 = object_getFrontDirection(v3);
            v9 = *(v4 + 8) + *(v4 + 6);
            v10 = *(v4 + 12);
            sub_80C5176(v8 + *(v3 + 18), *(v3 + 19), *(v4 + 2), 1572864);
        }
        result = *(v4 + 16) + 1;
        *(v4 + 16) = result;
        if ( result == 15 )
        {
            v11 = *(v4 + 18);
            v12 = __OFSUB__(v11--, 1);
            *(v4 + 18) = v11;
            if ( ((v11 < 0) ^ v12) | (v11 == 0) )
            {
                result = 8;
                *v4 = 8;
            }
            else
            {
                result = 0;
                *(v4 + 1) = 0;
            }
        }
    }
    else
    {
        object_setAnimation(v3);
        v5 = *(v3 + 80);
        if ( v5 )
            *(v5 + 17) = -1;
        object_setDefaultCounterTime();
        *(v4 + 16) = 0;
        v6 = sub_80B8E58(*(v3 + 76));
        sub_80B8E30(v6);
        object_setFlag1(0x400000);
        result = 4;
        *(v4 + 1) = 4;
    }
    return result;
}


// 0x80ec1c4
void __usercall sub_80EC1C4(Battle *obj@<R5>, void *a2@<R7>)
{
    int v2; // r0
    unsigned __int8 vf; // vf

    if ( !*(a2 + 1) )
    {
        *(a2 + 8) = 20;
        *(a2 + 1) = 4;
    }
    v2 = *(a2 + 8);
    vf = __OFSUB__(v2--, 1);
    *(a2 + 8) = v2;
    if ( (v2 < 0) ^ vf )
    {
        object_setAnimation(obj);
        obj->parent = 0;
        obj->ai->unk_68 = 0;
        object_exitAttackState(obj);
    }
}


// 0x80ec1f0
int sub_80EC1F0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EC204 + *v0))();
}


// 0x80ec210
int sub_80EC210()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r1
    int v9; // r2
    int v10; // r0
    int v11; // r1
    int v12; // r0
    int v13; // ST00_4
    int v14; // ST04_4
    int v15; // r1
    int v16; // r0
    int v17; // r1
    int v18; // r3

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v4 )
        {
            v0->collisionData->selfDamage = 0;
            object_setInvulnerableTime(0xFFFF);
            v5 = object_getFrontDirection(v0);
            v0->vx = v5 << 16;
            *(v1 + 48) = v5 << 16;
            *(v1 + 16) = 11;
            object_setAnimation(v0);
            PlaySoundEffect(447, v6, v7);
            PlaySoundEffect(455, v8, v9);
            v0->y += 0x10000;
            v10 = v0->panelX;
            v11 = v0->panelY;
            v0->futurePanelX = v10;
            v0->futurePanelY = v11;
            v12 = object_reservePanel(v10, v11);
            v13 = *(v1 + 2);
            v14 = *(v1 + 8);
            v16 = sub_80DB666(v12, v15, v13, 1572864);
            sub_80DB666(v16, v17, v13, v18);
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        *(v1 + 16) = 5;
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ec2a4
signed int sub_80EC2A4()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0

    if ( v0->collisionData->collisionFlags )
        object_clearCollisionRegion();
    v0->x += v0->vx;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(v1 + 16) )
    {
        --*(v1 + 16);
        v0->vx += *(v1 + 48);
    }
    result = object_isCurrentPanelValid();
    if ( !result )
    {
        v0->x = 14417920;
        *(v1 + 16) = 8;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ec2ea
void sub_80EC2EA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0
    int v8; // r1
    int v9; // r0

    if ( *(v1 + 16) == 3 )
    {
        v2 = v0->futurePanelY;
        v3 = object_getCoordinatesForPanels(v0->futurePanelX);
        SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 1966080);
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5--, 1);
    *(v1 + 16) = v5;
    if ( (v5 < 0) ^ v6 )
    {
        v7 = v0->futurePanelX;
        v8 = v0->futurePanelY;
        v0->panelX = v7;
        v0->panelY = v8;
        object_removePanelReserve(v7, v8);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0;
        object_clearFlag(0x400000);
        v9 = sub_800EB08();
        sub_80142C2(v9);
        object_setCollisionRegion(1);
        object_exitAttackState(v0);
    }
}


// 0x80ec350
void sub_80EC350()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r3
    int v4; // r4
    int v5; // r6
    int v6; // r7
    int v7; // r7
    char v8; // r1
    int v9; // [sp+0h] [bp-10h]
    int v10; // [sp+0h] [bp-10h]

    v2 = *(v1 + 2);
    v3 = *(v1 + 3);
    v4 = *(v1 + 12);
    v5 = *(v1 + 8);
    v6 = *(v1 + 20) + (*(v1 + 6) << 16);
    v7 = v9;
    v10 = sub_80E192C(v0->panelX, v0->panelY, v2, v3);
    if ( !*(sub_800BF5C(v0->Alliance) + 2) )
    {
        v8 = 0;
        if ( *(v7 + 20) >= &byte_170 )
            v8 = 1;
        sub_800BF16(v0->Alliance, v8, v10);
    }
    object_exitAttackState(v0);
}


// 0x80ec39c
int sub_80EC39C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r8
    int v3; // r4
    int v4; // r6
    int v5; // r2
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *v1 )
    {
LABEL_4:
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6--, 1);
        *(v1 + 16) = v6;
        if ( !((v6 < 0) ^ v7) )
            return v2;
        goto LABEL_6;
    }
    *v1 = 1;
    v3 = *(v1 + 12);
    v4 = *(v1 + 8);
    v5 = *(v1 + 6);
    (*(&off_80EC3F0 + *(v1 + 3)))(v0->panelX, v0->panelY, *(v1 + 2), v0->z);
    if ( *(v1 + 3) == 20 )
    {
        *(v1 + 16) = 8;
        goto LABEL_4;
    }
LABEL_6:
    object_exitAttackState(v0);
    return v2;
}


// 0x80ec44c
char *__fastcall sub_80EC44C(int a1, int a2, int a3)
{
    int v3; // r5

    PlaySoundEffect(141, a2, a3);
    return sub_8015BEC(*(v3 + 22), 255);
}


// 0x80ec45e
int sub_80EC45E()
{
    unsigned __int8 *v0; // r7
    int result; // r0

    (*(&off_80EC484 + *v0))();
    result = sub_800FFFE();
    if ( result & 0x8600 )
        result = sub_801056A(result, 0, 0);
    return result;
}


// 0x80ec490
int __fastcall sub_80EC490(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    char v5; // r0
    int v6; // r0
    int result; // r0
    char v8; // zf
    char v9; // r6
    int v10; // r0
    int v11; // r0
    __int16 v12; // r4
    char v13; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        sub_80EB562();
        object_setFlag1(0x400000);
        *(v4 + 1) = 4;
        a2 = 2;
        *(v4 + 18) = 4;
        *(v4 + 16) = 0;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(185, a2, a3);
        GetPositiveSignedRNG2();
        sub_800FAAC(*(&dword_80EC5B4 + (v5 & 1)), *(v4 + 8) + *(v4 + 6), *(v4 + 6), *(&dword_80EC5B0 + (v5 & 3)) << 16);
    }
    v6 = *(v4 + 16) + 1;
    *(v4 + 16) = v6;
    if ( v6 <= *(v4 + 18) )
    {
        result = *(v4 + 16);
        if ( result >= 3 )
        {
            result = object_canMove(result);
            if ( !v8 )
            {
                result = playerObject_checkDirectionButtons_800FA54(result);
                if ( result )
                {
                    v9 = result;
                    result = sub_800F964(result);
                    if ( result )
                    {
                        v3->parent = 0;
                        sub_80B8E58(v3->ai->unk_68);
                        object_exitAttackState(v3);
                        v11 = sub_8010332(v10);
                        v12 = v11;
                        v13 = sub_80103A8(v11);
                        result = sub_80116AE(v9, v12, v13);
                    }
                }
            }
        }
    }
    else
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ec556
void sub_80EC556()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    AI *v5; // r0

    v0->parent = 0;
    sub_80B8E58(v0->ai->unk_68);
    v4 = *(v1 + 13);
    if ( *(v1 + 13) && (--v4, *(v1 + 13) = v4, v4)
        || sub_8013774(v4, 44) != 23
        && !(sub_800FFFE() & 0x10000)
        && (v5 = v0->ai, v5->naviVirusIndicator == 2)
        && (v2 = 2, v5->keysHeld & 2) )
    {
        *(v1 + 48) = 4;
        *v1 = 0;
        sub_80EC490(0, v2, v3);
    }
    else
    {
        object_exitAttackState(v0);
    }
}


// 0x80ec5bc
int sub_80EC5BC()
{
    unsigned __int8 *v0; // r7
    int result; // r0

    (*(&off_80EC5E0 + *v0))();
    result = sub_800FFFE();
    if ( result & 0x8600 )
        result = sub_801056A(result, 0, 0);
    return result;
}


// 0x80ec5ec
int __fastcall sub_80EC5EC(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    AI *v5; // r0
    AI *v6; // ST00_4
    signed int v7; // r0
    int v8; // r1
    int result; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        *(v3->childobject2 + 17) = 0;
        v3->parent = 0;
        v5 = v3->ai;
        if ( v5 )
        {
            v6 = v3->ai;
            sub_80B8E58(v5->unk_68);
            v6->unk_68 = 0;
        }
        sub_80EB562();
        object_setFlag1(0x400000);
        *(v4 + 1) = 4;
        *(v4 + 16) = 0;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(179, a2, a3);
        v7 = 3;
        if ( v3->z )
            v7 = 65539;
        (loc_80EC710)(v7, *(v4 + 8) + *(v4 + 6));
        v8 = *(v4 + 14) + 1;
        if ( v8 >= 3 )
            LOBYTE(v8) = 0;
        *(v4 + 18) = 2;
        *(v4 + 14) = v8;
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ec67e
void sub_80EC67E()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r0
    int v6; // r0
    char v7; // zf
    int v8; // r0
    int v9; // r0
    char v10; // r6
    int v11; // r0
    int v12; // r0
    __int16 v13; // r4
    char v14; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 18);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    v4 = v2 - 1;
    *(v1 + 16) = v4;
    if ( (v4 < 0) ^ v3 )
    {
        v5 = *(v1 + 13);
        if ( *(v1 + 13) && (--v5, *(v1 + 13) = v5, v5)
            || sub_8013774(v5, 44) != 24 && !(sub_800FFFE() & 0x10000) && (v6 = *(v0 + 88), *v6 == 2) && *(v6 + 34) & 2 )
        {
            *(v1 + 48) = 4;
            *v1 = 0;
        }
        else
        {
            sub_80EC792();
        }
    }
    else
    {
        v8 = object_canMove(v4);
        if ( !v7 )
        {
            v9 = playerObject_checkDirectionButtons_800FA54(v8);
            if ( v9 )
            {
                v10 = v9;
                if ( sub_800F964(v9) )
                {
                    sub_80EC792();
                    v12 = sub_8010332(v11);
                    v13 = v12;
                    v14 = sub_80103A8(v12);
                    sub_80116AE(v10, v13, v14);
                }
            }
        }
    }
}


// 0x80ec792
void sub_80EC792()
{
    Battle *v0; // r5

    v0->parent = 0;
    sub_80B8E58(v0->ai->unk_68);
    object_exitAttackState(v0);
}


// 0x80ec7a6
int sub_80EC7A6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EC7B8 + *v0))();
}


// 0x80ec7c0
int sub_80EC7C0()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    int v4; // r6
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        sub_80EB562();
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 1) = 4;
        *(v1 + 16) = 0;
    }
    if ( *(v1 + 16) == 1 )
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v1 + 12);
        v4 = *(v1 + 8) + *(v1 + 6);
        spawnThunderObjectMaybe_80c954c(v2 + v0->panelX, v0->panelY, *(v1 + 2), 655360);
    }
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ec81e
void sub_80EC81E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 30;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ec844
signed int __usercall sub_80EC844@<R0>(ChatBoxPropreties *cb@<R5>, void *r7@<R7>)
{
    signed int result; // r0

    sub_800E2FC(cb, *&byte_80EC870[2 * *(r7 + 3)], 1);
    sub_800AB46(cb->unk_16, 5, 1);
    object_exitAttackState(cb);
    return result;
}


// 0x80ec884
int __usercall sub_80EC884@<R0>(void *r7@<R7>)
{
    return (*(&off_80EC898 + *r7))();
}


// 0x80ec8a0
int sub_80EC8A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // r0
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int result; // r0
    char v8; // r0
    int v9; // r4
    int v10; // r2
    int v11; // r6

    if ( *(v1 + 1) )
    {
        if ( *(v1 + 16) == 5 )
        {
            v8 = object_getFrontDirection(v0);
            v9 = *(v1 + 12);
            v10 = *(v1 + 6);
            v11 = *(v1 + 8) + v10;
            sub_80C4FFE(v8 + v0->panelX, v0->panelY, v10, 1572864);
        }
        result = *(v1 + 16) + 1;
        *(v1 + 16) = result;
        if ( result == 10 )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        *(v1 + 16) = 0;
        object_setFlag1(0x400000);
        v2 = v1;
        v3 = sub_80EC934();
        v4 = &v0->ai->unk_68;
        sub_80B8E30(v3);
        PlaySoundEffect(175, v5, v6);
        result = 4;
        *(v2 + 1) = 4;
    }
    return result;
}


// 0x80ec90e
void sub_80EC90E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ec934
int sub_80EC934()
{
    int v0; // r5

    return *(&off_80EC944 + *(*(v0 + 88) + 1));
}


// 0x80ec960
int sub_80EC960()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EC974 + *v0))();
}


// 0x80ec97c
int sub_80EC97C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    char *v4; // r4
    int v5; // r0
    int v6; // r1
    int v7; // r6
    int v8; // r2
    int v9; // r2
    int v10; // r3
    int v11; // ST00_4
    int v12; // ST04_4
    int v13; // ST08_4
    int v14; // r0
    unsigned __int8 v15; // vf
    int result; // r0
    int v17; // [sp-8h] [bp-18h]

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        PlaySoundEffect(216, v2, v3);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        v4 = *(&off_8019B78 + *(&dword_80ECA08 + *(v1 + 3)));
        v17 = object_getFrontDirection(v0);
        v5 = v17 + v0->panelX;
        v6 = v0->panelY;
        v7 = *(v1 + 8);
        v8 = *(v1 + 6);
        v9 = *(v1 + 2);
        while ( 1 )
        {
            v10 = *v4;
            if ( v10 == 127 )
                break;
            v11 = v5;
            v12 = v6;
            v13 = v9;
            sub_80CA686(v5 + v10 * v17, v6 + v4[1], v9, 0);
            v5 = v11;
            v6 = v12;
            v9 = v13;
            v4 += 2;
        }
    }
    v14 = *(v1 + 16);
    v15 = __OFSUB__(v14, 1);
    result = v14 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v15 )
    {
        *(v1 + 16) = 5;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80eca0c
void sub_80ECA0C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80eca34
int sub_80ECA34()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECA48 + *v0))();
}


// 0x80eca50
int __fastcall sub_80ECA50(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    char v5; // r0
    int v6; // r4
    int v7; // r6
    int result; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        sub_80EB562();
        object_setDefaultCounterTime();
        *(v4 + 1) = 4;
        *(v4 + 16) = 0;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(106, a2, a3);
        v5 = object_getFrontDirection(v3);
        v6 = *(v4 + 12);
        v7 = *(v4 + 8) + *(v4 + 6);
        sub_80C9184(v5 + v3->panelX, v3->panelY, *(v4 + 2), 0);
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ecaa4
void sub_80ECAA4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ecaca
int sub_80ECACA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECADC + *v0))();
}


// 0x80ecae8
int sub_80ECAE8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // r7
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        *(v1 + 16) = 15;
        v2 = v1;
        v3 = &v0->ai->unk_68;
        sub_80B8E30(15);
        object_setFlag1(0x400000);
        result = 4;
        *(v2 + 1) = 4;
    }
    return result;
}


// 0x80ecb28
int sub_80ECB28()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r4
    int v5; // r6

    if ( *(v1 + 1) )
    {
        if ( *(v1 + 16) == 5 )
        {
            camera_initShakeEffect_80302a8(1, 20);
            v3 = object_getFrontDirection(v0);
            v4 = *(v1 + 12);
            v5 = *(v1 + 8) + *(v1 + 6);
            sub_80CB8DE(v3 + v0->panelX, v0->panelY, 0, 1572864);
        }
        result = *(v1 + 16) + 1;
        *(v1 + 16) = result;
        if ( result == 18 )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        object_setAnimation(v0);
        *(v1 + 16) = 0;
        sub_80B8E70(v0->ai->unk_68, 1);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ecb84
void sub_80ECB84()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_setAnimation(v0);
        *(v1 + 16) = 3;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80ecbb0
int sub_80ECBB0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECBC4 + *v0))();
}


// 0x80ecbcc
int __fastcall sub_80ECBCC(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // ST00_4
    int v6; // r4
    int v7; // r0
    int v8; // r7
    int result; // r0
    u32 v10; // r0
    int v11; // r1
    char v12; // r0
    int v13; // r4
    int v14; // r6

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        object_setDefaultCounterTime();
        v5 = v4;
        v6 = sub_80ECC86() << 8;
        v7 = *(&dword_80ECC54 + *(v4 + 3));
        v8 = &v3->ai->unk_68;
        sub_80B8E30(v7);
        v4 = v5;
        object_setFlag1(0x400000);
        *(v5 + 1) = 4;
        *(v5 + 16) = 0;
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 1 )
    {
        v10 = v3->ai->unk_68;
        v11 = *(v10 + 16) + 1;
        *(v10 + 16) = v11;
        PlaySoundEffect(175, v11, a3);
        v12 = object_getFrontDirection(v3);
        v13 = *(v4 + 12);
        v14 = *(v4 + 8) + *(v4 + 6);
        sub_80C6ADA(v12 + v3->panelX, v3->panelY, *(v4 + 2), *(&dword_80ECC5C + *(v4 + 3)) << 16);
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ecc60
void sub_80ECC60()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 20;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ecc86
int sub_80ECC86()
{
    int v0; // r5

    return *(&off_80ECC94 + *(*(v0 + 88) + 1));
}


// 0x80eccb0
int sub_80ECCB0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECCC4 + *v0))();
}


// 0x80ecccc
int sub_80ECCCC()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 1) = 4;
        *(v1 + 16) = 15;
    }
    if ( *(v1 + 16) == 13 )
    {
        v2 = object_getFrontDirection(v0);
        v3 = *(v1 + 12);
        v4 = *(v1 + 8) + *(v1 + 6);
        sub_80C9BA4(v2 + v0->panelX, v0->panelY, *(v1 + 2), 655360);
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
        *(v1 + 16) = 15;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ecd28
int sub_80ECD28()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECD3C + *v0))();
}


// 0x80ecd44
int __fastcall sub_80ECD44(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r8
    char v6; // r0
    int v7; // r4
    int v8; // r6
    signed int v9; // r0
    int v10; // r7
    int v11; // r0
    int v12; // r0
    int v14; // [sp-8h] [bp-18h]

    if ( !*(v4 + 1) )
    {
        *(v4 + 8) += *(v4 + 6);
        v6 = object_getFrontDirection(v3);
        v7 = *(v4 + 12);
        v8 = *(v4 + 8);
        sub_80C5578(v3->panelX + v6, v3->panelY, *(v4 + 2), 0);
        v3->currAnimation = 10;
        object_setDefaultCounterTime();
        v14 = v4;
        v9 = 22;
        if ( *(v4 + 3) )
            v9 = 30;
        v10 = &v3->ai->unk_68;
        sub_80B8E30(v9);
        v4 = v14;
        object_setFlag1(0x400000);
        *(v14 + 16) = 0;
        *(v14 + 1) = 4;
    }
    v11 = (*(v4 + 18) + 1) & 0xF;
    *(v4 + 18) = v11;
    if ( v11 == 1 )
        PlaySoundEffect(299, 15, a3);
    v12 = *(v4 + 16) + 1;
    *(v4 + 16) = v12;
    if ( v12 >= *(v4 + 12) )
        *v4 = 4;
    return v5;
}


// 0x80ecdd6
void sub_80ECDD6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ecdfc
int sub_80ECDFC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECE10 + *v0))();
}


// 0x80ece18
int sub_80ECE18()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r4
    int v4; // r0
    int v5; // r1
    signed int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    int v12; // ST04_4
    int v13; // r7
    int result; // r0
    int v15; // r1
    int v16; // r1
    int v17; // r2
    char v18; // [sp-8h] [bp-18h]

    if ( !*(v1 + 1) )
    {
        *(v1 + 8) += *(v1 + 6);
        v3 = object_getFrontDirection(v0);
        v4 = v0->panelX;
        v5 = v0->panelY;
        v6 = 20;
        while ( 1 )
        {
            v6 -= 4;
            sub_81096FA(v4 + v3, v5, v2, byte_80ECEAC);
            v18 = v7;
            if ( !object_checkPanelParameters(v7, v8, v9, v10) )
                break;
            sub_80ECF00(v18);
        }
        v0->currAnimation = 10;
        v11 = object_setDefaultCounterTime();
        v12 = v1;
        v13 = &v0->ai->unk_68;
        sub_80B8E30(v11);
        v1 = v12;
        object_setFlag1(0x400000);
        *(v12 + 16) = 0;
        *(v12 + 1) = 4;
    }
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result >= 24 )
    {
        v15 = v0->panelY;
        sub_80ECF00(v0->panelX);
        PlaySoundEffect(394, v16, v17);
        ++*(v0->ai->unk_68 + 16);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ecebc
void sub_80ECEBC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    v2 = *(v1 + 1);
    if ( v2 == 1 )
    {
        if ( sprite_getFrameParameters() & 0x80 )
        {
            ++*(v0->ai->unk_68 + 16);
            *(v1 + 1) = 2;
        }
    }
    else if ( v2 != 2 )
    {
        *(v1 + 16) = 15;
        *(v1 + 1) = 1;
    }
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3--, 1);
    *(v1 + 16) = v3;
    if ( (v3 < 0) ^ v4 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ecf00
void __fastcall sub_80ECF00(char a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r1
    int v4; // ST00_4
    int v5; // ST04_4
    int v6; // r0
    int v7; // r1
    int v8; // r6

    v4 = object_getCoordinatesForPanels(a1);
    v5 = v3 - 0x10000;
    v6 = getBattleArmPositionMaybe_8018810(*(v1 + 40), 23, *(v1 + 22), *(v1 + 23));
    v8 = *(v2 + 8);
    sub_80C6248(v6, v4, v5, v7 << 16);
}


// 0x80ecf2e
int sub_80ECF2E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ECF40 + *v0))();
}


// 0x80ecf48
signed int sub_80ECF48()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    signed int result; // r0

    *(v1 + 8) += *(v1 + 6);
    *(v1 + 22) = sub_80ED040();
    *(v1 + 23) = 3;
    *(v0 + 16) = 10;
    v2 = object_setDefaultCounterTime();
    v3 = v1;
    v4 = *(v0 + 88) + 104;
    sub_80B8E30(v2);
    object_setFlag1(0x400000);
    *(v3 + 14) = 9;
    *(v3 + 48) = -1;
    result = 4;
    *v3 = 4;
    return result;
}


// 0x80ecf8e
void sub_80ECF8E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r4
    int v4; // r6
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0
    int v12; // r1
    signed int v13; // r0
    signed int v14; // r1
    char v15; // r2
    int v16; // r0

    v2 = *(v1 + 1);
    if ( v2 != 1 )
    {
        if ( v2 != 2 )
        {
            *(v0->ai->unk_68 + 16) = 1;
            object_setAnimation(v0);
        }
        *(v1 + 1) = 1;
        *(v1 + 16) = 8;
        v3 = *(v1 + 12) & 0xFFFF | 0x10000;
        v4 = *(v1 + 8);
        sub_80C5F2C(*(v1 + 22), *(v1 + 23), *(v1 + 2), 0);
        v5 = *(v1 + 23);
        v6 = object_getCoordinatesForPanels(*(v1 + 22));
        SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0);
        if ( v8 )
            *(v8 + 32) = *(v1 + 13);
    }
    v9 = *(v1 + 16);
    v10 = __OFSUB__(v9--, 1);
    *(v1 + 16) = v9;
    if ( (v9 < 0) ^ v10 )
    {
        v11 = *(v1 + 48);
        v12 = *(v1 + 23) + v11;
        if ( v12 < 1 || v12 > 3 )
        {
            *(v1 + 48) = -v11;
            v13 = sub_80ED040();
            v14 = *(v1 + 22);
            v15 = 1;
            if ( v13 == v14 )
            {
                *(v1 + 23) += *(v1 + 48);
            }
            else
            {
                if ( v13 <= v14 )
                    v15 = -1;
                *(v1 + 22) = v14 + v15;
            }
        }
        else
        {
            *(v1 + 23) = v12;
        }
        v16 = *(v1 + 14) - 1;
        *(v1 + 14) = v16;
        if ( v16 )
        {
            *(v1 + 1) = 2;
        }
        else
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            object_exitAttackState(v0);
        }
    }
}


// 0x80ed040
signed int sub_80ED040()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r2
    int v3; // r4
    signed int result; // r0
    int v5; // r0
    signed int v6; // ST04_4
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    bool v12; // zf

    v3 = object_getFrontDirection(v0);
    result = v0->panelX;
    while ( 1 )
    {
        v5 = result + v3;
        if ( !v5 || v5 >= 7 )
            break;
        v6 = v5;
        sub_81096FA(v5, v1, v2, byte_80ED080);
        v11 = object_getPanelsInColumnFiltered(v7, v8, v9, v10);
        v1 = 1;
        v12 = v11 == 0;
        result = v6;
        if ( !v12 )
            return result;
    }
    result = 6;
    if ( v3 <= 0 )
        result = 1;
    return result;
}


// 0x80ed090
int sub_80ED090()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED0A4 + *v0))();
}


// 0x80ed0ac
int sub_80ED0AC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int result; // r0
    int v6; // r4
    int v7; // r6
    int v8; // r0
    int v9; // r1
    int v10; // r2

    if ( !*(v1 + 1) )
    {
        *(v1 + 8) += *(v1 + 6);
        *(v0 + 16) = 10;
        v2 = object_setDefaultCounterTime();
        v3 = v1;
        v4 = *(v0 + 88) + 104;
        sub_80B8E30(v2);
        v1 = v3;
        object_setFlag1(0x400000);
        *(v3 + 16) = 0;
        *(v3 + 1) = 4;
    }
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result >= 10 )
    {
        v6 = *(v1 + 12);
        v7 = *(v1 + 8);
        sub_80C67D8(*(v0 + 18), *(v0 + 19), *(v1 + 2), 0);
        v8 = *(*(v0 + 88) + 104);
        v9 = *(v8 + 16) + 1;
        *(v8 + 16) = v9;
        PlaySoundEffect(384, v9, v10);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ed118
void sub_80ED118()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 24;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ed13e
int sub_80ED13E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED150 + *v0))();
}


// 0x80ed154
void sub_80ED154()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r0
    CollisionData *v6; // r0
    char v7; // r0
    int v8; // r2
    int v9; // r1
    int v10; // r6
    signed int v11; // r4
    int v12; // r1
    int v13; // r2
    int v14; // r0

    if ( *(v1 + 1) )
    {
        if ( *(v1 + 3) != 3 )
        {
            v6 = v0->collisionData;
            if ( (1 << v0->directionFlip) & v6->unk_03 )
            {
                if ( v6->collisionFlags & 2 )
                {
                    v0->parent = 0;
                    v0->ai->unk_68 = 0;
                    object_clearFlag(1);
                }
                else if ( !*(v1 + 48) )
                {
                    *(v1 + 48) = 1;
                    if ( *(v1 + 3) == 3 )
                    {
                        sub_802E032(v0->Alliance, 1408);
                    }
                    else
                    {
                        v7 = object_getFrontDirection(v0) + v0->panelX;
                        v9 = v0->panelY;
                        v10 = *(v1 + 8) + *(v1 + 6);
                        v11 = *(v1 + 3);
                        if ( v11 > 2 )
                        {
                            if ( v11 == 4 )
                                sub_80C4FFE(v7, v9, v8, 1310720);
                        }
                        else
                        {
                            sub_80C9CDA(v7, v9, v8, 0x100000);
                            PlaySoundEffect(197, v12, v13);
                        }
                    }
                }
            }
        }
        v14 = *(v1 + 16) + 1;
        *(v1 + 16) = v14;
        if ( v14 > *(v1 + 12) )
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            object_clearFlag(1);
            object_exitAttackState(v0);
        }
    }
    else
    {
        v2 = getBattleArmPositionMaybe_8018810(v0->nameID, 6, v0->Alliance, v0->directionFlip);
        v4 = *(v1 + 12);
        sub_80C97E0(v2, v2 << 16, 0, v3 << 16);
        object_setFlag1(1);
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        sub_80101D4(v5);
        *(v1 + 48) = 0;
        *(v1 + 1) = 4;
        *(v1 + 16) = 0;
    }
}


// 0x80ed25c
int sub_80ED25C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED270 + *v0))();
}


// 0x80ed278
int sub_80ED278()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // ST10_4
    int v5; // ST14_4
    int v6; // ST04_4
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0
    char v10; // [sp-18h] [bp-28h]
    int v11; // [sp-14h] [bp-24h]
    int v12; // [sp-10h] [bp-20h]

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        if ( *(v1 + 14) )
        {
            v2 = 5 * v0->Alliance + 1;
            v3 = 1;
        }
        else
        {
            v2 = object_getFrontDirection(v0) + v0->panelX;
            v3 = v0->panelY;
        }
        v10 = v2;
        v11 = v3;
        v12 = *(v1 + 2);
        v4 = *(v1 + 12);
        v5 = *(v1 + 8) + *(v1 + 6);
        sub_80CA90E(v2, v3, v12, 0);
        if ( *(v1 + 14) )
        {
            v6 = v11 + 1;
            sub_80CA90E(v10, v6, v12, 0);
            sub_80CA90E(v10, v6 + 1, v12, 0);
        }
    }
    v7 = *(v1 + 16);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v8 )
    {
        *(v1 + 16) = 15;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ed2f8
int sub_80ED2F8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED30C + *v0))();
}


// 0x80ed314
int sub_80ED314()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    char v4; // r0
    int v5; // r6
    int v6; // r4
    int v7; // r1
    int v8; // r2
    int v9; // r0
    unsigned __int8 v10; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        PlaySoundEffect(216, v2, v3);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        v4 = object_getFrontDirection(v0);
        v5 = *(v1 + 8) + *(v1 + 6);
        v6 = *(v1 + 12);
        sub_80CC73C(v4 + v0->panelX, v0->panelY, *(v1 + 2), 0);
        PlaySoundEffect(180, v7, v8);
    }
    v9 = *(v1 + 16);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v10 )
    {
        *(v1 + 16) = 15;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ed374
int sub_80ED374()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED388 + *v0))();
}


// 0x80ed394
int sub_80ED394()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 16) = 10;
        *(v0 + 1) = 4;
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *v0 = 4;
        result = sub_80ED3B6();
    }
    return result;
}


// 0x80ed3b6
int sub_80ED3B6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int v5; // r0
    int v6; // r4
    int v7; // r6
    int v8; // r1
    int v9; // r1
    int v10; // r2
    int v11; // r0
    unsigned __int8 v12; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        v2 = *(v1 + 3);
        v3 = v1;
        v4 = &v0->ai->unk_68;
        v5 = sub_80B8E30(v2);
        v6 = *(v3 + 12);
        v7 = *(v3 + 8) + *(v3 + 6);
        sub_80D2B8E(v5, v8, *(v3 + 2), 0x100000);
        v1 = v3;
        object_setDefaultCounterTime();
        *(v1 + 16) = *(v1 + 13) + 10;
        PlaySoundEffect(240, v9, v10);
        *(v3 + 1) = 4;
    }
    v11 = *(v1 + 16);
    v12 = __OFSUB__(v11, 1);
    result = v11 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v12) | (result == 0) )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ed41c
void sub_80ED41C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        sub_80B8E70(v0->ai->unk_68, 0);
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        object_clearFlag(0x400000);
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ed454
int sub_80ED454()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED468 + *v0))();
}


// 0x80ed470
int sub_80ED470()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r0
    int v3; // r1
    int v4; // r7
    int v5; // r0
    int v6; // r6
    int v7; // r4
    int v8; // r3
    char v9; // ST00_1
    int v10; // ST04_4
    int v11; // ST08_4
    char v12; // ST00_1
    int v13; // ST04_4
    int v14; // ST08_4
    int v15; // r0
    unsigned __int8 v16; // vf
    int result; // r0
    int v18; // [sp-4h] [bp-10h]

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        v18 = v1;
        v2 = 0;
        v3 = *(v1 + 3);
        if ( v3 != 2 && v3 == 3 )
            v2 = 0x1000000;
        v4 = &v0->ai->unk_68;
        sub_80B8E30(v2);
        v1 = v18;
        object_setFlag1(0x400000);
        *(v18 + 1) = 4;
        *(v18 + 16) = 42;
    }
    if ( *(v1 + 16) == 32 )
    {
        v5 = 2 * object_getFrontDirection(v0) + v0->panelX;
        v6 = *(v1 + 8) + *(v1 + 6);
        v7 = *(v1 + 12);
        v8 = *(v1 + 3);
        if ( v8 == 2 )
        {
            v9 = v5;
            v10 = v0->panelY;
            v11 = *(v1 + 2);
            sub_800FE52(v0->Alliance);
            sub_80CA104(v9, v10, v11, 0);
        }
        else if ( v8 == 3 )
        {
            v12 = v5;
            v13 = v0->panelY;
            v14 = *(v1 + 2);
            sub_800AB3A(v0->Alliance, 3);
            sub_80CA19E(v12, v13, v14, 0);
        }
        else
        {
            sub_80CA0E2(v5, v0->panelY, *(v1 + 2), 0);
        }
        ++*(v0->ai->unk_68 + 16);
    }
    v15 = *(v1 + 16);
    v16 = __OFSUB__(v15, 1);
    result = v15 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v16) | (result == 0) )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ed52c
void sub_80ED52C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        --*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 20;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ed55c
int sub_80ED55C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED570 + *v0))();
}


// 0x80ed57c
signed int sub_80ED57C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // r0
    int v4; // r7
    signed int result; // r0

    object_setAnimation(v0);
    object_setDefaultCounterTime();
    v2 = v1;
    v3 = *(v1 + 3);
    v4 = &v0->ai->unk_68;
    sub_80B8E30(v3);
    object_setFlag1(0x400000);
    *v2 = 4;
    *(v2 + 18) = byte_80ED5BC[*(v2 + 3)];
    result = 5;
    *(v2 + 16) = 5;
    return result;
}


// 0x80ed5be
int sub_80ED5BE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char v5; // r0
    int v6; // r6
    int v7; // r4
    int v8; // r0

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        if ( !*(v1 + 1) )
        {
            ++*(v0->ai->unk_68 + 16);
            *(v1 + 1) = 4;
        }
        *(v1 + 16) = 14;
        *(v1 + 13) = *(&dword_80ED618 + *(v1 + 18));
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 8) + *(v1 + 6);
        v7 = *(v1 + 12);
        sub_80CB686(v5 + v0->panelX, v0->panelY, *(v1 + 2), 0x100000);
        v8 = *(v1 + 18);
        v3 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 18) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    return result;
}


// 0x80ed61c
void sub_80ED61C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        --*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 20;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ed64c
int sub_80ED64C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED660 + *v0))();
}


// 0x80ed668
int sub_80ED668()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    char v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        PlaySoundEffect(216, v2, v3);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        v4 = object_getFrontDirection(v0);
        sub_80ED6CA(v4, 0);
        if ( *(v1 + 3) == 1 )
        {
            sub_80ED6CA(0, -1);
            sub_80ED6CA(0, 1);
        }
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        *(v1 + 16) = 15;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ed6ca
int __fastcall sub_80ED6CA(char a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int v4; // r6
    int v5; // r4

    v4 = *(v3 + 8) + *(v3 + 6);
    v5 = *(v3 + 12);
    return sub_80C6CE4(a1 + *(v2 + 18), a2 + *(v2 + 19), *(v3 + 2), 0);
}


// 0x80ed6e6
int sub_80ED6E6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED6F8 + *v0))();
}


// 0x80ed700
int __fastcall sub_80ED700(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // r6
    int v7; // r4
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v5 + 1) )
    {
        object_setAnimation(v4);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v5 + 16) = 15;
        *(v5 + 1) = 4;
    }
    if ( *(v5 + 16) == 13 )
    {
        v6 = *(v5 + 8) + *(v5 + 6);
        v7 = *(v5 + 12);
        sub_80E5150(13, a2, *(v5 + 2), a4);
    }
    v8 = *(v5 + 16);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v5 + 16) = result;
    if ( (result < 0) ^ v9 )
    {
        *(v5 + 16) = 15;
        result = 4;
        *v5 = 4;
    }
    return result;
}


// 0x80ed748
int sub_80ED748()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED75C + *v0))();
}


// 0x80ed764
int __fastcall sub_80ED764(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int result; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        sub_80EB562();
        object_setFlag1(0x400000);
        *(v4 + 16) = 0;
        *(v4 + 1) = 4;
    }
    if ( *(v4 + 16) == 1 )
        PlaySoundEffect(248, a2, a3);
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ed7a2
void sub_80ED7A2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    char v6; // zf
    int v7; // r0
    int v8; // r0
    char v9; // r6
    int v10; // r0
    int v11; // r0
    __int16 v12; // r4
    char v13; // r0

    if ( !*(v1 + 1) )
    {
        v2 = sub_8013774(*(v1 + 1), 2);
        *(v1 + 16) = sub_800FAF6(v0->panelX, v0->panelY, v2);
        *(v1 + 1) = 4;
    }
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3, 1);
    v5 = v3 - 1;
    *(v1 + 16) = v5;
    if ( (v5 < 0) ^ v4 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
    else
    {
        v7 = object_canMove(v5);
        if ( !v6 )
        {
            v8 = playerObject_checkDirectionButtons_800FA54(v7);
            if ( v8 )
            {
                v9 = v8;
                if ( sub_800F964(v8) )
                {
                    v0->parent = 0;
                    v0->ai->unk_68 = 0;
                    object_exitAttackState(v0);
                    v11 = sub_8010332(v10);
                    v12 = v11;
                    v13 = sub_80103A8(v11);
                    sub_80116AE(v9, v12, v13);
                }
            }
        }
    }
}


// 0x80ed810
int sub_80ED810()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED824 + *v0))();
}


// 0x80ed82c
int __fastcall sub_80ED82C(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // ST00_4
    int v7; // r7
    int result; // r0
    u32 v9; // r0
    int v10; // r1
    char v11; // r0
    int v12; // r4
    int v13; // r6

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        v5 = object_setDefaultCounterTime();
        v6 = v4;
        v7 = &v3->ai->unk_68;
        sub_80B8E30(v5);
        v4 = v6;
        object_setFlag1(0x400000);
        *(v6 + 1) = 4;
        *(v6 + 16) = 0;
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 1 )
    {
        v9 = v3->ai->unk_68;
        v10 = *(v9 + 16) + 1;
        *(v9 + 16) = v10;
        PlaySoundEffect(175, v10, a3);
        v11 = object_getFrontDirection(v3);
        v12 = *(v4 + 12);
        v13 = *(v4 + 8) + *(v4 + 6);
        sub_80D9130(v11 + v3->panelX, v3->panelY, *(v4 + 2), 0);
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80ed896
void sub_80ED896()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 20;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        object_clearFlag(0x400000);
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ed8c4
int sub_80ED8C4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED8D8 + *v0))();
}


// 0x80ed8e0
int sub_80ED8E0()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            object_setAnimation(v0);
            sub_80ED94E();
            *(v1 + 16) = 90;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ed924
void __fastcall sub_80ED924(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0

    v5 = *(v4 + 18);
    v6 = __OFSUB__(v5--, 1);
    *(v4 + 18) = v5;
    if ( (v5 < 0) ^ v6 )
    {
        *(v4 + 18) = 16;
        PlaySoundEffect(299, a2, a3);
    }
    v7 = *(v4 + 16);
    v6 = __OFSUB__(v7--, 1);
    *(v4 + 16) = v7;
    if ( (v7 < 0) ^ v6 )
    {
        object_clearFlag(64);
        object_exitAttackState(v3);
    }
}


// 0x80ed94e
int sub_80ED94E()
{
    Battle *v0; // r5
    int v1; // r7
    char *v2; // r6
    int v3; // r4
    int result; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r6
    int v10; // [sp-10h] [bp-1Ch]
    int v11; // [sp-Ch] [bp-18h]
    char *v12; // [sp-4h] [bp-10h]

    v2 = byte_80199B6;
    v3 = object_getFrontDirection(v0);
    result = v3 + v0->panelX;
    v5 = v0->panelY;
    while ( 1 )
    {
        v6 = *v2;
        if ( v6 == 127 )
            break;
        v10 = result;
        v11 = v5;
        v12 = v2;
        v7 = result + v6 * v3;
        v8 = v5 + v2[1];
        if ( v7 >= 1 && v7 <= 6 && v8 >= 1 && v8 <= 3 )
        {
            v9 = *(v1 + 8);
            sub_80D07A0(v7, v8, *(v1 + 2), 0);
        }
        result = v10;
        v5 = v11;
        v2 = v12 + 2;
    }
    return result;
}


// 0x80ed998
void sub_80ED998()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        object_clearFlag(64);
        object_exitAttackState(v0);
    }
}


// 0x80ed9ae
int sub_80ED9AE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80ED9C0 + *v0))();
}


// 0x80ed9cc
int sub_80ED9CC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        v2 = object_setDefaultCounterTime();
        v3 = v1;
        v4 = &v0->ai->unk_68;
        sub_80B8E30(v2);
        v1 = v3;
        object_setFlag1(0x400000);
        *(v3 + 1) = 4;
        *(v3 + 16) = 1;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        *(v1 + 18) = 2;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80eda0e
int sub_80EDA0E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    u32 v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    char v7; // r0
    int v8; // r4
    int v9; // r6
    int v10; // r1
    int v11; // r2
    int v12; // r1
    int v13; // r2
    int v14; // r0
    int v15; // r0

    v2 = *(v1 + 1);
    if ( v2 == 4 )
    {
LABEL_4:
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v5 )
        {
            *(v1 + 16) = 10;
            v7 = object_getFrontDirection(v0);
            v8 = *(v1 + 12);
            v9 = *(v1 + 8) + *(v1 + 6);
            sub_80D1442(v7 + v0->panelX, *&byte_80EDAB4[2 * (v0->panelY - 1) - 1 + *(v1 + 18)], *(v1 + 2), 0x100000);
            PlaySoundEffect(422, v10, v11);
            PlaySoundEffect(423, v12, v13);
            *(v1 + 1) = 8;
            *(v1 + 16) = 10;
            v14 = *(v1 + 18);
            v5 = __OFSUB__(v14, 1);
            result = v14 - 1;
            *(v1 + 18) = result;
            if ( ((result < 0) ^ v5) | (result == 0) )
            {
                result = 8;
                *v1 = 8;
            }
        }
        return result;
    }
    if ( v2 != 8 )
    {
        *(v1 + 16) = 3;
        v3 = v0->ai->unk_68;
        *(v3 + 16) = 1;
        *(v3 + 17) = -1;
        *(v1 + 1) = 4;
        goto LABEL_4;
    }
    v15 = *(v1 + 16);
    v5 = __OFSUB__(v15, 1);
    result = v15 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x80edaba
void sub_80EDABA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 4;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80edae0
int sub_80EDAE0()
{
    unsigned __int8 *v0; // r7
    int result; // r0

    (*(&off_80EDB08 + *v0))();
    result = sub_800FFFE();
    if ( result & 0x8600 )
        result = sub_801056A(result, 0, 0);
    return result;
}


// 0x80edb14
int sub_80EDB14()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r4
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    __int16 v11; // r0
    int v12; // r0
    int v13; // r0
    signed int v14; // r1
    int v15; // r4
    int v16; // r0

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            v11 = *(&dword_80EDBC8 + *(v1 + 3));
            *(v1 + 16) = v11;
            *(v1 + 18) = v11 - 20;
            v12 = v0->ai->unk_68;
            ++*(v12 + 16);
            v13 = sub_8013774(v12, 34);
            v14 = 0;
            if ( v13 )
                v14 = 8;
            v15 = *&byte_80EDBB8[2 * *(v1 + 3) + v14];
            v16 = object_getFrontDirection(v0);
            v0->parent = sub_80E5D12(v16, 5242880 * v16, 0, 0);
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        v2 = object_setDefaultCounterTime();
        v3 = v1;
        v4 = *(v1 + 3) + 7;
        v5 = &v0->ai->unk_68;
        sub_80B8E30(v2);
        PlaySoundEffect(248, v6, v7);
        *(v3 + 16) = 6;
        result = 4;
        *(v3 + 1) = 4;
    }
    return result;
}


// 0x80edbcc
int sub_80EDBCC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r0
    int v8; // r1
    signed int v9; // r4
    int v10; // ST00_4
    char *v11; // r0
    bool v12; // zf
    char *v13; // r2
    int v14; // r3
    int result; // r0
    int v16; // r1
    signed int v17; // r4
    int v18; // ST08_4
    char *v19; // r0
    char *v20; // r2
    int v21; // r3
    int v22; // r0
    int v23; // [sp-Ch] [bp-18h]
    int v24; // [sp-8h] [bp-14h]
    int v25; // [sp-4h] [bp-10h]
    int v26; // [sp-4h] [bp-10h]

    v2 = *(v1 + 16);
    v3 = *(v1 + 18);
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4, 1);
    v6 = v4 - 1;
    *(v1 + 16) = v6;
    if ( (v6 < 0) ^ v5 )
    {
        v22 = v0->parent;
        if ( v22 )
            sub_80E5D3E(v22);
        result = 8;
        *v1 = 8;
    }
    else
    {
        sub_8013774(v6, 34);
        *(v1 + 3);
        v24 = 2 * object_getFrontDirection(v0) + v0->panelX;
        v25 = v0->panelY;
        object_spawnCollisionRegion(v24, v25, 5, 0);
        v7 = v24;
        v8 = v25 - 1;
        v9 = 0;
        do
        {
            v10 = v7;
            v23 = v8;
            v11 = object_getPanelDataOffset(v7, v8);
            v13 = v11;
            v12 = v11 == 0;
            v7 = v10;
            if ( !v12 )
                v14 = v13[2];
            v8 = v23 + 1;
            ++v9;
        }
        while ( v9 < 3 );
        result = *(v1 + 3);
        if ( result == 3 )
        {
            result = object_getFrontDirection(v0) + v24;
            v16 = v25 - 1;
            v17 = 0;
            do
            {
                v18 = result;
                v26 = v16;
                v19 = object_getPanelDataOffset(result, v16);
                v20 = v19;
                v12 = v19 == 0;
                result = v18;
                if ( !v12 )
                    v21 = v20[2];
                v16 = v26 + 1;
                ++v17;
            }
            while ( v17 < 3 );
        }
    }
    return result;
}


// 0x80edc78
void sub_80EDC78()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        ++*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        object_clearFlag(0x400000);
        object_setAnimation(v0);
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80edcc0
int airspinAttack_80EDCC0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EDCD4 + *v0))();
}


// 0x80edcdc
int sub_80EDCDC()
{
    Battle *v0; // r5
    int v1; // r7
    void (__fastcall *v2)(int, _DWORD, _DWORD, _DWORD); // ST04_4
    int v3; // r0
    int v4; // r6
    int v5; // r4
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(4194368);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        v2 = *(&off_80EDD54 + *(v1 + 3));
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 8) + *(v1 + 6);
        v5 = *(v1 + 12);
        v2(v3 + v0->panelX, v0->panelY, *(v1 + 2), 0);
    }
    v6 = *(v1 + 16);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v7 )
    {
        object_clearFlag(&byte_40);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80edd5c
void sub_80EDD5C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80edd80
int riskyHoneyAttack_80EDD80()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EDD94 + *v0))();
}


// 0x80edda0
int riskyHoneyAttack_init_80EDDA0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // r7
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        v2 = v1;
        v3 = &v0->ai->unk_68;
        sub_80B8E30(v4);
        v1 = v2;
        object_setFlag1(0x400000);
        SetAIDataUnk0x48Flag(0x200000);
        *(v2 + 1) = 4;
        *(v2 + 16) = 1;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80edde0
signed int riskyHoneyAttack_update_80EDDE0()
{
    int v0; // r5
    int v1; // r7
    signed int result; // r0

    if ( *(v1 + 13) )
        *(v0 + 13) = 0;
    else
        riskyHoneyAttack_update_sub_80EDE4A();
    *(v1 + 18) = 3;
    result = 8;
    *v1 = 8;
    return result;
}


// 0x80eddfc
void riskyHoneyAttack_exit_80EDDFC()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    v2 = *(v1 + 1);
    if ( v2 != 1 )
    {
        if ( v2 > 1 )
            goto LABEL_6;
        *(v1 + 1) = 1;
        *(v1 + 16) = 10;
        *(v1 + 48) = 0;
    }
    if ( *(v1 + 48) )
    {
        riskyHoneyAttack_update_sub_80EDE4A();
        *(v1 + 1) = 2;
    }
LABEL_6:
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3--, 1);
    *(v1 + 16) = v3;
    if ( (v3 < 0) ^ v4 )
    {
        v5 = *(v1 + 18);
        v4 = __OFSUB__(v5--, 1);
        *(v1 + 18) = v5;
        if ( ((v5 < 0) ^ v4) | (v5 == 0) )
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            ClearAIDataUnk0x48Flag(0x200000);
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 1) = 0;
        }
    }
}


// 0x80ede4a
int riskyHoneyAttack_update_sub_80EDE4A()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    int v4; // r6
    u32 v5; // r0
    int v6; // r2

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 12);
    v4 = *(v1 + 8) + *(v1 + 6);
    spawnRiskyHoneyObject_80D32FE(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0x100000);
    v5 = v0->ai->unk_68;
    *(v5 + 16) = 1;
    *(v5 + 17) = -1;
    return PlaySoundEffect(424, 255, v6);
}


// 0x80ede7e
int sub_80EDE7E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EDE90 + *v0))();
}


// 0x80ede98
int sub_80EDE98()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    char v5; // r0
    int v6; // r6
    int v7; // r1
    int v8; // r2
    int v9; // r1
    int v10; // r2

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v4 )
        {
            v5 = object_getFrontDirection(v0);
            v6 = *(v1 + 8);
            sub_80D398E(v5 + v0->panelX, v0->panelY, *(v1 + 2), 0);
            PlaySoundEffect(244, v7, v8);
            PlaySoundEffect(184, v9, v10);
            *(v1 + 16) = 60;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        *(v1 + 16) = 7;
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80edef6
void sub_80EDEF6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        object_clearFlag(64);
        object_exitAttackState(v0);
    }
}


// 0x80edf0c
void sub_80EDF0C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    __int16 v4; // r0
    char v5; // r2

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 1;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v4 = sub_800FFFE();
        v5 = 0;
        if ( v4 & 0x1000 || (v5 = 1, v4 & 0x2000) )
        {
            v0->directionFlip = v5;
            sub_800F2C6();
            sub_801DBD4();
        }
        sub_800FFEE(12288);
        object_exitAttackState(v0);
    }
}


// 0x80edf5c
int sub_80EDF5C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EDF70 + *v0))();
}


// 0x80edf78
int sub_80EDF78()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            object_setAnimation(v0);
            sub_80EDFEA();
            *(v1 + 16) = 90;
            *(v1 + 18) = 1;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80edfc0
void __fastcall sub_80EDFC0(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0

    v5 = *(v4 + 18);
    v6 = __OFSUB__(v5--, 1);
    *(v4 + 18) = v5;
    if ( (v5 < 0) ^ v6 )
    {
        *(v4 + 18) = 16;
        PlaySoundEffect(410, a2, a3);
    }
    v7 = *(v4 + 16);
    v6 = __OFSUB__(v7--, 1);
    *(v4 + 16) = v7;
    if ( (v7 < 0) ^ v6 )
    {
        object_clearFlag(64);
        object_exitAttackState(v3);
    }
}


// 0x80edfea
int sub_80EDFEA()
{
    Battle *v0; // r5
    int v1; // r7
    char *v2; // r6
    int v3; // r4
    int result; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r6
    int v10; // [sp-10h] [bp-1Ch]
    int v11; // [sp-Ch] [bp-18h]
    char *v12; // [sp-4h] [bp-10h]

    v2 = byte_80199B6;
    v3 = object_getFrontDirection(v0);
    result = v3 + v0->panelX;
    v5 = v0->panelY;
    while ( 1 )
    {
        v6 = *v2;
        if ( v6 == 127 )
            break;
        v10 = result;
        v11 = v5;
        v12 = v2;
        v7 = result + v6 * v3;
        v8 = v5 + v2[1];
        if ( v7 >= 1 && v7 <= 6 && v8 >= 1 && v8 <= 3 )
        {
            v9 = *(v1 + 8);
            sub_80D07A0(v7, v8, *(v1 + 2), 0);
        }
        result = v10;
        v5 = v11;
        v2 = v12 + 2;
    }
    return result;
}


// 0x80ee044
int sub_80EE044()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE058 + *v0))();
}


// 0x80ee060
int sub_80EE060()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r4
    int v5; // r6
    int v6; // r1
    int v7; // r2

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            object_setAnimation(v0);
            v3 = object_getFrontDirection(v0);
            v4 = *(v1 + 12);
            v5 = *(v1 + 8);
            sub_80D5718(v3 + v0->panelX, v0->panelY, *(v1 + 2), 0);
            PlaySoundEffect(184, v6, v7);
            *(v1 + 16) = 45;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ee0bc
int dollThunderAttack_80EE0BC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE0D0 + *v0))();
}


// 0x80ee0dc
signed int dollThunderAttack_init_80EE0DC()
{
    Battle *v0; // r5
    int v1; // r7
    _WORD *v2; // ST00_4
    int v3; // r0
    int v4; // r7
    signed int result; // r0

    object_setAnimation(v0);
    object_setDefaultCounterTime();
    v2 = v1;
    v3 = *(v1 + 14);
    v4 = &v0->ai->unk_68;
    sub_80B8E30(v3);
    object_setFlag1(0x400000);
    v2[8] = 10;
    result = 4;
    *v2 = 4;
    return result;
}


// 0x80ee110
int dollThunderAttack_update_80EE110()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char v5; // r0
    int v6; // r6
    int v7; // r4
    int v8; // r1
    int v9; // r2
    int v10; // r0

    if ( !*(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v1 + 16) = result;
        if ( !(((result < 0) ^ v3) | (result == 0)) )
            return result;
        ++*(v0->ai->unk_68 + 16);
        *(v1 + 18) = 15;
        *(v1 + 1) = 4;
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 8) + *(v1 + 6);
        v7 = *(v1 + 12);
        spawnDollThunderObject_80D5890(v5 + v0->panelX, v0->panelY, *(v1 + 2), 0);
        PlaySoundEffect(410, v8, v9);
    }
    v10 = *(v1 + 18);
    v3 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v1 + 18) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ee162
void dollThunderAttack_exit_80EE162()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        --*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 6;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ee192
int sub_80EE192()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE1A4 + *v0))();
}


// 0x80ee1ac
int sub_80EE1AC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    signed int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    char v8; // r0
    int v9; // r6
    int v10; // r0
    int v11; // r3
    int v12; // r1
    int v13; // r2
    int v14; // ST00_4
    int v15; // ST04_4
    int v16; // ST08_4
    int v17; // ST0C_4
    int v18; // r0
    unsigned __int8 v19; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        PlaySoundEffect(287, v2, v3);
        v4 = sub_80EBAE8() << 8;
        *(v1 + 3);
        sub_80B8E30(v4);
        object_setFlag1(0x400000);
        object_getFlip(v0);
        v5 = *(v0 + 19);
        v6 = object_getCoordinatesForPanels(*(v0 + 18));
        SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0x100000);
        *(v1 + 16) = 21;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 12 )
    {
        v8 = object_getFrontDirection(v0);
        v9 = *(v1 + 8) + *(v1 + 6);
        *(object_spawnCollisionRegion(v8 + *(v0 + 18), *(v0 + 19), *(v1 + 2), 0x100000) + 32) = 10;
        v10 = object_getFrontDirection(v0) + *(v0 + 18);
        v12 = 1;
        v13 = *(v0 + 22);
        do
        {
            v14 = v10;
            v15 = v12;
            v16 = v13;
            v17 = v11;
            sub_80CD488(v10, v12, v13, v11);
            v10 = v14;
            v13 = v16;
            v11 = v17;
            v12 = v15 + 1;
        }
        while ( v15 + 1 <= 3 );
    }
    v18 = *(v1 + 16);
    v19 = __OFSUB__(v18, 1);
    result = v18 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v19 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ee274
void sub_80EE274()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ee2a0
int sub_80EE2A0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE2B4 + *v0))();
}


// 0x80ee2c0
signed int sub_80EE2C0()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 18) = 1;
    *(v0 + 48) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80ee2ce
int __fastcall sub_80EE2CE(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // r8
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r6
    int v11; // r0
    unsigned __int8 v12; // vf
    int v13; // r0

    if ( !*(v5 + 1) )
    {
        object_setAnimation(v4);
        object_setDefaultCounterTime();
        PlaySoundEffect(199, v7, v8);
        object_setFlag1(0x400000);
        *(v5 + 16) = 21;
        *(v5 + 1) = 4;
    }
    if ( *(v5 + 16) == 18 )
    {
        v9 = *(v5 + 6);
        v10 = *(v5 + 8) + v9;
        sub_80D5D34(v9, a2, 0, a4);
    }
    v11 = *(v5 + 16);
    v12 = __OFSUB__(v11--, 1);
    *(v5 + 16) = v11;
    if ( (v11 < 0) ^ v12 )
    {
        v13 = *(v5 + 18);
        v12 = __OFSUB__(v13--, 1);
        *(v5 + 18) = v13;
        if ( !(((v13 < 0) ^ v12) | (v13 == 0)) )
        {
            v4->parent = 0;
            v4->ai->unk_68 = 0;
            *(v5 + 1) = 0;
            return v6;
        }
        *v5 = 8;
    }
    return v6;
}


// 0x80ee33a
void sub_80EE33A()
{
    Battle *v0; // r5

    v0->parent = 0;
    v0->ai->unk_68 = 0;
    object_exitAttackState(v0);
}


// 0x80ee34a
int sub_80EE34A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE35C + *v0))();
}


// 0x80ee370
signed int sub_80EE370()
{
    unsigned __int8 *v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r0
    int v4; // r1

    result = 4;
    *v1 = 4;
    if ( *(v1 + 12) )
    {
        result = sub_800E5FC(4);
        if ( result )
        {
            object_setFlag1(64);
            v3 = v0[18];
            v0[20] = v3;
            v4 = v0[19];
            v0[21] = v4;
            object_reservePanel(v3, v4);
            sub_8015B00();
        }
    }
    return result;
}


// 0x80ee406
int __fastcall sub_80EE406(int a1, int a2, int a3, int a4, int a5)
{
    Battle *v5; // r5
    int v6; // r7
    int v7; // r1
    int v8; // r2
    int v9; // r0
    int v10; // r1
    int v11; // r1
    int v12; // r0
    signed int v13; // r4
    int v14; // r4
    int v15; // r0
    __int16 v16; // t1
    int v17; // r0
    int v18; // r4
    char v19; // r0
    int v20; // r6
    int v21; // r3
    int v22; // r0
    unsigned __int8 v23; // vf
    int result; // r0
    int v25; // r0
    char v26; // [sp-Ch] [bp-1Ch]
    int v27; // [sp-8h] [bp-18h]
    int v28; // [sp-4h] [bp-14h]

    if ( !*(v6 + 1) )
    {
        v7 = *(v6 + 3);
        object_setAnimation(v5);
        sub_8011450(v5);
        object_setDefaultCounterTime();
        v9 = 176;
        v10 = *(v6 + 3);
        if ( v10 == 5 || v10 == 11 || v10 == 18 || v10 == 6 )
            v9 = 206;
        PlaySoundEffect(v9, v10, v8);
        v12 = *(v6 + 3);
        if ( v12 != 16 && v11 != 17 )
        {
            v13 = sub_80EBB78() << 16;
            v14 = (v13 + sub_80EBAE8()) << 8;
            v15 = sub_80EBB34();
            sub_80B8E30(v15);
        }
        object_setFlag1(0x400000);
        *(v6 + 16) = 21;
        *(v6 + 1) = 4;
    }
    v16 = *(v6 + 16);
    v17 = *(v6 + 3);
    if ( *(v6 + 16) == 12 )
    {
        v18 = *(v6 + 3);
        v19 = object_getFrontDirection(v5);
        v20 = *(v6 + 8) + *(v6 + 6);
        v26 = v19 + v5->panelX;
        v27 = v5->panelY;
        v28 = *(v6 + 2);
        sub_80D8222(v26, v27, v28, 0);
        if ( v18 == 10 )
        {
            sub_80D8222(v26, v27, v28, v21);
        }
        else if ( v18 == 11 )
        {
            *(v6 + 3) = 18;
        }
    }
    v22 = *(v6 + 16);
    v23 = __OFSUB__(v22, 1);
    result = v22 - 1;
    *(v6 + 16) = result;
    if ( (result < 0) ^ v23 )
    {
        v25 = *(v6 + 18);
        v23 = __OFSUB__(v25--, 1);
        *(v6 + 18) = v25;
        if ( !(((v25 < 0) ^ v23) | (v25 == 0)) )
        {
            v5->parent = 0;
            v5->ai->unk_68 = 0;
            *(v6 + 1) = 0;
            JUMPOUT(__CS__, a5);
        }
        result = 16;
        if ( *(v6 + 12) )
            result = 12;
        *v6 = result;
    }
    return result;
}


// 0x80ee50c
void sub_80EE50C()
{
    _BYTE *v0; // r5
    int v1; // r0
    int v2; // r1

    if ( !(sprite_getFrameParameters() & 0x80) )
        JUMPOUT(&locret_80EE55C);
    v1 = v0[20];
    v2 = v0[21];
    v0[18] = v1;
    v0[19] = v2;
    object_removePanelReserve(v1, v2);
    JUMPOUT(loc_80EE524);
}


// 0x80ee532
void sub_80EE532()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        object_clearFlag(64);
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ee55e
int sub_80EE55E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE570 + *v0))();
}


// 0x80ee57c
signed int sub_80EE57C()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    _WORD *v3; // ST00_4
    int v4; // r7
    signed int result; // r0

    object_setAnimation(v0);
    v2 = object_setDefaultCounterTime();
    v3 = v1;
    v4 = &v0->ai->unk_68;
    sub_80B8E30(v2);
    object_setFlag1(0x400000);
    v3[8] = 1;
    result = 4;
    *v3 = 4;
    return result;
}


// 0x80ee5a8
int sub_80EE5A8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    signed __int16 v5; // r0
    char v6; // r0
    int v7; // r6
    int v8; // r4
    int v9; // r0

    if ( !*(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v1 + 16) = result;
        if ( !(((result < 0) ^ v3) | (result == 0)) )
            return result;
        ++*(v0->ai->unk_68 + 16);
        v5 = 5;
        if ( *(v1 + 15) != 1 )
            v5 = *(v1 + 14) - 5;
        *(v1 + 18) = v5;
        *(v1 + 1) = 4;
        v6 = object_getFrontDirection(v0);
        v7 = *(v1 + 8) + *(v1 + 6);
        v8 = *(v1 + 12);
        sub_80D6B78(v6 + v0->panelX, v0->panelY, *(v1 + 2), 0);
    }
    v9 = *(v1 + 18);
    v3 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v1 + 18) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ee604
void sub_80EE604()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        --*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 6;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ee634
int sub_80EE634()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE648 + *v0))();
}


// 0x80ee654
signed int sub_80EE654()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    signed int result; // r0

    object_setAnimation(v0);
    sub_80EB562();
    object_setFlag1(0x400000);
    result = 4;
    *v1 = 4;
    return result;
}


// 0x80ee66e
signed int sub_80EE66E()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6
    int v3; // r4
    signed __int16 v4; // r0
    signed int result; // r0

    v2 = *(v1 + 8) + *(v1 + 6);
    v3 = *(v1 + 12);
    sub_80D75D4(*(v0 + 18), *(v0 + 19), *(v1 + 2), -786432);
    if ( *(v1 + 3) && *(v1 + 12) != 4 )
        v4 = 15;
    else
        v4 = 30;
    *(v1 + 16) = v4;
    *(v0 + 64) = 196608;
    result = 8;
    *v1 = 8;
    return result;
}


// 0x80ee6a4
void sub_80EE6A4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    u32 v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r0

    v2 = object_getFrontDirection(v0);
    v3 = v0->vx;
    if ( v3 )
    {
        v0->x -= v2 * v3;
        v0->vx = v3 - 0x8000;
    }
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4--, 1);
    *(v1 + 16) = v4;
    if ( (v4 < 0) ^ v5 )
    {
        object_setCoordinatesFromPanels(v0);
        if ( *(v1 + 3) && (v6 = *(v1 + 12), v6 != 4) )
        {
            v7 = v6 + 1;
            *(v1 + 12) = v7;
            if ( v7 == 4 )
                *(v1 + 14) = 1;
            *v1 = 4;
        }
        else
        {
            v0->ai->unk_68 = 0;
            object_exitAttackState(v0);
        }
    }
}


// 0x80ee6fc
int sub_80EE6FC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE710 + *v0))();
}


// 0x80ee71c
signed int sub_80EE71C()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    _WORD *v3; // ST00_4
    int v4; // r7
    signed int result; // r0

    object_setAnimation(v0);
    v2 = object_setDefaultCounterTime();
    v3 = v1;
    v4 = &v0->ai->unk_68;
    sub_80B8E30(v2);
    object_setFlag1(0x400000);
    v3[8] = 1;
    result = 4;
    *v3 = 4;
    return result;
}


// 0x80ee748
int sub_80EE748()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char v5; // r0
    int v6; // r6
    int v7; // r4
    int v8; // r1
    int v9; // r2
    int v10; // r0

    if ( !*(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v1 + 16) = result;
        if ( !(((result < 0) ^ v3) | (result == 0)) )
            return result;
        ++*(v0->ai->unk_68 + 16);
        *(v1 + 18) = 10;
        *(v1 + 1) = 4;
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 8) + *(v1 + 6);
        v7 = *(v1 + 12);
        sub_80D7ED4(v5 + v0->panelX, v0->panelY, *(v1 + 2), 0);
        PlaySoundEffect(243, v8, v9);
    }
    v10 = *(v1 + 18);
    v3 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v1 + 18) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ee7a0
void sub_80EE7A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        --*(v0->ai->unk_68 + 16);
        *(v1 + 16) = 6;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80ee7d0
int sub_80EE7D0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE7E4 + *v0))();
}


// 0x80ee7ec
int sub_80EE7EC()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r6
    int v5; // r1
    int v6; // r2

    result = object_getFlag();
    if ( !(result & 0x1040) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 8);
        sub_80D8F98(v3 + v0->panelX, v0->panelY, *(v1 + 2), -262144 * *(v1 + 3));
        PlaySoundEffect(273, v5, v6);
        *(v1 + 16) = 70;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ee840
int sub_80EE840()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE854 + *v0))();
}


// 0x80ee860
int sub_80EE860()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            object_setAnimation(v0);
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ee89c
int sub_80EE89C()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r1
    char *i; // r4
    int v7; // r2
    int v8; // ST00_4
    int v9; // ST04_4
    int v10; // r0
    int v11; // r3
    int v12; // r2
    bool v13; // zf
    int v14; // r6
    int v15; // r1
    int v16; // r2

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v3 = sub_80ED040();
        if ( v4 )
        {
            v5 = v0->panelY;
            for ( i = byte_80EE904; ; ++i )
            {
                v7 = *i;
                if ( v7 == 127 )
                    break;
                v8 = v3;
                v9 = v5 + v7;
                v10 = object_getPanelParameters(v3, v5 + v7);
                v12 = v0->Alliance;
                v13 = (v10 & (&LCDControl << v12)) == 0;
                v3 = v8;
                v5 = v9;
                if ( !v13 )
                    goto LABEL_9;
            }
        }
        v3 = 3 * object_getFrontDirection(v0) + v0->panelX;
        v5 = v0->panelY;
LABEL_9:
        v14 = *(v1 + 8);
        sub_80D981C(v3, v5 << 24, v12, v11);
        PlaySoundEffect(196, v15, v16);
        *(v1 + 16) = 20;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80ee90c
int sub_80EE90C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EE920 + *v0))();
}


// 0x80ee92c
int sub_80EE92C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r1
    int v8; // r2

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        object_clearFlag(4096);
        object_setFlag1(64);
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_clearCollisionRegion();
        sub_802CEA6(v0->Alliance);
        *(v1 + 16) = 3;
        *(v1 + 1) = 4;
    }
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v5 )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        PlaySoundEffect(263, v7, v8);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ee996
int __fastcall sub_80EE996(int a1, int a2, int a3)
{
    _BYTE *v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r0
    int v7; // ST00_4
    int v8; // r6
    int v9; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int result; // r0

    v5 = 2;
    *v3 &= 0xFDu;
    if ( *(v4 + 1) )
        goto LABEL_9;
    if ( !*(v4 + 3) )
    {
        v6 = sub_8016004();
        goto LABEL_6;
    }
    if ( *(v4 + 3) == 1 )
    {
        v6 = sub_8016218();
LABEL_6:
        if ( v6 )
        {
            v7 = a3;
            v8 = *(v4 + 8) + *(v4 + 6);
            v9 = sub_80DD91A(v6, v5, *(v4 + 2), 10485760);
            a3 = v7;
            *(v9 + 23) = v7;
        }
    }
    PlaySoundEffect(183, v5, a3);
    *(v4 + 16) = 30;
    *(v4 + 1) = 4;
LABEL_9:
    v10 = *(v4 + 16);
    v11 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v4 + 16) = result;
    if ( (result < 0) ^ v11 )
    {
        result = 8;
        *v4 = 8;
    }
    return result;
}


// 0x80ee9f2
void sub_80EE9F2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setCollisionRegion(1);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        sub_800FFEE(byte_200);
        object_clearFlag(64);
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80eea3c
int sub_80EEA3C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EEA50 + *v0))();
}


// 0x80eea5c
signed int __fastcall sub_80EEA5C(int a1, int a2, int a3)
{
    _WORD *v3; // r7
    signed int result; // r0

    v3[9] = 3;
    PlaySoundEffect(119, a2, a3);
    object_setDefaultCounterTime();
    object_setInvulnerableTime(0xFFFF);
    result = 4;
    *v3 = 4;
    return result;
}


// 0x80eea78
int sub_80EEA78()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    signed int v4; // r0
    char v5; // r0
    int v6; // r6
    int v7; // r3
    int v8; // r4
    int v9; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int result; // r0
    int v13; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        sub_8011450(v0);
        sub_802CEA6(v0->Alliance);
        PlaySoundEffect(176, v2, v3);
        sub_80EBB34();
        v4 = sub_80EBAE8();
        sub_80B8E30(v4 << 8);
        object_setFlag1(0x400000);
        *(v1 + 16) = 21;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 12 )
    {
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 8) + *(v1 + 6);
        v7 = *(v1 + 18);
        v8 = *(&dword_80EEB14 + v7);
        v9 = sub_80CF91E(v5 + v0->panelX, v0->panelY, *(v1 + 2), v7);
        if ( v9 )
            *(v9 + 64) = 0x80000;
    }
    v10 = *(v1 + 16);
    v11 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v11 )
    {
        v13 = *(v1 + 18);
        v11 = __OFSUB__(v13--, 1);
        *(v1 + 18) = v13;
        if ( ((v13 < 0) ^ v11) | (v13 == 0) )
        {
            result = 8;
            *v1 = 8;
        }
        else
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            result = 0;
            *(v1 + 1) = 0;
        }
    }
    return result;
}


// 0x80eeb18
void sub_80EEB18()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        sub_800FFEE(&byte_400);
        sub_800EB08();
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80eeb4c
int sub_80EEB4C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EEB60 + *v0))();
}


// 0x80eeb68
int sub_80EEB68()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r10
    int v3; // r1
    int v4; // r2
    signed int v5; // r0
    int *v6; // r6
    signed int v7; // r4
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setDefaultCounterTime();
        object_setAnimation(v0);
        PlaySoundEffect(176, v3, v4);
        sub_80EBB34();
        v5 = sub_80EBAE8();
        sub_80B8E30(v5 << 8);
        object_setFlag1(0x400000);
        *(v1 + 16) = 21;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 12 )
    {
        v6 = (*(v2 + oToolkit_S2034880_Ptr) + 128 + 16 * (v0->Alliance ^ 1));
        v7 = 4;
        do
        {
            sub_80EEC08(*v6);
            ++v6;
            --v7;
        }
        while ( v7 );
    }
    v8 = *(v1 + 16);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v9 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80eebe2
void sub_80EEBE2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80eec08
void __fastcall sub_80EEC08(int result)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r4
    int v4; // r6
    char v5; // ST00_1
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r1
    int v10; // r0
    int v11; // r4

    if ( result )
    {
        if ( (v3 = result, *(v2 + 3) != 1) && *(*(result + 84) + 28)
            || *(v2 + 3) && object_getPanelParameters(*(result + 18), *(result + 19)) & 0x1C00 )
        {
            v4 = *(v2 + 8) + *(v2 + 6);
            v5 = *(v3 + 18);
            object_spawnCollisionRegion(*(v3 + 18), *(v3 + 19), *(v2 + 2), 0);
            v6 = object_getCoordinatesForPanels(v5);
            v8 = v7;
            v9 = v6;
            v10 = v1->Alliance << 8;
            v11 = (((*(v2 + 3) + 7) << 16) + 22) | v10;
            SpawnT4BattleObjectWithId0(v1, v10, v9, v8, 0x100000);
        }
    }
}


// 0x80eec70
int sub_80EEC70()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EEC84 + *v0))();
}


// 0x80eec90
int sub_80EEC90()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v4 )
        {
            object_setAnimation(v0);
            *(v1 + 16) = 21;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 14;
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80eeccc
int __fastcall sub_80EECCC(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r6
    int v6; // ST00_4
    int v7; // r0
    int v8; // r1
    int v9; // r0
    unsigned __int8 v10; // vf
    int result; // r0

    if ( *(v4 + 16) == 12 )
    {
        PlaySoundEffect(266, a2, a3);
        v5 = *(v4 + 8);
        v6 = object_getFrontDirection(v3) + v3->panelX;
        object_spawnCollisionRegion(v6, v3->panelY, 4, 0);
        object_getFlip(v3);
        v7 = object_getCoordinatesForPanels(v6);
        SpawnT4BattleObjectWithId0(v3, v7, v7, v8, 0x100000);
    }
    v9 = *(v4 + 16);
    v10 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v4 + 16) = result;
    if ( (result < 0) ^ v10 )
    {
        v3->parent = 0;
        v3->ai->unk_68 = 0;
        result = 8;
        *v4 = 8;
    }
    return result;
}


// 0x80eed30
void sub_80EED30()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80eed56
int sub_80EED56()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EED68 + *v0))();
}


// 0x80eed74
int sub_80EED74()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r1
    int v8; // r2

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        object_clearFlag(4096);
        object_setFlag1(64);
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_clearCollisionRegion();
        sub_802CEA6(v0->Alliance);
        *(v1 + 16) = 3;
        *(v1 + 1) = 4;
    }
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v5 )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        PlaySoundEffect(263, v7, v8);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80eedde
int __fastcall sub_80EEDDE(int a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    int v5; // r7
    int v6; // r0
    int v7; // r6
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    *v4 &= 0xFDu;
    if ( !*(v5 + 1) )
    {
        v6 = *(v5 + 6);
        v7 = *(v5 + 8) + v6;
        sub_80E8396(v6, 2, *(v5 + 2), a4);
        *(v5 + 16) = 30;
        *(v5 + 1) = 4;
    }
    v8 = *(v5 + 16);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v5 + 16) = result;
    if ( (result < 0) ^ v9 )
    {
        result = 8;
        *v5 = 8;
    }
    return result;
}


// 0x80eee10
void sub_80EEE10()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setCollisionRegion(1);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        sub_800FFEE(0x8000);
        object_clearFlag(64);
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x80eee60
int sub_80EEE60()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EEE74 + *v0))();
}


// 0x80eee88
int sub_80EEE88()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 1;
        object_clearFlag(64);
        *(v1 + 16) = 3;
        object_setAnimation(v0);
        object_reservePanel(v0->panelX, v0->panelY);
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->panelX = sub_80EEFBC();
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 11;
        object_setAnimation(v0);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80eeed4
int sub_80EEED4()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( v1[8] == 8 )
        object_setAnimation(v0);
    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v1[8] = 20;
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80eef02
int sub_80EEF02()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    char v6; // r0
    int v7; // r6
    char v8; // ST00_1
    int v9; // ST04_4
    int v10; // ST08_4
    int v11; // r1
    int v12; // r2
    int v13; // r0
    unsigned __int8 v14; // vf
    int result; // r0

    if ( *(v1 + 16) == 20 )
    {
        v2 = object_getFrontDirection(v0);
        v3 = v0->panelY;
        v4 = object_getCoordinatesForPanels(v2 + v0->panelX);
        SpawnT4BattleObjectWithId0(v0, v4, v4, v5, 0x100000);
        v6 = object_getFrontDirection(v0);
        v7 = *(v1 + 8);
        v8 = v6 + v0->panelX;
        v9 = v0->panelY;
        v10 = *(v1 + 2);
        sub_80DB970(v8, v9, v10, 0);
        object_spawnCollisionRegion(v8, v9, v10, 0);
        object_setDefaultCounterTime();
        PlaySoundEffect(344, v11, v12);
    }
    v13 = *(v1 + 16);
    v14 = __OFSUB__(v13, 1);
    result = v13 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v14) | (result == 0) )
    {
        object_setAnimation(v0);
        *(v1 + 16) = 3;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80eef70
int sub_80EEF70()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        object_setAnimation(v0);
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        *v1 = 16;
        result = 3;
        v1[8] = 3;
    }
    return result;
}


// 0x80eefa4
void sub_80EEFA4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        object_clearFlag(0x400000);
        object_exitAttackState(v0);
    }
}


// 0x80eefbc
int sub_80EEFBC()
{
    int v0; // r5
    int v1; // r0
    signed int v2; // r1
    int v3; // r2

    v1 = sub_80E164A();
    if ( v2 == *(v0 + 19) )
    {
        v3 = 2;
    }
    else
    {
        v2 = *(v0 + 19);
        v3 = 11;
    }
    return battle_beastJumpLockOn_8026554(v1, v2, v3);
}


// 0x80eefdc
int sub_80EEFDC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EEFF0 + *v0))();
}


// 0x80ef004
int sub_80EF004()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    _WORD *v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r0
    signed int v8; // r1
    int v9; // r2
    int v10; // r0
    int v11; // r1
    int v12; // r2
    int v13; // r3
    u8 v14; // r1

    if ( !*(v1 + 1) )
    {
        result = sub_800E5FC(*(v1 + 1));
        if ( !result )
            return result;
        *(v1 + 1) = 1;
        *(v1 + 16) = 30;
        object_setAnimation(v0);
        object_reservePanel(v0->panelX, v0->panelY);
        object_clearCollisionRegion();
        object_setFlag1(64);
    }
    if ( *(v1 + 16) == 27 )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
        if ( v3 )
        {
            v3[16] = 27;
            --v3[29];
            --v3[31];
        }
        v0->x = 11796480;
    }
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        v6 = v0->panelY;
        v7 = CheckIfOpposingAllianceInObjectRow();
        if ( !v7 )
        {
            sub_81096FA(v0->Alliance ^ 1, v0->panelY, v9, byte_80EF0A4);
            v7 = object_getClosestPanelMatchingRowFiltered(v10, v11, v12, v13);
        }
        v0->panelX = battle_beastJumpLockOn_8026554(v7, v8, 12);
        v0->panelY = v14;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_setCollisionRegion(1);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ef0b4
int sub_80EF0B4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 10;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 7 )
        object_setAnimation(v0);
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *v1 = 8;
        result = sub_80EF0E2();
    }
    return result;
}


// 0x80ef0e2
int sub_80EF0E2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int v5; // r0
    int v6; // r4
    int v7; // r6
    int v8; // r1
    int v9; // r1
    int v10; // r2
    int v11; // r0
    unsigned __int8 v12; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setFlag1(0x400000);
        object_setAnimation(v0);
        v2 = *(v1 + 3);
        v3 = v1;
        v4 = &v0->ai->unk_68;
        v5 = sub_80B8E30(v2);
        v6 = *(v3 + 12);
        v7 = *(v3 + 8) + *(v3 + 6);
        sub_80D2B8E(v5, v8, *(v3 + 2), 0x100000);
        v1 = v3;
        object_setDefaultCounterTime();
        *(v1 + 16) = *(v1 + 13) + 10;
        PlaySoundEffect(447, v9, v10);
        *(v3 + 1) = 4;
    }
    v11 = *(v1 + 16);
    v12 = __OFSUB__(v11, 1);
    result = v11 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v12) | (result == 0) )
    {
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80ef14a
int sub_80EF14A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    if ( !*(v1 + 1) )
    {
        sub_80B8E70(v0->ai->unk_68, 0);
        *(v1 + 16) = 10;
        *(v1 + 1) = 8;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        v5 = v0->futurePanelY;
        v6 = object_getCoordinatesForPanels(v0->futurePanelX);
        SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0x100000);
        *v1 = 16;
        *(v1 + 16) = 3;
        object_clearCollisionRegion();
        v0->x = 11796480;
        result = 0;
        v0->parent = 0;
        v0->ai->unk_68 = 0;
    }
    return result;
}


// 0x80ef1ae
void sub_80EF1AE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        object_clearFlag(0x400000);
        object_clearFlag(64);
        object_setCollisionRegion(1);
        v4 = v0->futurePanelX;
        v5 = v0->futurePanelY;
        v0->panelX = v4;
        v0->panelY = v5;
        object_removePanelReserve(v4, v5);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_exitAttackState(v0);
    }
}


// 0x80ef1ec
int sub_80EF1EC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF200 + *v0))();
}


// 0x80ef208
int sub_80EF208()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            object_setAnimation(v0);
            *(v1 + 16) = 95;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80ef248
void sub_80EF248()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r6
    int v5; // r0
    unsigned __int8 v6; // vf

    v2 = 1;
    v3 = *(v1 + 16);
    if ( v3 == 93 || (v2 = 3, v3 == 83) )
    {
        v4 = *(v1 + 8);
        sub_80CA4D8(5 * v0->Alliance + 1, v2, *(v1 + 2), 0x100000);
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5--, 1);
    *(v1 + 16) = v5;
    if ( (v5 < 0) ^ v6 )
    {
        object_clearFlag(64);
        object_exitAttackState(v0);
    }
}


// 0x80ef282
int sub_80EF282()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF294 + *v0))();
}


// 0x80ef29c
int sub_80EF29C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char v5; // r0
    int v6; // r6
    int v7; // r1
    int v8; // r2

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        sub_80EF30A();
        *(v1 + 16) = 30;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 15 )
        sub_80EF30A();
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        object_setAnimation(v0);
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 8);
        sub_80DDBAC(v5 + v0->panelX, v0->panelY, *(v1 + 2), 1572864);
        PlaySoundEffect(455, v7, v8);
        *(v1 + 16) = 50;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ef30a
int sub_80EF30A()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, 0);
}


// 0x80ef328
int sub_80EF328()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF33C + *v0))();
}


// 0x80ef348
int sub_80EF348()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    u32 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        object_setFlag1(64);
        v0->vz = 24576;
        *(v1 + 16) = 16;
        object_clearCollisionRegion();
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        *(v1 + 1) = 4;
    }
    v4 = v0->vz;
    v0->z += v4;
    v0->vz = v4 + 12288;
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ef3a0
int sub_80EF3A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r6

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 1;
        sub_80EF3F4();
        *(v1 + 16) = 4;
        *(v1 + 18) = 6;
        object_setAnimation(v0);
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        *(v1 + 16) = 10;
        if ( *(v1 + *(v1 + 18) + 47) )
        {
            v5 = *(v1 + 8);
            sub_80DDDCC(v0->panelX, v0->panelY, *(v1 + 2), v0->z);
        }
        result = *(v1 + 18) - 1;
        *(v1 + 18) = result;
        if ( !result )
        {
            *(v1 + 16) = 30;
            result = 8;
            *v1 = 8;
        }
    }
    return result;
}


// 0x80ef3f4
int *sub_80EF3F4()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r7
    int v5; // r4
    int *v6; // r6
    int *v7; // r7
    char v8; // r1
    int *result; // r0
    _DWORD *v10; // r1
    int v11; // [sp-4h] [bp-30h]
    int v12; // [sp+0h] [bp-2Ch]
    int v13; // [sp+4h] [bp-28h]
    int v14; // [sp+8h] [bp-24h]

    v1 = 2 * object_getFrontDirection(v0) + v0->panelX;
    v2 = v0->panelY;
    v13 = 0;
    v14 = 0;
    v3 = object_getPanelRegion(v1, v2, 0x10000, 0);
    v4 = v12;
    if ( v3 != 6 )
    {
        v11 = v3;
        v5 = v3;
        v6 = &v13;
        v7 = &v13;
        do
        {
            if ( object_getPanelParameters(*v7 & 7, *v7 >> 4) & 0xC000000 )
            {
                v8 = *v6;
                *v6 = *v7;
                *v7 = v8;
                v6 = (v6 + 1);
            }
            v7 = (v7 + 1);
            --v5;
        }
        while ( v5 );
        v4 = v12;
        if ( v6 != &v13 )
            sub_8000C72(v6, v11 - (v6 - &v13), 10);
    }
    sub_8000C72(&v13, 6, 10);
    result = &v13;
    v10 = (v4 + 48);
    *v10 = v13;
    v10[1] = v14;
    return result;
}


// 0x80ef47a
void sub_80EF47A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->z = 0;
        object_setCollisionRegion(1);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        object_clearFlag(64);
        object_exitAttackState(v0);
    }
}


// 0x80ef4b4
int sub_80EF4B4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF4C8 + *v0))();
}


// 0x80ef4d0
int sub_80EF4D0()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r1
    int v4; // r6
    int v5; // r4
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v1 + 16) = 15;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 13 )
    {
        v2 = sub_80ED040();
        if ( !v3 )
            v2 = object_getFrontDirection(v0) + v0->panelX;
        v4 = *(v1 + 8) + *(v1 + 6);
        v5 = *(v1 + 3);
        sub_80DE660(v2, 0, *(v1 + 2), 0);
    }
    v6 = *(v1 + 16);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v7 )
    {
        *(v1 + 16) = 5;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80ef534
int sub_80EF534()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF548 + *v0))();
}


// 0x80ef550
int sub_80EF550()
{
    Battle *v0; // r5
    int v1; // r7
    u32 *v2; // r1
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r4
    char v10; // r0
    int v11; // r1
    int v12; // r0
    int v13; // r1
    int v14; // r6
    int v15; // r1
    int v16; // r7
    int v17; // r4
    char v18; // r0

    if ( !*(v1 + 1) )
    {
        object_setFlag1(0x400000);
        *(v1 + 1) = 1;
        *(v1 + 16) = 3;
        object_setAnimation(v0);
        v2 = v0->childobject2;
        if ( v2 )
            *(v2 + 8) = 12;
    }
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        *(v1 + 16) = 12;
        object_setDefaultCounterTime();
        *v1 = 4;
        v7 = 453;
        v8 = *(v1 + 18);
        if ( v8 != 2 )
            v7 = 454;
        PlaySoundEffect(v7, v8, v6);
        v9 = byte_80EF606[2 - *(v1 + 18)] | (v0->Alliance << 8);
        v10 = object_getFrontDirection(v0);
        v11 = v0->panelY;
        v12 = object_getCoordinatesForPanels(v10 + v0->panelX);
        SpawnT4BattleObjectWithId0(v0, v12, v12, v13, 0x100000);
        v14 = *(v1 + 8);
        v15 = *(v1 + 18);
        v16 = byte_80EF604[2 - v15];
        v17 = *&byte_80EF5FC[4 * (2 - v15)];
        v18 = object_getFrontDirection(v0);
        result = object_spawnCollisionRegion(v18 + v0->panelX, v0->panelY, 0, 0);
    }
    return result;
}


// 0x80ef608
void sub_80EF608()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2--, 1);
    v1[8] = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        v4 = v1[9] - 1;
        v1[9] = v4;
        if ( v4 )
        {
            *v1 = 0;
        }
        else
        {
            object_clearFlag(0x400000);
            object_exitAttackState(v0);
        }
    }
}


// 0x80ef62e
int sub_80EF62E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF640 + *v0))();
}


// 0x80ef648
int sub_80EF648()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 18) = 48;
    *(v1 + 40) = &off_80EF670 + 5 * *(v0 + 23);
    *(v1 + 48) = 0;
    *(v1 + 52) = 0;
    *v1 = 4;
    return sub_80EF6FC(4);
}


// 0x80ef6fc
int __fastcall sub_80EF6FC(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r0
    signed int v8; // r0
    int v9; // r1
    int v10; // r1
    int result; // r0
    int v12; // r1
    int v13; // r1
    int v14; // r2
    int v15; // r0
    int v16; // ST00_4
    _BYTE *v17; // r4
    int v18; // r0
    int v19; // [sp-4h] [bp-Ch]

    v3 = sub_8013774(a1, 44);
    if ( v3 == 23 || v3 == 24 || *(v2 + 27) )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v8 = 6;
LABEL_15:
        v15 = word_80EF7D8[v8];
        goto LABEL_16;
    }
    v9 = *(v2 + 18) - 1;
    *(v2 + 18) = v9;
    if ( v9 )
    {
        if ( *(*(v1 + 88) + 34) & 1 )
        {
            result = sub_8012792(0x14u, *(*(v1 + 88) + 34) & 0x3FF, *(v2 + 40), (v2 + 53));
            if ( result == 255 )
                return result;
            v16 = result;
            PlaySoundEffect(139, v13, v14);
            v8 = v16;
            goto LABEL_15;
        }
        v19 = *(*(v1 + 88) + 34) & 0x3FF;
        v10 = sub_8013774(v19, 41);
        result = v19;
        if ( v10 == 11 )
            return result;
        v12 = sub_8013774(v19, 44);
        result = v19;
        if ( v12 == 3 || v12 == 15 )
            return result;
    }
    v15 = 71;
LABEL_16:
    *(v2 + 20) = v15;
    v17 = getChip8021DA8(v15);
    *(v2 + 3) = v17[12];
    *(v2 + 12) = *(v17 + 4);
    v18 = v17[11];
    object_setAttack0();
    if ( *(v2 + 27) )
        goto LABEL_26;
    result = sub_8013774(*(v2 + 27), 41);
    if ( result != 11 )
    {
        result = sub_8013774(result, 44);
        if ( *(v2 + 20) != 371 && *(v2 + 4) )
            *(v1 + 9) = 65;
        if ( result >= 11 && result <= 24 )
        {
LABEL_26:
            result = v17[15];
            *(v2 + 29) = result;
        }
    }
    return result;
}


// 0x80ef7e2
int sub_80EF7E2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF7F4 + *v0))();
}


// 0x80ef7fc
int sub_80EF7FC()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 18) = 48;
    *(v1 + 40) = &off_80EF824 + 3 * *(v0 + 23);
    *(v1 + 48) = 0;
    *(v1 + 52) = 0;
    *v1 = 4;
    return sub_80EF87C(4);
}


// 0x80ef87c
int __fastcall sub_80EF87C(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r0
    signed int v8; // r0
    int v9; // r1
    int v10; // r1
    int result; // r0
    int v12; // r1
    int v13; // r1
    int v14; // r2
    int v15; // r0
    int v16; // ST00_4
    _BYTE *v17; // r4
    int v18; // r0
    int v19; // [sp-4h] [bp-Ch]

    v3 = sub_8013774(a1, 44);
    if ( v3 == 23 || v3 == 24 || *(v2 + 27) )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v8 = 4;
LABEL_15:
        v15 = *&byte_80EF958[2 * v8];
        goto LABEL_16;
    }
    v9 = *(v2 + 18) - 1;
    *(v2 + 18) = v9;
    if ( v9 )
    {
        if ( *(*(v1 + 88) + 34) & 1 )
        {
            result = sub_8012792(0xCu, *(*(v1 + 88) + 34) & 0x3FF, *(v2 + 40), (v2 + 51));
            if ( result == 255 )
                return result;
            v16 = result;
            PlaySoundEffect(139, v13, v14);
            v8 = v16;
            goto LABEL_15;
        }
        v19 = *(*(v1 + 88) + 34) & 0x3FF;
        v10 = sub_8013774(v19, 41);
        result = v19;
        if ( v10 == 11 )
            return result;
        v12 = sub_8013774(v19, 44);
        result = v19;
        if ( v12 == 3 || v12 == 15 )
            return result;
    }
    v15 = 71;
LABEL_16:
    *(v2 + 20) = v15;
    v17 = getChip8021DA8(v15);
    *(v2 + 3) = v17[12];
    *(v2 + 12) = *(v17 + 4);
    v18 = v17[11];
    object_setAttack0();
    if ( *(v2 + 27) )
        goto LABEL_26;
    result = sub_8013774(*(v2 + 27), 41);
    if ( result != 11 )
    {
        result = sub_8013774(result, 44);
        if ( *(v2 + 20) != 375 && *(v2 + 4) )
            *(v1 + 9) = 65;
        if ( result >= 11 && result <= 24 )
        {
LABEL_26:
            result = v17[15];
            *(v2 + 29) = result;
        }
    }
    return result;
}


// 0x80ef970
int sub_80EF970()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EF984 + *v0))();
}


// 0x80ef990
signed int sub_80EF990()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 3);
    *(v0 + 18) = 1;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80ef9a2
int sub_80EF9A2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    signed int v4; // r0
    char v5; // r0
    int v6; // r3
    int v7; // r6
    int v8; // r4
    int v9; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int result; // r0
    int v13; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        PlaySoundEffect(176, v2, v3);
        sub_80EBB34();
        v4 = sub_80EBAE8();
        sub_80B8E30(v4 << 8);
        object_setFlag1(0x400000);
        *(v1 + 16) = 21;
        *(v1 + 1) = 4;
    }
    if ( *(v1 + 16) == 12 )
    {
        v5 = object_getFrontDirection(v0);
        v6 = *(v1 + 6);
        v7 = *(v1 + 8) + v6;
        v8 = *(v1 + 12);
        v9 = sub_80CF91E(v5 + v0->panelX, v0->panelY, *(v1 + 2), v6);
        if ( v9 )
            *(v9 + 64) = 0x80000;
    }
    v10 = *(v1 + 16);
    v11 = __OFSUB__(v10, 1);
    result = v10 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v11 )
    {
        v13 = *(v1 + 18);
        v11 = __OFSUB__(v13--, 1);
        *(v1 + 18) = v13;
        if ( ((v13 < 0) ^ v11) | (v13 == 0) )
        {
            result = 8;
            *v1 = 8;
        }
        else
        {
            v0->parent = 0;
            v0->ai->unk_68 = 0;
            result = 0;
            *(v1 + 1) = 0;
        }
    }
    return result;
}


// 0x80efa30
void sub_80EFA30()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80efa56
int sub_80EFA56()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EFA68 + *v0))();
}


// 0x80efa74
int sub_80EFA74()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r6
    int v12; // r1
    int v13; // r1
    int v14; // r2

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        _VF = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ _VF )
        {
            v0->vx = 786432 * object_getFrontDirection(v0);
            __asm { SVC         6 }
            *(v1 + 16) = 1;
            *(v1 + 18) = 13;
            object_setAnimation(v0);
            v0->y += 0x10000;
            v8 = v0->panelX;
            v9 = v0->panelY;
            v0->futurePanelX = v8;
            v0->futurePanelY = v9;
            v10 = object_reservePanel(v8, v9);
            v11 = *(v1 + 8);
            sub_80DB666(v10, v12, *(v1 + 2), 1572864);
            v0->collisionData->selfDamage = 0;
            sub_8019F86(0);
            PlaySoundEffect(391, v13, v14);
            object_setInvulnerableTime(0xFFFF);
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        object_setFlag1(0x400000);
        object_setFlag1(64);
        object_setAnimation(v0);
        object_setDefaultCounterTime();
        *(v1 + 16) = 8;
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x80efb0c
int sub_80EFB0C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    u8 v6; // r1

    if ( !*(v1 + 48) || v0->collisionData->collisionFlags )
        object_clearCollisionRegion();
    if ( !*(v1 + 48) )
        v0->vx = v0->vx >> 1;
    v0->x += v0->vx;
    object_setPanelsFromCoordinates(v0);
    if ( !*(v1 + 48) )
    {
        v2 = *(v1 + 18);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v1 + 18) = result;
        if ( !(((result < 0) ^ v3) | (result == 0)) )
            return result;
LABEL_15:
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        v0->x = 11796480;
        v6 = v0->futurePanelY;
        v0->panelX = v0->futurePanelX;
        v0->panelY = v6;
        object_clearCollisionRegion();
        *(v1 + 16) = 8;
        result = 8;
        *v1 = 8;
        return result;
    }
    object_updateCollisionPanels(v0);
    if ( !(object_getFlag() & 0x10) && !(object_getPanelParameters(v0->panelX, v0->panelY) & 0x10) )
        goto LABEL_15;
    if ( !object_isCurrentPanelValid() )
        goto LABEL_15;
    v5 = *(v1 + 16);
    v3 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
        goto LABEL_15;
    return result;
}


// 0x80efba0
void sub_80EFBA0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // r0
    int v8; // r0
    int v9; // r3

    if ( *(v1 + 16) == 3 )
    {
        v2 = v0->futurePanelY;
        v3 = object_getCoordinatesForPanels(v0->futurePanelX);
        SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5--, 1);
    *(v1 + 16) = v5;
    if ( (v5 < 0) ^ v6 )
    {
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0;
        object_clearFlag(0x400000);
        object_clearFlag(64);
        v7 = sub_800EB08();
        v8 = sub_80142C2(v7);
        sub_80107C0(v8);
        sub_8019F86(v9);
        object_setCollisionRegion(1);
        object_exitAttackState(v0);
    }
}


// 0x80efc1c
int sub_80EFC1C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EFC30 + *v0))();
}


// 0x80efc38
int sub_80EFC38()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    char v4; // r0
    int v5; // r6
    int v6; // r3
    int result; // r0

    if ( !*(v1 + 1) )
    {
        object_setAnimation(v0);
        sub_80EB562();
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        PlaySoundEffect(255, v2, v3);
        *(v1 + 1) = 4;
        *(v1 + 16) = 0;
    }
    if ( *(v1 + 16) == 1 )
    {
        v4 = object_getFrontDirection(v0);
        v5 = *(v1 + 8);
        sub_80DB800(v4 + v0->panelX, v0->panelY, *(v1 + 2), v6);
    }
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result > 4 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80efc8e
void sub_80EFC8E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 30;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80efcb4
int sub_80EFCB4()
{
    unsigned __int8 *v0; // r7
    int result; // r0

    (*(&off_80EFCD0 + *v0))();
    result = *(v0 + 12);
    if ( result )
        *(result + 32) = 2;
    return result;
}


// 0x80efcd8
int __fastcall sub_80EFCD8(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r4
    int v6; // r0
    signed int v7; // r1
    signed int v8; // r3
    int v9; // r4
    _BYTE *v10; // r0
    int v11; // r1
    int v12; // r0
    unsigned __int8 v13; // vf
    int result; // r0

    if ( !*(v4 + 1) )
    {
        v5 = sub_8013774(*(v4 + 1), 44);
        object_setAnimation(v3);
        object_setFlag1(0x400000);
        object_setFlag1(64);
        v6 = object_getFrontDirection(v3);
        v7 = 7;
        v8 = 4;
        if ( v5 == 22 )
        {
            v7 = 3;
            v8 = -10;
        }
        v9 = (v3->Alliance << 8) | 0x63;
        SpawnT4BattleObjectWithId0(v3, v6 * v7 << 16, v3->x - (v6 * v7 << 16), v3->y + (v8 << 16), v3->z);
        *(v4 + 48) = v10;
        v11 = *v10 & 0xEB;
        *v10 = v11;
        PlaySoundEffect(173, v11, 20);
        *(v4 + 16) = 9;
        *(v4 + 1) = 4;
    }
    v12 = *(v4 + 16);
    v13 = __OFSUB__(v12, 1);
    result = v12 - 1;
    *(v4 + 16) = result;
    if ( (result < 0) ^ v13 )
    {
        sub_80EFD74(result, a2, a3);
        *(v4 + 16) = 11;
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x80efd5e
void sub_80EFD5E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
    {
        object_clearFlag(64);
        object_exitAttackState(v0);
    }
}


// 0x80efd74
int *__fastcall sub_80EFD74(int a1, int a2, int a3)
{
    int v3; // r10
    int *result; // r0
    int v5; // r0
    int v6; // r3

    result = (*(v3 + oToolkit_S2034880_Ptr) + 160);
    do
    {
        sub_80EFD8C(result);
        result = (v5 + 4);
    }
    while ( v6 != 1 );
    return result;
}


// 0x80efd8c
void __fastcall sub_80EFD8C(int *a1)
{
    int v1; // r0
    int v2; // r1

    v1 = *a1;
    if ( v1 )
    {
        if ( *(v1 + 40) != 218 )
        {
            v2 = *(v1 + 84);
            if ( v2 )
            {
                if ( !(*(v2 + 64) & 0x348000) )
                    sub_800F8B0(v1);
            }
        }
    }
}


// 0x80efdb2
void sub_80EFDB2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    int v5; // r1
    _BYTE *v6; // r0
    int v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r0
    int v11; // r0
    char v12; // r2

    v1 = v0->ai->attackVarRegion;
    sprite_forceWhitePallete();
    if ( !*(v1 + 1) )
    {
        PlaySoundEffect(142, v2, v3);
        object_clearCollisionRegion();
        v4 = v0->futurePanelX;
        v0->panelX = v4;
        v5 = v0->futurePanelY;
        v0->panelY = v5;
        object_reservePanel(v4, v5);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->directionFlip = sub_800F46C();
        sub_800F2C6();
        SpawnT4BattleObjectWithId0(v0, 1310720, v0->x, v0->y, v0->z + 1310720);
        *v6 |= 4u;
        object_clearFlag(-2147410880);
        object_clearFlag2(16);
        ClearAIDataUnk0x48Flag(0x200000);
        v7 = object_getFlip(v0);
        sprite_setFlip(v0, v7);
        sprite_forceWhitePallete();
        *(v1 + 16) = 30;
        *(v1 + 1) = 4;
    }
    v8 = *(v1 + 16);
    v9 = __OFSUB__(v8--, 1);
    *(v1 + 16) = v8;
    if ( ((v8 < 0) ^ v9) | (v8 == 0) )
    {
        object_setCollisionRegion(1);
        object_removePanelReserve(v0->futurePanelX, v0->futurePanelY);
        sub_800FFEE(268501053);
        sub_800EB08();
        v10 = sub_801A66C();
        v11 = sub_8013774(v10, 24);
        v12 = v11 + 4;
        if ( v11 + 4 > 7 )
            v12 = 7;
        sub_8013754(v11, 24, v12);
        object_exitAttackState(v0);
    }
}


// 0x80efe7c
void sub_80EFE7C()
{
    unsigned __int8 *v0; // r7
    int v1; // r0

    v1 = sub_800FFFE();
    if ( v1 & &byte_600 )
        sub_80105F2(v1, v0[5], v0[3], *(v0 + 2));
    else
        (*(&off_80EFEA8 + *v0))();
}


// 0x80efeac
void sub_80EFEAC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        object_setFlag1(0x400000);
        SetAIDataUnk0x48Flag(2048);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        ClearAIDataUnk0x48Flag(2048);
        object_exitAttackState(v0);
    }
}


// 0x80efee0
int sub_80EFEE0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80EFEF4 + *v0))();
}


// 0x80eff00
signed int sub_80EFF00()
{
    int v0; // r7
    int v1; // r1
    int v2; // r2
    int v3; // r3
    signed int result; // r0

    object_setFlag1(0x400000);
    *(v0 + 18) = 0;
    *(v0 + 64) = 3;
    *(v0 + 16) = 0;
    sub_801299C(v0 + 48, v1, v2, v3);
    *(v0 + 68) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80eff28
int sub_80EFF28()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // ST10_4
    signed int v8; // r0
    int v9; // r7
    char v10; // r0
    int v11; // r4
    char v12; // ST00_1
    int v13; // ST0C_4
    int v14; // r0
    int v15; // r3
    int v16; // r4
    int v17; // r0
    int v18; // r1
    char v19; // r0
    int v20; // r3
    int v21; // r6
    int v22; // r0
    int v23; // r0
    unsigned __int8 v24; // vf
    int result; // r0
    int v26; // r0

    v2 = *(v1 + 68);
    if ( v2 != 255 && v2 && sub_8012956(v1 + 48, v0->ai->keysDown) )
    {
        v4 = *(v1 + 64) + 1;
        *(v1 + 64) = v4;
        PlaySoundEffect(139, v4, v3);
    }
    if ( !*(v1 + 1) )
    {
        sub_80B8E58(v0->ai->unk_68);
        object_setAnimation(v0);
        sub_8011450(v0);
        object_setDefaultCounterTime();
        PlaySoundEffect(305, v5, v6);
        v7 = v1;
        sub_80EBB34();
        v8 = sub_80EBAE8();
        v9 = &v0->ai->unk_68;
        sub_80B8E30(v8 << 8);
        v1 = v7;
        *(v7 + 16) = 21;
        *(v7 + 1) = 4;
    }
    if ( *(v1 + 16) == 12 )
    {
        if ( *(v1 + 18) >= 3 )
        {
            v19 = object_getFrontDirection(v0);
            v20 = *(v1 + 6);
            v21 = *(v1 + 8) + v20;
            v22 = sub_80CF91E(v19 + v0->panelX, v0->panelY, *(v1 + 2), v20);
            if ( v22 )
                *(v22 + 64) = 0x80000;
        }
        else
        {
            if ( *(v1 + 18) == 2 )
                *(v1 + 68) = 1;
            v10 = object_getFrontDirection(v0);
            v11 = *&byte_80F004C[4 * *(v1 + 18)];
            v12 = v10 + v0->panelX;
            v13 = *(v1 + 8) + *(v1 + 6);
            object_spawnCollisionRegion(v10 + v0->panelX, v0->panelY, *(v1 + 2), 0);
            v14 = object_getFlip(v0);
            v16 = (v14 << 8) + *(&dword_80F0064 + v15);
            v17 = object_getCoordinatesForPanels(v12);
            SpawnT4BattleObjectWithId0(v0, v17, v17, v18, 0x100000);
        }
    }
    v23 = *(v1 + 16);
    v24 = __OFSUB__(v23, 1);
    result = v23 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v24 )
    {
        v26 = *(v1 + 18) + 1;
        *(v1 + 18) = v26;
        if ( v26 >= *(v1 + 64) )
        {
            result = 8;
            *v1 = 8;
        }
        else
        {
            result = 0;
            *(v1 + 1) = 0;
        }
    }
    return result;
}


// 0x80f0068
void sub_80F0068()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        object_clearFlag(64);
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80f0094
int sub_80F0094()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F00A8 + *v0))();
}


// 0x80f00b0
int __fastcall sub_80F00B0(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v5 + 1) )
    {
        object_setAnimation(v4);
        object_setDefaultCounterTime();
        object_setFlag1(0x400000);
        *(v5 + 16) = 15;
        *(v5 + 1) = 4;
    }
    if ( *(v5 + 16) == 13 )
    {
        v6 = *(v5 + 12);
        v7 = *(v5 + 8);
        sub_80E5A64(13, a2, a3, a4);
    }
    v8 = *(v5 + 16);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v5 + 16) = result;
    if ( (result < 0) ^ v9 )
    {
        *(v5 + 16) = 15;
        result = 4;
        *v5 = 4;
    }
    return result;
}


// 0x80f00f2
int sub_80F00F2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0104 + *v0))();
}


// 0x80f0110
int sub_80F0110()
{
    int v0; // r7
    int v5; // r2

    *(v0 + 16) = 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    *(v0 + 48) = &byte_80F0138[18];
    *v0 = 4;
    return sub_80F014C(4, byte_80F0138, v5);
}


// 0x80f014c
int __fastcall sub_80F014C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    __int16 v5; // t1
    int v10; // ST00_4
    char v11; // r0
    int v12; // r4
    int v13; // r6
    int v14; // r2
    int v15; // r0
    int result; // r0
    int v17; // r0

    if ( !*(v4 + 1) )
    {
        object_setAnimation(v3);
        *(v3 + 17) = -1;
        if ( *(v4 + 18) )
        {
            sub_80B8E7C(*(*(v3 + 88) + 104));
            sub_80C44D2(*(v3 + 80));
        }
        else
        {
            sub_80EB562();
        }
        object_setFlag1(0x400000);
        *(v4 + 16) = 0;
        *(v4 + 1) = 4;
    }
    if ( *(v4 + 16) == 1 )
    {
        PlaySoundEffect(106, a2, a3);
        v5 = *(v4 + 18);
        __asm { SVC         6 }
        v10 = *(v3 + 19) + *(*(v4 + 48) + 3);
        v11 = object_getFrontDirection(v3);
        v12 = *(v4 + 12);
        v13 = *(v4 + 8);
        v15 = sub_80C4FFE(v11 + *(v3 + 18), v10, v14, 1572864);
        sub_80B8E30(v15);
    }
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result > 5 )
    {
        v17 = *(v4 + 18) + 1;
        *(v4 + 18) = v17;
        if ( v17 >= 9 )
        {
            result = 8;
            *v4 = 8;
        }
        else
        {
            result = 0;
            *(v4 + 1) = 0;
        }
    }
    return result;
}


// 0x80f01e8
void sub_80F01E8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = 5;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x80f020e
int sub_80F020E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0220 + *v0))();
}


// 0x80f0228
signed int sub_80F0228()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r4
    int v3; // r6
    int v4; // r3
    signed int result; // r0

    object_setAnimation(v0);
    object_setDefaultCounterTime();
    object_setFlag1(0x400000);
    *(v1 + 16) = *(v1 + 13);
    *(v1 + 18) = 16;
    v2 = *(v1 + 12);
    v3 = *(v1 + 8);
    sub_80C6330(3 * (v0->Alliance ^ 1) + 2, 2, 0, v4);
    result = 4;
    *v1 = 4;
    return result;
}


// 0x80f0262
void __fastcall sub_80F0262(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    u32 v6; // r1
    u32 v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    v5 = *(v4 + 18) + 1;
    *(v4 + 18) = v5;
    if ( v5 > 16 )
    {
        *(v4 + 18) = 0;
        PlaySoundEffect(296, a2, a3);
    }
    if ( !(*(v4 + 16) & 2) )
    {
        object_setCoordinatesFromPanels(v3);
        v6 = v3->x;
        sub_801BDDE(3u);
        v3->x = v7;
    }
    v8 = *(v4 + 16);
    v9 = __OFSUB__(v8--, 1);
    *(v4 + 16) = v8;
    if ( (v8 < 0) ^ v9 )
    {
        object_setCoordinatesFromPanels(v3);
        object_exitAttackState(v3);
    }
}


// 0x80f02a2
signed int sub_80F02A2()
{
    int v0; // r7
    signed int v1; // r4

    v1 = 1;
    if ( *(v0 + 13) && sub_801032C() & 0x8000 )
        v1 = 0;
    return v1;
}


// 0x80f0354
int __usercall playerAI_sub_80F0354@<R0>(Battle *obj@<R5>)
{
    AI *v1; // r6
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    int result; // r0
    int v7; // r0
    signed int v8; // r0
    char *v9; // r0
    int v10; // r0
    int v11; // r0
    char v12; // r0
    char v13; // r0
    signed int v14; // r1
    int v15; // r0
    int v16; // r0
    int v17; // r0
    int v18; // ST04_4
    __int16 v19; // r1
    int v20; // r0
    char v21; // ST00_1
    char v22; // r0
    char v23; // ST04_1
    __int16 v24; // r0
    int v25; // r7
    _BYTE *v26; // r4
    int v27; // r0

    v1 = obj->ai;
    if ( !battle_networkInvert(obj->Alliance) )
    {
        if ( sub_800A772(obj->Alliance) )
            sub_801DA48(64);
        else
            sub_801DACC(64);
    }
    v2 = obj->currPhase;
    if ( !obj->currPhase )
    {
        if ( !obj->bPhaseInitialized )
        {
            sub_801DA48(2);
            obj->Timer = 10;
            SetAIDataUnk0x48Flag(16);
            ClearAIDataUnk0x48Flag(64);
            obj->bPhaseInitialized = 4;
        }
        v3 = obj->Timer;
        v4 = __OFSUB__(v3, 1);
        v2 = v3 - 1;
        obj->Timer = v2;
        if ( ((v2 < 0) ^ v4) | (v2 == 0) )
        {
            v2 = 4;
            *&obj->currPhase = 4;
        }
    }
    if ( sub_8013774(v2, 44) >= 23 )
    {
        v5 = sub_802D322(obj);
        if ( v5 != 1 )
        {
            if ( v5 != 2 )
                return v5 != 0;
            goto LABEL_34;
        }
        v7 = sub_8010004();
        goto LABEL_61;
    }
    sub_802E4E4();
    v8 = sub_802E4B8();
    if ( v8 == 13 )
    {
        v9 = sub_802E070(obj->Alliance);
        if ( !*(v9 + 24) )
        {
            v9[84] = 0;
            object_setAttack0();
            return 1;
        }
        v10 = sub_802D4C6();
        if ( v10 != 1 )
        {
            if ( v10 != 2 )
                return v10 != 0;
            goto LABEL_34;
        }
        v7 = *&v1->attackVarRegion[20];
        goto LABEL_61;
    }
    if ( v8 == 9 )
    {
        sub_802F068();
        return 1;
    }
    v11 = sub_800FFFE();
    if ( v11 & &byte_600 )
    {
        sub_801056A(v11, 0, 0);
        return 1;
    }
    if ( sub_8010660(v11) )
        return 1;
    v12 = sub_800FFFE();
    if ( v12 & 0x20 )
    {
        ClearAIDataUnk0x48Flag(16);
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        object_setAttack1();
        return 1;
    }
    if ( v12 & 1 )
    {
LABEL_34:
        ClearAIDataUnk0x48Flag(16);
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        sub_8011764();
        object_setAttack1();
        return 1;
    }
    if ( v12 & 2 )
    {
        ClearAIDataUnk0x48Flag(16);
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        v13 = sub_80117A4();
        v14 = v1->pad_04[3];
        if ( v14 < 33 || v14 > 38 )
            object_setAttack1();
        else
            object_setAttack2(v13);
        return 1;
    }
    if ( sub_800FFFE() & 0x10 )
    {
        ClearAIDataUnk0x48Flag(16);
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        v15 = sub_8011790();
        (object_setAttack3)(v15);
        return 1;
    }
    v16 = sub_800FFFE();
    if ( v16 & 0x10000000 )
    {
        ClearAIDataUnk0x48Flag(16);
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        sub_801177A();
        object_setAttack1();
        return 1;
    }
    v7 = sub_800FB54(obj, v16);
    if ( v7 != 0xFFFF )
    {
LABEL_61:
        v25 = v7;
        if ( sub_80106C0(v7) )
        {
            object_exitAttackState(obj);
        }
        else if ( sub_8010740(v25) )
        {
            object_exitAttackState(obj);
        }
        else
        {
            v26 = getChip8021DA8(v25 & 0x7FFF);
            ClearAIDataUnk0x48Flag(16);
            SetAIDataUnk0x48Flag(64);
            if ( !(v26[9] & 1) )
            {
                if ( battle_networkInvert(obj->Alliance) )
                {
                    v27 = *&v1->attackVarRegion[20];
                    if ( *&v1->attackVarRegion[20] )
                    {
                        if ( v27 != 389 )
                            sub_801EB18(v27, *&v1->attackVarRegion[8], *&v1->attackVarRegion[6]);
                    }
                }
            }
            if ( !v1->attackVarRegion[27] && v1->attackVarRegion[28] != 5 )
                sub_800FC7C();
        }
        if ( !battle_networkInvert(obj->Alliance) )
            sub_801DACC(64);
        return 1;
    }
    v17 = playerObject_checkDirectionButtons_800FA54(0xFFFF);
    if ( v17 )
    {
        v18 = v17;
        v19 = sub_8010332(v17);
        v20 = v18;
        v21 = v18;
        LOWORD(v18) = v19;
        v22 = sub_80103A8(v20);
        result = sub_80116AE(v21, v18, v22);
    }
    else if ( sub_800FFFE() & 0x3000 )
    {
        result = (object_setAttack4)(59);
    }
    else
    {
        if ( v1->unk_1A )
        {
            v23 = v1->unk_1A;
            v24 = sub_8010332(v1->unk_1A);
            sub_80116D8(v23, v24);
        }
        result = 0;
    }
    return result;
}


// 0x80f0606
void nullsub_104()
{
    ;
}


// 0x80f0608
int sub_80F0608()
{
    int v0; // r5
    int v1; // r0
    char v2; // zf
    signed int v3; // r6
    int v4; // r0
    char *v5; // r0
    char *v6; // r4
    unsigned __int8 *v7; // r4
    __int16 v8; // r1
    int v9; // r2
    int result; // r0

    v1 = battle_isPaused();
    if ( v2 )
    {
        v3 = 100;
        v4 = sub_8013774(v1, 41);
        if ( v4 == 5 )
        {
            v1 = sub_800F49E();
            if ( v1 == 255 || v1 < 0 )
                goto LABEL_16;
            v3 = byte_802136D[v1];
        }
        else
        {
            v1 = sub_8013774(v4, 44);
            if ( v1 != 5 && v1 != 17 )
                goto LABEL_16;
        }
        v5 = getBattleHandAddr_8010018(*(v0 + 22));
        v6 = v5;
        v1 = getChip8021DA8(*&v5[2 * *v5 + 2]);
        if ( *(v1 + 9) & 2 )
        {
            if ( *(v1 + 4) == 1 )
            {
                v7 = &v6[2 * *v6 + 38];
                v1 = *v7;
                if ( v1 < v3 )
                {
                    v8 = 0;
                    v9 = *(v0 + 88);
                    v1 = *(v9 + 30);
                    if ( v1 == 1 )
                    {
                        v1 = *(v9 + 27);
                        if ( v1 < 15 )
                            goto LABEL_16;
                        v1 = 10;
                        *(v9 + 27) = 10;
                        v8 = *v7 + 1;
                    }
                    *v7 = v8;
                }
            }
        }
    }
LABEL_16:
    result = sub_8013774(v1, 41);
    if ( !result )
    {
        if ( sub_8013774(0, 44) == 24 )
        {
            result = 1310720;
            *(v0 + 60) = 1310720;
        }
        else
        {
            result = *(v0 + 9);
            if ( result != 80 )
            {
                result = object_getFlag();
                if ( result >= 0 )
                {
                    result = 0;
                    *(v0 + 60) = 0;
                }
            }
        }
    }
    return result;
}


// 0x80f06ce
void sub_80F06CE()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 80);
    if ( v1 )
        sub_80C44D2(v1);
}


// 0x80f0700
void sub_80F0700()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 80);
    if ( !v1 )
        JUMPOUT(&loc_80F073E);
    sub_80C44D2(v1);
}


// 0x80f070e
int sub_80F070E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0720 + *v0))();
}


// 0x80f0728
int sub_80F0728()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 16;
            sub_80F08BA();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 21;
        result = 8;
        *(v1 + 16) = 8;
    }
    return result;
}


// 0x80f0754
void sub_80F0754()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f0778
int sub_80F0778()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F078C + *v0))();
}


// 0x80f0798
int sub_80F0798()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    char v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1
    int v8; // r1
    int v9; // r2
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf
    int v13; // r1

    if ( *(v1 + 1) )
    {
        v11 = *(v1 + 16);
        v12 = __OFSUB__(v11--, 1);
        *(v1 + 16) = v11;
        if ( (v11 < 0) ^ v12 )
        {
            *(v0 + 62) = 0;
            if ( object_getPanelParameters(*(v0 + 18), *(v0 + 19)) & 0x10 )
            {
                result = 4;
                *v1 = 4;
            }
            else
            {
                result = 8;
                *v1 = 8;
            }
        }
        else
        {
            *(v0 + 52) += *(v0 + 64);
            *(v0 + 56) += *(v0 + 68);
            v13 = *(v0 + 72);
            *(v0 + 60) += v13;
            *(v0 + 72) = v13 - 98304;
            result = object_setPanelsFromCoordinates(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_clearCollisionRegion();
        v2 = *(v0 + 18);
        v3 = *(v0 + 19);
        *(v0 + 20) = v2;
        *(v0 + 21) = v3;
        object_reservePanel(v2, v3);
        *(v0 + 16) = 18;
        v4 = object_getFrontDirection(v0);
        v5 = *(v0 + 19);
        v6 = object_getCoordinatesForPanels(3 * v4 + *(v0 + 18));
        *(v0 + 64) = sub_8001330((v0 + 52), v6, v7);
        *(v0 + 68) = v8;
        *(v0 + 72) = v9;
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80f0832
int sub_80F0832()
{
    int v0; // r7
    int v1; // r1
    int v2; // r0
    int v3; // r6
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        v1 = *(v0 + 6);
        v2 = *(v0 + 8) + v1;
        *(v0 + 8) = v2;
        v3 = *(v0 + 8);
        sub_80F37D8(v2, v1, *(v0 + 2));
    }
    v4 = *(v0 + 16);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        result = 8;
        *v0 = 8;
    }
    return result;
}


// 0x80f0898
void __noreturn sub_80F0898()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r1

    v0->currAnimation = 0;
    object_setCollisionRegion(1);
    v1 = v0->futurePanelX;
    v2 = v0->futurePanelY;
    v0->panelX = v1;
    v0->panelY = v2;
    object_removePanelReserve(v1, v2);
    object_setCoordinatesFromPanels(v0);
    object_exitAttackState(v0);
}


// 0x80f08ba
int __noreturn sub_80F08BA()
{
    Battle *v0; // r5
    int v1; // r7
    bool v2; // zf
    int result; // r0
    int v4; // r4
    int v5; // r6
    signed int v6; // r4
    int v7; // ST04_4
    int v8; // r1
    signed int v9; // ST04_4
    int v10; // r4
    int v11; // r6
    int v12; // [sp-8h] [bp-14h]
    int v13; // [sp-8h] [bp-14h]
    int v14; // [sp-4h] [bp-10h]

    v12 = object_getFrontDirection(v0) + v0->panelX;
    v14 = v0->panelY;
    v2 = (object_getPanelParameters(v12, v14) & 0x10010) == 65552;
    result = v12;
    if ( v2 )
    {
        v4 = *(v1 + 12) << 8;
        v5 = *(v1 + 8);
        sub_80C8DE0(v12, v14, *(v1 + 2), 0);
        v6 = 0;
        do
        {
            v13 = 2 * object_getFrontDirection(v0) + v0->panelX;
            v7 = v6 - 1 + v0->panelY;
            v2 = (object_getPanelParameters(v13, v7) & 0x10010) == 65552;
            result = v13;
            v8 = v7;
            if ( v2 )
            {
                v9 = v6;
                v10 = *(v1 + 12) << 8;
                v11 = *(v1 + 8);
                result = sub_80C8DE0(v13, v8, *(v1 + 2), 0);
                v6 = v9;
            }
            ++v6;
        }
        while ( v6 < 3 );
    }
    return result;
}


// 0x80f094c
int sub_80F094C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0960 + *v0))();
}


// 0x80f0968
int sub_80F0968()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        sub_80F0B32();
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80f0990
void sub_80F0990()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 19;
        *(v1 + 16) = 30;
    }
}


// 0x80f09b8
int sub_80F09B8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F09CC + *v0))();
}


// 0x80f09dc
signed int sub_80F09DC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r1
    int v8; // r4
    int v9; // r1
    int v10; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        v0->currAnimation = 16;
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        v0->vx = 327680 * object_getFrontDirection(v0);
        v4 = v0->panelY;
        v5 = object_getCoordinatesForPanels(v0->panelX);
        *(v1 + 48) = sub_80E3FB4(v0->Alliance << 8, v5, v6, 0);
        sub_80F0BD2();
    }
    v7 = v0->panelY;
    v8 = object_getCoordinatesForPanels(v0->panelX);
    v9 = v0->vx;
    v10 = v0->x + v9;
    v0->x = v10;
    if ( v8 != v9 && sub_800E708(v10, v9, v8) )
        sub_80F0BD2();
    object_setPanelsFromCoordinates(v0);
    return object_updateCollisionPanels(v0);
}


// 0x80f0a7a
int sub_80F0A7A()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        *(v1 + 16) = 20;
        sub_80F0B80();
        sub_80F0BA4();
        PlaySoundEffect(176, v2, v3);
        result = *(v1 + 48);
        if ( result )
            *(result + 16) = 16;
    }
    return result;
}


// 0x80f0ab6
int sub_80F0AB6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        *(v1 + 16) = 3;
        result = *(v1 + 48);
        if ( result )
            result = sub_80E3FC4(result);
    }
    return result;
}


// 0x80f0b0e
void sub_80F0B0E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 30;
    }
}


// 0x80f0b32
int __noreturn sub_80F0B32()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r3
    int v4; // r4
    unsigned int v5; // r0
    int v6; // r6
    int v7; // [sp-4h] [bp-4h]
    int v8; // [sp+0h] [bp+0h]

    result = object_getPanelsExceptCurrentFilterred(4 * *(v0 + 22), &off_80F0B78, *(&off_80F0B78 + *(v0 + 22)), 0);
    if ( result )
    {
        v4 = result - 1;
        do
        {
            v5 = *(&v8 + v4);
            v7 = v4;
            v6 = *(v1 + 8);
            result = sub_80D0F0C(v5 & 7, v5 >> 4, *(v1 + 2), v3);
            v4 = v7 - 1;
        }
        while ( v7 - 1 >= 0 );
    }
    return result;
}


// 0x80f0b80
int sub_80F0B80()
{
    int v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getEnemyDirection();
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + *(v0 + 18), *(v0 + 19), *(v1 + 2), 0);
}


// 0x80f0ba4
void sub_80F0BA4()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
}


// 0x80f0bd2
BOOL __noreturn sub_80F0BD2()
{
    Battle *v0; // r5
    int v1; // r4
    int v2; // r6
    int v3; // r0
    int v4; // r1
    int v5; // r6
    int v6; // r2
    BOOL result; // r0

    v1 = v0->panelX + object_getFrontDirection(v0);
    v2 = v0->panelY;
    result = 1;
    if ( !(object_getPanelParameters(v1, v2) & 0x3800000) )
    {
        v3 = object_getFrontDirection(v0);
        if ( object_getPanelParameters(v3 + v1, v2) & 0x10000 )
        {
            v4 = v2;
            v5 = v0->Alliance;
            sub_8015E46(v1, v4, *(&off_80F0C24 + v5), 0);
            if ( !v6 )
                result = 0;
        }
    }
    return result;
}


// 0x80f0c48
int sub_80F0C48()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0C5C + *v0))();
}


// 0x80f0c64
int sub_80F0C64()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        *(v1 + 16) = 15;
        result = sub_80F0E3A();
    }
    return result;
}


// 0x80f0c8c
void sub_80F0C8C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f0cb0
int sub_80F0CB0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0CC4 + *v0))();
}


// 0x80f0cd4
int sub_80F0CD4()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        *(v1 + 48) = 0;
        *(v1 + 52) = 0x40000;
        *(v0 + 16) = 18;
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80f0d08
int sub_80F0D08()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r6
    int v5; // r3
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            sub_80F0E96();
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_clearCollisionRegion();
        v2 = v0[18];
        v3 = v0[19];
        v0[20] = v2;
        v0[21] = v3;
        object_reservePanel(v2, v3);
        object_setFlag1(64);
        v0[16] = 19;
        v4 = *(v1 + 8);
        *(v1 + 48) = sub_80D19D4(7, 5, *(v1 + 2), v5);
        PlaySoundEffect(356, v6, v7);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80f0d64
signed int __noreturn sub_80F0D64()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r4
    u32 v6; // r1
    int v7; // r0
    u32 v8; // r3
    int v9; // r2
    int v10; // r0
    int v11; // r1
    int v12; // r6
    int v13; // r3
    signed int result; // r0
    int v15; // [sp-10h] [bp-20h]
    int v16; // [sp-Ch] [bp-1Ch]
    int v17; // [sp-8h] [bp-18h]
    int v18; // [sp-4h] [bp-14h]

    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v0->panelX);
    if ( *(v1 + 12) & 1 )
        v5 = v3;
    else
        v5 = v4;
    v6 = v0->x;
    v7 = v0->vx + v6;
    v0->x = v7;
    v8 = v0->y;
    v9 = v0->vy + v8;
    v0->y = v9;
    v15 = v7;
    v16 = v6;
    v17 = v9;
    v18 = v8;
    v10 = convertXYToPanelXY_800E258(v7);
    if ( !object_checkPanelParameters(v10, v11, 65552, 0x800000)
        || (*(v1 + 12) & 1 ? (v12 = v16, v13 = v15) : (v12 = v18, v13 = v17),
                v5 != v12 && sub_800E708(v13, v12, v5) && (object_setCoordinatesFromPanels(v0), sub_80F0EC0())) )
    {
        result = 12;
        *v1 = 12;
    }
    else
    {
        object_setPanelsFromCoordinates(v0);
        result = object_updateCollisionPanels(v0);
    }
    return result;
}


// 0x80f0dec
void sub_80F0DEC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5--, 1);
        *(v1 + 16) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        object_setCollisionRegion(1);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        *(v1 + 16) = 20;
        v4 = *(v1 + 48);
        if ( v4 )
            sub_80D1A00(v4);
    }
}


// 0x80f0e3a
int sub_80F0E3A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r3
    int v3; // r6
    int v4; // r3
    int v5; // r6
    bool v6; // zf
    int v7; // r3
    int result; // r0
    int v9; // r6
    int v10; // [sp-8h] [bp-14h]
    char v11; // [sp-8h] [bp-14h]
    int v12; // [sp-8h] [bp-14h]
    int v13; // [sp-4h] [bp-10h]
    int v14; // [sp-4h] [bp-10h]
    int v15; // [sp-4h] [bp-10h]

    v10 = object_getFrontDirection(v0) + v0->panelX;
    v13 = v0->panelY;
    if ( object_isValidPanel(v10, v13) )
    {
        v3 = *(v1 + 8);
        sub_80D0996(v10, v13, 0, v2);
    }
    v11 = v0->panelX;
    v14 = v0->panelY - 1;
    if ( object_isValidPanel(v0->panelX, v14) )
    {
        v5 = *(v1 + 8);
        sub_80D0996(v11, v14, 0, v4);
    }
    v12 = v0->panelX;
    v15 = v0->panelY + 1;
    v6 = object_isValidPanel(v12, v15) == 0;
    result = v12;
    if ( !v6 )
    {
        v9 = *(v1 + 8);
        result = sub_80D0996(v12, v15, 0, v7);
    }
    return result;
}


// 0x80f0e96
signed int sub_80F0E96()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0

    if ( v0->panelY == 3 )
    {
        v0->vx = *(v1 + 52) * object_getFrontDirection(v0);
        v0->vy = 0;
        result = 1;
        *(v1 + 12) = 1;
    }
    else
    {
        v0->vy = *(v1 + 52);
        v0->vx = 0;
        result = 0;
        *(v1 + 12) = 0;
    }
    return result;
}


// 0x80f0ec0
signed int sub_80F0EC0()
{
    int v0; // r5
    int v1; // r7
    char *v2; // r6
    int v3; // r0
    int v4; // r1
    int v5; // r4
    int v6; // r6
    int v7; // r2
    int v9; // r0

    v2 = &byte_80F0F50[20 * *(v0 + 22) + 4 * *(v1 + 12)];
    v3 = *v2;
    v4 = v2[1];
    v5 = v2[2];
    v6 = v2[3];
    v7 = *(v1 + 12);
    if ( v7 == 1 )
        sub_80F0F78();
    if ( v7 != 3 )
    {
        if ( v7 == 4 )
        {
            if ( *(v0 + 21) == *(v0 + 19) )
                return 1;
            return 0;
        }
        if ( v3 )
        {
            if ( v3 != *(v0 + 18) )
                return 0;
            goto LABEL_17;
        }
        if ( v4 )
        {
            if ( v4 != *(v0 + 19) )
                return 0;
            goto LABEL_17;
        }
    }
    if ( *(v0 + 20) == *(v0 + 18) )
    {
        if ( *(v0 + 21) == *(v0 + 19) )
            return 1;
LABEL_17:
        v9 = *(v1 + 52);
        *(v0 + 64) = v5 * v9;
        *(v0 + 68) = v6 * v9;
        ++*(v1 + 12);
    }
    return 0;
}


// 0x80f0f78
int __noreturn sub_80F0F78()
{
    int v0; // r5

    return object_getPanelsInColumnFiltered(*(v0 + 18), 4 * *(v0 + 22), *(&off_80F0F98 + *(v0 + 22)), 0);
}


// 0x80f0fb4
int sub_80F0FB4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F0FC8 + *v0))();
}


// 0x80f0fd4
int sub_80F0FD4()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 19;
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80f0ff8
void __fastcall sub_80F0FF8(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r0

    if ( *(v4 + 1) )
    {
        v5 = *(v4 + 16) - 1;
        *(v4 + 16) = v5;
        if ( v5 == 5 )
        {
            sub_80F10F2();
            sub_80F111C();
        }
        else if ( v5 <= 0 )
        {
            *v4 = 8;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 20;
        PlaySoundEffect(199, a2, a3);
        *(v4 + 16) = 10;
    }
}


// 0x80f1032
void sub_80F1032()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f1056
int sub_80F1056()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1068 + *v0))();
}


// 0x80f1074
int sub_80F1074()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        *(v0 + 16) = 17;
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80f10a0
int sub_80F10A0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        sub_80F1148();
        PlaySoundEffect(186, v2, v3);
        result = 60;
        *(v1 + 16) = 60;
    }
    return result;
}


// 0x80f10ce
void sub_80F10CE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f10f2
int sub_80F10F2()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(2 * v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x80f111c
void sub_80F111C()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(2 * v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 1572864);
}


// 0x80f1148
int sub_80F1148()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    int v3; // ST04_4
    bool v4; // zf
    int result; // r0
    int v6; // r1
    int v7; // ST04_4
    int v8; // r6
    int v9; // [sp-8h] [bp-14h]

    v2 = 1;
    do
    {
        v9 = object_getFrontDirection(v0) * v2 + v0->panelX;
        v3 = v0->panelY;
        v4 = object_isValidPanel(v9, v3) == 0;
        result = v9;
        v6 = v3;
        if ( v4 )
            break;
        v7 = v2;
        v8 = *(v1 + 8);
        result = sub_80DDA5A(v9, v6, *(v1 + 2), 0x10000);
        v2 = v7 + 1;
    }
    while ( v7 + 1 <= 5 );
    return result;
}


// 0x80f1198
int sub_80F1198()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F11AC + *v0))();
}


// 0x80f11bc
int sub_80F11BC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r1
    int v9; // r6
    int v10; // r4
    int v11; // r1
    int v12; // r0
    u32 v13; // r1
    int v14; // r1
    int v15; // r0
    unsigned __int8 v16; // vf
    int v17; // [sp-8h] [bp-14h]
    int v18; // [sp-4h] [bp-10h]

    if ( *(v1 + 1) )
    {
        v8 = v0->panelY;
        v9 = object_getCoordinatesForPanels(v0->panelX);
        v10 = v0->panelX;
        v11 = v0->x;
        v12 = v0->vx + v11;
        v0->x = v12;
        if ( v9 != v11 && sub_800E708(v12, v11, v9) )
            sub_80F14BC(393216);
        v13 = v0->y;
        v17 = convertXYToPanelXY_800E258(v0->x);
        v18 = v14;
        if ( object_isValidPanel(v17, v14) && !object_isPanelSolid(v17, v18) )
        {
            result = 4;
            *v1 = 4;
        }
        else
        {
            object_setPanelsFromCoordinates(v0);
            object_updateCollisionPanels(v0);
            if ( v0->panelX != v10 )
                sub_80F149C();
            v15 = *(v1 + 16);
            v16 = __OFSUB__(v15, 1);
            result = v15 - 1;
            *(v1 + 16) = result;
            if ( ((result < 0) ^ v16) | (result == 0) )
            {
                result = 8;
                *v1 = 8;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        v4 = object_setInvulnerableTime(0xFFFF);
        object_updateCollisionData(v4, 1, 2, 0);
        v5 = v0->collisionData;
        *(v5 + 46) = 0;
        *(v5 + 7) = 0;
        v0->currAnimation = 15;
        *(v1 + 12) = 0;
        *(v1 + 48) = 0;
        *(v1 + 52) = 0;
        PlaySoundEffect(228, v5, v6);
        result = sub_80F146E(393216);
    }
    return result;
}


// 0x80f1284
int sub_80F1284()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        sub_80F1500();
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f12ac
int sub_80F12AC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_clearFlag(0x400000);
        v4 = sub_800EB08();
        object_updateCollisionData(v4, 1, 2, 3);
        v5 = *(v0 + 44);
        v6 = *(v0 + 84);
        *(v6 + 46) = v5;
        *(v6 + 7) = v5;
        *(v0 + 16) = 3;
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f1310
void sub_80F1310()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 30;
    }
}


// 0x80f1334
int sub_80F1334()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1348 + *v0))();
}


// 0x80f1350
int sub_80F1350()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 11 )
            sub_80F13B4();
        if ( result <= 0 )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        *(v0 + 16) = 6;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f1390
void sub_80F1390()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f13b4
int __noreturn sub_80F13B4()
{
    int v0; // r5
    int v1; // r6
    int v2; // r2
    int v3; // r7
    int v4; // r6
    int v5; // r3
    signed int v6; // r4
    int result; // r0
    int v8; // [sp+0h] [bp+0h]

    v1 = object_getPanelsExceptCurrentFilterred(
                 8 * *(v0 + 22),
                 &off_80F1434 + 8 * *(v0 + 22),
                 *(&off_80F1434 + 2 * *(v0 + 22)),
                 *(&off_80F1434 + 2 * *(v0 + 22) + 1));
    v3 = object_getPanelsExceptCurrentFilterred(
                 8 * *(v0 + 22),
                 &byte_80F1448[8 * *(v0 + 22)],
                 *&byte_80F1448[8 * *(v0 + 22)],
                 *&byte_80F1448[8 * *(v0 + 22) + 4]);
    if ( v3 )
        sub_8000C72(&v8 + v1, v3, v3);
    v4 = v1 + v3;
    v5 = 1;
    do
        *(&v8 + v4++) = *(&dword_80F145C + *(v0 + 22)) | 16 * v5++;
    while ( v5 <= 3 );
    v6 = 0;
    do
    {
        result = sub_80F1460(*(&v8 + v6) & 7, *(&v8 + v6) >> 4, v2, v5);
        ++v6;
    }
    while ( v6 < v4 && v6 < 5 );
    return result;
}


// 0x80f1460
int __fastcall sub_80F1460(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r4
    int v6; // r6

    v5 = *(v4 + 3);
    v6 = *(v4 + 8);
    return sub_80D5EB0(a1, a2, *(v4 + 2), a4);
}


// 0x80f146e
int __fastcall sub_80F146E(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    signed int v3; // r0
    int v4; // r0
    int result; // r0

    v1->vx = object_getFrontDirection(v1) * a1;
    v3 = 7;
    if ( v1->Alliance )
        v3 = 0;
    v4 = v3 - v1->panelX;
    if ( v4 < 0 )
        v4 = -v4;
    result = 2621440 * v4;
    __asm { SVC         6 }
    *(v2 + 16) = result;
    return result;
}


// 0x80f149c
int sub_80F149C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6

    v2 = *(v1 + 8);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v1 + 2), 0);
}


// 0x80f14bc
int __fastcall sub_80F14BC(int result)
{
    int v1; // r5
    int v2; // r7
    unsigned int v3; // r4
    int v4; // r6

    if ( *(v2 + 12) < 2 )
    {
        v3 = (*(v2 + 12) << 8) | 0xFF000000;
        v4 = *(v2 + 8);
        *(v2 + 4 * *(v2 + 12) + 48) = sub_80DB014(*(v1 + 20), *(v1 + 21), 0, result);
        result = *(v2 + 12) + 1;
        *(v2 + 12) = result;
    }
    return result;
}


// 0x80f1500
int sub_80F1500()
{
    int v0; // r7
    signed int v1; // r4
    int result; // r0

    v1 = 0;
    do
    {
        result = 4 * *(v0 + 12);
        if ( v1 >= result )
            break;
        result = *(v0 + v1 + 48);
        if ( result )
            result = sub_80DB03E(result);
        v1 += 4;
    }
    while ( v1 <= 4 );
    return result;
}


// 0x80f153c
int sub_80F153C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1550 + *v0))();
}


// 0x80f1558
int __fastcall sub_80F1558(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r6
    int v10; // r0
    int v11; // r1
    int v12; // r2

    if ( *(v5 + 1) )
    {
        v7 = *(v5 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            v4->currAnimation = 20;
            v9 = *(v5 + 8);
            sub_80C86B0(v4->panelX, v4->panelY, *(v5 + 2), a4);
            v10 = object_getFlip(v4);
            SpawnT4BattleObjectWithId0(v4, v10 << 8, v4->x, v4->y, 0);
            PlaySoundEffect(301, v11, v12);
            result = 4;
            *v5 = 4;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v4->currAnimation = 19;
        result = 8;
        *(v5 + 16) = 8;
    }
    return result;
}


// 0x80f15aa
void sub_80F15AA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f15ce
int sub_80F15CE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F15E0 + *v0))();
}


// 0x80f15fc
int sub_80F15FC()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 30 )
        {
            result = 18;
            *(v0 + 16) = 18;
        }
        else if ( result <= 0 )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        result = 35;
        *(v1 + 16) = 35;
    }
    return result;
}


// 0x80f162c
signed int __fastcall sub_80F162C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    signed int result; // r0
    int v7; // [sp-8h] [bp-Ch]
    int v8; // [sp-4h] [bp-8h]

    object_canMove(a1);
    if ( v3
        || (v7 = 3 * object_getFrontDirection(v1) + v1->panelX,
                v8 = v1->panelY,
                !object_checkPanelParameters(v7, v8, 16, 260571264)) )
    {
        *(v2 + 16) = 2;
        result = 12;
        *v2 = 12;
    }
    else
    {
        *(v2 + 22) = v7;
        *(v2 + 23) = v8;
        object_reservePanel(v7, v8);
        v4 = v1->panelX;
        v5 = v1->panelY;
        v1->futurePanelX = v4;
        v1->futurePanelY = v5;
        object_reservePanel(v4, v5);
        object_clearCollisionRegion();
        object_setFlag1(64);
        *(v2 + 16) = 2;
        result = 8;
        *v2 = 8;
    }
    return result;
}


// 0x80f1694
int sub_80F1694()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        result = 16;
        *v1 = 16;
    }
    return result;
}


// 0x80f16b4
void sub_80F16B4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 3;
            *(v1 + 16) = 8;
            *(v1 + 1) = 4;
        }
    }
}


// 0x80f16e0
int sub_80F16E0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        v2 = *(v1 + 8);
        sub_80C92CC(*(v0 + 18), *(v0 + 19), *(v1 + 2), 655360);
        result = 10;
        *(v1 + 16) = 90;
    }
    return result;
}


// 0x80f172c
int sub_80F172C()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        object_setFlag1(64);
        result = 6;
        *(v1 + 16) = 6;
    }
    return result;
}


// 0x80f1756
void sub_80F1756()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_setCollisionRegion(1);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        *(v1 + 16) = 8;
    }
}


// 0x80f17c4
int sub_80F17C4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F17D8 + *v0))();
}


// 0x80f17e4
int sub_80F17E4()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80f1808
void __fastcall sub_80F1808(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    char v6; // r0
    int v7; // r6
    char v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r1

    if ( *(v4 + 1) )
    {
        v5 = *(v4 + 16) - 1;
        *(v4 + 16) = v5;
        if ( v5 == 20 )
        {
            v6 = object_getFrontDirection(v3);
            v7 = *(v4 + 6) + *(v4 + 8);
            object_spawnCollisionRegion(v6 + v3->panelX, v3->panelY, *(v4 + 2), 0);
            object_getFlip(v3);
            v8 = object_getFrontDirection(v3);
            v9 = v3->panelY;
            v10 = object_getCoordinatesForPanels(v8 + v3->panelX);
            SpawnT4BattleObjectWithId0(v3, v10, v10, v11, 0x100000);
        }
        else if ( v5 <= 0 )
        {
            *v4 = 8;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 16;
        PlaySoundEffect(266, a2, a3);
        *(v4 + 16) = 30;
    }
}


// 0x80f1888
void sub_80F1888()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = *(v1 + 13);
    }
}


// 0x80f18ac
int sub_80F18AC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F18C0 + *v0))();
}


// 0x80f18cc
int __fastcall sub_80F18CC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r1
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v5 + 1) )
    {
        v8 = *(v5 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 4;
            *v5 = 4;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v6 = *(v5 + 6);
        *(v5 + 8) += v6;
        *(v4 + 16) = 17;
        sub_80E40C2(17, v6, a3, a4);
        result = 16;
        *(v5 + 16) = 16;
    }
    return result;
}


// 0x80f1902
int sub_80F1902()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r2
    int v4; // r1
    int v5; // r2

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 20 )
        {
            camera_initShakeEffect_80302a8(2, 30);
            PlaySoundEffect(268, v4, v5);
            result = sub_80F197A();
        }
        else if ( result <= 0 )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        result = 30;
        *(v1 + 16) = 30;
        v3 = *(v1 + 48);
        if ( v3 )
            *(v3 + 9) = 1;
    }
    return result;
}


// 0x80f194c
void sub_80F194C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = 30;
        v2 = *(v1 + 48);
        if ( v2 )
            *(v2 + 9) = 2;
    }
}


// 0x80f197a
int sub_80F197A()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r4
    bool v3; // zf
    int result; // r0
    int v5; // r6
    int v6; // [sp-8h] [bp-14h]
    int v7; // [sp-4h] [bp-10h]

    v2 = 1;
    do
    {
        v6 = object_getFrontDirection(v0) * v2 + v0->panelX;
        v7 = v0->panelY;
        v3 = object_isValidPanel(v6, v7) == 0;
        result = v6;
        if ( v3 )
            break;
        v5 = *(v1 + 8);
        result = sub_80D1B22(v6, v7, *(v1 + 2), -16777216);
        ++v2;
    }
    while ( v2 <= 6 );
    return result;
}


// 0x80f19d4
int sub_80F19D4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F19E8 + *v0))();
}


// 0x80f19f0
int sub_80F19F0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 22;
        sub_80F1ADE();
        PlaySoundEffect(251, v2, v3);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f1a1e
void sub_80F1A1E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = 20;
    }
}


// 0x80f1a46
int sub_80F1A46()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1A58 + *v0))();
}


// 0x80f1a60
int sub_80F1A60()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 16;
        *(v1 + 8) += *(v1 + 6);
        sub_80F1B24();
        sub_80F1B78();
        PlaySoundEffect(184, v2, v3);
        object_getFlip(v0);
        v4 = v0->panelY;
        v5 = object_getCoordinatesForPanels(v0->panelX);
        SpawnT4BattleObjectWithId0(v0, v5, v5, v6, 0x200000);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f1ab6
void sub_80F1AB6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = 20;
    }
}


// 0x80f1ade
int sub_80F1ADE()
{
    Battle *v0; // r5
    int v1; // r6
    int v2; // r7
    signed int v3; // r4
    char v4; // r0
    int v5; // r2
    int v6; // ST04_4
    int v7; // ST08_4
    int v8; // r6
    int v9; // r7
    int result; // r0

    v3 = 1;
    do
    {
        v4 = object_getFrontDirection(v0);
        v5 = *(v2 + 2);
        v6 = v1;
        v7 = v2;
        v8 = *(v2 + 8);
        v9 = *&byte_80F1B18[4 * (v3 - 1)];
        result = object_spawnCollisionRegion(v4 * v3 + v0->panelX, v0->panelY, v5, 0);
        v1 = v6;
        v2 = v7;
        ++v3;
    }
    while ( v3 <= 3 );
    return result;
}


// 0x80f1b24
int sub_80F1B24()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r4
    int v3; // r6
    int result; // r0
    int v5; // ST00_4
    int v6; // r1
    int v7; // r6

    v2 = 1;
    v3 = 1;
    while ( 1 )
    {
        result = object_getFrontDirection(v0) * (v0->panelX - v2);
        if ( result < 0 )
        {
            result = object_getPanelParameters(v2, v3);
            if ( result & *&byte_80F1B70[4 * v0->Alliance] )
            {
                v5 = v3;
                v6 = v3;
                v7 = *(v1 + 8);
                result = sub_80D05C4(v2, v6, *(v1 + 2), byte_80F1B70);
                v3 = v5;
            }
        }
        if ( ++v2 > 6 )
        {
            v2 = 1;
            if ( ++v3 > 3 )
                break;
        }
    }
    return result;
}


// 0x80f1b78
int sub_80F1B78()
{
    return object_spawnCollisionRegion(0, 0, 0, 0);
}


// 0x80f1ba8
int sub_80F1BA8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1BBC + *v0))();
}


// 0x80f1bc4
int sub_80F1BC4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        sub_80F1E08();
        PlaySoundEffect(332, v2, v3);
        result = 70;
        *(v1 + 16) = 70;
    }
    return result;
}


// 0x80f1bf4
void sub_80F1BF4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = 20;
    }
}


// 0x80f1c1c
int sub_80F1C1C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1C30 + *v0))();
}


// 0x80f1c48
int sub_80F1C48()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 8) += *(v1 + 6);
        *(v1 + 12) = 9;
        *(v0 + 16) = 17;
        result = 12;
        *(v1 + 16) = 12;
    }
    return result;
}


// 0x80f1c78
int __noreturn sub_80F1C78()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r1
    int v5; // r2
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int result; // r0
    int v10; // r4
    u32 v11; // r1
    int v12; // r0
    int v13; // r1
    int v14; // ST00_4
    int v15; // ST04_4
    int v16; // r1
    int v17; // r2
    int v18; // r0
    unsigned __int8 v19; // vf

    if ( *(v1 + 1) )
    {
        v10 = v0->panelX;
        v0->x += v0->vx;
        v11 = v0->y;
        v12 = convertXYToPanelXY_800E258(v0->x);
        if ( v12 != v10 )
        {
            v14 = v12;
            v15 = v13;
            sub_80F1E7E(v12, v13);
            v12 = v14;
            v13 = v15;
        }
        if ( object_checkPanelParameters(v12, v13, *&byte_80F1D20[8 * v0->Alliance], *&byte_80F1D20[8 * v0->Alliance + 4]) )
        {
            object_setPanelsFromCoordinates(v0);
            object_updateCollisionPanels(v0);
            v18 = *(v1 + 16);
            v19 = __OFSUB__(v18, 1);
            result = v18 - 1;
            *(v1 + 16) = result;
            if ( ((result < 0) ^ v19) | (result == 0) )
            {
                PlaySoundEffect(229, v16, v17);
                result = 8;
                *v1 = 8;
            }
        }
        else
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 18;
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        object_setInvulnerableTime(0xFFFF);
        sub_80F1E50(0x40000);
        v6 = PlaySoundEffect(448, v4, v5);
        result = sub_80E7896(v6, v7, v8, 2560);
        *(v1 + 48) = result;
    }
    return result;
}


// 0x80f1d30
int sub_80F1D30()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_80F1E98();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        v4 = *(v0 + 12) - 1;
        *(v0 + 12) = v4;
        if ( v4 <= 0 )
        {
            result = 12;
            *v0 = 12;
        }
        else
        {
            result = 0;
            *(v0 + 1) = 0;
        }
    }
    return result;
}


// 0x80f1d6c
int sub_80F1D6C()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        *(v1 + 16) = 4;
        result = *(v1 + 48);
        if ( result )
            result = sub_80E78AE(result);
    }
    return result;
}


// 0x80f1d9a
int sub_80F1D9A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_clearFlag(0x400000);
        sub_800EB08();
        v0->currAnimation = 3;
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80f1de4
void sub_80F1DE4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 20;
    }
}


// 0x80f1e08
int sub_80F1E08()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r4
    int v3; // ST04_4
    bool v4; // zf
    int result; // r0
    int v6; // r1
    signed int v7; // ST04_4
    int v8; // r3
    int v9; // r4
    int v10; // r6
    int v11; // [sp-8h] [bp-14h]

    v2 = -1;
    do
    {
        v11 = object_getFrontDirection(v0) + v0->panelX;
        v3 = v0->panelY + v2;
        v4 = object_isValidPanel(v11, v3) == 0;
        result = v11;
        v6 = v3;
        if ( !v4 )
        {
            v7 = v2;
            v8 = 2 * (v2 + 1);
            v9 = *&byte_80F1E48[v8];
            v10 = *(v1 + 8);
            result = sub_80DDFB6(v11, v6, *(v1 + 2), v8);
            v2 = v7;
        }
        ++v2;
    }
    while ( v2 <= 1 );
    return result;
}


// 0x80f1e50
int __fastcall sub_80F1E50(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    signed int v3; // r0
    int v4; // r0
    int result; // r0

    v1->vx = object_getFrontDirection(v1) * a1;
    v3 = 6;
    if ( v1->Alliance )
        v3 = 1;
    v4 = v3 - v1->panelX;
    if ( v4 < 0 )
        v4 = -v4;
    result = 2621440 * v4;
    __asm { SVC         6 }
    *(v2 + 16) = result;
    return result;
}


// 0x80f1e7e
int __fastcall sub_80F1E7E(char a1, int a2)
{
    int v2; // r7
    int v3; // r6

    v3 = *(v2 + 8);
    return object_spawnCollisionRegion(a1, a2, *(v2 + 2), 0);
}


// 0x80f1e98
int __noreturn sub_80F1E98()
{
    int v0; // r5
    int v1; // r7
    int *v2; // r0
    int result; // r0
    int v4; // r6
    unsigned int v9; // r0
    int v10; // r6
    int v11; // [sp+0h] [bp+0h]

    v2 = (&off_80F1EF0 + 8 * *(v0 + 22));
    result = object_getPanelsExceptCurrentFilterred(v2, &off_80F1EF0, *v2, v2[1]);
    v4 = result;
    if ( result )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v9 = *(&v11 + v4);
        v10 = *(v1 + 8);
        result = sub_80D54F0(v9 & 7, v9 >> 4, *(v1 + 2), 0);
    }
    return result;
}


// 0x80f1f18
int sub_80F1F18()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1F2C + *v0))();
}


// 0x80f1f34
int __fastcall sub_80F1F34(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // r6
    u32 v7; // r3
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v5 + 1) )
    {
        v9 = *(v5 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v5 = 4;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v4->currAnimation = 23;
        v6 = *(v5 + 8);
        sub_80DB800(v4->panelX, v4->panelY, *(v5 + 2), a4);
        object_getFlip(v4);
        v7 = v4->z;
        PlaySoundEffect(255, v4->x, v4->y);
        result = 35;
        *(v5 + 16) = 35;
    }
    return result;
}


// 0x80f1f7c
void sub_80F1F7C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 30;
    }
}


// 0x80f1fa0
int sub_80F1FA0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F1FB4 + *v0))();
}


// 0x80f1fc0
void __fastcall __noreturn sub_80F1FC0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v4 + 1) )
    {
        v8 = *(v4 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v4 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v4 = 4;
    }
    else
    {
        *(v4 + 1) = 4;
        v5 = *(v4 + 6);
        *(v4 + 8) += v5;
        *(v3 + 16) = 18;
        *(v4 + 48) = sub_80E887C(18, v5, a3, 2560);
        PlaySoundEffect(173, v6, v7);
        *(v4 + 16) = 30;
    }
    sub_80F20A0();
}


// 0x80f2004
int __fastcall sub_80F2004(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r1
    int v8; // r2

    if ( *(v5 + 1) )
    {
        result = *(v5 + 16) - 1;
        *(v5 + 16) = result;
        if ( result == 30 )
        {
            sub_80F207C();
            result = PlaySoundEffect(379, v7, v8);
        }
        else if ( result <= 0 )
        {
            result = 8;
            *v5 = 8;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 20;
        *(v5 + 52) = sub_80E8770(20, a2, a3, a4);
        *(v5 + 16) = 40;
        result = *(v5 + 48);
        if ( result )
            result = sub_80E8894(result);
    }
    return result;
}


// 0x80f204e
int sub_80F204E()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
            result = *(v1 + 52);
            if ( result )
                result = sub_80E8788(result);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f207c
int sub_80F207C()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x80f20a0
int __noreturn sub_80F20A0()
{
    int v0; // r5
    signed int v1; // r4
    bool v2; // zf
    int result; // r0
    int v4; // [sp-4h] [bp-14h]

    v1 = 1;
    do
    {
        v4 = *(v0 + 19);
        v2 = object_checkPanelParameters(v1, v4, *&byte_80F20E0[8 * *(v0 + 22)], *&byte_80F20E0[8 * *(v0 + 22) + 4]) == 0;
        result = v1;
        if ( !v2 )
            result = object_spawnCollisionRegion(v1, v4, 0, 0);
        ++v1;
    }
    while ( v1 <= 6 );
    return result;
}


// 0x80f20f8
int sub_80F20F8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F210C + *v0))();
}


// 0x80f2124
signed int __fastcall sub_80F2124(int a1, int a2, int a3)
{
    int v3; // r5
    _WORD *v4; // r7
    signed int result; // r0

    PlaySoundEffect(173, a2, a3);
    *(v3 + 16) = 28;
    sub_80DFE1C(*(v3 + 112));
    *(v3 + 118) = 1;
    result = 4;
    *v4 = 4;
    return result;
}


// 0x80f2142
int sub_80F2142()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r10
    int result; // r0

    if ( *(v0 + 116) )
    {
        *(v0 + 117) = *(v0 + 116) - 1;
        *(v0 + 16) = 29;
        SpawnT4BattleObjectWithId0(v0, 29, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        result = 8;
        *v1 = 8;
    }
    else
    {
        sub_80DFE1C(*(v0 + 112));
        result = **(v2 + oToolkit_JoypadPtr) & 1;
        if ( !result )
        {
            result = 16;
            *v1 = 16;
        }
    }
    return result;
}


// 0x80f2180
int sub_80F2180()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int result; // r0
    int v3; // r2
    int v4; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r2

    result = sprite_getFrameParameters();
    if ( !(result & 0x80) )
        return result;
    v4 = v0->extraVars[21];
    if ( !v0->extraVars[21] )
        goto LABEL_16;
    if ( v4 == 1 )
    {
        sub_800E2FC(v0, 30, 0);
LABEL_13:
        result = 20;
        *v1 = 20;
        return result;
    }
    if ( v4 == 2 )
    {
LABEL_16:
        PlaySoundEffect(420, 128, v3);
        goto LABEL_13;
    }
    if ( v4 != 3 && v4 != 4 )
        goto LABEL_13;
    v5 = v0->HP - *&byte_80F21F0[2 * v4];
    if ( v5 < 0 )
        LOWORD(v5) = 0;
    v0->HP = v5;
    v0->currAnimation = 31;
    sub_80F22DA();
    PlaySoundEffect(107, v6, v7);
    object_clearCollisionRegion();
    v1[8] = 255;
    result = 12;
    *v1 = 12;
    return result;
}


// 0x80f21fc
int sub_80F21FC()
{
    _BYTE *v0; // r5
    _WORD *v1; // r7
    __int16 v2; // r0
    int result; // r0

    v2 = v1[8] - 1;
    v1[8] = v2;
    if ( v2 & 2 )
        *v0 &= 0xFDu;
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        object_setCollisionRegion(1);
        v1[8] = 0;
        result = 20;
        *v1 = 20;
    }
    return result;
}


// 0x80f222c
signed int sub_80F222C()
{
    int v0; // r5
    _WORD *v1; // r7
    signed int result; // r0
    int v3; // r1

    if ( *(v0 + 116) )
    {
        *(v0 + 117) = *(v0 + 116) - 1;
        *(v0 + 16) = 29;
        SpawnT4BattleObjectWithId0(v0, 29, *(v0 + 52), *(v0 + 56), *(v0 + 60));
        result = 8;
        *v1 = 8;
    }
    else
    {
        result = 118;
        v3 = *(v0 + 118) - 1;
        *(v0 + 118) = v3;
        if ( v3 < 0 )
        {
            *(v0 + 118) = 0;
            result = 20;
            *v1 = 20;
        }
    }
    return result;
}


// 0x80f2268
void sub_80F2268()
{
    Battle *v0; // r5

    v0->currAnimation = 0;
    object_exitAttackState(v0);
}


// 0x80f2274
int sub_80F2274()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F2288 + *v0))();
}


// 0x80f2290
int sub_80F2290()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 1) )
    {
        sub_80DFE28(*(v0 + 112));
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            *(v0 + 16) = 0;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 32;
        result = sub_80C02CA(*(v0 + 120));
    }
    return result;
}


// 0x80f22c2
void sub_80F22C2()
{
    Battle *v0; // r5
    int v1; // r7

    if ( *(v1 + 1) )
    {
        object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
    }
}


// 0x80f22da
Battle *sub_80F22DA()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    v1 = getBattleArmPositionMaybe_8018810(*(v0 + 40), 5, *(v0 + 22), *(v0 + 23));
    return sub_80E8124(v1, v1 << 16, 0, v2 << 16);
}


// 0x80f22f8
int sub_80F22F8()
{
    int v0; // r5
    int result; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3

    result = sub_802D234();
    if ( result == 9 )
    {
        v2 = sub_80DFD74();
        *(v0 + 112) = v2;
        result = sub_80C02A6(v2, v3, v4, v5);
        *(v0 + 120) = result;
    }
    return result;
}


// 0x80f2330
void sub_80F2330()
{
    int v0; // r5

    (*(&off_80F2348 + *(v0 + 8)))();
    object_updateSprite();
}


// 0x80f2354
void sub_80F2354()
{
    int v0; // r5
    unsigned int v1; // r4
    int v2; // r1
    int v3; // r0

    v1 = 4 * *(*(v0 + 88) + 1);
    (*(&off_80F2410 + v1))();
    (*(&off_80F2474 + v1))();
    if ( sub_802D234() == 10 )
        sub_800E9FA();
    ai_eventuallyRunsAIAttack_801AF44(off_80F23AC[v1 / 4]);
    (*(&off_80F25A0 + v1))();
    v2 = *(v0 + 88);
    v3 = *(v2 + 25);
    if ( *(v2 + 25) )
        *(v2 + 25) = --v3;
    object_presentCollisionData(v3, v2);
}


// 0x80f28c0
void nullsub_106()
{
    ;
}


// 0x80f29d8
int sub_80F29D8()
{
    unsigned __int8 *v0; // r6
    int result; // r0

    (*(&off_80F29FC + *v0))();
    result = sub_800FFFE();
    if ( result & 0x600 )
        result = sub_801056A(result, 0, 0);
    return result;
}


// 0x80f2a04
signed int sub_80F2A04()
{
    _BYTE *v0; // r6
    int v1; // r7
    signed int result; // r0

    *(v1 + 16) = 255;
    object_setAttack0();
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f2a16
int sub_80F2A16()
{
    _BYTE *v0; // r6
    int result; // r0

    result = 0;
    *v0 = 0;
    return result;
}


// 0x80f2a1e
void sub_80F2A1E()
{
    ;
}


// 0x80f2b48
int sub_80F2B48()
{
    int v0; // r5

    return (*(&off_80F2B64 + *(*(v0 + 88) + 128)))();
}


// 0x80f2b6c
signed int sub_80F2B6C()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r7
    signed int result; // r0
    char v4; // r0

    if ( v1[4] < 3 )
    {
        GetPositiveSignedRNG2();
        if ( (v4 & 0xF) < 12 )
            ++v1[4];
        *(v2 + 40) = sub_80F36A2;
        *(v2 + 24) = sub_80F2CC2();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        result = (object_setAttack4)(9);
    }
    else
    {
        *(v2 + 12) = v1[5];
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 1;
        sub_80F2DDC(0);
        *(v2 + 24) = sub_80F2CE4();
        *(v2 + 40) = sub_80F3704;
        *(v2 + 48) = v0 + 96;
        object_setAttack0();
        result = sub_800FE36();
        if ( !result || (result = v1[5] ^ 1, v1[5] = result, result) )
        {
            *v1 = 4;
        }
        else
        {
            result = 0;
            v1[4] = 0;
        }
    }
    return result;
}


// 0x80f2bee
int sub_80F2BEE()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r7
    char v3; // r0
    int v4; // r0
    int v5; // r0
    int result; // r0

    GetPositiveSignedRNG2();
    if ( (v3 & 0xF) >= 6 )
    {
        v5 = sub_800FE36();
        *(v2 + 3) = v5;
        *(v2 + 12) = sub_80F2D88(v5);
        *(v2 + 13) = sub_80F2DAC();
        *(v2 + 2) = 1;
        sub_80F2DDC(2);
        *(v2 + 24) = sub_80F2D2C();
        *(v2 + 40) = sub_80F3784;
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        *(v2 + 48) = v0 + 108;
    }
    else
    {
        v4 = sub_800FE36();
        *(v2 + 3) = v4;
        *(v2 + 12) = sub_80F2D64(v4);
        *(v2 + 13) = sub_80F2D50();
        *(v2 + 2) = 1;
        sub_80F2DDC(1);
        *(v2 + 24) = sub_80F2D08();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    }
    object_setAttack0();
    result = 0;
    v1[4] = 0;
    *v1 = 0;
    return result;
}


// 0x80f2c82
void sub_80F2C82()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 80);
    if ( !v1 )
        JUMPOUT(&loc_80F2C92);
    sub_80C44D2(v1);
    JUMPOUT(&loc_80F2C92);
}


// 0x80f2c90
int sub_80F2C90()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 16, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80f2cc2
int sub_80F2CC2()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F2CE0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f2ce4
int sub_80F2CE4()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F2D04);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f2d08
int sub_80F2D08()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F2D28);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f2d2c
int sub_80F2D2C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F2D4C);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f2d50
int sub_80F2D50()
{
    return sub_800FE28(&dword_80F2D60);
}


// 0x80f2d64
int __fastcall sub_80F2D64(int a1)
{
    int v1; // r5
    signed int v2; // r3

    v2 = 0;
    if ( (*(v1 + 38) >> 1) > *(v1 + 36) )
        v2 = 4;
    return byte_80F2D80[a1 + v2];
}


// 0x80f2d88
int __fastcall sub_80F2D88(int a1)
{
    int v1; // r5
    signed int v2; // r3

    v2 = 0;
    if ( (*(v1 + 38) >> 1) > *(v1 + 36) )
        v2 = 4;
    return byte_80F2DA4[a1 + v2];
}


// 0x80f2dac
int sub_80F2DAC()
{
    return sub_800FE28(byte_80F2DBC);
}


// 0x80f2dc0
signed int __fastcall sub_80F2DC0(int a1)
{
    int v1; // r4
    signed int result; // r0
    int v3; // r3

    v1 = a1;
    result = 0;
    v3 = 0;
    while ( !*(v1 + 4 * v3) )
    {
        if ( ++v3 >= 3 )
            return 1;
    }
    return result;
}


// 0x80f2ddc
int __fastcall sub_80F2DDC(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F2E18[8 * a1]);
    result = sub_800FE12(&byte_80F2E3C[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f2e54
int __fastcall sub_80F2E54(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80F2E88[8 * a1]);
    return (sub_800FE12(&byte_80F2EAC[8 * v1]) << 16) | v2;
}


// 0x80f2ed4
int sub_80F2ED4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F2EE8 + *v0))();
}


// 0x80f2ef4
signed int __fastcall sub_80F2EF4(int a1)
{
    _BYTE *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1
    signed int result; // r0

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F2F44[8 * v1[22]], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 24) = 30;
        *(v2 + 16) = 1;
        result = 8;
        *v2 = 8;
    }
    else
    {
        v1[20] = v7;
        v1[21] = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1[16] = 4;
        *(v2 + 16) = 4;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x80f2f54
int sub_80F2F54()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 5;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f2f80
void sub_80F2F80()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x80f2fba
int sub_80F2FBA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F2FCC + *v0))();
}


// 0x80f2fe4
void __fastcall sub_80F2FE4(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F3030[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 4;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f3040
int sub_80F3040()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 5;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f306c
int sub_80F306C()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f308e
int sub_80F308E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f30b2
int sub_80F30B2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r3
    int v6; // r1
    int v7; // r2
    int v8; // r3
    int v9; // r6

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 16;
            v5 = *(v1 + 3);
            v6 = *(&off_80F30F8 + v5);
            v7 = *(&off_80F3100 + v5);
            v8 = *(v1 + 12);
            v9 = *(v1 + 8);
            sub_80F382C(*(v1 + 48));
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 21;
        object_setCounterTime(18);
        result = 8;
        *(v1 + 16) = 8;
    }
    return result;
}


// 0x80f3104
void sub_80F3104()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f3124
int sub_80F3124()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F3138 + *v0))();
}


// 0x80f315c
int sub_80F315C()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        result = 15;
        *(v1 + 16) = 15;
    }
    return result;
}


// 0x80f3180
int sub_80F3180()
{
    int v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // [sp-8h] [bp-Ch]
    int v10; // [sp-4h] [bp-8h]

    if ( *(v1 + 1) )
    {
        *(v0 + 60) += 0x100000;
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( !v2 && (v3 = *(v1 + 44)) != 0 && (v9 = *(v3 + 18), v10 = *(v3 + 19), object_isValidPanel(v9, v10)) )
        {
            *(v1 + 22) = v9;
            *(v1 + 23) = v10;
            v4 = *(v0 + 18);
            v5 = *(v0 + 19);
            *(v0 + 20) = v4;
            *(v0 + 21) = v5;
            object_reservePanel(v4, v5);
            object_setFlag1(64);
            object_setFlag1(0x400000);
            object_clearCollisionRegion();
            result = 10;
            *(v1 + 16) = 10;
        }
        else
        {
            result = 32;
            *v1 = 32;
        }
    }
    return result;
}


// 0x80f31ee
int sub_80F31EE()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 18) + 1;
        *(v1 + 18) = v4;
        if ( !__CFSHR__(v4, 3) )
            sub_80F38D0();
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 30;
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f3230
int sub_80F3230()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        *(v0 + 60) -= 0x100000;
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            sub_80F38D0();
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            *(v0 + 60) = 0;
            sub_8109794(*(v0 + 18), *(v0 + 19));
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80f32bc
int sub_80F32BC()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    int v4; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        object_isCurrentPanelSolid();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        v4 = *(v0 + 12) - 1;
        *(v0 + 12) = v4;
        if ( v4 )
        {
            result = 20;
            *v0 = 20;
        }
        else
        {
            result = 24;
            *v0 = 24;
        }
    }
    return result;
}


// 0x80f3312
int sub_80F3312()
{
    int v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int v7; // [sp-8h] [bp-Ch]
    int v8; // [sp-4h] [bp-8h]

    if ( *(v1 + 1) )
    {
        *(v0 + 60) += 0x100000;
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( !v2 && (v3 = *(v1 + 44)) != 0 && (v7 = *(v3 + 18), v8 = *(v3 + 19), object_isValidPanel(v7, v8)) )
        {
            *(v1 + 22) = v7;
            *(v1 + 23) = v8;
            object_setFlag1(64);
            object_clearCollisionRegion();
            result = 10;
            *(v1 + 16) = 10;
        }
        else
        {
            result = 24;
            *v1 = 24;
        }
    }
    return result;
}


// 0x80f336c
int sub_80F336C()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 28;
            *v0 = 28;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        object_setFlag1(64);
        object_clearCollisionRegion();
        result = 3;
        *(v0 + 16) = 3;
    }
    return result;
}


// 0x80f3396
int sub_80F3396()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 32;
            *v1 = 32;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        v4 = object_updateCollisionPanels(v0);
        object_updateCollisionData(v4, 16, 2, 3);
        v5 = *(v0 + 44);
        v6 = *(v0 + 84);
        *(v6 + 46) = v5;
        *(v6 + 7) = v5;
        object_setCollisionRegion(1);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f3400
void sub_80F3400()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 20;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f3428
int sub_80F3428()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F343C + *v0))();
}


// 0x80f3460
signed int sub_80F3460()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 14) = 0;
    *(v0 + 22) = 0;
    *(v0 + 23) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f3472
signed int sub_80F3472()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r4
    int v8; // r0
    int v9; // r1
    signed int result; // r0
    _BYTE *v11; // r3
    char v12; // r1

    v2 = *(v1 + 14) + 1;
    *(v1 + 14) = v2;
    object_canMove(v2);
    if ( v3
        || (v4 = &byte_80F34DC[8 * v0[22]], v5 = *v4, v6 = *(v4 + 1), v7 = *(v1 + 14), (v8 = (*(v1 + 40))(*(v1 + 44))) == 0) )
    {
        result = 24;
        *v1 = 24;
    }
    else
    {
        v0[20] = v8;
        v0[21] = v9;
        object_reservePanel(v8, v9);
        object_setFlag1(64);
        v0[16] = 4;
        *(v1 + 16) = 4;
        *v1 = 8;
        result = *(v1 + 14);
        if ( result > 1 )
        {
            v11 = **(v1 + 48);
            if ( v11 )
            {
                v11[11] = 1;
                result = v0[20];
                v12 = v0[21];
                v11[6] = result;
                v11[7] = v12;
            }
        }
    }
    return result;
}


// 0x80f34ec
int sub_80F34EC()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 5;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f3518
int sub_80F3518()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        if ( *(v1 + 14) <= 1 )
        {
            result = 16;
            *v1 = 16;
        }
        else
        {
            result = 24;
            *v1 = 24;
        }
    }
    return result;
}


// 0x80f3546
char *sub_80F3546()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    unsigned int v4; // r0
    unsigned __int8 v5; // cf
    char *result; // r0

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            *v1 = 20;
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = 30;
        *(v1 + 18) = 0;
    }
    v4 = *(v1 + 18) + 1;
    *(v1 + 18) = v4;
    v5 = __CFSHR__(v4, 3);
    result = (v4 >> 3);
    if ( !v5 )
        result = sub_80F38AA();
    return result;
}


// 0x80f357c
char *sub_80F357C()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r4
    int v7; // r6
    int v8; // r7
    unsigned int v9; // r0
    unsigned __int8 v10; // cf
    char *result; // r0
    int v12; // [sp-4h] [bp-8h]

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16) - 1;
        *(v1 + 16) = v2;
        if ( v2 == 10 )
        {
            v12 = v1;
            v3 = 6;
            if ( v0[22] )
                v3 = 1;
            v4 = *(v1 + 2);
            v5 = *(v1 + 13) << 8;
            v6 = *(v1 + 3) | v5;
            v7 = *(v1 + 8);
            v8 = *(v1 + 48);
            sub_80C8F74(v3, v0[19], v4, v5);
            v1 = v12;
            v0[16] = 16;
        }
        else if ( v2 <= 0 )
        {
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 21;
        object_setCounterTime(30);
        *(v1 + 16) = 18;
    }
    v9 = *(v1 + 18) + 1;
    *(v1 + 18) = v9;
    v10 = __CFSHR__(v9, 3);
    result = (v9 >> 3);
    if ( !v10 )
        result = sub_80F38AA();
    return result;
}


// 0x80f35e4
char *sub_80F35E4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned int v3; // r0
    unsigned __int8 v4; // cf
    char *result; // r0

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16) - 1;
        *(v1 + 16) = v2;
        if ( v2 == 8 )
        {
            *(v0 + 16) = 21;
        }
        else if ( v2 <= 0 )
        {
            *(v0 + 16) = 16;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = 38;
    }
    v3 = *(v1 + 18) + 1;
    *(v1 + 18) = v3;
    v4 = __CFSHR__(v3, 3);
    result = (v3 >> 3);
    if ( !v4 )
        result = sub_80F38AA();
    return result;
}


// 0x80f3628
int sub_80F3628()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    int v6; // r0

    if ( !*(v0 + 1) )
    {
        result = **(v0 + 48);
        if ( !result )
        {
LABEL_12:
            result = 32;
            *v0 = 32;
            return result;
        }
        if ( *(result + 9) )
            return result;
        *(v0 + 16) = *(v0 + 13);
        v2 = **(v0 + 48);
        if ( v2 )
        {
            *(v2 + 11) = 2;
            result = 4;
            *(v0 + 1) = 4;
            return result;
        }
    }
    v3 = *(v0 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        v5 = **(v0 + 48);
        if ( v5 )
            *(v5 + 11) = 3;
        v6 = *(v0 + 12) - 1;
        *(v0 + 12) = v6;
        if ( v6 )
        {
            result = 4;
            *v0 = 4;
            return result;
        }
        goto LABEL_12;
    }
    return result;
}


// 0x80f367e
void sub_80F367E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f36a2
__int64 __fastcall __noreturn sub_80F36A2(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r1
    int v7; // r6
    __int64 v8; // r0
    unsigned int v13; // r0
    __int64 v14; // ST00_8
    int v16; // [sp+0h] [bp-30h]
    int v17; // [sp+4h] [bp-2Ch]
    int v18; // [sp+8h] [bp-28h]
    int v19; // [sp+Ch] [bp-24h]

    v16 = a1;
    v17 = a3;
    v18 = a4;
    object_reservePanel(*(v4 + 18), *(v4 + 19));
    v7 = object_getPanelsIgnoreColumnFiltered(*(v16 + 19), v5, v17, v18);
    if ( v7 || (v7 = object_getPanelsInRowFiltered(*(v16 + 19), v6, v17, v18)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v13 = *(&v19 + v7);
        HIDWORD(v8) = v13 >> 4;
        LODWORD(v8) = v8 & 7;
    }
    else
    {
        LODWORD(v8) = 0;
    }
    v14 = v8;
    object_removePanelReserve(*(v4 + 18), *(v4 + 19));
    return v14;
}


// 0x80f3704
int __fastcall __noreturn sub_80F3704(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    unsigned __int8 *v5; // r1
    int v6; // r4
    int v7; // r6
    int v8; // ST00_4
    bool v9; // zf
    int result; // r0
    int v11; // ST00_4
    int v12; // [sp+0h] [bp-2Ch]
    int v13; // [sp+4h] [bp-28h]

    v12 = a3;
    v13 = a4;
    v5 = &dword_80F3780 + 2 * v4->Alliance;
    v6 = *v5;
    v7 = v5[1];
    v8 = *v5;
    v9 = object_checkPanelParameters(v8, v7, a3, a4) == 0;
    result = v8;
    if ( v9 )
    {
        v9 = object_checkPanelParameters(v6, v7 - 1, v12, v13) == 0;
        result = v6;
        if ( v9 )
        {
            v9 = object_checkPanelParameters(v6, v7 + 1, v12, v13) == 0;
            result = v6;
            if ( v9 )
            {
                v11 = object_getFrontDirection(v4) + v6;
                v9 = object_checkPanelParameters(v11, v7, v12, v13) == 0;
                result = v11;
                if ( v9 )
                    result = 0;
            }
        }
    }
    return result;
}


// 0x80f3784
int __fastcall __noreturn sub_80F3784(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    int v5; // r5
    int v6; // r6
    int result; // r0
    int v12; // ST00_4
    int v13; // [sp+Ch] [bp-28h]

    if ( !v4 )
    {
        v6 = object_getPanelsInRowFiltered(*(a1 + 19), a2, a3, a4);
        if ( v6 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            return *(&v13 + v6) & 7;
        }
        return 0;
    }
    v12 = *(v5 + 18);
    _ZF = object_checkPanelParameters(v12, *(a1 + 19), a3, a4) == 0;
    result = v12;
    if ( _ZF )
        return 0;
    return result;
}


// 0x80f37d8
int __fastcall __noreturn sub_80F37D8(int a1, int a2, int a3)
{
    int v3; // r5
    signed int v4; // r7
    char *v5; // r1
    bool v6; // zf
    int v7; // r3
    int result; // r0
    int v9; // [sp-8h] [bp-24h]
    int v10; // [sp-4h] [bp-20h]
    int v11; // [sp+0h] [bp-1Ch]

    v11 = a3;
    v4 = 0;
    do
    {
        v5 = &byte_80F3824[2 * v4];
        v9 = *v5 + *(v3 + 18);
        v10 = byte_0[v5 + 1] + *(v3 + 19);
        v6 = (object_getPanelParameters(v9, v10) & 0x10) == 0;
        result = v9;
        if ( !v6 )
            result = sub_80C8DE0(v9, v10, v11, v7);
        ++v4;
    }
    while ( v4 < 4 );
    return result;
}


// 0x80f382c
int __fastcall __noreturn sub_80F382C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int result; // r0
    int v4; // [sp-8h] [bp-30h]
    int v5; // [sp-4h] [bp-2Ch]
    int v6; // [sp+0h] [bp-28h]
    int v7; // [sp+10h] [bp-18h]

    v6 = a1;
    v7 = 0;
    do
    {
        v4 = object_getFrontDirection(v1) + v1->panelX;
        v5 = v1->panelY + v7 - 1;
        if ( object_getPanelParameters(v4, v5) & 0x10 )
            sub_80C8C4C(v4, v5, *(v2 + 2), v6 + 4 * v7);
        result = v7 + 1;
        v7 = result;
    }
    while ( result <= 2 );
    return result;
}


// 0x80f388e
signed int __fastcall sub_80F388E(int a1)
{
    int v1; // r4
    signed int result; // r0
    int v3; // r3

    v1 = a1;
    result = 0;
    v3 = 0;
    while ( !*(v1 + 4 * v3) )
    {
        if ( ++v3 >= 3 )
            return 1;
    }
    return result;
}


// 0x80f38aa
char *sub_80F38AA()
{
    Battle *v0; // r5
    signed int v1; // r6
    signed int v2; // r4
    __int64 v3; // r0
    char *result; // r0

    v1 = 6;
    if ( v0->Alliance )
        v1 = 1;
    v2 = 0;
    do
    {
        LODWORD(v3) = -object_getFrontDirection(v0) * v2 + v1;
        HIDWORD(v3) = v0->panelY;
        result = object_highlightPanel(v3);
        ++v2;
    }
    while ( v2 < 3 );
    return result;
}


// 0x80f38d0
int sub_80F38D0()
{
    int v0; // r5

    return object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), 9, *(v0 + 22));
}


// 0x80f3a04
int sub_80F3A04()
{
    int v0; // r5

    return (*(&off_80F3A20 + *(*(v0 + 88) + 128)))();
}


// 0x80f3a24
void sub_80F3A24()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    char v3; // r0
    int v4; // r0

    if ( sub_80F3C1C() <= 1 )
    {
        if ( *(v1 + 4) >= 3 )
        {
            *(v1 + 4) = 0;
            *(v2 + 3) = sub_800FE36();
            *(v2 + 2) = 3;
            *(v2 + 24) = sub_80F3B8C();
            *(v2 + 48) = v0 + 96;
            object_setAttack0();
            return;
        }
        ++*(v1 + 4);
    }
    GetPositiveSignedRNG2();
    v4 = v3 & 0xF;
    if ( v4 < 4 )
    {
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 3;
        sub_80F3C2C(0);
        *(v2 + 24) = sub_80F3BB0();
        *(v2 + 48) = v0 + 96;
        *(v2 + 52) = v0 + 100;
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        *(v2 + 40) = sub_80F4658;
        object_setAttack0();
    }
    else if ( v4 < 6 )
    {
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 3;
        sub_80F3C2C(1);
        *(v2 + 24) = sub_80F3BD4();
        *(v2 + 48) = v0 + 104;
        *(v2 + 40) = sub_80F45B8;
        object_setAttack0();
    }
    else if ( v4 < 8 )
    {
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 3;
        sub_80F3C2C(2);
        *(v2 + 24) = sub_80F3BF8();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        object_setAttack0();
    }
    else
    {
        *(v2 + 3) = sub_800FE36();
        *(v2 + 40) = sub_80F45B8;
        *(v2 + 24) = sub_80F3B7A();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        (object_setAttack4)(9);
    }
}


// 0x80f3b24
int sub_80F3B24()
{
    int v0; // r5
    int v1; // r1
    int v2; // r3

    sub_800FE36();
    sub_80F3CA4(0);
    return sub_80C7544((v0 + 96), v1, 3, v2);
}


// 0x80f3b7a
int sub_80F3B7A()
{
    return sub_800FE28(&dword_80F3B88);
}


// 0x80f3b8c
int sub_80F3B8C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F3BAC);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f3bb0
int sub_80F3BB0()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F3BD0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f3bd4
int sub_80F3BD4()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F3BF4);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f3bf8
int sub_80F3BF8()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F3C18);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f3c1c
int sub_80F3C1C()
{
    int v0; // r5
    int result; // r0
    int v2; // r1

    result = 0;
    v2 = *(v0 + 96);
    if ( v2 )
        result = *(v2 + 5);
    return result;
}


// 0x80f3c2c
int __fastcall sub_80F3C2C(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F3C68[8 * a1]);
    result = sub_800FE12(&byte_80F3C8C[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f3ca4
int __fastcall sub_80F3CA4(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80F3CD8[8 * a1]);
    return (sub_800FE12(&byte_80F3CFC[8 * v1]) << 16) | v2;
}


// 0x80f3d24
int sub_80F3D24()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F3D38 + *v0))();
}


// 0x80f3d44
signed int __fastcall sub_80F3D44(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1
    int v9; // r1
    __int16 v10; // r2
    signed int result; // r0

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F3D9C[8 * *(v1 + 22)], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        result = 8;
        *v2 = 8;
    }
    else
    {
        *(v1 + 20) = v7;
        *(v1 + 21) = v8;
        object_reservePanel(v7, v8);
        *(v1 + 64) = sub_80F46A4(*(v1 + 20), *(v1 + 21), *&byte_80F3DB0[4 * *(v2 + 3)]);
        *(v1 + 68) = v9;
        *(v2 + 16) = v10;
        sub_80F3DC0();
        object_setFlag1(64);
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x80f3dc0
int sub_80F3DC0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1
    int v7; // r0

    v0->x += v0->vx;
    v0->y += v0->vy;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        v7 = object_setFlag1(0x80000);
        result = (loc_801171C)(v7);
    }
    return result;
}


// 0x80f3e0a
int sub_80F3E0A()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80f3e2a
int sub_80F3E2A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F3E3C + *v0))();
}


// 0x80f3e48
int sub_80F3E48()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        *(**(v1 + 48) + 11) = 1;
        object_setCounterTime(12);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80f3e7a
int sub_80F3E7A()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(**(v0 + 48) + 11) = 2;
        result = 10;
        *(v0 + 16) = 10;
    }
    return result;
}


// 0x80f3ea2
void sub_80F3EA2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f3ec6
int sub_80F3EC6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F3ED8 + *v0))();
}


// 0x80f3ef0
void __fastcall sub_80F3EF0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0

    object_canMove(a1);
    if ( v3 || (*(v2 + 56) = 0, (v4 = (*(v2 + 40))(*(v2 + 44), *(v2 + 52))) == 0) )
    {
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 12) = v4;
        if ( v4 == v1->panelY )
            *v2 = 12;
        else
            *v2 = 4;
    }
}


// 0x80f3f24
void __fastcall sub_80F3F24(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    signed int v4; // r3
    signed int v5; // r1
    u32 v6; // r1
    __int16 v7; // r2
    int v8; // [sp-8h] [bp-Ch]
    int v9; // [sp-4h] [bp-8h]

    object_canMove(a1);
    if ( v3 )
        goto LABEL_9;
    v4 = 1;
    v5 = v1->panelY;
    if ( v5 > *(v2 + 12) )
        v4 = -1;
    v8 = v1->panelX;
    v9 = v5 + v4;
    if ( !object_checkPanelParameters(v8, v5 + v4, *&byte_80F3F8C[8 * v1->Alliance], *&byte_80F3F8C[8 * v1->Alliance + 4]) )
    {
LABEL_9:
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v8;
        v1->futurePanelY = v9;
        object_reservePanel(v8, v9);
        v1->vx = sub_80F46A4(v1->futurePanelX, v1->futurePanelY, *&byte_80F3FA0[4 * *(v2 + 3)]);
        v1->vy = v6;
        *(v2 + 16) = v7;
        sub_80F3FB0();
        object_setFlag1(64);
        *v2 = 8;
    }
}


// 0x80f3fb0
int sub_80F3FB0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        if ( v0->panelY == *(v1 + 12) )
        {
            result = 12;
            *v1 = 12;
        }
        else
        {
            result = 4;
            *v1 = 4;
        }
    }
    return result;
}


// 0x80f4008
int sub_80F4008()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 20;
        v2 = v0[19];
        v3 = object_getCoordinatesForPanels(v0[18]);
        *(v1 + 56) = sub_80E3FB4(v0[22] << 8, v3, v4, 0);
        object_setCounterTime(6);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f404e
int __fastcall sub_80F404E(int a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6
    int v8; // r1
    int v9; // r2
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v5 + 1) )
    {
        v11 = *(v5 + 16);
        v12 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            *(**(v5 + 48) + 11) = 5;
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v4[16] = 21;
        v6 = *(v5 + 3);
        v7 = *(v5 + 8);
        sub_80C8070(v4[18], v4[19], *(v5 + 2), a4);
        PlaySoundEffect(186, v8, v9);
        *(**(v5 + 48) + 11) = 4;
        *(v5 + 16) = *&byte_80F40AC[2 * *(v5 + 3)];
        result = *(v5 + 56);
        if ( result )
            result = sub_80E3FC4(result);
    }
    return result;
}


// 0x80f40b4
void sub_80F40B4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f40d8
int sub_80F40D8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F40EC + *v0))();
}


// 0x80f4108
signed int sub_80F4108()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // r3
    int v5; // r6
    _WORD *v6; // ST00_4
    int v7; // r7
    signed int result; // r0

    *(v0 + 38);
    *(v0 + 36);
    v2 = object_getFlag();
    v3 = *(v1 + 2);
    v4 = *(v1 + 3);
    v5 = *(v1 + 8);
    v6 = v1;
    v7 = *(v1 + 48);
    sub_80C7A6C(v2, 40960, v3, v4);
    result = 4;
    *v6 = 4;
    return result;
}


// 0x80f4144
signed int __fastcall sub_80F4144(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1
    int v9; // r1
    __int16 v10; // r2
    signed int result; // r0

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F419C[8 * *(v1 + 22)], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        result = 12;
        *v2 = 12;
    }
    else
    {
        *(v1 + 20) = v7;
        *(v1 + 21) = v8;
        object_reservePanel(v7, v8);
        *(v1 + 64) = sub_80F46A4(*(v1 + 20), *(v1 + 21), *&byte_80F41B0[4 * *(v2 + 3)]);
        *(v1 + 68) = v9;
        *(v2 + 16) = v10;
        sub_80F41C0();
        object_setFlag1(64);
        result = 8;
        *v2 = 8;
    }
    return result;
}


// 0x80f41c0
int sub_80F41C0()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f420a
signed int sub_80F420A()
{
    int v0; // r7
    int v1; // r0
    signed int result; // r0

    v1 = **(v0 + 48);
    if ( v1 )
    {
        if ( *(v1 + 9) == 4 )
        {
            result = 16;
            *v0 = 16;
        }
        else
        {
            result = 4;
            *v0 = 4;
        }
    }
    else
    {
        result = 24;
        *v0 = 24;
    }
    return result;
}


// 0x80f422c
int sub_80F422C()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        object_setCounterTime(12);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80f4256
signed int sub_80F4256()
{
    int v0; // r5
    int v1; // r7
    signed int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 19;
    }
    result = **(v1 + 48);
    if ( !result )
    {
        result = 24;
        *v1 = 24;
    }
    return result;
}


// 0x80f4274
void sub_80F4274()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f4298
int sub_80F4298()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F42AC + *v0))();
}


// 0x80f42c8
void sub_80F42C8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r0
    int v4; // r1

    *(v1 + 56) = 0;
    v2 = *(v1 + 44);
    v3 = *(v2 + 18);
    v4 = *(v2 + 19);
    if ( v4 == v0->panelY )
    {
        *v1 = 12;
    }
    else
    {
        *(v1 + 48) = v4;
        if ( object_isValidPanel(v3, v4) )
            *v1 = 4;
        else
            object_exitAttackState(v0);
    }
}


// 0x80f42f6
void __fastcall sub_80F42F6(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    signed int v4; // r3
    int v5; // r1
    u32 v6; // r1
    __int16 v7; // r2
    int v8; // [sp-8h] [bp-Ch]
    int v9; // [sp-4h] [bp-8h]

    object_canMove(a1);
    if ( v3 )
        goto LABEL_9;
    v4 = 1;
    v5 = v1->panelY;
    if ( v5 > *(v2 + 48) )
        v4 = -1;
    v8 = v1->panelX;
    v9 = v5 + v4;
    if ( !object_checkPanelParameters(v8, v5 + v4, *&byte_80F4360[8 * v1->Alliance], *&byte_80F4360[8 * v1->Alliance + 4]) )
    {
LABEL_9:
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v8;
        v1->futurePanelY = v9;
        object_reservePanel(v8, v9);
        v1->vx = sub_80F46A4(v1->futurePanelX, v1->futurePanelY, *&byte_80F4374[4 * *(v2 + 3)]);
        v1->vy = v6;
        *(v2 + 16) = v7;
        sub_80F4384();
        object_setFlag1(64);
        *v2 = 8;
    }
}


// 0x80f4384
int sub_80F4384()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        if ( v0->panelY == *(v1 + 48) )
        {
            result = 12;
            *v1 = 12;
        }
        else
        {
            result = 4;
            *v1 = 4;
        }
    }
    return result;
}


// 0x80f43dc
int sub_80F43DC()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 15;
        v2 = v0[19];
        v3 = object_getCoordinatesForPanels(v0[18]);
        *(v1 + 56) = sub_80E3FB4(v0[22] << 8, v3, v4, 0);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80f441c
int __noreturn sub_80F441C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r4
    int v5; // r2
    int v10; // r0
    u32 v11; // r1
    int v12; // r0
    int v13; // r1
    int v14; // r0
    int result; // r0
    int v16; // [sp-8h] [bp-14h]

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        v2 = v0->panelX;
        v3 = v0->panelY;
        v0->futurePanelX = v2;
        v0->futurePanelY = v3;
        object_reservePanel(v2, v3);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        object_setCounterTime(6);
        v4 = object_getEnemyDirection();
        v0->vx = *&byte_80F44D0[4 * *(v1 + 3)] * v4;
        v5 = *(v1 + 44);
        v16 = *(v5 + 18);
        if ( !object_isValidPanel(v16, *(v5 + 19)) )
        {
LABEL_10:
            result = 24;
            *v1 = 24;
            return result;
        }
        if ( (v16 - v0->panelX) * v4 - 1 <= 0 )
        {
LABEL_9:
            result = 20;
            *v1 = 20;
            return result;
        }
        __asm { SVC         6 }
        *(v1 + 16) = 0;
        v0->currAnimation = 16;
        v10 = *(v1 + 56);
        if ( v10 )
            *(v10 + 16) = 15;
    }
    v0->x += v0->vx;
    v11 = v0->y;
    v12 = convertXYToPanelXY_800E258(v0->x);
    if ( !object_checkPanelParameters(v12, v13, 0, 58720256) )
        goto LABEL_10;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v14 = *(v1 + 16);
    _VF = __OFSUB__(v14, 1);
    result = v14 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ _VF) | (result == 0) )
        goto LABEL_9;
    return result;
}


// 0x80f44e4
int sub_80F44E4()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    char v6; // r0
    int v7; // r6
    int v8; // r1
    int v9; // r2
    int v10; // r0

    v2 = *(v1 + 1);
    if ( v2 == 1 )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            v0[16] = 17;
            v6 = object_getEnemyDirection();
            v7 = *(v1 + 8);
            object_spawnCollisionRegion(v6 + v0[18], v0[19], *(v1 + 2), 0);
            PlaySoundEffect(176, v8, v9);
            sub_80F4778();
            *(v1 + 16) = *(v1 + 24) + 14;
            *(v1 + 1) = 2;
            result = *(v1 + 56);
            if ( result )
                *(result + 16) = 16;
        }
    }
    else if ( v2 == 2 )
    {
        v10 = *(v1 + 16);
        v5 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 1;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80f455c
void sub_80F455C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5--, 1);
        *(v1 + 16) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        *(v1 + 16) = 3;
        v4 = *(v1 + 56);
        if ( v4 )
            sub_80E3FC4(v4);
    }
}


// 0x80f45b8
int __fastcall __noreturn sub_80F45B8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r6
    int v7; // r7
    char *v8; // r2
    int result; // r0
    int v14; // [sp-8h] [bp-2Ch]
    int v15; // [sp-4h] [bp-28h]
    int v16; // [sp+0h] [bp-24h]
    int v17; // [sp+4h] [bp-20h]
    int v18; // [sp+8h] [bp-1Ch]
    int v19; // [sp+Ch] [bp-18h]
    int v20; // [sp+10h] [bp-14h]

    v16 = a1;
    v17 = a3;
    v18 = a4;
    v5 = 0;
    v6 = 0;
    v7 = 0;
    do
    {
        v8 = &byte_80F4650[2 * v5];
        v14 = *v8 + *(v4 + 18);
        v15 = byte_0[v8 + 1] + *(v4 + 19);
        if ( object_checkPanelParameters(v14, v15, v17, v18) )
        {
            if ( v15 == *(v16 + 19) )
                *(&v20 + v7++) = v14 | 16 * v15;
            else
                *(&v19 + v6++) = v14 | 16 * v15;
        }
        ++v5;
    }
    while ( v5 < 4 );
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v19 + v6) & 7;
    }
    else if ( v7 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v7) & 7;
    }
    else
    {
        result = 0;
    }
    return result;
}


// 0x80f4658
int __fastcall sub_80F4658(int a1, _DWORD *a2)
{
    int v2; // r5
    char v3; // r0
    int v4; // r3
    int result; // r0
    int v6; // [sp-4h] [bp-14h]
    int v7; // [sp+0h] [bp-10h]
    _DWORD *v8; // [sp+4h] [bp-Ch]

    v7 = a1;
    v8 = a2;
    GetPositiveSignedRNG2();
    v4 = 3;
    if ( (*(v2 + 38) >> 2) >= *(v2 + 36) )
        v4 = 1;
    if ( (v3 & 3) < v4 || (result = sub_80F4728(*v8)) == 0 )
    {
        v6 = *(v7 + 19);
        if ( object_isValidPanel(*(v7 + 18), v6) )
            result = v6;
        else
            result = 0;
    }
    return result;
}


// 0x80f46a4
int __fastcall sub_80F46A4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r3
    int result; // r0
    int v6; // r1

    v4 = *(v3 + 18);
    if ( a1 == v4 )
    {
        v6 = (a2 - *(v3 + 19)) * a3;
        result = 0;
    }
    else
    {
        result = (a1 - v4) * a3;
    }
    __asm { SVC         6 }
    return result;
}


// 0x80f4728
int __fastcall sub_80F4728(_DWORD *a1)
{
    signed int v1; // r4
    int v2; // r6
    int v3; // r2
    int v4; // r2
    int v10; // [sp+0h] [bp-10h]

    v1 = 1;
    v2 = 0;
    do
    {
        if ( *a1 && *(*a1 + 19) == v1 || (v3 = a1[1]) != 0 && *(v3 + 19) == v1 || (v4 = a1[2]) != 0 && *(v4 + 19) == v1 )
            *(&v10 + v2++) = v1;
        ++v1;
    }
    while ( v1 <= 3 );
    if ( !v2 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v10 + v2);
}


// 0x80f4778
void sub_80F4778()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
}


// 0x80f48c8
int sub_80F48C8()
{
    int v0; // r5

    return (*(&off_80F48E4 + *(*(v0 + 88) + 128)))();
}


// 0x80f48e8
void sub_80F48E8()
{
    int v0; // r5
    _BYTE *v1; // r6
    char v2; // r0

    if ( v1[4] < 5 )
    {
        ++v1[4];
        sub_80F4AB2();
        ++*(v0 + 112);
    }
    else
    {
        v1[4] = 0;
        *(v0 + 112) = 0;
        if ( v1[5] >= 4 )
        {
            v1[5] = 0;
            sub_80F4B34();
        }
        else
        {
            ++v1[5];
            if ( v1[6] >= 2 )
            {
                v1[6] = 0;
                sub_80F4AFE();
            }
            else
            {
                GetPositiveSignedRNG2();
                v1[6] += byte_80F494C[v2 & 0xF];
                sub_80F4AC6();
            }
        }
    }
}


// 0x80f4964
signed int __noreturn sub_80F4964()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x80f49a2
int sub_80F49A2()
{
    int v0; // r5
    signed int v1; // r1
    int v2; // r4

    v1 = 0;
    if ( *(v0 + 112) >= 2 )
        v1 = 4;
    v2 = sub_800FE28(&byte_80F49CC[v1]);
    if ( object_getFlag() & 0xA000 )
        v2 += 30;
    return v2;
}


// 0x80f49d4
int sub_80F49D4()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F49F4);
    if ( object_getFlag() & 0xA000 )
        v0 += 30;
    return v0;
}


// 0x80f49f8
int sub_80F49F8()
{
    int v0; // r4

    v0 = sub_800FE28(byte_80F4A14);
    sub_800FE28(&byte_80F4A14[4]);
    return v0;
}


// 0x80f4a1c
int sub_80F4A1C()
{
    return sub_800FE28(&dword_80F4A2C);
}


// 0x80f4a30
int sub_80F4A30()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F4A50);
    if ( object_getFlag() & 0xA000 )
        v0 += 30;
    return v0;
}


// 0x80f4a54
int sub_80F4A54()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F4A74);
    if ( object_getFlag() & 0xA000 )
        v0 += 30;
    return v0;
}


// 0x80f4a78
int sub_80F4A78()
{
    return sub_800FE28(&dword_80F4A88);
}


// 0x80f4a8c
int sub_80F4A8C()
{
    signed int v0; // r1
    unsigned __int8 v2; // [sp+0h] [bp-Ch]

    v0 = 0;
    do
    {
        *(&v2 + v0) = v0;
        ++v0;
    }
    while ( v0 <= 7 );
    sub_8000C72(&v2, 8, 8);
    return v2;
}


// 0x80f4ab2
int sub_80F4AB2()
{
    int v0; // r7

    *(v0 + 40) = sub_80F53EA;
    *(v0 + 24) = sub_80F49A2();
    return (object_setAttack4)(9);
}


// 0x80f4ac6
void sub_80F4AC6()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F4B74(0);
    *(v1 + 24) = sub_80F49D4();
    *(v1 + 12) = sub_80F49F8();
    *(v1 + 13) = v2;
    *(v1 + 40) = sub_80F5484;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f4afe
void sub_80F4AFE()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F4B74(1);
    *(v1 + 40) = sub_80F5518;
    *(v1 + 24) = sub_80F4A30();
    *(v1 + 12) = sub_80F4A1C();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f4b34
void sub_80F4B34()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F4B74(2);
    *(v1 + 24) = sub_80F4A54();
    *(v1 + 48) = sub_80F4A78();
    *(v1 + 40) = sub_80F55AC;
    *(v1 + 12) = sub_80F4A8C();
    *(v1 + 13) = v2;
    *(v1 + 14) = v3;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f4b74
int __fastcall sub_80F4B74(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F4BD4[8 * a1]);
    result = sub_800FE12(&byte_80F4BF8[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f4c24
int sub_80F4C24()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F4C38 + *v0))();
}


// 0x80f4c44
int sub_80F4C44()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80F4CA4[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            *(v1 + 24) = 80;
            result = 8;
            *v1 = 8;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            sub_80F57DE();
            result = 3;
            *(v1 + 16) = 3;
        }
    }
    return result;
}


// 0x80f4cb4
int sub_80F4CB4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f4cfa
void sub_80F4CFA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f4d1e
int sub_80F4D1E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F4D30 + *v0))();
}


// 0x80f4d50
void sub_80F4D50()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7--, 1);
        *(v1 + 16) = v7;
        if ( ((v7 < 0) ^ v8) | (v7 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = (*(v1 + 40))(*(v1 + 44))) == 0 )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 22) = v3;
            *(v1 + 23) = v4;
            object_reservePanel(v3, v4);
            v5 = v0->panelX;
            v6 = v0->panelY;
            v0->futurePanelX = v5;
            v0->futurePanelY = v6;
            object_reservePanel(v5, v6);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            sub_80F57DE();
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f4dc4
int sub_80F4DC4()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f4df8
signed int sub_80F4DF8()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    unsigned int v5; // r0
    unsigned __int8 v6; // cf
    int v7; // r0

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
        {
            result = 12;
            *v1 = 12;
        }
        else
        {
            v5 = *(v1 + 18) + 1;
            *(v1 + 18) = v5;
            v6 = __CFSHR__(v5, 3);
            result = v5 >> 3;
            if ( !v6 )
            {
                v7 = object_getFrontDirection(v0);
                result = object_highlightPanelRegion(v7 + v0->panelX, v0->panelY, 4, (v0->directionFlip << 8) | v0->Alliance);
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 15;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f4e44
void __fastcall sub_80F4E44(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    char v5; // r0
    int v6; // r6
    char v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // r1
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v4 + 1) )
    {
        v11 = *(v4 + 16);
        v12 = __OFSUB__(v11--, 1);
        *(v4 + 16) = v11;
        if ( ((v11 < 0) ^ v12) | (v11 == 0) )
        {
            if ( *(v4 + 3) )
                *v4 = 16;
            else
                *v4 = 24;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        PlaySoundEffect(344, a2, a3);
        v3->currAnimation = 16;
        object_setCounterTime(12);
        *(v4 + 16) = 12;
        v5 = object_getFrontDirection(v3);
        v6 = *(v4 + 8);
        object_spawnCollisionRegion(v5 + v3->panelX, v3->panelY, *(v4 + 2), 0);
        object_getFlip(v3);
        v7 = object_getFrontDirection(v3);
        v8 = v3->panelY;
        v9 = object_getCoordinatesForPanels(v7 + v3->panelX);
        SpawnT4BattleObjectWithId0(v3, v9, v9, v10, 0x100000);
    }
}


// 0x80f4ecc
signed int sub_80F4ECC()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    unsigned int v5; // r0
    unsigned __int8 v6; // cf
    int v7; // r0

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
        {
            result = 20;
            *v1 = 20;
        }
        else
        {
            v5 = *(v1 + 18) + 1;
            *(v1 + 18) = v5;
            v6 = __CFSHR__(v5, 3);
            result = v5 >> 3;
            if ( !v6 )
            {
                v7 = object_getFrontDirection(v0);
                result = object_highlightPanelRegion(v7 + v0->panelX, v0->panelY, 2, (v0->directionFlip << 8) | v0->Alliance);
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f4f14
void __fastcall sub_80F4F14(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    char v5; // r0
    int v6; // r6
    char v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // r1
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v4 + 1) )
    {
        v11 = *(v4 + 16);
        v12 = __OFSUB__(v11--, 1);
        *(v4 + 16) = v11;
        if ( ((v11 < 0) ^ v12) | (v11 == 0) )
            *v4 = 24;
    }
    else
    {
        *(v4 + 1) = 4;
        PlaySoundEffect(199, a2, a3);
        v3->currAnimation = 17;
        *(v4 + 16) = 12;
        v5 = object_getFrontDirection(v3);
        v6 = *(v4 + 8);
        object_spawnCollisionRegion(v5 + v3->panelX, v3->panelY, *(v4 + 2), 0);
        object_getFlip(v3);
        v7 = object_getFrontDirection(v3);
        v8 = v3->panelY;
        v9 = object_getCoordinatesForPanels(v7 + v3->panelX);
        SpawnT4BattleObjectWithId0(v3, v9, v9, v10, 0x100000);
    }
}


// 0x80f4f88
int sub_80F4F88()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 28;
            *v0 = 28;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80f4fa8
void sub_80F4FA8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        *(v1 + 16) = 13;
    }
}


// 0x80f4ffe
int sub_80F4FFE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F5010 + *v0))();
}


// 0x80f5028
void sub_80F5028()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80F5090[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            sub_80F57DE();
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f50a0
int sub_80F50A0()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelY;
        v0->panelX = v0->futurePanelX;
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f50e2
int __fastcall sub_80F50E2(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0
    int v9; // r0
    CollisionData *v10; // r2
    int v11; // r2

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            v3->currAnimation = 19;
            v8 = PlaySoundEffect(356, a2, a3);
            object_updateCollisionData(v8, 83, 2, 3);
            v9 = *(v4 + 8);
            v10 = v3->collisionData;
            v10->selfDamage = v9;
            v10->staminaDmg_counterDisabler = BYTE2(v9);
            object_setFlag1(64);
            v11 = *&byte_80F5158[4 * *(v4 + 3)] * object_getFrontDirection(v3);
            *(v4 + 48) = v11;
            v3->vx = v11;
            v3->vy = 0;
            *(v4 + 13) = 0;
            object_setCounterTime(12);
            result = 12;
            *v4 = 12;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 18;
        result = *(v4 + 12);
        *(v4 + 16) = result;
    }
    return result;
}


// 0x80f5168
signed int __noreturn sub_80F5168()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r4
    u32 v6; // r1
    int v7; // r0
    u32 v8; // r3
    int v9; // r2
    int v10; // r0
    int v11; // r1
    int v12; // r6
    int v13; // r3
    int v14; // r4
    int v15; // r6
    signed int result; // r0
    int v17; // [sp-10h] [bp-20h]
    int v18; // [sp-Ch] [bp-1Ch]
    int v19; // [sp-8h] [bp-18h]
    int v20; // [sp-4h] [bp-14h]

    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(v0->panelX);
    if ( *(v1 + 13) & 1 )
        v5 = v4;
    else
        v5 = v3;
    v6 = v0->x;
    v7 = v0->vx + v6;
    v0->x = v7;
    v8 = v0->y;
    v9 = v0->vy + v8;
    v0->y = v9;
    v17 = v7;
    v18 = v6;
    v19 = v9;
    v20 = v8;
    v10 = convertXYToPanelXY_800E258(v7);
    if ( !object_checkPanelParameters(v10, v11, 65552, 0x800000)
        || (*(v1 + 13) & 1 ? (v12 = v20, v13 = v19) : (v12 = v18, v13 = v17),
                v5 != v12 && sub_800E708(v13, v12, v5) && (object_setCoordinatesFromPanels(v0), sub_80F5704())) )
    {
        result = 16;
        *v1 = 16;
    }
    else
    {
        v14 = v0->panelX;
        v15 = v0->panelY;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( v0->panelX != v14 || (result = v0->panelY, result != v15) )
            result = object_setCollisionRegion(1);
    }
    return result;
}


// 0x80f5208
int sub_80F5208()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // r0
    int v5; // r1
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        object_updateCollisionData(7, 1, 2, 3);
        v2 = *(v0 + 44);
        v3 = *(v0 + 84);
        *(v3 + 46) = v2;
        *(v3 + 7) = v2;
        v4 = *(v0 + 20);
        v5 = *(v0 + 21);
        *(v0 + 18) = v4;
        *(v0 + 19) = v5;
        object_removePanelReserve(v4, v5);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        result = 15;
        *(v1 + 16) = 15;
    }
    return result;
}


// 0x80f5260
void sub_80F5260()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f5280
int sub_80F5280()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F5294 + *v0))();
}


// 0x80f52a8
void sub_80F52A8()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80F530C[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            sub_80F57DE();
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f531c
int sub_80F531C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            *(v1 + 15) = 0;
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f5366
int sub_80F5366()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 20;
        sub_80F5668();
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f5390
int sub_80F5390()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            v5 = *(v1 + 15) + 1;
            *(v1 + 15) = v5;
            if ( v5 >= 3 )
            {
                result = 16;
                *v1 = 16;
            }
            else
            {
                result = 8;
                *v1 = 8;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        object_setCounterTime(6);
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80f53ca
void sub_80F53CA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f53ea
int __fastcall __noreturn sub_80F53EA(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r0
    int v7; // r1
    int v8; // r6
    signed int v9; // r4
    int v10; // r0
    int v11; // r1
    int v17; // [sp+0h] [bp-30h]
    int v18; // [sp+4h] [bp-2Ch]
    int v19; // [sp+8h] [bp-28h]

    v17 = a3;
    v18 = a4;
    v5 = 0;
    do
    {
        v6 = object_reservePanel(byte_80F547C[2 * v5] + *(v4 + 18), byte_80F547C[2 * v5 + &byte_0[1]] + *(v4 + 19));
        ++v5;
    }
    while ( v5 < 4 );
    v8 = object_getPanelsExceptCurrentFilterred(v6, v7, v17, v18);
    v9 = 0;
    do
    {
        v10 = object_removePanelReserve(byte_80F547C[2 * v9] + *(v4 + 18), byte_80F547C[2 * v9 + &byte_0[1]] + *(v4 + 19));
        ++v9;
    }
    while ( v9 < 4 );
    if ( !v8 )
    {
        v8 = object_getPanelsExceptCurrentFilterred(v10, v11, v17, v18);
        if ( !v8 )
            return 0;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v19 + v8) & 7;
}


// 0x80f5484
int __fastcall sub_80F5484(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST00_4
    int v6; // r0
    signed int v7; // r6
    int v8; // ST00_4
    int result; // r0
    int v14; // [sp-4h] [bp-20h]
    char v15; // [sp-4h] [bp-20h]
    int v16; // [sp+0h] [bp-1Ch]
    int v17; // [sp+4h] [bp-18h]
    int v18; // [sp+8h] [bp-14h]
    int v19; // [sp+Ch] [bp-10h]
    char v20; // [sp+10h] [bp-Ch]

    v18 = a3;
    v19 = a4;
    v5 = *(a1 + 18);
    v14 = *(a1 + 19);
    v6 = object_getFrontDirection(v4);
    v16 = v5 - v6;
    v17 = v14;
    v7 = 0;
    v8 = v5 - v6;
    _ZF = object_checkPanelParameters(v8, v14, v18, v19) == 0;
    result = v8;
    if ( _ZF )
    {
        v15 = v14 - 1;
        if ( object_checkPanelParameters(v16, v17 - 1, v18, v19) )
        {
            v20 = v16 | 16 * v15;
            v7 = 1;
        }
        if ( object_checkPanelParameters(v16, v17 + 1, v18, v19) )
            *(&v20 + v7++) = v16 | 16 * (v17 + 1);
        if ( v7 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v20 + v7) & 7;
        }
        else
        {
            result = 0;
        }
    }
    return result;
}


// 0x80f5518
int __fastcall __noreturn sub_80F5518(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    int v5; // r5
    int v6; // r6
    int v7; // r0
    int v9; // r0
    int v14; // [sp-8h] [bp-38h]
    int v15; // [sp-8h] [bp-38h]
    int v16; // [sp+0h] [bp-30h]
    int v17; // [sp+4h] [bp-2Ch]
    int v18; // [sp+8h] [bp-28h]

    v16 = a3;
    v17 = a4;
    v7 = 1;
    if ( *(v5 + 22) )
    {
        v7 = 6;
        v4 = 1;
        v6 = 0;
    }
    do
    {
        v14 = v7;
        _ZF = object_checkPanelParameters(v7, v4, v16, v17) == 0;
        v7 = v14;
        if ( !_ZF )
        {
            *(&v18 + v6++) = v14 | 16 * v4;
            v7 = v14;
        }
        v4 += 2;
    }
    while ( v4 <= 3 );
    if ( !v6 )
    {
        v9 = 2;
        if ( *(v5 + 22) )
        {
            v9 = 5;
            v4 = 1;
            v6 = 0;
        }
        do
        {
            v15 = v9;
            _ZF = object_checkPanelParameters(v9, v4, v16, v17) == 0;
            v9 = v15;
            if ( !_ZF )
            {
                *(&v18 + v6++) = v15 | 16 * v4;
                v9 = v15;
            }
            v4 += 2;
        }
        while ( v4 <= 3 );
        if ( !v6 )
            return 0;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v18 + v6) & 7;
}


// 0x80f55ac
int __fastcall __noreturn sub_80F55AC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v5 = 2 * *(v4 + 22);
    v6 = byte_80F55D0[v5];
    v7 = object_checkPanelParameters(v6, byte_80F55D0[v5 + 1], a3, a4) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x80f55d4
int __fastcall sub_80F55D4(int result)
{
    int v1; // r5
    int v2; // r7
    char *v3; // r6
    signed int v4; // r4
    int v5; // r0
    int v6; // ST00_4
    int v7; // ST04_4
    bool v8; // zf
    int v9; // r1
    signed int v10; // ST00_4
    char *v11; // ST04_4
    int v12; // r3
    int v13; // r4
    int v14; // r6

    if ( result <= 7 && result >= 0 )
    {
        v3 = &byte_80F562C[6 * result];
        v4 = 0;
        do
        {
            v5 = v3[v4];
            if ( *(v1 + 22) )
                v5 = 7 - v5;
            v6 = v5;
            v7 = v3[v4 + 1];
            v8 = object_checkPanelParameters(v5, v7, 0x10000, 260046848) == 0;
            result = v6;
            v9 = v7;
            if ( !v8 )
            {
                v10 = v4;
                v11 = v3;
                v12 = *(v2 + 48) << 8;
                v13 = *(v2 + 3) | v12;
                v14 = *(v2 + 8);
                result = sub_80CC918(result, v9, *(v2 + 2), v12);
                v4 = v10;
                v3 = v11;
            }
            v4 += 2;
        }
        while ( v4 < 6 );
    }
    return result;
}


// 0x80f5668
int __noreturn sub_80F5668()
{
    int v0; // r5
    int v1; // r7
    signed int v6; // r0
    char *v7; // r6
    signed int v8; // r4
    int v9; // r0
    int v10; // ST00_4
    int v11; // ST04_4
    int result; // r0
    int v13; // r1
    signed int v14; // ST00_4
    char *v15; // ST04_4
    int v16; // r3
    int v17; // r4
    int v18; // r6

    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    v6 = *(*(v1 + 44) + 19);
    if ( v6 < 1 || v6 > 3 )
        v6 = 2;
    v7 = &byte_80F56D4[12 * (v6 - 1) + 12];
    v8 = 0;
    do
    {
        v9 = v7[v8];
        if ( *(v0 + 22) )
            v9 = 7 - v9;
        v10 = v9;
        v11 = v7[v8 + 1];
        _ZF = object_checkPanelParameters(v9, v11, 0x10000, 260046848) == 0;
        result = v10;
        v13 = v11;
        if ( !_ZF )
        {
            v14 = v8;
            v15 = v7;
            v16 = *(v1 + 48) << 8;
            v17 = *(v1 + 3) | v16;
            v18 = *(v1 + 8);
            result = sub_80CC918(result, v13, *(v1 + 2), v16);
            v8 = v14;
            v7 = v15;
        }
        v8 += 2;
    }
    while ( v8 < 4 );
    return result;
}


// 0x80f5704
signed int sub_80F5704()
{
    int v0; // r5
    int v1; // r7
    int v2; // r4
    int v3; // r0
    int v4; // r0
    int v5; // r1
    signed int v6; // r2
    int v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // r1

    v2 = *(v1 + 48);
    v3 = *(v1 + 13);
    if ( !*(v1 + 13) )
    {
        v4 = *(*(v1 + 44) + 18);
        v5 = *(v0 + 18);
        if ( *(v0 + 22) == 1 )
        {
            if ( v5 > v4 && v5 != 1 )
                return 0;
        }
        else if ( v5 < v4 && v5 != 6 )
        {
            return 0;
        }
        *(v1 + 13) = 1;
        if ( *(v0 + 19) == 1 )
            v2 = -v2;
        *(v0 + 68) = v2;
        *(v0 + 64) = 0;
        return 0;
    }
    switch ( v3 )
    {
        case 1:
            if ( *(v0 + 68) > 0 )
                v6 = 3;
            else
                v6 = 1;
            if ( *(v0 + 19) == v6 )
            {
                *(v1 + 13) = 2;
                *(v0 + 64) = v2 * (1 - 2 * *(v0 + 22));
                *(v0 + 68) = 0;
            }
            return 0;
        case 2:
            v7 = *(v0 + 18);
            v8 = *(v0 + 20);
            if ( *(v0 + 22) == 1 )
            {
                if ( v7 < v8 && v7 != 6 )
                    return 0;
            }
            else if ( v7 > v8 && v7 != 1 )
            {
                return 0;
            }
            *(v1 + 13) = 3;
            if ( *(v0 + 19) == 1 )
                v2 = -v2;
            *(v0 + 68) = v2;
            *(v0 + 64) = 0;
            return 0;
        case 3:
            if ( *(v0 + 19) == *(v0 + 21) )
            {
                v9 = *(v0 + 18);
                v10 = *(v0 + 20);
                if ( v9 == v10 )
                    return 1;
                *(v1 + 13) = 4;
                if ( v9 <= v10 )
                    v2 = -v2;
                *(v0 + 64) = v2;
                *(v0 + 68) = 0;
            }
            break;
        default:
            if ( *(v0 + 18) == *(v0 + 20) )
                return 1;
            break;
    }
    return 0;
}


// 0x80f57de
int sub_80F57DE()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
}


// 0x80f5928
int sub_80F5928()
{
    int v0; // r5

    return (*(&off_80F5944 + *(*(v0 + 88) + 128)))();
}


// 0x80f594c
void sub_80F594C()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r7
    char v3; // r0

    if ( v1[4] < *(&dword_80F59E4 + sub_800FE36()) )
    {
        ++v1[4];
        *(v2 + 3) = sub_800FE36();
        *(v2 + 40) = sub_80F60C4;
        *(v2 + 24) = sub_80F5A58();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        (object_setAttack4)(9);
    }
    else
    {
        v1[4] = 0;
        GetPositiveSignedRNG2();
        if ( v1[5] >= (v3 & 1) + 3 )
        {
            v1[5] = 0;
            sub_80F5AA0();
        }
        else
        {
            ++v1[5];
            *(v2 + 3) = sub_800FE36();
            *(v2 + 2) = 0;
            sub_80F5AD4(0);
            *(v2 + 40) = sub_80F6154;
            *(v2 + 24) = sub_80F5A8C();
            *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
            object_setAttack0();
            *v1 = 4;
        }
    }
}


// 0x80f59e8
int sub_80F59E8()
{
    _BYTE *v0; // r6
    int v1; // r7
    int result; // r0

    result = *(v1 + 26);
    if ( !*(v1 + 26) )
    {
        v0[5] = 0;
        sub_80F5AA0();
    }
    *v0 = 0;
    return result;
}


// 0x80f59fe
int sub_80F59FE()
{
    int v0; // r0
    int v1; // r1
    int v2; // r3

    sub_800FE36();
    v0 = sub_80F5B02(1);
    return sub_80E9A1C(v0, v1, 0, v2);
}


// 0x80f5a1a
signed int __noreturn sub_80F5A1A()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x80f5a58
int sub_80F5A58()
{
    char v0; // r0
    int v1; // r4

    GetPositiveSignedRNG2();
    v1 = sub_800FE28(&byte_80F5A84[4 * (v0 & 1)]);
    if ( object_getFlag() & 0xA000 )
        v1 += 30;
    return v1;
}


// 0x80f5a8c
int sub_80F5A8C()
{
    return sub_800FE28(&dword_80F5A9C);
}


// 0x80f5aa0
void sub_80F5AA0()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 3;
    sub_80F5AD4(2);
    *(v1 + 40) = sub_80F61B6;
    *(v1 + 48) = sub_80F61E4;
    *(v1 + 52) = v0 + 96;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f5ad4
int __fastcall sub_80F5AD4(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F5B34[8 * a1]);
    result = sub_800FE12(&byte_80F5B58[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f5b02
int __fastcall sub_80F5B02(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80F5B34[8 * a1]);
    return (sub_800FE12(&byte_80F5B58[8 * v1]) << 16) | v2;
}


// 0x80f5b84
int sub_80F5B84()
{
    unsigned __int8 *v0; // r7

    return (*(&jt_80F5B98 + *v0))();
}


// 0x80f5ba4
void __fastcall sub_80F5BA4(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F5BF0[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x80f5c00
int sub_80F5C00()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f5c2c
void sub_80F5C2C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x80f5c66
int sub_80F5C66()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F5C78 + *v0))();
}


// 0x80f5c90
void __fastcall sub_80F5C90(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F5CE0[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f5cf0
int sub_80F5CF0()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f5d1c
int sub_80F5D1C()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f5d3e
int sub_80F5D3E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 19;
        object_setCounterTime(40);
        result = *(&dword_80F5D70 + *(v1 + 3));
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80f5d74
void __fastcall sub_80F5D74(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r0

    if ( *(v4 + 1) )
    {
        v5 = *(v4 + 16) - 1;
        *(v4 + 16) = v5;
        if ( v5 == 5 )
        {
            sub_80F622A();
            sub_80F6254();
        }
        else if ( v5 <= 0 )
        {
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 20;
        PlaySoundEffect(199, a2, a3);
        *(v4 + 16) = 10;
    }
}


// 0x80f5dae
void sub_80F5DAE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f5dd2
int sub_80F5DD2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F5DE4 + *v0))();
}


// 0x80f5e18
void __fastcall sub_80F5E18(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F5E60[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x80f5e70
int sub_80F5E70()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f5e9c
int sub_80F5E9C()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f5ebe
int sub_80F5EBE()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 30;
        *(v0 + 16) = 30;
    }
    return result;
}


// 0x80f5ede
void __fastcall sub_80F5EDE(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3
    _BYTE *v9; // r2
    int v10; // r1

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 17;
        v5 = PlaySoundEffect(270, a2, a3);
        sub_80F62EC(v5, v6, v7, v8);
    }
    v9 = **(v4 + 52);
    if ( v9 )
    {
        if ( v9[5] )
        {
            v10 = v9[19];
            *(v4 + 14) = v9[18];
            *(v4 + 15) = v10;
            if ( v10 == 2 )
                *v4 = 32;
            else
                *v4 = 20;
        }
    }
    else
    {
        object_exitAttackState(v3);
    }
}


// 0x80f5f26
void sub_80F5F26()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    char v5; // zf
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2, 1);
        v4 = v2 - 1;
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
        {
            object_canMove(v4);
            if ( v5 || (v6 = (*(v1 + 48))(*(v1 + 14))) == 0 )
            {
                *(v1 + 26) = 0;
                object_exitAttackState(v0);
            }
            else
            {
                *(v1 + 22) = v6;
                *(v1 + 23) = v7;
                object_reservePanel(v6, v7);
                v8 = v0->panelX;
                v9 = v0->panelY;
                v0->futurePanelX = v8;
                v0->futurePanelY = v9;
                object_reservePanel(v8, v9);
                object_setFlag1(64);
                v0->currAnimation = 4;
                *(v1 + 16) = 3;
                *v1 = 24;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 20;
    }
}


// 0x80f5f98
int sub_80F5F98()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 28;
        *v1 = 28;
    }
    return result;
}


// 0x80f5fc0
int sub_80F5FC0()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        result = 36;
        *v1 = 36;
    }
    return result;
}


// 0x80f5fd4
int sub_80F5FD4()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 36;
            *v0 = 36;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 20;
        *(v0 + 16) = 20;
    }
    return result;
}


// 0x80f5ff4
int __fastcall sub_80F5FF4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            if ( *(v4 + 15) == 2 )
            {
                result = 48;
                *v4 = 48;
            }
            else
            {
                result = 40;
                *v4 = 40;
            }
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 18;
        *(v4 + 16) = 60;
        PlaySoundEffect(186, a2, a3);
        result = sub_80F6310();
    }
    return result;
}


// 0x80f602e
int sub_80F602E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 44;
            *v1 = 44;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f6052
int sub_80F6052()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 48;
            *v1 = 48;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f60a0
void sub_80F60A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 30;
    }
}


// 0x80f60c4
int __fastcall __noreturn sub_80F60C4(int a1, int a2, int a3, int a4)
{
    int v4; // r0
    int result; // r0
    int v6; // r6
    int v11; // [sp+8h] [bp-30h]
    int v12; // [sp+Ch] [bp-2Ch]
    int v13; // [sp+10h] [bp-28h]

    v11 = a3;
    v12 = a4;
    v4 = object_getFlag();
    if ( !(v4 & 0xA000) )
        sub_800D58C();
    result = object_getPanelsExceptCurrentFilterred(v4, 40960, v11, v12);
    v6 = result;
    if ( result )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v13 + v6) & 7;
    }
    return result;
}


// 0x80f6154
int __fastcall __noreturn sub_80F6154(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST00_4
    int result; // r0
    int v8; // r6
    int v12; // [sp+0h] [bp-34h]
    int v13; // [sp+4h] [bp-30h]
    int v14; // [sp+8h] [bp-2Ch]
    int v15; // [sp+Ch] [bp-28h]

    v13 = a3;
    v14 = a4;
    v12 = a1;
    if ( object_getFlag() & 0xA000 )
    {
        result = object_getPanelsExceptCurrentFilterred(v12, 40960, v13, v14);
        v8 = result;
        if ( result )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v15 + v8) & 7;
        }
    }
    else
    {
        v5 = -2 * object_getFrontDirection(v4) + *(v12 + 18);
        _ZF = object_checkPanelParameters(v5, *(v12 + 19), v13, v14) == 0;
        result = v5;
        if ( _ZF )
            result = 0;
    }
    return result;
}


// 0x80f61b6
void __fastcall __noreturn sub_80F61B6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // [sp+0h] [bp-14h]
    int v7; // [sp+4h] [bp-10h]

    v6 = a3;
    v7 = a4;
    v5 = 1;
    if ( *(v4 + 22) )
        v5 = 6;
    object_getEnemyDirection();
    object_getFirstPanelInDirectionFiltered(v5, 2, v6, v7);
}


// 0x80f61e4
int __fastcall __noreturn sub_80F61E4(int a1, int a2, int a3, int a4)
{
    int v4; // ST00_4
    int v5; // ST04_4
    int v6; // ST08_4
    int v7; // r0
    int v8; // r2
    int v9; // ST04_4
    bool v10; // zf
    int result; // r0

    v4 = a1;
    v5 = a3;
    v6 = a4;
    v7 = object_getEnemyDirection();
    v8 = v5;
    v9 = v4 - v7;
    v10 = object_checkPanelParameters(v4 - v7, 2, v8, v6) == 0;
    result = v9;
    if ( v10 )
        result = 0;
    return result;
}


// 0x80f6206
int __fastcall sub_80F6206(int a1)
{
    Battle *v1; // r5
    int v2; // r6
    int v3; // ST00_4
    int v4; // ST04_4
    bool v5; // zf
    int result; // r0

    v2 = a1;
    v3 = -2 * object_getFrontDirection(v1) + *(a1 + 18);
    v4 = *(v2 + 19);
    v5 = object_isCurrentPanelValid() == 0;
    result = v3;
    if ( v5 )
        result = 0;
    return result;
}


// 0x80f622a
int sub_80F622A()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(2 * v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x80f6254
void sub_80F6254()
{
    Battle *v0; // r5
    char v1; // r0
    int v2; // r1
    int v3; // r0
    int v4; // r1

    object_getFlip(v0);
    v1 = object_getFrontDirection(v0);
    v2 = v0->panelY;
    v3 = object_getCoordinatesForPanels(2 * v1 + v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 1572864);
}


// 0x80f62ec
int __fastcall sub_80F62EC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6

    v6 = *(v5 + 3);
    v7 = *(v5 + 52);
    return sub_80D16D6(*(&dword_80F630C + 2 * *(v4 + 22)), *(&dword_80F630C + 2 * *(v4 + 22) + 1), *(v5 + 2), a4);
}


// 0x80f6310
int sub_80F6310()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    int v3; // ST04_4
    bool v4; // zf
    int result; // r0
    int v6; // r1
    int v7; // ST04_4
    int v8; // r3
    int v9; // r4
    int v10; // r6
    int v11; // [sp-8h] [bp-14h]

    v2 = 1;
    do
    {
        v11 = object_getFrontDirection(v0) * v2 + v0->panelX;
        v3 = v0->panelY + *(&dword_80F6360 + *(v1 + 15) - 1) * v2;
        v4 = object_isValidPanel(v11, v3) == 0;
        result = v11;
        v6 = v3;
        if ( v4 )
            break;
        v7 = v2;
        v8 = *(v1 + 16) << 8;
        v9 = (*(v1 + 15) - 1) | v8;
        v10 = *(v1 + 8);
        result = sub_80D18AE(v11, v6, *(v1 + 2), v8);
        v2 = v7 + 1;
    }
    while ( v7 + 1 <= 5 );
    return result;
}


// 0x80f648c
int sub_80F648C()
{
    int v0; // r5

    return (*(&off_80F64A8 + *(*(v0 + 88) + 128)))();
}


// 0x80f64b0
signed int sub_80F64B0()
{
    _BYTE *v0; // r6
    int v1; // r0
    signed int result; // r0

    if ( v0[4] >= 5 )
    {
        v0[4] = 0;
        sub_80F65EE();
    }
    else
    {
        ++v0[4];
        v1 = v0[5];
        v0[5] = v1 ^ 1;
        if ( v1 )
            sub_80F661E();
        else
            sub_80F65C4();
    }
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f64e6
int sub_80F64E6()
{
    _BYTE *v0; // r6
    int result; // r0

    object_setAttack0();
    *v0 = 0;
    return result;
}


// 0x80f64f4
int sub_80F64F4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1

    v1 = *(v0 + 18);
    v2 = *(v0 + 19);
    *(v0 + 96) = v1;
    *(v0 + 100) = v2;
    return object_updateCollisionData(v1, 53, 2, 3);
}


// 0x80f650a
signed int sub_80F650A()
{
    int v0; // r5
    int v1; // r1
    signed int result; // r0

    v1 = *(v0 + 100);
    *(v0 + 20) = *(v0 + 96);
    *(v0 + 21) = v1;
    result = 1;
    *(*(v0 + 88) + 56) = 1;
    return result;
}


// 0x80f651c
int sub_80F651C()
{
    int v0; // r5
    int result; // r0
    int v2; // r4

    result = *(v0 + 84);
    v2 = *(result + 128);
    if ( *(result + 128) )
    {
        object_clearFlag2(byte_100);
        if ( v2 >= off_80F6550[sub_800FE36()] )
            result = object_setFlag2(4);
        else
            result = sub_800EABA();
    }
    return result;
}


// 0x80f6560
int sub_80F6560()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 53, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80f6592
int sub_80F6592()
{
    return sub_800FE28(&dword_80F65A0);
}


// 0x80f65a4
int sub_80F65A4()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 40) = sub_80F6FD0;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x80f65c4
void sub_80F65C4()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_80F663C(1);
    *(v1 + 40) = sub_80F6FD0;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f65ee
void sub_80F65EE()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F663C(0);
    *(v1 + 24) = sub_80F6592();
    *(v1 + 40) = sub_80F6FEC;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f661e
void sub_80F661E()
{
    int v0; // r7

    *(v0 + 3) = sub_800FE36();
    *(v0 + 2) = 0;
    sub_80F663C(2);
    *(v0 + 40) = sub_80F70A0;
    object_setAttack0();
}


// 0x80f663c
int __fastcall sub_80F663C(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F669C[8 * a1]);
    result = sub_800FE12(&byte_80F66C0[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f66ec
int sub_80F66EC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F6700 + *v0))();
}


// 0x80f6704
void sub_80F6704()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( (v2 < 0) ^ v3 )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 60;
    }
}


// 0x80f6724
int sub_80F6724()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F6738 + *v0))();
}


// 0x80f6748
void __fastcall sub_80F6748(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44)), !v5) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_setFlag1(64);
        object_setFlag1(0x400000);
        v1->currAnimation = 4;
        *(v2 + 48) = 0;
        *(v2 + 26) = 1;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x80f678e
int sub_80F678E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 0;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        sub_80F7154();
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f67b6
void __fastcall __noreturn sub_80F67B6(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    __int16 v5; // r1

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 15;
        *(v4 + 48) = sub_80F7500(9, a2, a3);
        *(v3 + 64) = sub_80F70E0(*(&dword_80F6870 + *(v3 + 22)), *&byte_80F685C[4 * *(v4 + 3)]);
        *(v4 + 16) = v5;
    }
    *(v3 + 52) += *(v3 + 64);
    sub_80F716E();
}


// 0x80f6880
void sub_80F6880()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80F7514(*(v1 + 48));
            sub_80F7140();
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_clearFlag(0x400000);
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 4;
        *(v1 + 16) = 3;
    }
}


// 0x80f68c4
int sub_80F68C4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F68D8 + *v0))();
}


// 0x80f68f8
signed int sub_80F68F8()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 13) = 0;
    *(v0 + 48) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f6908
void __fastcall sub_80F6908(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44)), !v5) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_setFlag1(64);
        object_setFlag1(0x400000);
        v1->currAnimation = 4;
        *(v2 + 26) = 1;
        *(v2 + 16) = 3;
        *v2 = 8;
    }
}


// 0x80f695c
int sub_80F695C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 0;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        sub_80F7154();
        if ( *(v1 + 13) )
        {
            result = 20;
            *v1 = 20;
        }
        else
        {
            sub_80F73CA();
            result = 12;
            *v1 = 12;
        }
    }
    return result;
}


// 0x80f6994
void __fastcall __noreturn sub_80F6994(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r0
    int v7; // r2
    int v8; // r3
    __int16 v9; // r1

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        v5 = sub_80F7500(10, a2, a3);
        *(v4 + 48) = v5;
        object_updateCollisionData(v5, 81, 2, 3);
        v6 = *(v4 + 8);
        v7 = *(v3 + 84);
        *(v7 + 46) = v6;
        *(v7 + 7) = BYTE2(v6);
        sub_80D4C0A((v3 + 9), 255, v7, v8);
        *(v3 + 64) = sub_80F70E0(*(&dword_80F6A4C + *(v3 + 22)), *&byte_80F6A38[4 * *(v4 + 3)]);
        *(v4 + 16) = v9;
    }
    *(v3 + 52) += *(v3 + 64);
    sub_80F71A8();
}


// 0x80f6a5c
int __fastcall sub_80F6A5C(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    int v7; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r0

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 18) + 1;
        *(v4 + 18) = v6;
        if ( !__CFSHR__(v6, 3) )
        {
            v7 = object_getFrontDirection(v3);
            object_highlightPanelRegion(v7 + *(v3 + 18), *(v3 + 19), 7, *(v3 + 22));
        }
        v8 = *(v4 + 52);
        v9 = __OFSUB__(v8--, 1);
        *(v4 + 52) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
        {
            PlaySoundEffect(227, a2, a3);
            *(v4 + 52) = 32;
        }
        v10 = *(v4 + 16);
        v9 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v4 + 16) = result;
        if ( (result < 0) ^ v9 )
        {
            result = 20;
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 16;
        PlaySoundEffect(227, a2, a3);
        *(v4 + 16) = *(v4 + 24);
        *(v4 + 18) = 0;
        result = 32;
        *(v4 + 52) = 32;
    }
    return result;
}


// 0x80f6abc
void __fastcall __noreturn sub_80F6ABC(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    __int16 v5; // r1

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 17;
        PlaySoundEffect(228, a2, a3);
        *(v3 + 64) = sub_80F70E0(*(&dword_80F6B84 + *(v3 + 22)), *&byte_80F6B70[4 * *(v4 + 3)]);
        *(v4 + 16) = v5;
    }
    *(v3 + 52) += *(v3 + 64);
    sub_80F71A8();
}


// 0x80f6b94
void sub_80F6B94()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80F73FA();
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
    }
}


// 0x80f6bb8
void sub_80F6BB8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80F7514(*(v1 + 48));
            sub_80F7140();
            sub_80F73FA();
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 4;
        *(v1 + 16) = 3;
    }
}


// 0x80f6bea
int sub_80F6BEA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F6BFC + *v0))();
}


// 0x80f6c10
signed int sub_80F6C10()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 14) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f6c1c
void sub_80F6C1C()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char v3; // r0
    int v4; // r1
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5--, 1);
        *(v1 + 16) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
            *v1 = 8;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = (*(v1 + 40))(*(v1 + 44)), !v4) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 22) = v3;
            *(v1 + 23) = v4;
            object_setFlag1(64);
            object_setFlag1(0x400000);
            *(v1 + 26) = 1;
            v0->currAnimation = 4;
            *(v1 + 13) = 0;
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f6c76
signed int sub_80F6C76()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    signed int result; // r0

    v0->currAnimation = 0;
    v2 = *(v1 + 23);
    v0->panelX = *(v1 + 22);
    v0->panelY = v2;
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    sub_80F7154();
    result = 12;
    *v1 = 12;
    return result;
}


// 0x80f6c96
void __noreturn sub_80F6C96()
{
    int v0; // r5
    int v1; // r7
    __int16 v2; // r1
    int v3; // r1

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v0 + 64) = sub_80F70E0(*(&dword_80F6D90 + *(v0 + 22)), *&byte_80F6D7C[4 * *(v1 + 3)]);
        *(v1 + 16) = v2;
    }
    v3 = *(v0 + 19);
    object_getCoordinatesForPanels(*(v0 + 18));
    *(v0 + 52) += *(v0 + 64);
    sub_80F716E();
}


// 0x80f6da0
void sub_80F6DA0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80F7514(*(v1 + 48));
            sub_80F7140();
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_clearFlag(0x400000);
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 4;
        *(v1 + 16) = 3;
    }
}


// 0x80f6de4
int sub_80F6DE4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F6DF8 + *v0))();
}


// 0x80f6e0c
signed int sub_80F6E0C()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 12) = 0;
    *(v0 + 13) = 0;
    *(v0 + 48) = 0;
    result = 4;
    *v0 = 4;
    return result;
}


// 0x80f6e20
void sub_80F6E20()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char v3; // r0
    int v4; // r1
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5--, 1);
        *(v1 + 16) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
            *v1 = 8;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = (*(v1 + 40))(*(v1 + 12)), !v4) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 22) = v3;
            *(v1 + 23) = v4;
            object_setFlag1(64);
            object_setFlag1(0x400000);
            *(v1 + 26) = 1;
            v0->currAnimation = 4;
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f6e76
signed int sub_80F6E76()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int v3; // r0
    CollisionData *v4; // r2
    signed int result; // r0

    v0->currAnimation = 0;
    v2 = *(v1 + 23);
    v0->panelX = *(v1 + 22);
    v0->panelY = v2;
    object_setCoordinatesFromPanels(v0);
    object_updateCollisionPanels(v0);
    sub_80F7154();
    v3 = *(v1 + 8);
    v4 = v0->collisionData;
    v4->selfDamage = v3;
    v4->staminaDmg_counterDisabler = BYTE2(v3);
    result = 12;
    *v1 = 12;
    return result;
}


// 0x80f6ea6
void __fastcall __noreturn sub_80F6EA6(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    __int16 v7; // r1
    int v8; // r1

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 15;
        PlaySoundEffect(227, a2, a3);
        sub_80F742E();
        *(v4 + 48) = sub_80F7500(12, v5, v6);
        *(v3 + 64) = sub_80F710A();
        *(v4 + 16) = v7;
    }
    v8 = *(v3 + 19);
    object_getCoordinatesForPanels(*(v3 + 18));
    *(v3 + 52) += *(v3 + 64);
    sub_80F716E();
}


// 0x80f6f7c
void sub_80F6F7C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r2

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80F7514(*(v1 + 48));
            sub_80F7140();
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_clearFlag(0x400000);
            v4 = *(v0 + 44);
            v5 = *(v0 + 84);
            *(v5 + 46) = v4;
            *(v5 + 7) = v4;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        *(v1 + 16) = 3;
    }
}


// 0x80f6fd0
signed int __fastcall sub_80F6FD0(int a1)
{
    int v1; // r5
    int v2; // r2
    signed int result; // r0
    int v4; // r1

    v2 = a1;
    result = 0;
    if ( *(v1 + 22) )
        result = 7;
    v4 = *(v2 + 19);
    return result;
}


// 0x80f6fec
int __fastcall __noreturn sub_80F6FEC(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r0
    int v6; // ST00_4
    int v8; // r0
    signed int v9; // r4
    int v10; // r6
    int v11; // r0
    int v12; // r0
    int result; // r0
    char v17; // [sp-8h] [bp-28h]
    int v18; // [sp+0h] [bp-20h]
    int v19; // [sp+4h] [bp-1Ch]
    int v20; // [sp+8h] [bp-18h]
    int v21; // [sp+Ch] [bp-14h]

    v18 = a3;
    v19 = a4;
    v20 = *(a1 + 19);
    if ( !(object_getFlag() & 0xA000) )
    {
        v5 = 1;
        if ( v4->Alliance )
            v5 = 6;
        v6 = v5;
        _ZF = object_checkPanelParameters(v5, v20, v18, v19) == 0;
        v8 = v6;
        if ( !_ZF )
            goto LABEL_18;
        v9 = -1;
        v10 = 0;
        do
        {
            v11 = 1;
            if ( v4->Alliance )
                v11 = 6;
            v17 = v11;
            if ( object_checkPanelParameters(v11, v20 + v9, v18, v19) )
                *(&v21 + v10++) = v17 | 16 * (v20 + v9);
            v9 += 2;
        }
        while ( v9 <= 1 );
        if ( v10 )
            goto LABEL_21;
    }
    v12 = 1;
    if ( v4->Alliance )
        v12 = 6;
    result = object_getPanelsInColumnFiltered(v12, v4->Alliance, v18, v19);
    v10 = result;
    if ( result )
    {
LABEL_21:
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v8 = *(&v21 + v10) & 7;
LABEL_18:
        result = v8 - object_getFrontDirection(v4);
    }
    return result;
}


// 0x80f70a0
int __fastcall sub_80F70A0(int a1)
{
    Battle *v1; // r5
    char *v2; // r1
    int v3; // r0
    int v4; // r1

    v2 = &byte_80F70D0[2 * a1];
    v3 = *v2;
    v4 = v2[1];
    if ( v1->Alliance )
        v3 = 7 - v3;
    return v3 - 3 * object_getFrontDirection(v1);
}


// 0x80f70e0
int __fastcall sub_80F70E0(int a1, int a2)
{
    int v2; // r5
    int v3; // r2
    int result; // r0

    v3 = *(v2 + 18) - a1;
    if ( v3 >= 0 )
        a2 = -a2;
    result = a2;
    __asm { SVC         6 }
    return result;
}


// 0x80f710a
int sub_80F710A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0

    v2 = object_getFrontDirection(v0);
    __asm { SVC         6 }
    return v2 * *&byte_80F7130[4 * *(v1 + 3)];
}


// 0x80f7140
signed int sub_80F7140()
{
    int v0; // r5

    *(v0 + 62) = 255;
    sprite_noShadow(v0);
    object_clearCollisionRegion();
    return sub_801DD34();
}


// 0x80f7154
signed int sub_80F7154()
{
    int v0; // r5

    *(v0 + 62) = 0;
    sprite_hasShadow();
    object_setCollisionRegion(1);
    return sub_801DC7C(0, 0);
}


// 0x80f716e
BOOL __noreturn sub_80F716E()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    bool v3; // zf
    BOOL result; // r0
    int v5; // [sp-8h] [bp-Ch]
    int v6; // [sp-4h] [bp-8h]

    v1 = *(v0 + 56);
    v5 = convertXYToPanelXY_800E258(*(v0 + 52));
    v6 = v2;
    v3 = object_checkPanelParameters(v5, v2, 65552, 0x800000) == 0;
    result = v5;
    if ( v3 )
        result = object_isValidPanel(v5, v6) == 0;
    return result;
}


// 0x80f71a8
BOOL __noreturn sub_80F71A8()
{
    int v0; // r5
    int v1; // r1
    int v2; // r1
    bool v3; // zf
    BOOL result; // r0
    int v5; // [sp-8h] [bp-Ch]
    int v6; // [sp-4h] [bp-8h]

    v1 = *(v0 + 56);
    v5 = convertXYToPanelXY_800E258(*(v0 + 52));
    v6 = v2;
    v3 = object_checkPanelParameters(v5, v2, 65552, 0) == 0;
    result = v5;
    if ( v3 )
        result = object_isValidPanel(v5, v6) == 0;
    return result;
}


// 0x80f71e0
int sub_80F71E0()
{
    int v0; // r5
    int v1; // r7
    signed int v2; // r0

    v2 = *(v1 + 13);
    if ( v2 < 3 && byte_80F7220[3 * *(v0 + 22) + v2] == *(v0 + 18) )
        sub_80F7238(byte_80F722C[3 * *(v1 + 3) + *(v1 + 13)]);
    return 0;
}


// 0x80f7238
int __fastcall __noreturn sub_80F7238(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r1
    signed int v4; // r4
    int v5; // r6
    char *v6; // r2
    signed int v7; // r4
    int *v8; // r1
    signed int v9; // r6
    signed int v10; // r4
    int v11; // r2
    int v12; // r3
    int v13; // r4
    int result; // r0
    int v15; // r6
    char v16; // [sp-8h] [bp-44h]
    int v17; // [sp-8h] [bp-44h]
    int v18; // [sp-4h] [bp-40h]
    int v19; // [sp+0h] [bp-3Ch]
    int v20; // [sp+4h] [bp-38h]
    int v21; // [sp+8h] [bp-34h]
    signed int v22; // [sp+Ch] [bp-30h]
    int v23; // [sp+10h] [bp-2Ch]
    char v24; // [sp+14h] [bp-28h]

    v19 = a1;
    v3 = *(v2 + 44);
    v20 = *(v3 + 18);
    v21 = *(v3 + 19);
    v22 = 0;
    v16 = *(v3 + 18);
    if ( object_checkPanelParameters(v20, v21, *&byte_80F7398[8 * *(v1 + 22)], *&byte_80F7398[8 * *(v1 + 22) + 4]) )
    {
        v24 = v16 | 16 * v21;
        v22 = 1;
    }
    v4 = 0;
    v5 = 0;
    do
    {
        v6 = &byte_80F7380[2 * v4];
        v17 = *v6 + v20;
        v18 = byte_0[v6 + 1] + v21;
        if ( object_checkPanelParameters(v17, v18, *&byte_80F7398[8 * *(v1 + 22)], *&byte_80F7398[8 * *(v1 + 22) + 4]) )
            *(&v24 + v22 + v5++) = v17 | 16 * v18;
        ++v4;
    }
    while ( v4 < 8 );
    v23 = v5;
    v7 = 0;
    do
    {
        object_reservePanel(byte_80F7380[2 * v7] + v20, byte_80F7380[2 * v7 + &byte_0[1]] + v21);
        ++v7;
    }
    while ( v7 < 9 );
    v8 = &byte_80F73AC[8 * *(v1 + 22)];
    v9 = object_getPanelsExceptCurrentFilterred(v5, v8, *v8, v8[1]);
    v10 = 0;
    do
    {
        object_removePanelReserve(byte_80F7380[2 * v10] + v20, byte_80F7380[2 * v10 + &byte_0[1]] + v21);
        ++v10;
    }
    while ( v10 < 9 );
    if ( v23 > 1 )
        sub_8000C72((&v24 + v22), v23, v23);
    if ( v9 > 1 )
        sub_8000C72((&v24 + v22 + v23), v9, v9);
    v13 = 0;
    result = v22 + v23;
    v15 = v9 + v22 + v23;
    do
    {
        if ( v15 <= v13 )
            break;
        sub_80F73BC(*(&v24 + v13) & 7, *(&v24 + v13) >> 4, v11, v12);
        ++v13;
        result = v19;
    }
    while ( v13 < v19 );
    return result;
}


// 0x80f73bc
int __fastcall sub_80F73BC(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r4
    int v6; // r6

    v5 = *(v4 + 3);
    v6 = *(v4 + 8);
    return sub_80D5EB0(a1, a2, *(v4 + 2), a4);
}


// 0x80f73ca
int sub_80F73CA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    int v3; // r0
    int v4; // r2
    int v5; // ST00_4
    int v6; // ST04_4
    int v7; // r4
    int v8; // r6
    int v9; // r7
    int v10; // r3
    int result; // r0

    v2 = 1;
    do
    {
        v3 = -object_getFrontDirection(v0) * v2 + v0->panelX;
        v4 = *(v1 + 2);
        v5 = v2;
        v6 = v1;
        v7 = *(v1 + 3) | ((v2 - 1) << 8);
        v8 = *(v1 + 8);
        v9 = *(v1 + 24);
        result = sub_80D61A8(v3, v0->panelY, v4, v10);
        v1 = v6;
        v2 = v5 + 1;
    }
    while ( v5 + 1 <= 3 );
    return result;
}


// 0x80f73fa
int sub_80F73FA()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    object_setFlag1(0x80000);
    v1 = object_clearFlag(0x400000);
    object_updateCollisionData(v1, 53, 2, 3);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80f742e
int sub_80F742E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r4
    char *v3; // r2
    char v4; // r0
    int v5; // r6
    char v6; // ST00_1
    int v7; // ST04_4
    char v8; // r0
    int result; // r0

    v2 = 0;
    do
    {
        v3 = &byte_80F7478[6 * *(v1 + 12) + 3 * v2];
        v4 = *v3;
        v5 = v3[2];
        if ( v0->Alliance )
            v4 = 7 - v4;
        v6 = v4;
        v7 = v3[1];
        v8 = object_getFrontDirection(v0);
        result = sub_80F74A8(v6 - 3 * v8, v7, v2++, v5);
    }
    while ( v2 < 2 );
    return result;
}


// 0x80f74a8
int __fastcall sub_80F74A8(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r4
    int v6; // r3
    int v7; // r6

    v5 = *(v4 + 3) | (a3 << 8) | (a4 << 16);
    v6 = 4 * *(v4 + 3) + 16 * a3;
    v7 = *&byte_80F74D0[v6];
    return sub_80D63FC(a1, a2, *(v4 + 2), v6);
}


// 0x80f7500
int __fastcall sub_80F7500(int a1, int a2, int a3)
{
    return sub_80E7BD8(a1 << 16, a2, a3, 0);
}


// 0x80f7514
int __fastcall sub_80F7514(int result)
{
    if ( result )
        result = sub_80E7BF0(result);
    return result;
}


// 0x80f7520
int __noreturn sub_80F7520()
{
    int v0; // r5
    bool v1; // zf
    int result; // r0
    int v3; // r6
    int v4; // [sp-8h] [bp-18h]
    int v5; // [sp-4h] [bp-14h]

    v4 = object_getEnemyDirection() + *(v0 + 18);
    v5 = *(v0 + 19);
    v1 = object_isPanelSolid(v4, v5) == 0;
    result = v4;
    if ( !v1 )
    {
        v3 = *(v0 + 44);
        result = object_spawnCollisionRegion(v4, v5, 0, 0);
    }
    return result;
}


// 0x80f7670
int sub_80F7670()
{
    int v0; // r5

    return (*(&off_80F768C + *(*(v0 + 88) + 128)))();
}


// 0x80f7690
void sub_80F7690()
{
    int v0; // r6
    char v1; // r0
    char v2; // r0

    if ( *(v0 + 4) < 4 )
    {
        GetPositiveSignedRNG2();
        if ( (v1 & 0xF) < 12 )
            ++*(v0 + 4);
        GetPositiveSignedRNG2();
        if ( (v2 & 0xF) < 8 )
            sub_80F7830();
        else
            sub_80F7856();
    }
    else
    {
        *(v0 + 4) = 0;
        if ( *(v0 + 5) )
            sub_80F77E8();
        sub_80F7886();
        *(v0 + 5) = 1;
    }
}


// 0x80f76f4
signed int __noreturn sub_80F76F4()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x80f7732
int sub_80F7732()
{
    return sub_800FE28(&dword_80F7740);
}


// 0x80f7744
int sub_80F7744()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F7764);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f7768
int sub_80F7768()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F7788);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f778c
int sub_80F778C()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_80F77A8);
    sub_800FE28(&byte_80F77A8[4]);
    return v0;
}


// 0x80f77b0
int sub_80F77B0()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F77D0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f77d4
int sub_80F77D4()
{
    return sub_800FE28(&dword_80F77E4);
}


// 0x80f77e8
__int64 __noreturn sub_80F77E8()
{
    int v0; // r5
    signed int v1; // r4
    int v2; // r0
    __int64 v3; // ST00_8
    bool v4; // zf
    __int64 result; // r0

    v1 = 0;
    do
    {
        v2 = 4 * *(v0 + 22) + 2 * v1;
        LODWORD(v3) = byte_80F7828[v2];
        HIDWORD(v3) = byte_80F7828[v2 + 1];
        v4 = object_checkPanelParameters(v3, SHIDWORD(v3), 16, 260571328) == 0;
        result = v3;
        if ( !v4 )
            break;
        ++v1;
    }
    while ( v1 < 2 );
    return result;
}


// 0x80f7830
int sub_80F7830()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 40) = sub_80F811A;
    *(v1 + 24) = sub_80F7732();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x80f7856
void sub_80F7856()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 2;
    sub_80F78FA(0);
    *(v1 + 24) = sub_80F7744();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    *(v1 + 40) = sub_80F81C0;
    object_setAttack0();
}


// 0x80f7886
void sub_80F7886()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 2;
    *(v1 + 24) = sub_80F7768();
    *(v1 + 12) = sub_80F778C();
    *(v1 + 13) = v2;
    sub_80F78FA(1);
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    *(v1 + 40) = sub_80F8256;
    *(v1 + 48) = v0 + 96;
    object_setAttack0();
}


// 0x80f78c4
void __fastcall sub_80F78C4(char a1, char a2)
{
    int v2; // r5
    int v3; // r7

    *(v3 + 22) = a1;
    *(v3 + 23) = a2;
    *(v3 + 3) = sub_800FE36();
    *(v3 + 2) = 2;
    sub_80F78FA(2);
    *(v3 + 24) = sub_80F77B0();
    *(v3 + 12) = sub_80F77D4();
    *(v3 + 44) = battle_findPlayer(*(v2 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f78fa
int __fastcall sub_80F78FA(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F7934[8 * a1]);
    result = sub_800FE12(&byte_80F7958[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f7970
int __fastcall sub_80F7970(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80F79A4[8 * a1]);
    return (sub_800FE12(&byte_80F79C8[8 * v1]) << 16) | v2;
}


// 0x80f79f0
int sub_80F79F0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F7A04 + *v0))();
}


// 0x80f7a10
void __fastcall sub_80F7A10(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F7A5C[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 6;
        *v2 = 4;
    }
}


// 0x80f7a6c
int sub_80F7A6C()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 8;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f7a98
void sub_80F7A98()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x80f7ad2
int sub_80F7AD2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F7AE4 + *v0))();
}


// 0x80f7afc
void __fastcall sub_80F7AFC(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F7B60[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else if ( v7 == v1->panelX && v8 == v1->panelY )
    {
        *(v2 + 26) = 1;
        *v2 = 12;
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 6;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f7b70
int sub_80F7B70()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 8;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f7b9c
int sub_80F7B9C()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f7bbe
int sub_80F7BBE()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 30;
        *(v0 + 16) = 30;
    }
    return result;
}


// 0x80f7bde
int __fastcall sub_80F7BDE(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r4
    int v10; // r6
    int v11; // r0
    int v12; // r1
    int v13; // r2

    if ( *(v5 + 1) )
    {
        v7 = *(v5 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            v4->currAnimation = 20;
            v9 = *(v5 + 3);
            v10 = *(v5 + 8);
            sub_80C86B0(v4->panelX, v4->panelY, *(v5 + 2), a4);
            v11 = object_getFlip(v4);
            SpawnT4BattleObjectWithId0(v4, v11 << 8, v4->x, v4->y, 0);
            PlaySoundEffect(301, v12, v13);
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v4->currAnimation = 19;
        object_setCounterTime(12);
        result = 20;
        *(v5 + 16) = 20;
    }
    return result;
}


// 0x80f7c3a
void sub_80F7C3A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f7c5e
int sub_80F7C5E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F7C70 + *v0))();
}


// 0x80f7c8c
signed int __fastcall sub_80F7C8C(int a1)
{
    _BYTE *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1
    signed int result; // r0

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F7CE0[8 * v1[22]], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 24) = 30;
        *(v2 + 16) = 1;
        result = 24;
        *v2 = 24;
    }
    else
    {
        v1[20] = v7;
        v1[21] = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1[16] = 4;
        *(v2 + 16) = 6;
        *(v2 + 26) = 1;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x80f7cf0
int sub_80F7CF0()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 8;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f7d1c
int sub_80F7D1C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        *(v1 + 14) = 0;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f7d34
int sub_80F7D34()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r3
    int result; // r0
    int v5; // r4
    int v6; // r7
    int v7; // r0
    int v8; // r0

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        if ( v7 >= 27 && v7 <= *(v1 + 13) + 27 )
        {
            v8 = *(v1 + 18) + 1;
            *(v1 + 18) = v8;
            if ( !__CFSHR__(v8, 3) )
                sub_80F82B0();
        }
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == *(v1 + 13) + 27 )
        {
            result = 16;
            v0[16] = 16;
        }
        else if ( result == 27 )
        {
            result = **(v1 + 48);
            if ( result )
                *(result + 11) = 1;
        }
        else if ( result <= 0 )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 22) = sub_80F82E2();
        *(v1 + 16) = *(v1 + 13) + 36;
        *(v1 + 18) = 0;
        result = *(v1 + 14);
        if ( !*(v1 + 14) )
        {
            v5 = *(v1 + 3);
            v6 = *(v1 + 48);
            sub_80E3976(v0[18], v0[19], v2, v3);
            result = 15;
            v0[16] = 15;
        }
    }
    return result;
}


// 0x80f7dba
int sub_80F7DBA()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    int v5; // r3
    int v6; // r4
    int v7; // r6
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            v0[16] = 16;
            v11 = *(v1 + 12) - 1;
            *(v1 + 12) = v11;
            if ( v11 )
            {
                result = 20;
                *v1 = 20;
            }
            else
            {
                result = 24;
                *v1 = 24;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 21;
        object_setCounterTime(18);
        PlaySoundEffect(393, v2, v3);
        ++*(v1 + 14);
        v4 = *(&dword_80F7E2C + *(v1 + 3));
        *(v1 + 16) = v4;
        v5 = *(v1 + 22) << 16;
        v6 = *(v1 + 3) | (v4 << 8) | v5;
        v7 = *(v1 + 8);
        result = sub_80C6EE0(v0[18], v0[19], *(v1 + 2), v5);
    }
    return result;
}


// 0x80f7e30
int sub_80F7E30()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = *(&dword_80F7E64 + *(v0 + 3));
        result = **(v0 + 48);
        if ( result )
            *(result + 11) = 1;
    }
    return result;
}


// 0x80f7e68
void sub_80F7E68()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
        v2 = **(v1 + 48);
        if ( v2 )
            *(v2 + 11) = 2;
    }
}


// 0x80f7ea6
int sub_80F7EA6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F7EB8 + *v0))();
}


// 0x80f7ed8
int sub_80F7ED8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    __int64 v4; // r0

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            LODWORD(v4) = *(v1 + 22);
            HIDWORD(v4) = *(v1 + 23);
            object_highlightPanel(v4);
        }
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 30 )
        {
            result = 18;
            *(v0 + 16) = 18;
        }
        else if ( result <= 0 )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        *(v1 + 16) = 35;
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f7f1e
signed int __fastcall sub_80F7F1E(int a1)
{
    unsigned __int8 *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    signed int result; // r0
    int v7; // [sp-8h] [bp-Ch]
    int v8; // [sp-4h] [bp-8h]

    object_canMove(a1);
    if ( v3 || (v7 = *(v2 + 22), v8 = *(v2 + 23), !object_checkPanelParameters(v7, v8, 16, 260571264)) )
    {
        *(v2 + 24) = 30;
        *(v2 + 16) = 1;
        result = 28;
        *v2 = 28;
    }
    else
    {
        object_reservePanel(v7, v8);
        v4 = v1[18];
        v5 = v1[19];
        v1[20] = v4;
        v1[21] = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        *(v2 + 16) = 2;
        *(v2 + 26) = 1;
        result = 8;
        *v2 = 8;
    }
    return result;
}


// 0x80f7f7c
int sub_80F7F7C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        object_setCounterTime(24);
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80f7fa2
int sub_80F7FA2()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 20;
        *(v0 + 16) = 20;
    }
    return result;
}


// 0x80f7fc2
int sub_80F7FC2()
{
    int v0; // r5
    int v1; // r7
    int v2; // r3
    int v3; // r4
    int v4; // r6
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 12) << 8;
        v3 = *(v1 + 3) | (*(&dword_80F8010 + *(v1 + 3)) << 16) | v2;
        v4 = *(v1 + 8);
        sub_80C92CC(*(v0 + 18), *(v0 + 19), *(v1 + 2), v2);
        result = *(&dword_80F8010 + *(v1 + 3));
        *(v1 + 16) = 4 * result * *(v1 + 12) + result;
    }
    return result;
}


// 0x80f8014
int sub_80F8014()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        object_setFlag1(64);
        result = 6;
        *(v1 + 16) = 6;
    }
    return result;
}


// 0x80f803e
int sub_80F803E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        result = 8;
        *(v1 + 16) = 8;
    }
    return result;
}


// 0x80f8094
void sub_80F8094()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f811a
int __fastcall __noreturn sub_80F811A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r6
    int v7; // r7
    char v8; // t1
    char *v9; // r3
    int result; // r0
    int v15; // [sp-8h] [bp-2Ch]
    int v16; // [sp-4h] [bp-28h]
    int v17; // [sp+0h] [bp-24h]
    int v18; // [sp+4h] [bp-20h]
    int v19; // [sp+8h] [bp-1Ch]
    int v20; // [sp+Ch] [bp-18h]
    int v21; // [sp+10h] [bp-14h]

    v17 = a1;
    v18 = a3;
    v19 = a4;
    v5 = 0;
    v6 = 0;
    v7 = 0;
    do
    {
        v8 = *(v4 + 18);
        v9 = &byte_80F81B8[2 * v5];
        v15 = *(v4 + 18) + *v9;
        v16 = *(v4 + 19) + byte_0[v9 + 1];
        if ( object_checkPanelParameters(v15, v16, v18, v19) )
        {
            if ( v16 == *(v17 + 19) )
                *(&v21 + v7++) = v15 | 16 * v16;
            else
                *(&v20 + v6++) = v15 | 16 * v16;
        }
        ++v5;
    }
    while ( v5 < 4 );
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v6) & 7;
    }
    else if ( v7 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v21 + v7) & 7;
    }
    else
    {
        result = 0;
    }
    return result;
}


// 0x80f81c0
int __fastcall sub_80F81C0(int a1, int a2, int a3, int a4)
{
    int v4; // r6
    int v6; // r0
    char *v7; // r1
    int v12; // [sp-8h] [bp-40h]
    int v13; // [sp-8h] [bp-40h]
    int v14; // [sp+0h] [bp-38h]
    int v15; // [sp+4h] [bp-34h]
    int v16; // [sp+8h] [bp-30h]
    int v17; // [sp+Ch] [bp-2Ch]
    char v18; // [sp+10h] [bp-28h]

    v16 = a3;
    v17 = a4;
    v14 = *(a1 + 18);
    v15 = *(a1 + 19);
    v4 = 0;
    v12 = -2 * object_getEnemyDirection() + v14;
    if ( object_checkPanelParameters(v12, v15, v16, v17) )
    {
        v18 = v12 | 16 * v15;
        v4 = 1;
    }
    v13 = -3 * object_getEnemyDirection() + v14;
    _ZF = object_checkPanelParameters(v13, v15, v16, v17) == 0;
    v6 = v13;
    v7 = v15;
    if ( !_ZF )
    {
        v6 = v13 | 16 * v15;
        v7 = &v18;
        *(&v18 + v4++) = v6;
    }
    if ( !v4 )
    {
        v4 = object_getPanelsExceptCurrentFilterred(v6, v7, v16, v17);
        if ( !v4 )
            return 0;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v18 + v4) & 7;
}


// 0x80f8256
int __fastcall __noreturn sub_80F8256(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int result; // r0
    int v8; // r6
    int v12; // [sp-8h] [bp-38h]
    int v13; // [sp-4h] [bp-34h]
    int v14; // [sp+0h] [bp-30h]
    int v15; // [sp+4h] [bp-2Ch]
    int v16; // [sp+8h] [bp-28h]

    v14 = a3;
    v15 = a4;
    v5 = 2 * *(v4 + 22);
    v12 = *(&dword_80F82AC + v5);
    v13 = *(&dword_80F82AC + v5 + 1);
    _ZF = object_checkPanelParameters(v12, v13, a3, a4) == 0;
    result = v12;
    if ( _ZF )
    {
        v8 = object_getPanelsInColumnFiltered(v12, v13, v14, v15);
        if ( v8 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v16 + v8) & 7;
        }
        else
        {
            result = 0;
        }
    }
    return result;
}


// 0x80f82b0
int sub_80F82B0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r4
    signed int v3; // r6
    __int64 v4; // r0

    object_highlightPanelRegion(*(v1 + 22), *(v0 + 19), 4, *(v0 + 22));
    v2 = object_getFrontDirection(v0);
    v3 = 1;
    do
    {
        LODWORD(v4) = *(v0 + 18) + v3 * v2;
        if ( v4 == *(v1 + 22) )
            break;
        HIDWORD(v4) = *(v0 + 19);
        LODWORD(v4) = object_highlightPanel(v4);
        ++v3;
    }
    while ( v3 < 6 );
    return v4;
}


// 0x80f82e2
signed int sub_80F82E2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    signed int v3; // r2

    v2 = object_getFrontDirection(v0);
    v3 = *(*(v1 + 44) + 18);
    if ( v2 * (v0->panelX + v2 - v3) > 0 )
    {
        v3 = 6;
        if ( v0->Alliance )
            v3 = 1;
    }
    return v3;
}


// 0x80f8428
int sub_80F8428()
{
    int v0; // r5

    return (*(&off_80F8444 + *(*(v0 + 88) + 128)))();
}


// 0x80f8448
void sub_80F8448()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    signed int v3; // r3

    v3 = 4;
    if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
        v3 = 2;
    if ( *(v1 + 4) < v3 )
    {
        ++*(v1 + 4);
        *(v2 + 3) = sub_800FE36();
        *(v2 + 40) = sub_80F8CF8;
        *(v2 + 24) = sub_80F85B2();
        (object_setAttack4)(9);
    }
    else
    {
        *(v1 + 4) = 0;
        if ( *(v1 + 5) < *(&dword_80F853C + sub_800FE36()) )
        {
            ++*(v1 + 5);
            sub_80F8610();
        }
        *(v1 + 5) = 0;
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 0;
        sub_80F865C(2);
        *(v2 + 24) = sub_80F85FC();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        *(v2 + 40) = sub_80F8DFE;
        *(v2 + 48) = v0 + 96;
        object_setAttack0();
    }
}


// 0x80f8540
_BYTE *sub_80F8540()
{
    int v0; // r5
    char *v1; // r1
    char v2; // ST00_1
    int v3; // ST04_4
    int v4; // r2
    int v5; // r3
    int v6; // r2
    int v7; // r3

    sub_800FE36();
    battle_findPlayer(*(v0 + 22) ^ 1);
    v1 = &byte_80F8578[2 * *(v0 + 22)];
    v2 = *v1;
    v3 = v1[1];
    sub_80CC486(*v1, v3, v4, v5);
    return sub_80CC584(v2, v3, v6, v7);
}


// 0x80f857c
void sub_80F857C()
{
    ;
}


// 0x80f8580
int sub_80F8580()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80f85b2
int sub_80F85B2()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F85D0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f85d4
int sub_80F85D4()
{
    return sub_800FE28(&dword_80F85E4);
}


// 0x80f85e8
int sub_80F85E8()
{
    return sub_800FE28(&dword_80F85F8);
}


// 0x80f85fc
int sub_80F85FC()
{
    return sub_800FE28(&dword_80F860C);
}


// 0x80f8610
int __noreturn sub_80F8610()
{
    int v0; // r5
    u32 v1; // r0
    int v2; // r4
    int result; // r0

    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    v2 = *(v1 + 18);
    result = object_getClosestPanelMatchingRowFiltered(
                         *(v0 + 22),
                         *(v1 + 19),
                         *&byte_80F864C[8 * *(v0 + 22)],
                         *&byte_80F864C[8 * *(v0 + 22) + 4]);
    if ( result )
    {
        if ( *(v0 + 22) )
            result -= v2;
        else
            result = v2 - result;
    }
    return result;
}


// 0x80f865c
int __fastcall sub_80F865C(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F86BC[8 * a1]);
    result = sub_800FE12(&byte_80F86E0[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f870c
int sub_80F870C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F8720 + *v0))();
}


// 0x80f872c
int sub_80F872C()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            *(v1 + 24) = 80;
            result = 8;
            *v1 = 8;
        }
        else
        {
            v3 = &byte_80F8784[8 * v0[22]];
            v4 = *v3;
            v5 = *(v3 + 1);
            v6 = (*(v1 + 40))();
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 3;
            *(v1 + 16) = 3;
        }
    }
    return result;
}


// 0x80f8794
int sub_80F8794()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f87da
void sub_80F87DA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f87fe
int sub_80F87FE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F8810 + *v0))();
}


// 0x80f882c
void __fastcall sub_80F882C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F8880[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        *(v2 + 12) = *(*(v2 + 44) + 18);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f8890
int sub_80F8890()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f88bc
int sub_80F88BC()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80f88da
int sub_80F88DA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            object_highlightPanelRegion(*(v1 + 12), 2, 4, *(v0 + 22));
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 60;
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f8914
int sub_80F8914()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r3
    int v4; // r4
    int v5; // r6
    int v6; // ST00_4
    int v7; // r7
    int v8; // r1
    int v9; // r2
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v1 + 1) )
    {
        v11 = *(v1 + 16);
        v12 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 12;
        object_setCounterTime(18);
        v2 = *(v1 + 2);
        v3 = *(v1 + 12) << 8;
        v4 = *(v1 + 3) | v3;
        v5 = *(v1 + 8);
        v6 = v1;
        v7 = *(v1 + 48);
        sub_80CB410(v0[18], v0[19], v2, v3);
        PlaySoundEffect(265, v8, v9);
        result = 15;
        *(v6 + 16) = 15;
    }
    return result;
}


// 0x80f8962
signed int sub_80F8962()
{
    int v0; // r7
    signed int result; // r0

    result = **(v0 + 48);
    if ( !result )
    {
        result = 24;
        *v0 = 24;
    }
    return result;
}


// 0x80f8972
void sub_80F8972()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f8996
int sub_80F8996()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F89A8 + *v0))();
}


// 0x80f89c0
void __fastcall sub_80F89C0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F8A0C[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f8a1c
int sub_80F8A1C()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f8a48
int sub_80F8A48()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80f8a66
int sub_80F8A66()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            sub_80F8EAA();
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = 24;
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f8a9c
void sub_80F8A9C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    char v5; // r0
    int v6; // r6
    char v7; // r0
    int v8; // r1
    int v9; // r0
    int v10; // r1

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16) - 1;
        *(v1 + 16) = v4;
        if ( v4 == 20 )
        {
            v5 = object_getFrontDirection(v0);
            v6 = *(v1 + 8);
            object_spawnCollisionRegion(v5 + v0->panelX, v0->panelY, *(v1 + 2), 0);
            object_getFlip(v0);
            v7 = object_getFrontDirection(v0);
            v8 = v0->panelY;
            v9 = object_getCoordinatesForPanels(v7 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v9, v9, v10, 0x100000);
        }
        else if ( v4 <= 0 )
        {
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 16;
        object_setCounterTime(12);
        PlaySoundEffect(266, v2, v3);
        *(v1 + 16) = 30;
    }
}


// 0x80f8b20
void sub_80F8B20()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f8b44
int sub_80F8B44()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F8B58 + *v0))();
}


// 0x80f8b74
void __fastcall sub_80F8B74(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80F8BC8[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 52) = 0;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80f8bd8
int sub_80F8BD8()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80f8c04
int sub_80F8C04()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80f8c22
int sub_80F8C22()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        result = sub_80F8E90(*(v0 + 48));
        if ( result )
        {
            *(v0 + 16) = 16;
            result = 4;
            *(v0 + 1) = 4;
        }
    }
    return result;
}


// 0x80f8c4c
int __fastcall sub_80F8C4C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v5 + 1) )
    {
        v7 = *(v5 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 17;
        sub_80E40C2(17, a2, a3, a4);
        result = 30;
        *(v5 + 16) = 30;
    }
    return result;
}


// 0x80f8c7a
int sub_80F8C7A()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r2

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 20 )
        {
            camera_initShakeEffect_80302a8(2, 30);
            result = sub_80F8E48();
        }
        else if ( result <= 0 )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        object_setCounterTime(8);
        PlaySoundEffect(268, v2, v3);
        result = 30;
        *(v1 + 16) = 30;
        v5 = *(v1 + 52);
        if ( v5 )
            *(v5 + 9) = 1;
    }
    return result;
}


// 0x80f8cca
void sub_80F8CCA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 7;
        *(v1 + 16) = *(v1 + 24);
        v2 = *(v1 + 52);
        if ( v2 )
            *(v2 + 9) = 2;
    }
}


// 0x80f8cf8
int __fastcall sub_80F8CF8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r6
    int result; // r0
    int v12; // r1
    int v13; // [sp+0h] [bp-8h]
    int v14; // [sp+4h] [bp-4h]
    int v15; // [sp+8h] [bp+0h]

    v13 = a3;
    v14 = a4;
    v6 = object_getPanelsIgnoreColumnFiltered(*(v4 + 19), a2, a3, a4);
    if ( v6 || (v6 = object_getPanelsExceptCurrentFilterred(0, v5, v13, v14)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v15 + v6) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v12 = *(v4 + 19);
    }
    return result;
}


// 0x80f8d3e
int __fastcall sub_80F8D3E(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // r6
    int v12; // [sp+0h] [bp-34h]
    int v13; // [sp+4h] [bp-30h]
    int v14; // [sp+8h] [bp-2Ch]
    int v15; // [sp+Ch] [bp-28h]

    v12 = *(a1 + 18);
    v13 = a3;
    v14 = a4;
    v5 = 1;
    v6 = 0;
    do
    {
        if ( object_getFrontDirection(v4) * (v12 - v5) >= 2 && object_checkPanelParameters(v5, 2, v13, v14) )
            *(&v15 + v6++) = v5 | 0x20;
        ++v5;
    }
    while ( v5 <= 6 );
    if ( !v6 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v15 + v6) & 7;
}


// 0x80f8da8
int __fastcall sub_80F8DA8(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r1
    int v6; // r4
    int v7; // r6
    int v13; // [sp+0h] [bp-28h]
    int v14; // [sp+4h] [bp-24h]
    int v15; // [sp+8h] [bp-20h]
    int v16; // [sp+Ch] [bp-1Ch]

    v13 = a3;
    v14 = a4;
    v15 = -object_getFrontDirection(v4);
    v6 = 6;
    if ( v4->Alliance )
        v6 = 1;
    do
    {
        v7 = object_getPanelsInColumnFiltered(v6, v5, v13, v14);
        if ( v7 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            return *(&v16 + v7) & 7;
        }
        v6 += v15;
    }
    while ( v6 >= 1 && v6 <= 6 );
    return 0;
}


// 0x80f8dfe
int __fastcall __noreturn sub_80F8DFE(int a1, int a2, int a3, int a4)
{
    int v4; // r1
    int v5; // r6
    int v11; // [sp+4h] [bp-8h]
    int v12; // [sp+8h] [bp-4h]
    int v13; // [sp+Ch] [bp+0h]

    v11 = a3;
    v12 = a4;
    v5 = object_getPanelsInRowFiltered(*(a1 + 19), a2, a3, a4);
    if ( !v5 )
    {
        v5 = object_getPanelsExceptCurrentFilterred(0, v4, v11, v12);
        if ( !v5 )
            return 0;
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v13 + v5) & 7;
}


// 0x80f8e48
int sub_80F8E48()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r4
    bool v3; // zf
    int result; // r0
    int v5; // r6
    int v6; // [sp-8h] [bp-14h]
    int v7; // [sp-4h] [bp-10h]

    v2 = 1;
    do
    {
        v6 = object_getFrontDirection(v0) * v2 + v0->panelX;
        v7 = v0->panelY;
        v3 = object_isValidPanel(v6, v7) == 0;
        result = v6;
        if ( v3 )
            break;
        v5 = *(v1 + 8);
        result = sub_80D1B22(v6, v7, *(v1 + 2), 150994944);
        ++v2;
    }
    while ( v2 <= 6 );
    return result;
}


// 0x80f8e90
signed int __fastcall sub_80F8E90(int *a1)
{
    signed int v1; // r1
    int v2; // r2

    v1 = 0;
    v2 = *a1;
    if ( *a1 && !*(v2 + 9) )
    {
        *(v2 + 7) = 2;
        v1 = 1;
    }
    return v1;
}


// 0x80f8eaa
int sub_80F8EAA()
{
    int v0; // r5
    int v1; // r0

    v1 = object_getFrontDirection(v0);
    return object_highlightPanelRegion(v1 + *(v0 + 18), *(v0 + 19), 17, *(v0 + 22));
}


// 0x80f8fe0
int sub_80F8FE0()
{
    int v0; // r5

    return (*(&off_80F8FFC + *(*(v0 + 88) + 128)))();
}


// 0x80f9000
void sub_80F9000()
{
    int v0; // r5
    _BYTE *v1; // r6
    signed int v2; // r3
    signed int v3; // r3
    char v4; // r0
    char v5; // r0

    v2 = 5;
    if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
        v2 = 3;
    if ( v1[4] < v2 )
    {
        GetPositiveSignedRNG2();
        if ( (v5 & 0xF) < 14 )
            ++v1[4];
        sub_80F9154();
    }
    else
    {
        v1[4] = 0;
        v3 = 7;
        if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
            v3 = 4;
        if ( v1[5] >= v3 )
        {
            v1[5] = 0;
            sub_80F91F6();
        }
        else
        {
            ++v1[5];
            if ( v1[6] >= 1 )
            {
                v1[6] = 0;
                sub_80F91A2();
            }
            else
            {
                GetPositiveSignedRNG2();
                if ( (v4 & 0xF) < 14 )
                    ++v1[6];
                sub_80F9168();
            }
        }
    }
}


// 0x80f9088
int sub_80F9088()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 16, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80f90ba
int sub_80F90BA()
{
    int v0; // r5
    signed int v1; // r4
    char v2; // r0
    int v3; // r4

    v1 = 0;
    if ( *(v0 + 100) < 1 )
    {
        GetPositiveSignedRNG2();
        if ( (v2 & 0xF) <= 8 )
            ++*(v0 + 100);
    }
    else
    {
        *(v0 + 100) = 0;
        v1 = 4;
    }
    v3 = sub_800FE28(&byte_80F90FC[v1]);
    if ( object_getFlag() & 0xA000 )
        v3 += 30;
    return v3;
}


// 0x80f9104
int sub_80F9104()
{
    return sub_800FE28(&dword_80F9114);
}


// 0x80f9118
int sub_80F9118()
{
    return sub_800FE28(&off_80F9128);
}


// 0x80f912c
int sub_80F912C()
{
    return sub_800FE28(&dword_80F913C);
}


// 0x80f9140
int sub_80F9140()
{
    return sub_800FE28(&dword_80F9150);
}


// 0x80f9154
int sub_80F9154()
{
    int v0; // r7

    *(v0 + 40) = sub_80F993A;
    *(v0 + 24) = sub_80F90BA();
    return (object_setAttack4)(9);
}


// 0x80f9168
int sub_80F9168()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F9222(0);
    *(v1 + 24) = sub_80F9118();
    *(v1 + 12) = sub_80F9104();
    *(v1 + 40) = sub_80F9980;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
    return sub_80F93C2();
}


// 0x80f91a2
void sub_80F91A2()
{
    int v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r0
    char v4; // r4

    GetPositiveSignedRNG2();
    v3 = v2 & 3;
    if ( v3 == *(v0 + 96) )
        v3 = (v3 + 1) & 3;
    *(v0 + 96) = v3;
    v4 = v3;
    if ( sub_800FE36() )
        v4 += 4;
    *(v1 + 13) = v4;
    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 32;
    sub_80F9222(1);
    *(v1 + 12) = sub_80F912C();
    *(v1 + 40) = sub_80F9992;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f91f6
void sub_80F91F6()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F9222(2);
    *(v1 + 24) = sub_80F9140();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f9222
int __fastcall sub_80F9222(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80F9284[8 * a1]);
    result = sub_800FE12(&byte_80F92A8[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80f92d0
int sub_80F92D0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F92E4 + *v0))();
}


// 0x80f92f0
int sub_80F92F0()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            *(v1 + 24) = 80;
            result = 8;
            *v1 = 8;
        }
        else
        {
            v3 = &byte_80F9348[8 * v0[22]];
            v4 = *v3;
            v5 = *(v3 + 1);
            v6 = (*(v1 + 40))();
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 3;
            *(v1 + 16) = 3;
        }
    }
    return result;
}


// 0x80f9358
int sub_80F9358()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f939e
void sub_80F939E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f93c2
int sub_80F93C2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F93D4 + *v0))();
}


// 0x80f93e8
void sub_80F93E8()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80F944C[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f945c
int sub_80F945C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f94a2
int sub_80F94A2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            sub_80F99FC();
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 21;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f94d8
int __fastcall sub_80F94D8(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0

    if ( *(v4 + 1) )
    {
        sub_80F99FC();
        result = *(v4 + 16) - 1;
        *(v4 + 16) = result;
        if ( result == 17 )
        {
            result = sub_80F99CA();
        }
        else if ( result <= 0 )
        {
            result = 16;
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 22;
        PlaySoundEffect(251, a2, a3);
        object_setCounterTime(6);
        result = 20;
        *(v4 + 16) = 20;
    }
    return result;
}


// 0x80f9518
void sub_80F9518()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80f953c
int sub_80F953C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F9550 + *v0))();
}


// 0x80f9560
void sub_80F9560()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80F95C4[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 3;
        }
    }
}


// 0x80f95d4
int sub_80F95D4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f961a
int sub_80F961A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int result; // r0
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r1
    int v12; // r0
    int v13; // r1

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        _VF = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            object_setCounterTime(12);
            v0->currAnimation = 16;
            PlaySoundEffect(184, v9, v10);
            object_getFlip(v0);
            v11 = v0->panelY;
            v12 = object_getCoordinatesForPanels(v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v12, v12, v13, 0x200000);
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 15;
        *(v1 + 16) = *(v1 + 12);
        *(v1 + 13);
        v2 = *&byte_80F9690[4 * *(v1 + 3)];
        __asm { SVC         6 }
        *(v1 + 14) = 0;
        result = sub_80F9A18(*(v1 + 13));
    }
    return result;
}


// 0x80f96a0
void sub_80F96A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 14) + 120;
    }
}


// 0x80f96c2
int sub_80F96C2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80F96D4 + *v0))();
}


// 0x80f96ec
int sub_80F96EC()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        object_setCounterTime(6);
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80f9716
int sub_80F9716()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    char v4; // r1
    char v5; // r2
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0[16] = 4;
        v2 = v0[18];
        v3 = v0[19];
        v0[20] = v2;
        v0[21] = v3;
        object_reservePanel(v2, v3);
        *(v1 + 22) = sub_80F9B4C(*(v1 + 44), *(v1 + 3));
        *(v1 + 23) = v4;
        *(v1 + 12) = v5;
        object_setFlag1(64);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f975a
int sub_80F975A()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    unsigned int v6; // r0
    unsigned __int8 v7; // cf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
        {
            result = 12;
            *v1 = 12;
        }
        else
        {
            v6 = *(v1 + 18) + 1;
            *(v1 + 18) = v6;
            v7 = __CFSHR__(v6, 3);
            result = v6 >> 3;
            if ( !v7 )
                result = sub_80F9BDC(*(v1 + 12));
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 23);
        *(v0 + 18) = *(v1 + 22);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 16) = *(&dword_80F97BC + *(v1 + 12));
        *(v0 + 62) = 255;
        sprite_noShadow(v0);
        object_clearCollisionRegion();
        sub_801DD34();
        *(v1 + 16) = 20;
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80f97c0
int sub_80F97C0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // r1
    int v5; // r2
    int v6; // r0
    char *v7; // r2
    int v8; // r1
    int v9; // r2
    int result; // r0
    int v15; // r4
    int v16; // r0
    int v17; // r0

    if ( *(v1 + 1) )
    {
        if ( *(*(v0 + 84) + 112) & *&byte_80F98B8[4 * *(v0 + 22)] )
            object_clearCollisionRegion();
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v15 = *(v0 + 18);
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( *(v0 + 18) != v15 )
        {
            object_setCollisionRegion(4);
            v16 = *(v0 + 16);
            sub_80F9C28();
        }
        v17 = *(v1 + 16);
        _VF = __OFSUB__(v17, 1);
        result = v17 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_updateCollisionData(4, 53, 2, 3);
        v2 = *(v1 + 8);
        v3 = *(v0 + 84);
        *(v3 + 46) = v2;
        *(v3 + 7) = BYTE2(v2);
        object_setCollisionRegion(4);
        *(v0 + 62) = 0;
        sprite_hasShadow();
        PlaySoundEffect(316, v4, v5);
        v6 = object_getFrontDirection(v0);
        v7 = &byte_80F9884[8 * *(v1 + 3)];
        v8 = *v7;
        v9 = *(v7 + 1);
        *(v0 + 64) = v8 * v6;
        *(v0 + 68) = v9 * *(&dword_80F98A8 + *(v1 + 12));
        result = 2621440 * *(&dword_80F98B0 + *(v1 + 12));
        __asm { SVC         6 }
        *(v1 + 16) = 0;
    }
    return result;
}


// 0x80f98c0
int sub_80F98C0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // ST00_4
    int v5; // ST04_4
    int v6; // r0
    int v7; // r0
    int v8; // r2
    int result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf

    if ( *(v1 + 1) )
    {
        v10 = *(v1 + 16);
        v11 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v11) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 3;
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        v4 = v2;
        v5 = v3;
        object_setCoordinatesFromPanels(v0);
        object_removePanelReserve(v4, v5);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        v6 = object_setFlag1(0x80000);
        object_updateCollisionData(v6, 16, 2, 3);
        object_setCollisionRegion(1);
        v7 = *(v0 + 44);
        v8 = *(v0 + 84);
        *(v8 + 46) = v7;
        *(v8 + 7) = v7;
        sub_801DC7C(0, 0);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80f9932
void sub_80F9932()
{
    Battle *v0; // r5

    object_exitAttackState(v0);
}


// 0x80f993a
int __fastcall sub_80F993A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r6
    int result; // r0
    int v12; // r1
    int v13; // [sp+0h] [bp-8h]
    int v14; // [sp+4h] [bp-4h]
    int v15; // [sp+8h] [bp+0h]

    v13 = a3;
    v14 = a4;
    v6 = object_getPanelsIgnoreColumnFiltered(*(v4 + 19), a2, a3, a4);
    if ( v6 || (v6 = object_getPanelsExceptCurrentFilterred(0, v5, v13, v14)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v15 + v6) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v12 = *(v4 + 19);
    }
    return result;
}


// 0x80f9980
int __fastcall __noreturn sub_80F9980(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0

    result = object_getClosestPanelMatchingRowFiltered(*(v4 + 22), *(a1 + 19), a3, a4);
    if ( !result )
        result = 0;
    return result;
}


// 0x80f9992
int __fastcall sub_80F9992(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r0
    int v7; // r6
    int v13; // [sp+0h] [bp-28h]

    v5 = a1;
    v6 = 1;
    if ( *(v4 + 22) )
        v6 = 6;
    v7 = object_getPanelsInColumnIgnoreRowFiltered(v6, *(v5 + 19), a3, a4);
    if ( !v7 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v13 + v7) & 7;
}


// 0x80f99ca
int sub_80F99CA()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r4
    char v3; // r0
    int v4; // r6
    int result; // r0

    v2 = 1;
    do
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 8);
        result = object_spawnCollisionRegion(v3 * v2++ + v0->panelX, v0->panelY, *(v1 + 2), 0);
    }
    while ( v2 <= 3 );
    return result;
}


// 0x80f99fc
char *sub_80F99FC()
{
    Battle *v0; // r5
    signed int v1; // r4
    __int64 v2; // r0
    char *result; // r0

    v1 = 1;
    do
    {
        LODWORD(v2) = object_getFrontDirection(v0) * v1 + v0->panelX;
        HIDWORD(v2) = v0->panelY;
        result = object_highlightPanel(v2);
        ++v1;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x80f9a18
signed int __fastcall sub_80F9A18(signed int result)
{
    Battle *v1; // r5

    if ( result <= 7 && result >= 0 )
    {
        object_getFrontDirection(v1);
        sub_80F9AE8();
    }
    return result;
}


// 0x80f9ae8
int __noreturn sub_80F9AE8()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r6
    int v3; // r4
    signed int v4; // r0
    int result; // r0

    v2 = object_getFrontDirection(v0);
    v3 = 1;
    if ( v0->Alliance )
        v3 = 6;
    do
    {
        if ( object_getPanelsInColumnFiltered(
                     v3,
                     v1,
                     *&byte_80F9B3C[8 * v0->Alliance],
                     *&byte_80F9B3C[8 * v0->Alliance + 4]) )
        {
            break;
        }
        v3 += v2;
        if ( v3 < 1 )
            break;
    }
    while ( v3 < 6 );
    v4 = v0->Alliance;
    if ( v0->Alliance )
        v4 = 3;
    result = (v4 - v3) * v2;
    if ( result <= 0 )
        result = 0;
    return result;
}


// 0x80f9b4c
int __fastcall sub_80F9B4C(int a1, int a2)
{
    int v2; // r5
    signed int v3; // r6
    signed int v4; // r4
    char *v5; // r2
    int v6; // r0
    char *v7; // r3
    int result; // r0
    int v9; // r1
    int v10; // [sp+0h] [bp-14h]
    int v11; // [sp+4h] [bp-10h]

    v10 = *(a1 + 18);
    v11 = *(a1 + 19);
    if ( a2 )
    {
        v4 = 0;
        do
        {
            v5 = &byte_80F9BB8[3 * v4];
            v6 = *v5;
            v3 = v5[2];
            if ( *(v2 + 22) )
                v6 = 7 - v6;
            if ( v6 == v10 && v5[1] == v11 )
                break;
            ++v4;
        }
        while ( v4 <= 6 );
    }
    else
    {
        v3 = 0;
        if ( v11 == 3 )
            v3 = 3;
    }
    v7 = &byte_80F9BD4[2 * v3];
    result = *v7;
    v9 = v7[1];
    if ( *(v2 + 22) )
        result = 7 - result;
    return result;
}


// 0x80f9bdc
int __fastcall sub_80F9BDC(int a1)
{
    int v1; // r5
    int v2; // r3
    char *v3; // r1
    int v4; // r0
    int v5; // r1

    v2 = a1;
    v3 = &byte_80F9C0C[2 * a1];
    v4 = *v3;
    v5 = v3[1];
    if ( *(v1 + 22) )
        v4 = 7 - v4;
    return object_highlightPanelRegion(v4, v5, *&byte_80F9C18[4 * v2], (*(v1 + 23) << 8) | *(v1 + 22));
}


// 0x80f9c28
int sub_80F9C28()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
}


// 0x80f9d74
int sub_80F9D74()
{
    int v0; // r5

    return (*(&off_80F9D90 + *(*(v0 + 88) + 128)))();
}


// 0x80f9d94
void sub_80F9D94()
{
    _BYTE *v0; // r6
    int v1; // r0

    if ( v0[4] < 2 )
    {
        ++v0[4];
        sub_80F9F24();
    }
    else
    {
        v0[4] = 0;
        if ( v0[5] < 2 )
        {
            ++v0[5];
            sub_80F9F44();
        }
        else
        {
            v0[5] = 0;
            v1 = v0[6];
            v0[6] = v1 ^ 1;
            if ( v1 )
                sub_80F9FA6();
            else
                sub_80F9F76();
        }
    }
}


// 0x80f9de4
void sub_80F9DE4()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 80);
    if ( !v1 )
        JUMPOUT(&loc_80F9DF4);
    sub_80C44D2(v1);
    JUMPOUT(&loc_80F9DF4);
}


// 0x80f9df2
int sub_80F9DF2()
{
    int v0; // r5
    int result; // r0
    int v2; // r2

    object_clearFlag(64);
    object_clearFlag(0x400000);
    sub_801DC7C(0, 0);
    sprite_hasShadow();
    *(v0 + 62) = 0;
    object_updateCollisionData(0, 1, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v2 = *(v0 + 84);
    *(v2 + 46) = result;
    *(v2 + 7) = result;
    return result;
}


// 0x80f9e34
int sub_80F9E34()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F9E54);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f9e58
int sub_80F9E58()
{
    return sub_800FE28(&dword_80F9E68);
}


// 0x80f9e6c
int sub_80F9E6C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F9E8C);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f9e90
int sub_80F9E90()
{
    return sub_800FE28(&dword_80F9EA0);
}


// 0x80f9ea4
int sub_80F9EA4()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F9EC4);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f9ec8
int sub_80F9EC8()
{
    return sub_800FE28(&dword_80F9ED8);
}


// 0x80f9edc
int sub_80F9EDC()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_80F9EF8);
    sub_800FE28(&byte_80F9EF8[4]);
    return v0;
}


// 0x80f9f00
int sub_80F9F00()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80F9F20);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80f9f24
int sub_80F9F24()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 40) = sub_80FAA04;
    *(v1 + 24) = sub_80F9E34();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x80f9f44
void sub_80F9F44()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F9FEC(0);
    *(v1 + 24) = sub_80F9E6C();
    *(v1 + 12) = sub_80F9E58();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f9f76
void sub_80F9F76()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F9FEC(1);
    *(v1 + 24) = sub_80F9EA4();
    *(v1 + 12) = sub_80F9E90();
    *(v1 + 40) = sub_80FAAAC;
    *(v1 + 48) = v0 + 96;
    object_setAttack0();
}


// 0x80f9fa6
void sub_80F9FA6()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80F9FEC(2);
    *(v1 + 24) = sub_80F9F00();
    *(v1 + 12) = sub_80F9EC8();
    *(v1 + 13) = sub_80F9EDC();
    *(v1 + 14) = v2;
    *(v1 + 48) = sub_80FA01A(3);
    *(v1 + 40) = byte_80FAAD5;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80f9fec
int __fastcall sub_80F9FEC(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FA050[8 * a1]);
    result = sub_800FE12(&byte_80FA080[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fa01a
int __fastcall sub_80FA01A(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80FA050[8 * a1]);
    return (sub_800FE12(&byte_80FA080[8 * v1]) << 16) | v2;
}


// 0x80fa0b0
int sub_80FA0B0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FA0C4 + *v0))();
}


// 0x80fa0d0
void sub_80FA0D0()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FA134[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 4;
        }
    }
}


// 0x80fa144
int sub_80FA144()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fa18a
void sub_80FA18A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fa1ae
int sub_80FA1AE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FA1C0 + *v0))();
}


// 0x80fa1d8
int sub_80FA1D8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0
    int v6; // r1

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            object_setFlag1(64);
            object_setFlag1(0x400000);
            v5 = *(v0 + 18);
            v6 = *(v0 + 19);
            *(v0 + 20) = v5;
            *(v0 + 21) = v6;
            object_reservePanel(v5, v6);
            object_clearCollisionRegion();
            sub_801DD34();
            sprite_noShadow(v0);
            *(v0 + 62) = 255;
            *(v1 + 13) = 1;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x80fa22a
int sub_80FA22A()
{
    int v0; // r7
    int v1; // r2
    int result; // r0
    int v3; // r0
    __int64 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    char v7; // [sp-8h] [bp-Ch]
    int v8; // [sp-4h] [bp-8h]

    if ( *(v0 + 1) )
    {
        v3 = *(v0 + 18) + 1;
        *(v0 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            LODWORD(v4) = *(v0 + 22);
            HIDWORD(v4) = *(v0 + 23);
            object_highlightPanel(v4);
        }
        v5 = *(v0 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            sub_80FAB2C(*(v0 + 22), *(v0 + 23));
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        v1 = *(v0 + 44);
        v7 = *(v1 + 18);
        v8 = *(v1 + 19);
        if ( object_isValidPanel(*(v1 + 18), v8) )
        {
            *(v0 + 22) = v7;
            *(v0 + 23) = v8;
            *(v0 + 16) = *(v0 + 12);
            result = 0;
            *(v0 + 18) = 0;
        }
        else
        {
            result = 16;
            *v0 = 16;
        }
    }
    return result;
}


// 0x80fa284
int __fastcall sub_80FA284(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r0
    CollisionData *v7; // r2
    u8 v8; // r1
    int result; // r0

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 19;
        v5 = PlaySoundEffect(447, a2, a3);
        object_updateCollisionData(v5, 58, 2, 3);
        v6 = *(v4 + 8);
        v7 = v3->collisionData;
        v7->selfDamage = v6;
        v7->staminaDmg_counterDisabler = BYTE2(v6);
        v8 = *(v4 + 23);
        v3->panelX = *(v4 + 22);
        v3->panelY = v8;
        object_setCoordinatesFromPanels(v3);
        object_updateCollisionPanels(v3);
        object_setCollisionRegion(1);
        sub_801DC7C(0, 0);
        object_breakPanel_dup2(v3->panelX, v3->panelY);
    }
    if ( *&byte_80FA374[4 * v3->Alliance] & v3->collisionData->collisionFlags )
        object_clearCollisionRegion();
    result = *(v4 + 16) - 1;
    *(v4 + 16) = result;
    if ( result == 16 )
    {
        result = 20;
        v3->currAnimation = 20;
    }
    else if ( result <= 0 )
    {
        result = 12;
        *v4 = 12;
    }
    return result;
}


// 0x80fa31e
int sub_80FA31E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r0

    if ( *(v1 + 1) )
    {
        if ( *&byte_80FA374[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
            object_clearCollisionRegion();
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            object_clearCollisionRegion();
            sub_801DD34();
            sprite_noShadow(v0);
            *(v0 + 62) = 255;
            v5 = *(v1 + 13);
            v4 = __OFSUB__(v5--, 1);
            *(v1 + 13) = v5;
            if ( ((v5 < 0) ^ v4) | (v5 == 0) )
            {
                result = 16;
                *v1 = 16;
            }
            else
            {
                result = 4;
                *v1 = 4;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80fa37c
int sub_80FA37C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 3;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        v4 = object_updateCollisionPanels(v0);
        object_updateCollisionData(v4, 1, 2, 3);
        v5 = *(v0 + 44);
        v6 = *(v0 + 84);
        *(v6 + 46) = v5;
        *(v6 + 7) = v5;
        object_setCollisionRegion(1);
        sub_801DC7C(0, 0);
        sprite_hasShadow();
        *(v0 + 62) = 0;
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fa3fa
void sub_80FA3FA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fa41e
int sub_80FA41E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FA430 + *v0))();
}


// 0x80fa44c
void sub_80FA44C()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FA4AC[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 4;
        }
    }
}


// 0x80fa4bc
int sub_80FA4BC()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelY;
        v0->panelX = v0->futurePanelX;
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fa4fe
int sub_80FA4FE()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r1
    int v6; // r2
    char v7; // r0
    int v8; // r1

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v1 + 56) = *(v0 + 36);
            *(v1 + 22) = sub_80FAB48();
            *(v1 + 23) = v5;
            v7 = PlaySoundEffect(332, v5, v6);
            sub_80FAB2C(v7, v8);
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_setCounterTime(18);
        *(v1 + 52) = 0;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80fa540
int sub_80FA540()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r0
    int v4; // r2
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 23);
        *(v0 + 18) = *(v1 + 22);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 16) = 21;
        *(v0 + 62) = 20;
        object_updateCollisionData(20, 53, 2, 3);
        v3 = *(v1 + 8);
        v4 = *(v0 + 84);
        *(v4 + 46) = v3;
        *(v4 + 7) = BYTE2(v3);
        *(v0 + 64) = 299008 * object_getFrontDirection(v0);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80fa5b4
int __fastcall sub_80FA5B4(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r2
    int v6; // r3
    int result; // r0
    int v12; // r4
    int v13; // r0

    if ( *(v4 + 1) )
    {
        v12 = v3->panelX;
        v3->x += v3->vx;
        if ( *&byte_80FA63C[4 * v3->Alliance] & v3->collisionData->collisionFlags )
            object_clearCollisionRegion();
        object_setPanelsFromCoordinates(v3);
        object_updateCollisionPanels(v3);
        if ( v3->panelX != v12 )
            object_setCollisionRegion(1);
        if ( *(v4 + 52)
            || (v13 = *(v4 + 16),
                    _VF = __OFSUB__(v13, 1),
                    result = v13 - 1,
                    *(v4 + 16) = result,
                    ((result < 0) ^ _VF) | (result == 0)) )
        {
            sub_80FABEC();
            result = 20;
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 22;
        PlaySoundEffect(240, a2, a3);
        sub_80D4C0A(v4, 255, v5, v6);
        result = 15728640;
        __asm { SVC         6 }
        *(v4 + 16) = 0;
    }
    return result;
}


// 0x80fa644
int sub_80FA644()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 16;
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 62) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v4 = object_clearFlag(0x400000);
        object_updateCollisionData(v4, 1, 2, 3);
        v5 = *(v0 + 44);
        v6 = *(v0 + 84);
        *(v6 + 46) = v5;
        *(v6 + 7) = v5;
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fa6b0
void sub_80FA6B0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fa6d4
int sub_80FA6D4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FA6E8 + *v0))();
}


// 0x80fa708
void sub_80FA708()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FA770[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 52) = 0;
            *(v1 + 26) = 1;
            *(v1 + 16) = 4;
        }
    }
}


// 0x80fa780
int sub_80FA780()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelY;
        v0->panelX = v0->futurePanelX;
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fa7c2
int __fastcall sub_80FA7C2(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 12;
            *v4 = 12;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 17;
        PlaySoundEffect(230, a2, a3);
        object_setCounterTime(12);
        result = 30;
        *(v4 + 16) = 30;
    }
    return result;
}


// 0x80fa7f2
int __fastcall sub_80FA7F2(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 16;
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 18;
        PlaySoundEffect(448, a2, a3);
        result = 60;
        *(v4 + 16) = 60;
    }
    return result;
}


// 0x80fa81e
int __fastcall sub_80FA81E(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r0
    CollisionData *v7; // r2
    int v8; // r2
    int v9; // r3
    int v10; // r0
    int v11; // r1
    int v12; // r2
    int v13; // r1
    int v14; // r1
    int result; // r0
    int v20; // r4
    int v21; // r1
    int v22; // r2
    int v23; // r0

    if ( *(v4 + 1) )
    {
        v20 = v3->panelX;
        v3->x += v3->vx;
        if ( *&byte_80FA960[4 * v3->Alliance] & v3->collisionData->collisionFlags )
            object_clearCollisionRegion();
        object_setPanelsFromCoordinates(v3);
        object_updateCollisionPanels(v3);
        if ( v3->panelX != v20 )
            object_setCollisionRegion(1);
        v23 = *(v4 + 16);
        _VF = __OFSUB__(v23, 1);
        result = v23 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            PlaySoundEffect(229, v21, v22);
            result = 20;
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v5 = PlaySoundEffect(449, a2, a3);
        object_updateCollisionData(v5, 53, 2, 3);
        v6 = *(v4 + 8);
        v7 = v3->collisionData;
        v7->selfDamage = v6;
        v7->staminaDmg_counterDisabler = BYTE2(v6);
        v3->vx = 1179648 * object_getFrontDirection(v3);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        v10 = sub_80D4C0A(v4, 255, v8, v9);
        *(v4 + 52) = sub_80E7896(v10, v11, v12, 3072);
        v13 = v3->panelX;
        if ( v3->Alliance )
            v14 = v13 - 1;
        else
            v14 = 6 - v13;
        result = 2621440 * v14;
        __asm { SVC         6 }
        *(v4 + 16) = 0;
    }
    return result;
}


// 0x80fa8f0
int sub_80FA8F0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        sub_80FAC34();
        *(v1 + 16) = *(v1 + 12) + 20;
        camera_initShakeEffect_80302a8(1, 10);
        *(v1 + 18) = 10;
    }
    v2 = *(v1 + 18) - 1;
    *(v1 + 18) = v2;
    if ( v2 <= 0 )
    {
        camera_initShakeEffect_80302a8(1, 10);
        *(v1 + 18) = 10;
    }
    if ( *&byte_80FA960[4 * *(v0 + 22)] & *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        v6 = *(v1 + 13) - 1;
        *(v1 + 13) = v6;
        if ( v6 <= 0 )
        {
            result = 24;
            *v1 = 24;
        }
        else
        {
            result = 0;
            *(v1 + 1) = 0;
        }
    }
    return result;
}


// 0x80fa968
int sub_80FA968()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 3;
        v2 = *(v0 + 20);
        v3 = *(v0 + 21);
        *(v0 + 18) = v2;
        *(v0 + 19) = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v4 = object_clearFlag(0x400000);
        object_updateCollisionData(v4, 1, 2, 3);
        object_setCollisionRegion(1);
        v5 = *(v0 + 44);
        v6 = *(v0 + 84);
        *(v6 + 46) = v5;
        *(v6 + 7) = v5;
        *(v1 + 16) = 9;
        result = *(v1 + 52);
        if ( result )
            result = sub_80E78AE(result);
    }
    return result;
}


// 0x80fa9e0
void sub_80FA9E0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80faa04
int __fastcall __noreturn sub_80FAA04(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r6
    int v7; // r7
    char *v8; // r2
    int result; // r0
    int v14; // [sp-8h] [bp-38h]
    int v15; // [sp-4h] [bp-34h]
    int v16; // [sp+0h] [bp-30h]
    int v17; // [sp+4h] [bp-2Ch]
    int v18; // [sp+8h] [bp-28h]
    int v19; // [sp+10h] [bp-20h]
    int v20; // [sp+18h] [bp-18h]

    v18 = *(a1 + 19);
    v16 = a3;
    v17 = a4;
    v5 = 0;
    v6 = 0;
    v7 = 0;
    do
    {
        v8 = &byte_80FAA9C[2 * v5];
        v14 = *v8 + *(v4 + 18);
        v15 = byte_0[v8 + 1] + *(v4 + 19);
        if ( object_checkPanelParameters(v14, v15, v16, v17) )
        {
            if ( v15 == v18 )
                *(&v20 + v7++) = v14 | 16 * v15;
            else
                *(&v19 + v6++) = v14 | 16 * v15;
        }
        ++v5;
    }
    while ( v5 < 8 );
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v19 + v6) & 7;
    }
    else if ( v7 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v7) & 7;
    }
    else
    {
        result = 0;
    }
    return result;
}


// 0x80faaac
int __fastcall sub_80FAAAC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v5 = 2 * *(v4 + 22);
    v6 = byte_80FAAD0[v5];
    v7 = object_checkPanelParameters(v6, byte_80FAAD0[v5 + 1], a3, a4) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x80fab2c
int __fastcall sub_80FAB2C(char a1, int a2)
{
    int v2; // r7

    return object_spawnCollisionRegion(a1, a2, *(v2 + 2), 0);
}


// 0x80fab48
int sub_80FAB48()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // r0
    char *v3; // r6
    char v4; // r0
    int v5; // r1
    int v6; // r3
    int v7; // r4
    int v8; // r6
    int v9; // r7
    char v10; // r0
    int v11; // r4
    int v12; // r6
    int v13; // r7
    int v14; // r6
    int v15; // r7
    int v16; // r3
    int result; // r0
    int v18; // r1
    unsigned __int8 *v19; // [sp-8h] [bp-18h]
    int v20; // [sp-4h] [bp-14h]

    GetPositiveSignedRNG2();
    v3 = &byte_80FABD4[6 * (v2 & 3)];
    v4 = v3[2];
    v5 = v3[3];
    if ( v0[22] )
        v4 = 7 - v4;
    v6 = v1 + 52;
    v19 = v3;
    v20 = v1;
    v7 = *(v1 + 3) | (*(v1 + 12) << 8);
    v8 = *(v1 + 8);
    v9 = *(v1 + 48);
    sub_80D52C4(v4, v5, 16, v6);
    v10 = v19[4];
    if ( v0[22] )
        v10 = 7 - v10;
    v11 = v7 | (*(v20 + 12) << 8);
    v12 = *(v20 + 8);
    v13 = *(v20 + 48) + 4;
    sub_80D52C4(v10, v19[5], 16, v20 + 52);
    v14 = *(v20 + 8);
    v15 = *(v20 + 48) + 8;
    sub_80D50FC(v0[18], v0[19], *(v20 + 2), v16);
    result = *v19;
    v18 = v19[1];
    if ( v0[22] )
        result = 7 - result;
    return result;
}


// 0x80fabec
signed int sub_80FABEC()
{
    int v0; // r7
    signed int result; // r0
    int v2; // r1
    int v3; // r1
    int v4; // r1

    result = 1;
    v2 = **(v0 + 48);
    if ( v2 )
        *(v2 + 11) = 1;
    v3 = *(*(v0 + 48) + 4);
    if ( v3 )
        *(v3 + 11) = 1;
    v4 = *(*(v0 + 48) + 8);
    if ( v4 )
        *(v4 + 11) = 1;
    return result;
}


// 0x80fac34
int sub_80FAC34()
{
    int v0; // r5
    int v1; // r7
    int v2; // r6
    int result; // r0
    int v4; // r4
    signed int v5; // r6
    int v6; // [sp+4h] [bp-28h]

    sub_80FAC8A(*(*(v1 + 44) + 18), *(*(v1 + 44) + 19));
    v2 = *(v0 + 22);
    result = object_getPanelRegion(*(*(v1 + 44) + 18), *(*(v1 + 44) + 19), 0x10000, 0);
    v4 = result;
    if ( result )
    {
        sub_8000C72(&v6, result, result);
        v5 = 1;
        do
        {
            result = sub_80FAC8A(*(&v6 + v5) & 7, *(&v6 + v5) >> 4);
            if ( ++v5 >= v4 )
                break;
            result = *(v1 + 14);
        }
        while ( v5 < result );
    }
    return result;
}


// 0x80fac8a
int __fastcall sub_80FAC8A(char a1, int a2)
{
    int v2; // r7
    int v3; // r4
    int v4; // r6

    v3 = *(v2 + 12);
    v4 = *(v2 + 48);
    return sub_80D54F0(a1, a2, *(v2 + 2), 0);
}


// 0x80fadd0
int sub_80FADD0()
{
    int v0; // r5

    return (*(&off_80FADEC + *(*(v0 + 88) + 128)))();
}


// 0x80fadf0
void sub_80FADF0()
{
    int v0; // r5
    _BYTE *v1; // r6
    signed int v2; // r3
    char v3; // r0

    if ( v1[4] < 1 )
    {
        ++v1[4];
        sub_80FAFA0();
    }
    else
    {
        v1[4] = 0;
        v2 = 7;
        if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
            v2 = 5;
        if ( v1[5] >= v2 )
        {
            v1[5] = 0;
            sub_80FAFB4();
        }
        else
        {
            ++v1[5];
            if ( v1[6] >= 1 )
            {
                v1[6] = 0;
                sub_80FB028();
            }
            else
            {
                GetPositiveSignedRNG2();
                if ( (v3 & 0xF) < 12 )
                    ++v1[6];
                sub_80FAFF2();
            }
        }
    }
}


// 0x80fae54
void sub_80FAE54()
{
    ;
}


// 0x80fae5c
void sub_80FAE5C()
{
    ;
}


// 0x80fae60
int sub_80FAE60()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2
    int result; // r0

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11];
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    result = v0[24];
    if ( result )
    {
        sub_80E5410(result);
        result = 0;
        v0[24] = 0;
    }
    return result;
}


// 0x80faea0
int sub_80FAEA0()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FAEC0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80faec4
int sub_80FAEC4()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_80FAEE0);
    sub_800FE28(&byte_80FAEE0[4]);
    return v0;
}


// 0x80faee8
int sub_80FAEE8()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FAF08);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80faf0c
int sub_80FAF0C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FAF2C);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80faf30
int sub_80FAF30()
{
    return sub_800FE28(&dword_80FAF40);
}


// 0x80faf44
__int64 sub_80FAF44()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_80FAF70);
    HIDWORD(v0) = sub_800FE28(&byte_80FAF70[4]);
    sub_800FE28(&byte_80FAF70[8]);
    return v0;
}


// 0x80faf7c
int sub_80FAF7C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FAF9C);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fafa0
int sub_80FAFA0()
{
    int v0; // r7

    *(v0 + 40) = sub_80FB724;
    *(v0 + 24) = sub_80FAEA0();
    return (object_setAttack4)(9);
}


// 0x80fafb4
void sub_80FAFB4()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 16;
    sub_80FB062(0);
    *(v1 + 24) = sub_80FAEE8();
    *(v1 + 12) = sub_80FAEC4();
    *(v1 + 13) = v2;
    *(v1 + 48) = v0 + 96;
    *(v1 + 40) = sub_80FB76A;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80faff2
void sub_80FAFF2()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 16;
    sub_80FB062(1);
    *(v1 + 24) = sub_80FAF0C();
    *(v1 + 12) = sub_80FAF30();
    *(v1 + 40) = sub_80FB7B4;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fb028
void sub_80FB028()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 16;
    sub_80FB062(2);
    *(v1 + 24) = sub_80FAF7C();
    v2 = sub_80FAF44();
    *(v1 + 12) = v2;
    *(v1 + 13) = BYTE4(v2);
    *(v1 + 14) = v3;
    *(v1 + 40) = sub_80FB812;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fb062
int __fastcall sub_80FB062(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FB0C4[8 * a1]);
    result = sub_800FE12(&byte_80FB0E8[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fb114
int sub_80FB114()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FB128 + *v0))();
}


// 0x80fb134
int sub_80FB134()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            *(v1 + 24) = 80;
            result = 8;
            *v1 = 8;
        }
        else
        {
            v3 = &byte_80FB18C[8 * v0[22]];
            v4 = *v3;
            v5 = *(v3 + 1);
            v6 = (*(v1 + 40))();
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x80fb19c
int sub_80FB19C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80fb1e2
void sub_80FB1E2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fb206
int sub_80FB206()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FB218 + *v0))();
}


// 0x80fb230
int sub_80FB230()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FB294[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 80;
            result = 20;
            *v1 = 20;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            *(v1 + 56) = 0;
            *(v1 + 60) = 0;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x80fb2a4
int sub_80FB2A4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80fb2ea
int sub_80FB2EA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 16;
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80fb30e
int __fastcall sub_80FB30E(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    Battle *v5; // r0
    Battle **v6; // r1
    int v7; // r2
    int result; // r0

    if ( *(v4 + 1) )
    {
        result = *(v4 + 16) - 1;
        *(v4 + 16) = result;
        if ( result == *(v4 + 13) - 9 )
        {
            result = 18;
            *(v3 + 16) = 18;
        }
        else if ( result <= 0 )
        {
            result = 16;
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 17;
        PlaySoundEffect(173, a2, a3);
        object_setCounterTime(24);
        v5 = sub_80E532C();
        v6 = *(v4 + 48);
        *v6 = v5;
        *(v4 + 56) = sub_80E887C(v5, v6, v7, 2560);
        result = *(v4 + 13);
        *(v4 + 16) = result;
    }
    return result;
}


// 0x80fb366
int __fastcall sub_80FB366(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r0
    int result; // r0

    if ( *(v5 + 1) )
    {
        result = *(v5 + 16) - 1;
        *(v5 + 16) = result;
        if ( result == 12 )
        {
            PlaySoundEffect(379, a2, a3);
            sub_80FB81E();
            result = camera_initShakeEffect_80302a8(2, 30);
        }
        else if ( result <= 0 )
        {
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 20;
        *(v5 + 60) = sub_80E8770(20, a2, a3, a4);
        *(v5 + 16) = 22;
        v6 = **(v5 + 48);
        if ( v6 )
        {
            sub_80E5410(v6);
            **(v5 + 48) = 0;
        }
        result = *(v5 + 56);
        if ( result )
            result = sub_80E8894(result);
    }
    return result;
}


// 0x80fb3ca
int sub_80FB3CA()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
            result = *(v1 + 60);
            if ( result )
                result = sub_80E8788(result);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80fb3f8
int sub_80FB3F8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FB40C + *v0))();
}


// 0x80fb424
int sub_80FB424()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FB484[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 80;
            result = 20;
            *v1 = 20;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x80fb5e0
int sub_80FB5E0()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FB640[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 80;
            result = 16;
            *v1 = 16;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x80fb650
int sub_80FB650()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80fb696
int sub_80FB696()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        object_setCounterTime(18);
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80fb6c0
int __fastcall sub_80FB6C0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0

    if ( *(v5 + 1) )
    {
        v9 = *(v5 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            v11 = *(v5 + 13) - 1;
            *(v5 + 13) = v11;
            if ( v11 <= 0 )
            {
                result = 16;
                *v5 = 16;
            }
            else
            {
                result = 0;
                *(v5 + 1) = 0;
            }
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 18;
        sub_80FB874(18, a2, a3, a4);
        PlaySoundEffect(288, v6, v7);
        result = *(v5 + 14);
        *(v5 + 16) = result;
    }
    return result;
}


// 0x80fb700
void sub_80FB700()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fb724
int __fastcall sub_80FB724(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r6
    int result; // r0
    int v12; // r1
    int v13; // [sp+0h] [bp-8h]
    int v14; // [sp+4h] [bp-4h]
    int v15; // [sp+8h] [bp+0h]

    v13 = a3;
    v14 = a4;
    v6 = object_getPanelsIgnoreColumnFiltered(*(v4 + 19), a2, a3, a4);
    if ( v6 || (v6 = object_getPanelsExceptCurrentFilterred(0, v5, v13, v14)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v15 + v6) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v12 = *(v4 + 19);
    }
    return result;
}


// 0x80fb76a
int __fastcall __noreturn sub_80FB76A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int result; // r0
    int v6; // r1
    int v7; // ST00_4
    bool v8; // zf
    int v9; // [sp+0h] [bp-18h]
    int v10; // [sp+4h] [bp-14h]

    v9 = a3;
    v10 = a4;
    result = object_getClosestPanelMatchingRowFiltered(
                         *(v4 + 22),
                         *(a1 + 19),
                         *&byte_80FB7A4[8 * *(v4 + 22)],
                         *&byte_80FB7A4[8 * *(v4 + 22) + 4]);
    if ( result )
    {
        v7 = result;
        v8 = object_checkPanelParameters(result, v6, v9, v10) == 0;
        result = v7;
        if ( v8 )
            result = 0;
    }
    return result;
}


// 0x80fb7b4
int __fastcall __noreturn sub_80FB7B4(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // ST00_4
    int result; // r0
    int v9; // r0
    int v10; // r6
    int v14; // [sp+0h] [bp-30h]
    int v15; // [sp+4h] [bp-2Ch]
    int v16; // [sp+8h] [bp-28h]
    int v17; // [sp+Ch] [bp-24h]

    v16 = *(a1 + 19);
    v14 = a3;
    v15 = a4;
    v5 = 1;
    if ( *(v4 + 22) )
        v5 = 6;
    v6 = v5;
    _ZF = object_checkPanelParameters(v5, v16, a3, a4) == 0;
    result = v6;
    if ( _ZF )
    {
        v9 = 1;
        if ( *(v4 + 22) )
            v9 = 6;
        v10 = object_getPanelsInColumnIgnoreRowFiltered(v9, v16, v14, v15);
        if ( v10 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v17 + v10) & 7;
        }
        else
        {
            result = 0;
        }
    }
    return result;
}


// 0x80fb812
int __fastcall __noreturn sub_80FB812(int a1, int a2, int a3, int a4)
{
    int v4; // r5

    return object_getClosestPanelMatchingRowFiltered(*(v4 + 22), *(a1 + 19), a3, a4);
}


// 0x80fb81e
int sub_80FB81E()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x80fb874
int __fastcall sub_80FB874(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6

    v6 = *(v5 + 3);
    v7 = *(v5 + 8);
    return sub_80D5C00(*(v4 + 18), *(v4 + 19), *(v5 + 2), a4);
}


// 0x80fb9dc
int sub_80FB9DC()
{
    int v0; // r5

    return (*(&off_80FB9F8 + *(*(v0 + 88) + 128)))();
}


// 0x80fba0c
int sub_80FBA0C()
{
    _BYTE *v0; // r6
    int result; // r0

    result = *(&dword_80FBA20 + sub_800FE36());
    *v0 = result;
    return result;
}


// 0x80fba24
signed int sub_80FBA24()
{
    int v0; // r5
    int v1; // r6
    char v2; // r0
    char v3; // r0
    signed int result; // r0

    if ( *(v1 + 4) < 4 )
    {
        GetPositiveSignedRNG2();
        *(v1 + 4) += (v3 & 1) + 1;
        sub_80FBE4C();
    }
    else
    {
        *(v1 + 4) = 0;
        if ( *(v1 + 5) >= 2 )
        {
            *(v1 + 5) = 0;
            sub_80FBF24();
        }
        else
        {
            ++*(v1 + 5);
            if ( *(v1 + 6) >= 1 )
            {
                *(v1 + 6) = 0;
                sub_80FBEE8();
            }
            else
            {
                GetPositiveSignedRNG2();
                if ( (v2 & 0xF) < 12 )
                    ++*(v1 + 6);
                sub_80FBE60();
            }
        }
    }
    result = *(v0 + 38) >> 1;
    if ( result >= *(v0 + 36) )
    {
        *v1 = 8;
        *(v1 + 4) = 0;
        result = 0;
        *(v1 + 2) = 0;
    }
    return result;
}


// 0x80fba9a
signed int sub_80FBA9A()
{
    int v0; // r5
    _BYTE *v1; // r6
    char v2; // r0
    char v3; // r0
    int v4; // r0
    char v5; // r0
    signed int result; // r0

    if ( !sub_80FBDF4() )
    {
LABEL_5:
        if ( v1[5] < 3 )
        {
            GetPositiveSignedRNG2();
            v1[5] += (v5 & 1) + 1;
            sub_80FBE4C();
        }
        else
        {
            v1[5] = 0;
            if ( v1[6] >= 2 )
            {
                v1[6] = 0;
                sub_80FBF24();
            }
            else
            {
                GetPositiveSignedRNG2();
                v1[6] += (v3 & 1) + 1;
                v4 = v1[2];
                v1[2] = v4 ^ 1;
                if ( v4 )
                    sub_80FBEE8();
                else
                    sub_80FBE60();
            }
        }
        goto LABEL_13;
    }
    if ( v1[4] < 2 )
    {
        GetPositiveSignedRNG2();
        if ( (v2 & 0xF) < 14 )
            ++v1[4];
        goto LABEL_5;
    }
    v1[4] = 0;
    sub_80FBF54();
LABEL_13:
    result = *(v0 + 38) >> 1;
    if ( result < *(v0 + 36) )
    {
        *v1 = 4;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x80fbb34
signed int sub_80FBB34()
{
    int v0; // r5
    int v1; // r6
    char v2; // r0
    char v3; // r0
    signed int result; // r0

    if ( *(v1 + 4) >= 3 )
    {
        *(v1 + 4) = 0;
        if ( *(v1 + 5) >= 2 )
        {
            *(v1 + 5) = 0;
            sub_80FBF24();
        }
        else
        {
            ++*(v1 + 5);
            if ( *(v1 + 6) >= 1 )
            {
                *(v1 + 6) = 0;
                sub_80FBEE8();
            }
            else
            {
                GetPositiveSignedRNG2();
                if ( (v2 & 0xF) < 12 )
                    ++*(v1 + 6);
                sub_80FBE60();
            }
        }
    }
    else
    {
        ++*(v1 + 4);
        if ( *(v1 + 7) >= 4 )
        {
            *(v1 + 7) = 0;
            sub_80FBE9C();
        }
        else
        {
            ++*(v1 + 7);
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) < 12 )
                ++*(v1 + 7);
            sub_80FBE4C();
        }
    }
    result = *(v0 + 38) >> 1;
    if ( result >= *(v0 + 36) )
    {
        *v1 = 16;
        *(v1 + 4) = 0;
        result = 0;
        *(v1 + 2) = 0;
    }
    return result;
}


// 0x80fbbca
signed int sub_80FBBCA()
{
    int v0; // r5
    _BYTE *v1; // r6
    char v2; // r0
    char v3; // r0
    char v4; // r0
    int v5; // r0
    char v6; // r0
    signed int result; // r0

    if ( !sub_80FBDF4() )
    {
LABEL_5:
        if ( v1[5] >= 2 )
        {
            v1[5] = 0;
            if ( v1[6] >= 2 )
            {
                v1[6] = 0;
                sub_80FBF24();
            }
            else
            {
                GetPositiveSignedRNG2();
                v1[6] += (v4 & 1) + 1;
                v5 = v1[2];
                v1[2] = v5 ^ 1;
                if ( v5 )
                    sub_80FBEE8();
                else
                    sub_80FBE60();
            }
        }
        else
        {
            ++v1[5];
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) < 8 )
            {
                sub_80FBE9C();
            }
            else
            {
                GetPositiveSignedRNG2();
                v1[5] += (v6 & 1) + 1;
                sub_80FBE4C();
            }
        }
        goto LABEL_15;
    }
    if ( v1[4] < 2 )
    {
        GetPositiveSignedRNG2();
        if ( (v2 & 0xF) < 14 )
            ++v1[4];
        goto LABEL_5;
    }
    v1[4] = 0;
    sub_80FBF54();
LABEL_15:
    result = *(v0 + 38) >> 1;
    if ( result < *(v0 + 36) )
    {
        *v1 = 12;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x80fbc8a
int sub_80FBC8A()
{
    int v0; // r5
    int result; // r0

    sub_80170C4();
    result = *(v0 + 16);
    if ( result == 2 )
    {
        result = *(v0 + 100);
        if ( result )
            *(v0 + 100) = 0;
    }
    return result;
}


// 0x80fbca2
int __noreturn sub_80FBCA2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2
    int v4; // r0
    int result; // r0

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = *(v0 + 44);
    v3 = *(v0 + 84);
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    v4 = object_getFlip(v0);
    sprite_setFlip(v0, v4);
    object_removePanelReserve(*(*(v0 + 88) + 182), *(*(v0 + 88) + 183));
    result = *(v0 + 100);
    if ( result )
        *(v0 + 100) = 0;
    return result;
}


// 0x80fbcf2
int sub_80FBCF2()
{
    return sub_800FE28(&dword_80FBD00);
}


// 0x80fbd04
int sub_80FBD04()
{
    return sub_800FE28(&dword_80FBD14);
}


// 0x80fbd18
int sub_80FBD18()
{
    return sub_800FE28(&dword_80FBD28);
}


// 0x80fbd2c
int sub_80FBD2C()
{
    return sub_800FE28(&dword_80FBD3C);
}


// 0x80fbd40
int sub_80FBD40()
{
    return sub_800FE28(&dword_80FBD50);
}


// 0x80fbd54
int sub_80FBD54()
{
    return sub_800FE28(&dword_80FBD64);
}


// 0x80fbd68
int sub_80FBD68()
{
    return sub_800FE28(&dword_80FBD78);
}


// 0x80fbd7c
int sub_80FBD7C()
{
    return sub_800FE28(&dword_80FBD8C);
}


// 0x80fbd90
int sub_80FBD90()
{
    return sub_800FE28(&dword_80FBDA0);
}


// 0x80fbda4
int sub_80FBDA4()
{
    return sub_800FE28(&dword_80FBDB4);
}


// 0x80fbdb8
int sub_80FBDB8()
{
    return sub_800FE28(&dword_80FBDC8);
}


// 0x80fbdcc
int sub_80FBDCC()
{
    return sub_800FE28(&dword_80FBDDC);
}


// 0x80fbde0
int sub_80FBDE0()
{
    return sub_800FE28(&dword_80FBDF0);
}


// 0x80fbdf4
signed int sub_80FBDF4()
{
    int v0; // r5
    u32 v1; // r0
    signed int v2; // r4
    char *v3; // r1
    int v4; // r0
    int v5; // r1
    int v7; // [sp+0h] [bp-10h]
    int v8; // [sp+4h] [bp-Ch]

    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    v7 = *(v1 + 18);
    v8 = *(v1 + 19);
    v2 = 0;
    do
    {
        v3 = &byte_80FBE40[6 * *(v0 + 22) + 2 * v2];
        v4 = *v3;
        v5 = v3[1];
        if ( v4 == v7 && v5 == v8 )
            return 1;
        ++v2;
    }
    while ( v2 < 3 );
    return 0;
}


// 0x80fbe4c
int sub_80FBE4C()
{
    int v0; // r7

    *(v0 + 40) = sub_80FCCBC;
    *(v0 + 24) = sub_80FBCF2();
    return (object_setAttack4)(9);
}


// 0x80fbe60
void sub_80FBE60()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FBF92(0);
    *(v1 + 40) = byte_80FCD71;
    *(v1 + 24) = sub_80FBD04();
    *(v1 + 12) = sub_80FBD18();
    *(v1 + 48) = v0 + 100;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fbe9c
void sub_80FBE9C()
{
    int v0; // r5
    int v1; // r7

    *(v0 + 96) = 0;
    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FBF92(1);
    *(v1 + 40) = sub_80FCD92;
    *(v1 + 24) = sub_80FBD2C();
    *(v1 + 12) = sub_80FBD40();
    *(v1 + 13) = sub_80FBD54();
    *(v1 + 48) = v0 + 100;
    *(v1 + 52) = v0 + 96;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fbee8
void sub_80FBEE8()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FBF92(2);
    *(v1 + 40) = sub_80FCDBA;
    *(v1 + 24) = sub_80FBD68();
    *(v1 + 12) = sub_80FBD7C();
    *(v1 + 48) = v0 + 100;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fbf24
void sub_80FBF24()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FBF92(3);
    *(v1 + 40) = sub_80FCDDE;
    *(v1 + 24) = sub_80FBD90();
    *(v1 + 12) = sub_80FBDA4();
    *(v1 + 48) = v0 + 100;
    object_setAttack0();
}


// 0x80fbf54
void sub_80FBF54()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FBF92(4);
    *(v1 + 24) = sub_80FBDB8();
    *(v1 + 12) = sub_80FBDCC();
    *(v1 + 13) = sub_80FBDE0();
    *(v1 + 48) = v0 + 100;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80fbf92
int __fastcall sub_80FBF92(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FBFFC[8 * a1]);
    result = sub_800FE12(&byte_80FC038[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fc074
int sub_80FC074()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC088 + *v0))();
}


// 0x80fc094
void __fastcall sub_80FC094(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FC0DC[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x80fc0ec
int sub_80FC0EC()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fc118
void sub_80FC118()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x80fc152
int sub_80FC152()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC164 + *v0))();
}


// 0x80fc17c
void __fastcall sub_80FC17C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FC1CC[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fc1dc
int sub_80FC1DC()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fc208
int sub_80FC208()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fc226
int sub_80FC226()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 6, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80fc26a
void sub_80FC26A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    char v5; // r0
    char v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16) - 1;
        *(v1 + 16) = v4;
        if ( v4 == 20 )
        {
            v5 = object_getFrontDirection(v0);
            sub_80FCE40(v5 + v0->panelX, v0->panelY);
            object_getFlip(v0);
            v6 = object_getFrontDirection(v0);
            v7 = v0->panelY;
            v8 = object_getCoordinatesForPanels(v6 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0x100000);
        }
        else if ( v4 <= 0 )
        {
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 5;
        sub_80FCF90(*(v1 + 48));
        PlaySoundEffect(176, v2, v3);
        object_setCounterTime(12);
        *(v1 + 16) = 30;
    }
}


// 0x80fc2dc
void sub_80FC2DC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80FCF9C(*(v1 + 48));
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fc302
int sub_80FC302()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC314 + *v0))();
}


// 0x80fc338
void __fastcall sub_80FC338(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FC388[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fc398
int sub_80FC398()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fc3c4
int sub_80FC3C4()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fc3e2
int sub_80FC3E2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r2
    int v3; // r3
    int v4; // r1
    int v5; // r2
    int v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r3
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v1 + 1) )
    {
        if ( **(v1 + 52) )
        {
            *v1 = 16;
            result = *(v1 + 56);
            if ( result )
                result = sub_80E7AA0(result);
        }
        else
        {
            v11 = *(v1 + 16);
            v12 = __OFSUB__(v11, 1);
            result = v11 - 1;
            *(v1 + 16) = result;
            if ( ((result < 0) ^ v12) | (result == 0) )
            {
                object_clearFlag(1);
                object_exitAttackState(v0);
                result = *(v1 + 56);
                if ( result )
                    result = sub_80E7AA0(result);
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_setFlag1(1);
        *(v1 + 16) = *(v1 + 13);
        sub_80D1BF4(*(v1 + 52), *(v1 + 13), v2, v3);
        v6 = PlaySoundEffect(160, v4, v5);
        result = sub_80E7A88(v6, v7, v8, v9);
        *(v1 + 56) = result;
    }
    return result;
}


// 0x80fc444
void sub_80FC444()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r4
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        object_clearFlag(1);
        *(v1 + 60) = 0;
        v2 = sub_80FCE5C();
        if ( !v2 )
        {
            object_exitAttackState(v0);
            return;
        }
        *(v1 + 22) = v2;
        *(v1 + 23) = v3;
        if ( v2 == *(v0 + 18) && v3 == *(v0 + 19) )
        {
LABEL_10:
            *v1 = 20;
            return;
        }
        v4 = *(v0 + 18);
        v5 = *(v0 + 19);
        *(v0 + 20) = v4;
        *(v0 + 21) = v5;
        object_reservePanel(v4, v5);
        sub_80FCFA8();
        object_setFlag1(64);
        sub_80FCE7E();
        *(v1 + 60) = sub_80D4C0A((v0 + 9), 255, v6, v7);
    }
    *(v0 + 56) += *(v0 + 68);
    *(v0 + 52) += *(v0 + 64);
    v8 = *(v0 + 18);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(v0 + 18) != v8 )
        sub_80FCFA8();
    v9 = *(v1 + 16);
    v10 = __OFSUB__(v9--, 1);
    *(v1 + 16) = v9;
    if ( ((v9 < 0) ^ v10) | (v9 == 0) )
        goto LABEL_10;
}


// 0x80fc4d2
int sub_80FC4D2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 1, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        *(v1 + 18) = 0;
        result = *(v1 + 60);
        if ( result )
            result = sub_80D4C34(result);
    }
    return result;
}


// 0x80fc51c
void sub_80FC51C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    char v5; // r0
    char v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16) - 1;
        *(v1 + 16) = v4;
        if ( v4 == 20 )
        {
            v5 = object_getFrontDirection(v0);
            sub_80FCE40(v5 + v0->panelX, v0->panelY);
            object_getFlip(v0);
            v6 = object_getFrontDirection(v0);
            v7 = v0->panelY;
            v8 = object_getCoordinatesForPanels(v6 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0x100000);
        }
        else if ( v4 <= 0 )
        {
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 5;
        sub_80FCF90(*(v1 + 48));
        PlaySoundEffect(176, v2, v3);
        object_setCounterTime(12);
        *(v1 + 16) = 30;
    }
}


// 0x80fc58e
int sub_80FC58E()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 32;
            *v0 = 32;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80fc5ae
void sub_80FC5AE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        sub_80FCF9C(*(v1 + 48));
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
    }
}


// 0x80fc5fa
int sub_80FC5FA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC60C + *v0))();
}


// 0x80fc628
void __fastcall sub_80FC628(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fc684
int sub_80FC684()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fc6ac
int sub_80FC6AC()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fc6bc
int sub_80FC6BC()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 4, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80fc700
void sub_80FC700()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    char v5; // r0
    char v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16) - 1;
        *(v1 + 16) = v4;
        if ( v4 == 20 )
        {
            v5 = object_getFrontDirection(v0);
            sub_80FCE40(v5 + v0->panelX, v0->panelY);
            object_getFlip(v0);
            v6 = object_getFrontDirection(v0);
            v7 = v0->panelY;
            v8 = object_getCoordinatesForPanels(v6 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0x100000);
        }
        else if ( v4 <= 0 )
        {
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 5;
        sub_80FCF90(*(v1 + 48));
        PlaySoundEffect(176, v2, v3);
        object_setCounterTime(12);
        *(v1 + 16) = 30;
    }
}


// 0x80fc772
int sub_80FC772()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 24;
            *v0 = 24;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80fc792
void sub_80FC792()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        sub_80FCF9C(*(v1 + 48));
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
    }
}


// 0x80fc7e6
int sub_80FC7E6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC7F8 + *v0))();
}


// 0x80fc810
void __fastcall sub_80FC810(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FC85C[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fc86c
int sub_80FC86C()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fc898
int sub_80FC898()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fc8b6
int sub_80FC8B6()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(2 * v4 + *(v0 + 18), *(v0 + 19), 9, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 15;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80fc8fe
void sub_80FC8FE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    char v5; // r0
    char v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r1
    char v10; // r0
    int v11; // r1
    int v12; // r0
    int v13; // r1

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16) - 1;
        *(v1 + 16) = v4;
        if ( v4 == 20 )
        {
            v5 = object_getFrontDirection(v0);
            sub_80FCE40(2 * v5 + v0->panelX, v0->panelY);
            object_getFlip(v0);
            v6 = object_getFrontDirection(v0);
            v7 = v0->panelY;
            v8 = object_getCoordinatesForPanels(2 * v6 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v8, v8, v9, 0);
        }
        else if ( v4 == 15 )
        {
            object_getFlip(v0);
            v10 = object_getFrontDirection(v0);
            v11 = v0->panelY;
            v12 = object_getCoordinatesForPanels(v10 + v0->panelX);
            SpawnT4BattleObjectWithId0(v0, v12, v12, v13, 0);
        }
        else if ( v4 <= 0 )
        {
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 5;
        sub_80FCF90(*(v1 + 48));
        PlaySoundEffect(176, v2, v3);
        object_setCounterTime(12);
        *(v1 + 16) = 30;
    }
}


// 0x80fc9a2
void sub_80FC9A2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            sub_80FCF9C(*(v1 + 48));
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fc9c8
int sub_80FC9C8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FC9DC + *v0))();
}


// 0x80fc9f8
void sub_80FC9F8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r1
    int v5; // r1
    int v6; // r2
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r0
    char v10; // r1

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7--, 1);
        *(v1 + 16) = v7;
        if ( ((v7 < 0) ^ v8) | (v7 == 0) )
        {
            v9 = sub_80FCF04();
            if ( v9 )
            {
                *(v1 + 22) = v9;
                *(v1 + 23) = v10;
                *v1 = 4;
            }
            else
            {
                object_exitAttackState(v0);
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_getFlip(v0);
        v2 = v0->panelY;
        v3 = object_getCoordinatesForPanels(v0->panelX);
        SpawnT4BattleObjectWithId0(v0, v3, v3, v4, 0x100000);
        PlaySoundEffect(119, v5, v6);
        *(v1 + 16) = 20;
    }
}


// 0x80fca4e
int sub_80FCA4E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r1
    int v8; // r0
    int v9; // r0
    int v10; // r2

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            object_highlightPanelRegion(*(v1 + 22), *(v1 + 23), 18, *(v0 + 22));
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            v6 = *(v0 + 18);
            v7 = *(v0 + 19);
            *(v0 + 20) = v6;
            *(v0 + 21) = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v8 = object_setFlag1(0x400000);
            object_updateCollisionData(v8, 83, 2, 1);
            v9 = *(v1 + 8);
            v10 = *(v0 + 84);
            *(v10 + 46) = v9;
            *(v10 + 7) = BYTE2(v9);
            *(v1 + 14) = 0;
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80fcac0
signed int sub_80FCAC0()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r0
    char *v4; // r0
    int v5; // [sp-8h] [bp-Ch]
    int v6; // [sp-4h] [bp-8h]

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 3 )
        {
            v0->currAnimation = 3;
            v3 = *(&dword_80FCB5C + *(v1 + 14)) ^ v0->Alliance;
            *(v1 + 15) = v3;
            sprite_setFlip(v0, v3);
            v4 = &byte_80FCB48[8 * v0->Alliance + 2 * *(v1 + 14)];
            v5 = *(v1 + 22) + *v4;
            v6 = *(v1 + 23) + v4[1];
            if ( object_getPanelParameters(v5, v6) & 0x800000 )
            {
                result = 20;
                *v1 = 20;
            }
            else
            {
                v0->panelX = v5;
                v0->panelY = v6;
                object_setCoordinatesFromPanels(v0);
                result = object_updateCollisionPanels(v0);
            }
        }
        else if ( result <= 0 )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 4;
        sub_80FCF9C(*(v1 + 48));
        result = 6;
        *(v1 + 16) = 6;
    }
    return result;
}


// 0x80fcb64
int sub_80FCB64()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r2
    int v5; // r3
    int v6; // r4
    int v7; // r0
    unsigned __int8 v8; // vf
    int result; // r0
    int v10; // r0
    int v11; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        sub_80FCFD2();
        sub_80FCF90(*(v1 + 48));
        PlaySoundEffect(176, v2, v3);
        sub_80FCF36();
        *(v1 + 52) = sub_80D4C0A((v0 + 9), 255, v4, v5);
        if ( !*(v1 + 14) )
            object_setCounterTime(6);
    }
    v6 = *(v0 + 18);
    *(v0 + 56) += *(v0 + 68);
    *(v0 + 52) += *(v0 + 64);
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    if ( *(*(v0 + 84) + 112) )
        object_clearCollisionRegion();
    if ( *(v0 + 18) != v6 )
    {
        object_setCollisionRegion(1);
        sub_80FCFD2();
    }
    v7 = *(v1 + 16);
    v8 = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v8) | (result == 0) )
    {
        v10 = *(v1 + 52);
        if ( v10 )
            sub_80D4C34(v10);
        v11 = *(v1 + 14) + 1;
        *(v1 + 14) = v11;
        if ( v11 >= *(v1 + 13) )
        {
            result = 16;
            *v1 = 16;
        }
        else
        {
            result = 8;
            *v1 = 8;
        }
    }
    return result;
}


// 0x80fcc02
int sub_80FCC02()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 20;
            *v0 = 20;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80fcc22
int sub_80FCC22()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        sub_80FCF9C(*(v1 + 48));
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x80fcc4c
void sub_80FCC4C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r2
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 3;
        v2 = object_getFlip(v0);
        v3 = sprite_setFlip(v0, v2);
        object_updateCollisionData(v3, 1, 2, 3);
        v4 = *(v0 + 44);
        v5 = *(v0 + 84);
        *(v5 + 46) = v4;
        *(v5 + 7) = v4;
        v6 = *(v0 + 20);
        v7 = *(v0 + 21);
        *(v0 + 18) = v6;
        *(v0 + 19) = v7;
        object_removePanelReserve(v6, v7);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_clearFlag(0x400000);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
    }
}


// 0x80fccbc
int __fastcall sub_80FCCBC(int a1, int a2, int a3, int a4)
{
    unsigned __int8 *v4; // r5
    char v5; // r0
    signed int v6; // r4
    int v7; // r6
    char *v8; // r1
    int v9; // r6
    int v15; // [sp-8h] [bp-3Ch]
    int v16; // [sp-4h] [bp-38h]
    signed int v17; // [sp+0h] [bp-34h]
    int v18; // [sp+4h] [bp-30h]
    int v19; // [sp+8h] [bp-2Ch]
    int v20; // [sp+Ch] [bp-28h]

    v18 = a3;
    v19 = a4;
    v17 = 0;
    GetPositiveSignedRNG2();
    if ( (v5 & 0xF) >= 12 )
        goto LABEL_8;
    v6 = 0;
    v7 = 0;
    do
    {
        do
        {
            v8 = &byte_80FCD64[2 * v6];
            v15 = *v8 + v4[18];
            v16 = v8[1] + v4[19];
            if ( object_checkPanelParameters(v15, v16, v18, v19) )
                *(&v20 + v7++) = v15 | 16 * v16;
            ++v6;
        }
        while ( v6 < 6 );
        if ( v7 )
            goto LABEL_15;
        if ( ++v17 >= 2 )
            return 0;
LABEL_8:
        v6 = 16;
        v9 = v4[22];
        v7 = object_getPanelRegion(v4[18], v4[19], v18, v19);
        if ( v7 )
        {
LABEL_15:
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            return *(&v20 + v7) & 7;
        }
        ++v17;
    }
    while ( v17 < 2 );
    return 0;
}


// 0x80fcd92
int __fastcall __noreturn sub_80FCD92(int a1, int a2, int a3, int a4)
{
    int result; // r0
    int v5; // r6
    int v10; // [sp+0h] [bp+0h]

    result = object_getPanelsInRowFiltered(*(a1 + 19), a2, a3, a4);
    v5 = result;
    if ( result )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v10 + v5) & 7;
    }
    return result;
}


// 0x80fcdba
int __fastcall __noreturn sub_80FCDBA(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // r0
    int v9; // r2
    int v10; // ST00_4
    bool v11; // zf
    int result; // r0

    v5 = a1;
    v6 = a3;
    v7 = a4;
    v8 = object_getFrontDirection(v4);
    v9 = v6;
    v10 = *(v5 + 18) - v8;
    v11 = object_checkPanelParameters(v10, *(v5 + 19), v9, v7) == 0;
    result = v10;
    if ( v11 )
        result = 0;
    return result;
}


// 0x80fcdde
int __fastcall __noreturn sub_80FCDDE(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // r6
    int result; // r0
    int v8; // r1
    int v9; // r0
    bool v10; // zf
    int v11; // [sp-8h] [bp-14h]
    int v12; // [sp-4h] [bp-10h]

    v5 = a3;
    v6 = a4;
    result = object_getClosestPanelMatchingRowFiltered(
                         v4->Alliance,
                         2,
                         *&byte_80FCE30[8 * v4->Alliance],
                         *&byte_80FCE30[8 * v4->Alliance + 4]);
    if ( result )
    {
        v11 = result;
        v12 = v8;
        if ( !object_checkPanelParameters(result, v8, v5, v6)
            || (v9 = object_getFrontDirection(v4), v10 = object_isValidPanel(v11 + 2 * v9, v12) == 0, result = v11, v10) )
        {
            result = 0;
        }
    }
    return result;
}


// 0x80fce40
int __fastcall sub_80FCE40(char a1, int a2)
{
    int v2; // r7
    int v3; // r6

    v3 = *(v2 + 8);
    return object_spawnCollisionRegion(a1, a2, *(v2 + 2), 0);
}


// 0x80fce5c
int sub_80FCE5C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    int v4; // ST00_4
    bool v5; // zf
    int result; // r0

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 44);
    v4 = *(v3 + 18) - v2;
    v5 = object_isValidPanel(v4, *(v3 + 19)) == 0;
    result = v4;
    if ( v5 )
        result = 0;
    return result;
}


// 0x80fce7e
int sub_80FCE7E()
{
    int v0; // r5
    int v1; // r7
    signed int v2; // r2
    signed int v7; // r2
    int v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r1
    int result; // r0
    signed int v13; // r2
    int v14; // r1
    int v15; // r0

    if ( *(v0 + 18) == *(v1 + 22) )
    {
        *(v0 + 64) = 0;
        v13 = 1;
        if ( *(v0 + 19) >= *(v1 + 23) )
            v13 = -1;
        *(v0 + 68) = 589824 * v13;
        v14 = *(v1 + 23);
        v15 = *(v0 + 19) - v14;
        if ( v15 < 0 )
            v15 = v14 - *(v0 + 19);
        result = 1572864 * v15;
        __asm { SVC         6 }
        *(v1 + 16) = result;
    }
    else
    {
        v2 = 1;
        if ( *(v0 + 18) >= *(v1 + 22) )
            v2 = -1;
        *(v0 + 64) = 589824 * v2;
        *(v0 + 18);
        *(v1 + 22);
        __asm { SVC         6 }
        *(v1 + 16) = 0;
        v7 = 1;
        v8 = *(v0 + 19);
        v9 = *(v1 + 23);
        if ( v8 >= v9 )
            v7 = -1;
        v10 = v8 - v9;
        if ( v10 < 0 )
            v10 = -v10;
        v11 = *(v1 + 16);
        __asm { SVC         6 }
        result = 1572864 * v10 * v7;
        *(v0 + 68) = result;
    }
    return result;
}


// 0x80fcf04
int sub_80FCF04()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int result; // r0
    int v4; // r4

    v2 = *(v1 + 44);
    result = *(v2 + 18);
    if ( *(v2 + 19) != 2 )
        return 0;
    v4 = 0;
    while ( result != byte_80FCF30[3 * *(v0 + 22) + v4] )
    {
        if ( ++v4 >= 3 )
            return 0;
    }
    return result;
}


// 0x80fcf36
int sub_80FCF36()
{
    int v0; // r5
    int v1; // r7
    char *v2; // r0
    int v3; // r3
    int result; // r0

    v2 = &byte_80FCF6C[8 * *(v0 + 22) + 2 * *(v1 + 14)];
    v3 = v2[1];
    *(v0 + 64) = 819200 * *v2;
    *(v0 + 68) = 491520 * v3;
    result = *&byte_80FCF80[4 * *(v1 + 14)];
    *(v1 + 16) = result;
    return result;
}


// 0x80fcf90
int __fastcall sub_80FCF90(int a1)
{
    return sub_80B8E30(a1);
}


// 0x80fcf9c
_DWORD *__fastcall sub_80FCF9C(_DWORD *result)
{
    if ( result )
        *result = 0;
    return result;
}


// 0x80fcfa8
int sub_80FCFA8()
{
    Battle *v0; // r5
    int v1; // r4

    v1 = (((((object_getFlip(v0) << 8) + v0->currAnimation) << 8) + 11) << 8) + 8;
    return sub_80E33FA(&v0->vx, v0->x, v0->y, v0->z);
}


// 0x80fcfd2
int sub_80FCFD2()
{
    int *v0; // r5
    int v1; // r7
    int v2; // r4

    v2 = (((*(v1 + 15) << 16) + 11) << 8) + 8;
    return sub_80E33FA((v0 + 16), v0[13], v0[14], v0[15]);
}


// 0x80fd138
int sub_80FD138()
{
    int v0; // r5

    return (*(&off_80FD154 + *(*(v0 + 88) + 128)))();
}


// 0x80fd158
void sub_80FD158()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    char v3; // r0
    char v4; // r1

    if ( *(v1 + 4) < 3 )
    {
        ++*(v1 + 4);
        *(v2 + 3) = sub_800FE36();
        *(v2 + 40) = sub_80FDA62;
        *(v2 + 24) = sub_80FD27A();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        (object_setAttack4)(9);
    }
    else
    {
        *(v1 + 4) = 0;
        if ( !sub_80FD31C() )
        {
            if ( *(v1 + 5) < 2 )
            {
                ++*(v1 + 5);
                *(v2 + 3) = sub_800FE36();
                *(v2 + 2) = 1;
                *(v2 + 40) = sub_80FDAC4;
                *(v2 + 24) = sub_80FD29C();
                sub_80FD3CC(0);
                *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
                object_setAttack0();
                return;
            }
            *(v1 + 5) = 0;
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) >= 8 )
            {
                *(v2 + 3) = sub_800FE36();
                *(v2 + 2) = 1;
                *(v2 + 40) = sub_80FDBCC;
                *(v2 + 24) = sub_80FD2F8();
                *(v2 + 12) = sub_80FD376();
                *(v2 + 13) = v4;
                sub_80FD3CC(2);
                object_setAttack0();
                return;
            }
        }
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 1;
        *(v2 + 40) = sub_80FDB84;
        *(v2 + 24) = sub_80FD2C0();
        *(v2 + 12) = sub_80FD2E4();
        sub_80FD3CC(1);
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        object_setAttack0();
    }
}


// 0x80fd240
void sub_80FD240()
{
    ;
}


// 0x80fd27a
int sub_80FD27A()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FD298);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fd29c
int sub_80FD29C()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FD2BC);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fd2c0
int sub_80FD2C0()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FD2E0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fd2e4
int sub_80FD2E4()
{
    return sub_800FE28(&dword_80FD2F4);
}


// 0x80fd2f8
int sub_80FD2F8()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FD318);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fd31c
signed int sub_80FD31C()
{
    int v0; // r5
    int v1; // r10
    u32 v2; // r0
    int v3; // r6
    signed int v4; // r4
    int v5; // r3
    int v6; // ST00_4
    int v8; // [sp+0h] [bp-14h]
    int v9; // [sp+4h] [bp-10h]

    v2 = battle_findPlayer(*(v0 + 22) ^ 1);
    v8 = *(v2 + 18);
    v9 = *(v2 + 19);
    v3 = *(v1 + oToolkit_S2034880_Ptr) + 160;
    v4 = 0;
    do
    {
        v5 = *(v3 + v4);
        if ( v5 )
        {
            if ( *(v5 + 40) == 210 && *(v5 + 19) == v9 )
            {
                v6 = v8 - *(v5 + 18);
                if ( v6 * object_getEnemyDirection() == 1 )
                    return 1;
            }
        }
        v4 += 4;
    }
    while ( v4 <= 28 );
    return 0;
}


// 0x80fd376
int sub_80FD376()
{
    int v0; // r5
    int v1; // r4
    char v2; // r0

    v1 = 0;
    if ( sub_800FE36() )
    {
        GetPositiveSignedRNG2();
        v1 = byte_80FD3A4[16 * *(v0 + 22) + (v2 & 0xF)];
    }
    sub_800FE28(&dword_80FD3C8);
    return v1;
}


// 0x80fd3cc
int __fastcall sub_80FD3CC(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FD408[8 * a1]);
    result = sub_800FE12(&byte_80FD42C[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fd444
int __fastcall sub_80FD444(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80FD478[8 * a1]);
    return (sub_800FE12(&byte_80FD49C[8 * v1]) << 16) | v2;
}


// 0x80fd4c8
int sub_80FD4C8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FD4DC + *v0))();
}


// 0x80fd4e8
signed int __fastcall sub_80FD4E8(int a1)
{
    _BYTE *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1
    signed int result; // r0

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FD538[8 * v1[22]], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 24) = 80;
        *(v2 + 16) = 1;
        result = 8;
        *v2 = 8;
    }
    else
    {
        v1[20] = v7;
        v1[21] = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1[16] = 4;
        *(v2 + 16) = 3;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x80fd548
int sub_80FD548()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 4;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fd574
void sub_80FD574()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x80fd5ae
int sub_80FD5AE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FD5C0 + *v0))();
}


// 0x80fd5d8
void __fastcall sub_80FD5D8(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FD628[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fd638
int sub_80FD638()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 4;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fd664
int sub_80FD664()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fd682
int sub_80FD682()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80fd6a6
int sub_80FD6A6()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r4
    char v6; // r0
    int v7; // r6
    int v8; // r3

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            v5 = *(v1 + 3) | (*(&dword_80FD6F0 + *(v1 + 3)) << 8);
            v6 = object_getFrontDirection(v0);
            v7 = *(v1 + 8);
            sub_80C81A6(v6 + v0->panelX, v0->panelY, *(v1 + 2), v8);
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 5;
        object_setCounterTime(18);
        result = 24;
        *(v1 + 16) = 24;
    }
    return result;
}


// 0x80fd6f4
void sub_80FD6F4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fd718
int sub_80FD718()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FD72C + *v0))();
}


// 0x80fd748
void __fastcall sub_80FD748(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FD798[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fd7a8
int sub_80FD7A8()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 4;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fd7d4
int sub_80FD7D4()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fd7f2
int sub_80FD7F2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        if ( !__CFSHR__(*(v1 + 16), 3) )
            sub_80FDCA4(*(v1 + 12));
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 0;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80fd822
int sub_80FD822()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        if ( !__CFSHR__(*(v1 + 16), 3) )
            sub_80FDCA4(*(v1 + 12));
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80fd852
int sub_80FD852()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r4
    int v3; // r6
    int v4; // r3
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_setCounterTime(24);
        v0[16] = 9;
        v2 = *(v1 + 3) | (*(&dword_80FD8AC + *(v1 + 3)) << 8) | (*(v1 + 12) << 16);
        v3 = *(v1 + 8);
        sub_80C82A8(v0[18], v0[19], *(v1 + 2), v4);
        PlaySoundEffect(382, v5, v6);
        result = *(&dword_80FD8AC + *(v1 + 3));
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80fd8b0
void sub_80FD8B0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fd8d4
int sub_80FD8D4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FD8E8 + *v0))();
}


// 0x80fd904
void __fastcall sub_80FD904(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_80FD950[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))()) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x80fd960
int sub_80FD960()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 4;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fd98c
int sub_80FD98C()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fd9aa
int sub_80FD9AA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 0;
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x80fd9ce
int __fastcall sub_80FD9CE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int result; // r0

    if ( *(v5 + 1) )
    {
        result = *(v5 + 16) - 1;
        *(v5 + 16) = result;
        if ( result == *(v5 + 13) )
        {
            result = 12;
            *(v4 + 16) = 12;
        }
        else if ( result <= 0 )
        {
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 10;
        v6 = *(v5 + 12);
        sub_80E2244(10, a2, a3, a4);
        object_setCounterTime(18);
        result = *(v5 + 13) + 9;
        *(v5 + 16) = result;
    }
    return result;
}


// 0x80fda0e
int sub_80FDA0E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int v5; // r1
    int v6; // r2

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            sub_80FDC2A();
            PlaySoundEffect(383, v5, v6);
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 11;
        result = 9;
        *(v1 + 16) = 9;
    }
    return result;
}


// 0x80fda3e
void sub_80FDA3E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fda62
__int64 __fastcall __noreturn sub_80FDA62(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r1
    int v6; // r1
    int v7; // r6
    __int64 v8; // r0
    unsigned int v13; // r0
    __int64 v14; // ST00_8
    int v16; // [sp+0h] [bp-30h]
    int v17; // [sp+4h] [bp-2Ch]
    int v18; // [sp+8h] [bp-28h]
    int v19; // [sp+Ch] [bp-24h]

    v16 = a1;
    v17 = a3;
    v18 = a4;
    object_reservePanel(*(v4 + 18), *(v4 + 19));
    v7 = object_getPanelsIgnoreColumnFiltered(*(v16 + 19), v5, v17, v18);
    if ( v7 || (v7 = object_getPanelsInRowFiltered(*(v16 + 19), v6, v17, v18)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v13 = *(&v19 + v7);
        HIDWORD(v8) = v13 >> 4;
        LODWORD(v8) = v8 & 7;
    }
    else
    {
        LODWORD(v8) = 0;
    }
    v14 = v8;
    object_removePanelReserve(*(v4 + 18), *(v4 + 19));
    return v14;
}


// 0x80fdac4
__int64 __fastcall __noreturn sub_80FDAC4(int a1, int a2, int a3, int a4)
{
    unsigned __int8 *v4; // r5
    signed int v5; // r4
    int v6; // r6
    __int64 v7; // r0
    int v8; // r4
    signed int v9; // r4
    char *v10; // r1
    unsigned int v15; // r0
    __int64 v16; // ST00_8
    int v18; // [sp-8h] [bp-3Ch]
    int v19; // [sp-4h] [bp-38h]
    int v20; // [sp+0h] [bp-34h]
    int v21; // [sp+4h] [bp-30h]
    int v22; // [sp+8h] [bp-2Ch]
    int v23; // [sp+Ch] [bp-28h]

    v20 = a1;
    v21 = a3;
    v22 = a4;
    object_reservePanel(v4[18], v4[19]);
    v5 = 0;
    v6 = 0;
    do
    {
        v18 = byte_80FDB80[2 * v4[22] + v5];
        v19 = *(v20 + 19);
        if ( object_checkPanelParameters(v18, v19, v21, v22) )
            *(&v23 + v6++) = v18 | 16 * v19;
        ++v5;
    }
    while ( v5 < 2 );
    if ( v6 )
    {
LABEL_13:
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v15 = *(&v23 + v6);
        HIDWORD(v7) = v15 >> 4;
        LODWORD(v7) = v7 & 7;
        goto LABEL_15;
    }
    LODWORD(v7) = v4[18];
    HIDWORD(v7) = v4[19];
    if ( HIDWORD(v7) != *(v20 + 19) )
    {
LABEL_10:
        v9 = 0;
        v6 = 0;
        do
        {
            v10 = &byte_80FDB80[2 * v4[22]];
            v6 += object_getPanelsInColumnFiltered(v10[v9++], v10, v21, v22);
        }
        while ( v9 < 2 );
        if ( !v6 )
        {
            LODWORD(v7) = v4[18];
            HIDWORD(v7) = v4[19];
            goto LABEL_15;
        }
        goto LABEL_13;
    }
    v8 = 0;
    while ( v7 != byte_80FDB80[2 * v4[22] + v8] )
    {
        if ( ++v8 >= 2 )
            goto LABEL_10;
    }
LABEL_15:
    v16 = v7;
    object_removePanelReserve(v4[18], v4[19]);
    return v16;
}


// 0x80fdb84
int __fastcall sub_80FDB84(int a1, int a2, int a3, int a4)
{
    unsigned __int8 *v4; // r5
    int result; // r0
    int v6; // r1
    int v7; // r7
    int v8; // r1
    int v13; // [sp+4h] [bp-28h]
    int v14; // [sp+8h] [bp-24h]
    int v15; // [sp+Ch] [bp-20h]

    v13 = a3;
    v14 = a4;
    result = object_getClosestPanelMatchingRowFiltered(v4[22], *(a1 + 19), a3, a4);
    if ( !result )
    {
        v7 = object_getPanelsExceptCurrentFilterred(0, v6, v13, v14);
        if ( v7 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v15 + v7) & 7;
        }
        else
        {
            result = v4[18];
            v8 = v4[19];
        }
    }
    return result;
}


// 0x80fdbcc
__int64 __fastcall __noreturn sub_80FDBCC(int a1, int a2, int a3, int a4)
{
    unsigned __int8 *v4; // r5
    int v5; // r4
    int v6; // r6
    __int64 v7; // r0
    unsigned int v12; // r0
    __int64 v13; // ST00_8
    int v15; // [sp+0h] [bp-30h]
    int v16; // [sp+4h] [bp-2Ch]
    int v17; // [sp+8h] [bp-28h]

    v15 = a3;
    v16 = a4;
    object_reservePanel(v4[18], v4[19]);
    v5 = 1;
    if ( v4[22] )
        v5 = 6;
    v6 = object_getPanelsInColumnFiltered(v5, v4[22], v15, v16);
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v12 = *(&v17 + v6);
        HIDWORD(v7) = v12 >> 4;
        LODWORD(v7) = v7 & 7;
    }
    else
    {
        LODWORD(v7) = v4[18];
        HIDWORD(v7) = v4[19];
        if ( v7 != v5 )
            LODWORD(v7) = 0;
    }
    v13 = v7;
    object_removePanelReserve(v4[18], v4[19]);
    return v13;
}


// 0x80fdc2a
int sub_80FDC2A()
{
    int v0; // r7
    int v1; // r6
    char v2; // r0
    int v3; // r1
    int v4; // r3
    int v5; // r4
    int v6; // ST00_4
    int v7; // r6
    int result; // r0
    int v9; // r1
    char v10; // r0
    int v11; // r3
    int v12; // r4
    int v13; // ST00_4
    int v14; // r6

    v1 = 1;
    if ( *(v0 + 12) >= 2 )
    {
        do
        {
            v9 = 4;
            if ( *(v0 + 12) != 2 )
                v9 = 0;
            v10 = v1;
            v11 = *(v0 + 12) << 8;
            v12 = *(v0 + 3) | v11;
            v13 = v1;
            v14 = *(v0 + 8);
            result = sub_80C8514(v10, v9, *(v0 + 2), v11);
            v1 = v13 + 1;
        }
        while ( v13 + 1 <= 6 );
    }
    else
    {
        do
        {
            v2 = 7;
            if ( *(v0 + 12) )
                v2 = 0;
            v3 = v1;
            v4 = *(v0 + 12) << 8;
            v5 = *(v0 + 3) | v4;
            v6 = v1;
            v7 = *(v0 + 8);
            result = sub_80C8514(v2, v3, *(v0 + 2), v4);
            v1 = v6 + 1;
        }
        while ( v6 + 1 <= 3 );
    }
    return result;
}


// 0x80fdca4
char *__fastcall sub_80FDCA4(signed int a1)
{
    Battle *v1; // r5
    signed int v2; // r4
    signed int v3; // r6
    __int64 v4; // r0
    char *result; // r0

    v2 = 1;
    v3 = a1;
    do
    {
        LODWORD(v4) = object_getFrontDirection(v1) * v2 + v1->panelX;
        HIDWORD(v4) = v1->panelY;
        result = object_highlightPanel(v4);
        ++v2;
    }
    while ( v2 <= v3 );
    return result;
}


// 0x80fdde4
int sub_80FDDE4()
{
    int v0; // r5

    return (*(&off_80FDE00 + *(*(v0 + 88) + 128)))();
}


// 0x80fde04
void sub_80FDE04()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    char v3; // r0

    if ( *(v1 + 4) < 2 )
    {
        ++*(v1 + 4);
        *(v2 + 3) = sub_800FE36();
        *(v2 + 40) = sub_80FE4D0;
        *(v2 + 24) = sub_80FDF4C();
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        *(v2 + 48) = *(v0 + 100);
        (object_setAttack4)(9);
    }
    else
    {
        *(v1 + 4) = 0;
        if ( *(v1 + 5) >= 3 )
        {
            *(v1 + 5) = 0;
            *(v2 + 3) = sub_800FE36();
            *(v2 + 2) = 2;
            *(v2 + 24) = sub_80FDFAC();
            *(v2 + 12) = sub_80FDFD0();
            sub_80FDFE4(1);
            object_setAttack0();
        }
        else
        {
            ++*(v1 + 5);
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) < 6 )
            {
                *(v2 + 3) = sub_800FE36();
                *(v2 + 2) = 1;
                sub_80FDFE4(0);
                *(v2 + 24) = sub_80FDF60();
                *(v2 + 12) = sub_80FDF84();
                *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
            }
            else
            {
                *(v2 + 3) = sub_800FE36();
                *(v2 + 24) = sub_80FDF98();
            }
            object_setAttack0();
        }
    }
}


// 0x80fdec4
int sub_80FDEC4()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r3
    int result; // r0

    sub_800FE36();
    sub_80FE05C(2);
    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    sub_80CAC58(v1, v2, 2, v3);
    *(v0 + 100) = 0;
    result = *(v0 + 18) | 16 * *(v0 + 19);
    *(v0 + 104) = result;
    return result;
}


// 0x80fdefc
int sub_80FDEFC()
{
    int v0; // r5
    int v1; // r1
    int result; // r0

    if ( sub_801032C() & 0x20 )
        object_setFlag1(4);
    v1 = *(v0 + 104) >> 4;
    result = *(v0 + 104) & 7;
    if ( result != *(v0 + 18) || v1 != *(v0 + 19) )
    {
        *(v0 + 100) = result | 16 * v1;
        result = *(v0 + 18) | 16 * *(v0 + 19);
        *(v0 + 104) = result;
    }
    return result;
}


// 0x80fdf38
int sub_80FDF38()
{
    object_clearFlag(4);
    return ClearAIDataUnk0x48Flag(32);
}


// 0x80fdf4c
int sub_80FDF4C()
{
    return sub_800FE28(&dword_80FDF5C);
}


// 0x80fdf60
int sub_80FDF60()
{
    int v0; // r4

    v0 = sub_800FE28(&off_80FDF80);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fdf84
int sub_80FDF84()
{
    return sub_800FE28(&dword_80FDF94);
}


// 0x80fdf98
int sub_80FDF98()
{
    return sub_800FE28(&dword_80FDFA8);
}


// 0x80fdfac
int sub_80FDFAC()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FDFCC);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80fdfd0
int sub_80FDFD0()
{
    return sub_800FE28(&dword_80FDFE0);
}


// 0x80fdfe4
int __fastcall sub_80FDFE4(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FE020[8 * a1]);
    result = sub_800FE12(&byte_80FE044[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fe05c
int __fastcall sub_80FE05C(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80FE090[8 * a1]);
    return (sub_800FE12(&byte_80FE0B4[8 * v1]) << 16) | v2;
}


// 0x80fe0d4
int sub_80FE0D4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FE0E8 + *v0))();
}


// 0x80fe0f8
int sub_80FE0F8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        if ( !(sub_801032C() & 0x20) )
        {
            SetAIDataUnk0x48Flag(32);
            *(v0 + 16) = 8;
            result = 14;
            *(v1 + 16) = 14;
            return result;
        }
        goto LABEL_6;
    }
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
LABEL_6:
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80fe130
signed int sub_80FE130()
{
    int v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r1
    __int16 v10; // r2
    signed int result; // r0

    *(v0 + 16) = 3;
    object_canMove(3);
    if ( v2
        || (v3 = &byte_80FE190[8 * *(v0 + 22)],
                v4 = *v3,
                v5 = *(v3 + 1),
                v6 = *(v1 + 48),
                (v7 = (*(v1 + 40))(*(v1 + 44))) == 0) )
    {
        result = 12;
        *v1 = 12;
    }
    else
    {
        *(v0 + 20) = v7;
        *(v0 + 21) = v8;
        object_reservePanel(v7, v8);
        *(v0 + 64) = sub_80FE5C0(*(v0 + 20), *(v0 + 21), *&byte_80FE1A4[4 * *(v1 + 3)]);
        *(v0 + 68) = v9;
        *(v1 + 16) = v10;
        sub_80FE1B4();
        object_setFlag1(64);
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x80fe1b4
int sub_80FE1B4()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    object_setPanelsFromCoordinates(v0);
    object_updateCollisionPanels(v0);
    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80fe1fe
int sub_80FE1FE()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80fe21e
int sub_80FE21E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FE230 + *v0))();
}


// 0x80fe240
int sub_80FE240()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v1 + 22) = 0;
        *(v1 + 23) = 0;
        if ( sub_801032C() & 0x20 )
        {
            ClearAIDataUnk0x48Flag(32);
            *(v0 + 16) = 7;
            PlaySoundEffect(225, v2, v3);
            result = 19;
            *(v1 + 16) = 19;
            return result;
        }
        goto LABEL_6;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
LABEL_6:
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80fe284
int sub_80FE284()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 0;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x80fe2a8
int sub_80FE2A8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    char v4; // r0
    int v5; // r1
    int v6; // r4
    int v7; // r6
    int v8; // r3
    int v9; // r1
    int v10; // r2

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 16 )
        {
            v4 = sub_80FE5EE(*(v1 + 22), *(v1 + 23), *(v1 + 44));
            *(v1 + 22) = v4;
            *(v1 + 23) = v5;
            v6 = *(v1 + 3);
            v7 = *(v1 + 8);
            sub_80CB080(v4, v5, *(v1 + 2), v8);
            result = PlaySoundEffect(174, v9, v10);
        }
        else if ( result <= 0 )
        {
            v3 = *(v1 + 12) - 1;
            *(v1 + 12) = v3;
            if ( v3 )
            {
                result = 0;
                *(v1 + 1) = 0;
            }
            else
            {
                result = 12;
                *v1 = 12;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 6;
        *(v0 + 17) = -1;
        object_setCounterTime(18);
        result = 26;
        *(v1 + 16) = 26;
    }
    return result;
}


// 0x80fe30c
void sub_80FE30C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fe330
int sub_80FE330()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FE344 + *v0))();
}


// 0x80fe354
int sub_80FE354()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        if ( sub_801032C() & 0x20 )
        {
            ClearAIDataUnk0x48Flag(32);
            *(v0 + 16) = 7;
            PlaySoundEffect(225, v2, v3);
            result = 34;
            *(v1 + 16) = 34;
            return result;
        }
        goto LABEL_6;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
LABEL_6:
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80fe394
int sub_80FE394()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) - 1;
        *(v1 + 18) = v3;
        if ( v3 <= 0 )
        {
            camera_initShakeEffect_80302a8(0, 10);
            *(v1 + 18) = 10;
        }
        v4 = *(v1 + 13) + 1;
        *(v1 + 13) = v4;
        if ( !__CFSHR__(v4, 3) )
            sub_80FE72C();
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 4;
        *(v1 + 16) = *(v1 + 12);
        *(v1 + 13) = 0;
        camera_initShakeEffect_80302a8(0, 10);
        result = 10;
        *(v1 + 18) = 10;
    }
    return result;
}


// 0x80fe3ec
int sub_80FE3EC()
{
    int v0; // r7
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_80FE6C8();
    }
    result = *(v0 + 16) - 1;
    *(v0 + 16) = result;
    if ( result == 10 )
        return camera_initShakeEffect_80302a8(2, 30);
    if ( result <= 0 )
    {
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80fe42e
void sub_80FE42E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fe452
int sub_80FE452()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FE464 + *v0))();
}


// 0x80fe46c
int sub_80FE46C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        if ( sub_801032C() & 0x20 )
        {
            ClearAIDataUnk0x48Flag(32);
            *(v0 + 16) = 7;
            PlaySoundEffect(225, v2, v3);
            result = 19;
            *(v1 + 16) = 19;
            return result;
        }
        goto LABEL_6;
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v6) | (result == 0) )
    {
LABEL_6:
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x80fe4ac
void sub_80FE4AC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fe4d0
int __fastcall __noreturn sub_80FE4D0(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    unsigned int v5; // r6
    signed int v6; // r4
    int v7; // r6
    int v8; // r7
    char *v9; // r2
    int result; // r0
    int v15; // [sp-8h] [bp-34h]
    int v16; // [sp-4h] [bp-30h]
    int v17; // [sp+0h] [bp-2Ch]
    int v18; // [sp+4h] [bp-28h]
    int v19; // [sp+8h] [bp-24h]
    int v20; // [sp+Ch] [bp-20h]
    int v21; // [sp+10h] [bp-1Ch]
    int v22; // [sp+14h] [bp-18h]
    int v23; // [sp+18h] [bp-14h]

    v17 = a1;
    v20 = a3;
    v21 = a4;
    v18 = v5 & 7;
    v19 = v5 >> 4;
    v6 = 0;
    v7 = 0;
    v8 = 0;
    do
    {
        v9 = &byte_80FE594[2 * v6];
        v15 = *v9 + *(v4 + 18);
        v16 = byte_0[v9 + 1] + *(v4 + 19);
        if ( object_checkPanelParameters(v15, v16, v20, v21) && (v15 != v18 || v16 != v19) )
        {
            if ( v16 == *(v17 + 19) )
                *(&v23 + v8++) = v15 | 16 * v16;
            else
                *(&v22 + v7++) = v15 | 16 * v16;
        }
        ++v6;
    }
    while ( v6 < 4 );
    if ( v7 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v22 + v7) & 7;
    }
    else if ( v8 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v23 + v8) & 7;
    }
    else
    {
        _ZF = object_checkPanelParameters(v18, v19, v20, v21) == 0;
        result = v18;
        if ( _ZF )
            result = 0;
    }
    return result;
}


// 0x80fe59c
int __fastcall sub_80FE59C(signed int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v5 = 1;
    if ( *(v4 + 18) >= a1 )
        v5 = -1;
    v6 = *(v4 + 18) + v5;
    v7 = object_checkPanelParameters(v6, *(v4 + 19), a3, a4) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x80fe5c0
int __fastcall sub_80FE5C0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r3
    int result; // r0
    int v6; // r1

    v4 = *(v3 + 18);
    if ( a1 == v4 )
    {
        v6 = (a2 - *(v3 + 19)) * a3;
        result = 0;
    }
    else
    {
        result = (a1 - v4) * a3;
    }
    __asm { SVC         6 }
    return result;
}


// 0x80fe5ee
int __fastcall sub_80FE5EE(int a1, int *a2, int a3)
{
    int v3; // r5
    int *v4; // r1
    int result; // r0
    signed int v7; // r4
    int v8; // r6
    char *v9; // r1
    int v10; // r0
    int *v11; // r1
    char v15; // [sp-8h] [bp-48h]
    int *v16; // [sp-4h] [bp-44h]
    int v17; // [sp+0h] [bp-40h]
    int *v18; // [sp+4h] [bp-3Ch]
    int v19; // [sp+8h] [bp-38h]
    int v20; // [sp+Ch] [bp-34h]
    int v21; // [sp+10h] [bp-30h]
    int v22; // [sp+14h] [bp-2Ch]
    int v23; // [sp+18h] [bp-28h]

    v17 = a1;
    v18 = a2;
    v19 = *(a3 + 18);
    v20 = *(a3 + 19);
    v4 = &byte_80FE6B8[8 * *(v3 + 22)];
    v21 = *v4;
    v22 = v4[1];
    if ( a1 == v19 && v18 == v20 || (_ZF = object_checkPanelParameters(v19, v20, v21, v22) == 0, result = v19, _ZF) )
    {
        v7 = 0;
        v8 = 0;
        do
        {
            v9 = &byte_80FE6AC[2 * v7];
            v10 = *v9 + v19;
            v11 = (v9[1] + v20);
            if ( v10 != v17 || v11 != v18 )
            {
                v15 = v10;
                v16 = v11;
                _ZF = object_checkPanelParameters(v10, v11, v21, v22) == 0;
                v11 = v16;
                if ( !_ZF )
                {
                    v11 = &v23;
                    *(&v23 + v8++) = v15 | 16 * v16;
                }
            }
            ++v7;
        }
        while ( v7 < 4 );
        if ( v8 || (result = object_getPanelsIgnoreRowFiltered(v17, v11, v21, v22), (v8 = result) != 0) )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v23 + v8) & 7;
        }
    }
    return result;
}


// 0x80fe6c8
int __noreturn sub_80FE6C8()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    int v3; // r4
    int v4; // r0
    int v5; // r1
    char v6; // ST00_1
    int v7; // ST04_4
    bool v8; // zf
    int v9; // r3
    char v10; // r0
    int v11; // r1
    int v12; // ST00_4
    int v13; // ST04_4
    int v14; // r4
    int v15; // r6
    int v17; // [sp+0h] [bp-14h]

    v17 = 0;
    v3 = 1;
    do
    {
        v4 = object_getClosestPanelMatchingRowFiltered(
                     *(v0 + 22),
                     v3,
                     *&byte_80FE780[8 * *(v0 + 22)],
                     *&byte_80FE780[8 * *(v0 + 22) + 4]);
        if ( v4 )
        {
            *(v0 + 22);
            v6 = v4;
            v7 = v5;
            v8 = object_checkPanelParameters(v4, v5, *&byte_80FE794[8 * *(v0 + 22)], *&byte_80FE794[8 * *(v0 + 22) + 4]) == 0;
            v10 = v6;
            v11 = v7;
            if ( !v8 )
            {
                v12 = v3;
                v13 = v1;
                v14 = *(v2 + 3);
                v15 = *(v2 + 8);
                sub_80CB1E2(v10, v11, *(v2 + 2), v9);
                v3 = v12;
                v1 = v13;
                ++v17;
            }
        }
        ++v3;
    }
    while ( v3 <= 3 );
    return v17;
}


// 0x80fe72c
int __noreturn sub_80FE72C()
{
    int v0; // r5
    int v1; // r4
    int result; // r0
    int v3; // r1
    bool v4; // zf
    int v5; // [sp-8h] [bp-18h]
    int v6; // [sp-4h] [bp-14h]

    v1 = 1;
    do
    {
        result = object_getClosestPanelMatchingRowFiltered(
                             *(v0 + 22),
                             v1,
                             *&byte_80FE780[8 * *(v0 + 22)],
                             *&byte_80FE780[8 * *(v0 + 22) + 4]);
        if ( result )
        {
            *(v0 + 22);
            v5 = result;
            v6 = v3;
            v4 = object_checkPanelParameters(result, v3, *&byte_80FE794[8 * *(v0 + 22)], *&byte_80FE794[8 * *(v0 + 22) + 4]) == 0;
            result = v5;
            if ( !v4 )
                result = object_highlightPanelRegion(v5, v6, 6, *(v0 + 22));
        }
        ++v1;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x80fe8c4
int sub_80FE8C4()
{
    int v0; // r5

    return (*(&off_80FE8E0 + *(*(v0 + 88) + 128)))();
}


// 0x80fe8e4
void sub_80FE8E4()
{
    _DWORD *v0; // r5
    int v1; // r6
    char v2; // r0
    char v3; // r0

    if ( *(v1 + 5) >= 5 )
    {
        *(v1 + 5) = 0;
        v0[28] ^= 1u;
        sub_80FEB9E();
    }
    else
    {
        GetPositiveSignedRNG2();
        if ( (v2 & 0xF) < 14 )
            ++*(v1 + 5);
        if ( *(v1 + 6) < 1 )
        {
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) < 8 )
                ++*(v1 + 6);
            v0[26] ^= 1u;
            sub_80FEB20();
        }
        else
        {
            *(v1 + 6) = 0;
            v0[27] ^= 1u;
            sub_80FEB64();
        }
    }
}


// 0x80fe950
void sub_80FE950()
{
    sub_80FF668();
    JUMPOUT(&loc_80FE95A);
}


// 0x80fe958
int sub_80FE958()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80fe98a
int sub_80FE98A()
{
    int v0; // r5
    int v1; // r4

    v1 = sub_800FE28(byte_80FE9A8);
    return sub_800FE28(&byte_80FE9A8[4]) * *(v0 + 100) + v1;
}


// 0x80fe9b0
int sub_80FE9B0()
{
    int v0; // r5
    int v1; // r4
    int v2; // r4

    v1 = sub_800FE28(byte_80FE9DC);
    v2 = v1 + sub_800FE28(&byte_80FE9DC[4]) * *(v0 + 104);
    if ( object_getFlag() & 0xA000 )
        v2 += 60;
    return v2;
}


// 0x80fe9e4
int sub_80FE9E4()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_80FEA00);
    sub_800FE28(&byte_80FEA00[4]);
    return v0;
}


// 0x80fea08
int sub_80FEA08()
{
    int v0; // r5
    int v1; // r4
    int v2; // r4

    v1 = sub_800FE28(byte_80FEA34);
    v2 = v1 + sub_800FE28(&byte_80FEA34[4]) * *(v0 + 108);
    if ( object_getFlag() & 0xA000 )
        v2 += 60;
    return v2;
}


// 0x80fea3c
__int64 sub_80FEA3C()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_80FEA68);
    HIDWORD(v0) = sub_800FE28(&byte_80FEA68[4]);
    sub_800FE28(&byte_80FEA68[8]);
    return v0;
}


// 0x80fea74
int sub_80FEA74()
{
    int v0; // r5
    int v1; // r4
    int v2; // r4

    v1 = sub_800FE28(byte_80FEAA0);
    v2 = v1 + sub_800FE28(&byte_80FEAA0[4]) * *(v0 + 104);
    if ( object_getFlag() & 0xA000 )
        v2 += 60;
    return v2;
}


// 0x80feaa8
int sub_80FEAA8()
{
    return sub_800FE28(&dword_80FEAB8);
}


// 0x80feabc
int sub_80FEABC()
{
    return *&byte_80FEAD0[2 * sub_800FE36()];
}


// 0x80fead8
int sub_80FEAD8()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_80FEAF4);
    sub_800FE28(&byte_80FEAF4[4]);
    return v0;
}


// 0x80feafc
int sub_80FEAFC()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 40) = sub_80FF528;
    *(v1 + 24) = sub_80FE98A();
    *(v1 + 12) = *(v0 + 100);
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x80feb20
void sub_80FEB20()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    *(v1 + 40) = sub_80FF614;
    sub_80FEBE4(0);
    *(v1 + 24) = sub_80FE9B0();
    *(v1 + 12) = sub_80FE9E4();
    *(v1 + 13) = v2;
    *(v1 + 48) = v0 + 116;
    *(v1 + 52) = v0 + 120;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80feb64
void sub_80FEB64()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    *(v1 + 40) = sub_80FF614;
    sub_80FEBE4(1);
    *(v1 + 24) = sub_80FEA08();
    v2 = sub_80FEA3C();
    *(v1 + 12) = v2;
    *(v1 + 13) = BYTE4(v2);
    *(v1 + 14) = v3;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80feb9e
void sub_80FEB9E()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_80FEBE4(2);
    *(v1 + 24) = sub_80FEA74();
    *(v1 + 12) = sub_80FEAA8();
    *(v1 + 48) = sub_80FEABC();
    *(v1 + 13) = sub_80FEAD8();
    *(v1 + 14) = v2;
    *(v1 + 52) = v0 + 124;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x80febe4
int __fastcall sub_80FEBE4(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FEC44[8 * a1]);
    result = sub_800FE12(&byte_80FEC68[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80fec90
int sub_80FEC90()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FECA4 + *v0))();
}


// 0x80fecb4
int sub_80FECB4()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FED18[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 60;
            result = 12;
            *v1 = 12;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            v0[16] = 4;
            object_setFlag1(64);
            object_clearCollisionRegion();
            result = 5;
            *(v1 + 16) = 5;
        }
    }
    return result;
}


// 0x80fed28
int sub_80FED28()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r4
    int v5; // r1
    int result; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r1
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r1

    if ( *(v1 + 1) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v9 = *(v0 + 72);
        *(v0 + 60) += v9;
        *(v0 + 72) = v9 - 40960;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v10 = *(v1 + 16);
        v11 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v11 )
        {
            v12 = *(v0 + 20);
            v13 = *(v0 + 21);
            *(v0 + 18) = v12;
            *(v0 + 19) = v13;
            object_removePanelReserve(v12, v13);
            object_setCoordinatesFromPanels(v0);
            *(v0 + 62) = 0;
            object_updateCollisionPanels(v0);
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_setCollisionRegion(1);
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(&dword_80FEDC4 + *(v1 + 12));
        v2 = *(v0 + 21);
        v3 = object_getCoordinatesForPanels(*(v0 + 20));
        v4 = *(v1 + 16);
        result = sub_8001330((v0 + 52), v3, v5);
        *(v0 + 64) = result;
        *(v0 + 68) = v7;
        *(v0 + 72) = v8;
    }
    return result;
}


// 0x80fedcc
int sub_80FEDCC()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        result = 17;
        *(v1 + 16) = 17;
    }
    return result;
}


// 0x80fedf0
void sub_80FEDF0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fee14
int sub_80FEE14()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FEE28 + *v0))();
}


// 0x80fee44
int sub_80FEE44()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FEEA8[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 60;
            result = 24;
            *v1 = 24;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            v0[16] = 4;
            object_setFlag1(64);
            object_clearCollisionRegion();
            result = 5;
            *(v1 + 16) = 5;
        }
    }
    return result;
}


// 0x80feeb8
int sub_80FEEB8()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r4
    int v5; // r1
    int result; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r1
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r1

    if ( *(v1 + 1) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v9 = *(v0 + 72);
        *(v0 + 60) += v9;
        *(v0 + 72) = v9 - 40960;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v10 = *(v1 + 16);
        v11 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v11 )
        {
            v12 = *(v0 + 20);
            v13 = *(v0 + 21);
            *(v0 + 18) = v12;
            *(v0 + 19) = v13;
            object_removePanelReserve(v12, v13);
            object_setCoordinatesFromPanels(v0);
            *(v0 + 62) = 0;
            object_updateCollisionPanels(v0);
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_setCollisionRegion(1);
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
        v2 = *(v0 + 21);
        v3 = object_getCoordinatesForPanels(*(v0 + 20));
        v4 = *(v1 + 16);
        result = sub_8001330((v0 + 52), v3, v5);
        *(v0 + 64) = result;
        *(v0 + 68) = v7;
        *(v0 + 72) = v8;
    }
    return result;
}


// 0x80fef50
signed int sub_80FEF50()
{
    int v0; // r7
    signed int result; // r0

    *(v0 + 14) = 0;
    *(v0 + 56) = 0;
    result = 12;
    *v0 = 12;
    return result;
}


// 0x80fef60
int sub_80FEF60()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            object_highlightPanelRegion(*(v1 + 15), 2, 4, *(v0 + 22));
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        *(v1 + 16) = *(v1 + 12);
        *(v1 + 18) = 0;
        result = *(*(v1 + 44) + 18);
        *(v1 + 15) = result;
    }
    return result;
}


// 0x80fefa4
int sub_80FEFA4()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 8;
        return sub_80FF680();
    }
    v3 = **(v1 + 48);
    if ( v3 && *(v3 + 6) )
    {
LABEL_7:
        result = 1;
        *(v1 + 56) = 1;
        return result;
    }
    v4 = **(v1 + 52);
    if ( v4 )
    {
        result = *(v4 + 6);
        if ( !result )
            return result;
        goto LABEL_7;
    }
    v5 = *(v1 + 14) + 1;
    *(v1 + 14) = v5;
    if ( v5 >= *(v1 + 13) || *(v1 + 56) )
    {
        result = 20;
        *v1 = 20;
    }
    else
    {
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x80feffa
int sub_80FEFFA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 9;
        result = 23;
        *(v1 + 16) = 23;
    }
    return result;
}


// 0x80ff01e
void sub_80FF01E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80ff042
int sub_80FF042()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FF054 + *v0))();
}


// 0x80ff068
int sub_80FF068()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FF0CC[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 60;
            result = 16;
            *v1 = 16;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            v0[16] = 4;
            object_setFlag1(64);
            object_clearCollisionRegion();
            result = 5;
            *(v1 + 16) = 5;
        }
    }
    return result;
}


// 0x80ff0dc
int sub_80FF0DC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r4
    int v5; // r1
    int result; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r1
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0
    int v13; // r1

    if ( *(v1 + 1) )
    {
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 56) += *(v0 + 68);
        v9 = *(v0 + 72);
        *(v0 + 60) += v9;
        *(v0 + 72) = v9 - 40960;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        v10 = *(v1 + 16);
        v11 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v1 + 16) = result;
        if ( (result < 0) ^ v11 )
        {
            v12 = *(v0 + 20);
            v13 = *(v0 + 21);
            *(v0 + 18) = v12;
            *(v0 + 19) = v13;
            object_removePanelReserve(v12, v13);
            object_setCoordinatesFromPanels(v0);
            *(v0 + 62) = 0;
            object_updateCollisionPanels(v0);
            object_clearFlag(64);
            object_setFlag1(0x80000);
            object_setCollisionRegion(1);
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = 30;
        v2 = *(v0 + 21);
        v3 = object_getCoordinatesForPanels(*(v0 + 20));
        v4 = *(v1 + 16);
        result = sub_8001330((v0 + 52), v3, v5);
        *(v0 + 64) = result;
        *(v0 + 68) = v7;
        *(v0 + 72) = v8;
    }
    return result;
}


// 0x80ff174
int sub_80FF174()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v1 + 15) = 0;
            object_setCounterTime(18);
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 10;
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x80ff1a2
int __fastcall sub_80FF1A2(int a1, int a2, int a3, int a4)
{
    int v4; // r7
    int result; // r0
    int v6; // r2
    int v7; // r2
    int v8; // r0

    if ( !*(v4 + 1) )
    {
        *(v4 + 1) = 4;
        sub_80FF6E0();
    }
    result = *(v4 + 16) - 1;
    *(v4 + 16) = result;
    v6 = *(v4 + 12);
    if ( result == *(v4 + 18) - v6 )
        return sub_80FF7A4(*(v4 + 22), *(v4 + 23), v6, a4);
    v7 = *(v4 + 13);
    if ( result == *(v4 + 18) - v7 )
        return sub_80FF7B0(*(v4 + 22), *(v4 + 23), v7, a4);
    if ( result <= 0 )
    {
        v8 = *(v4 + 15) + 1;
        *(v4 + 15) = v8;
        if ( v8 >= *(v4 + 14) )
        {
            result = 16;
            *v4 = 16;
        }
        else
        {
            result = 0;
            *(v4 + 1) = 0;
        }
    }
    return result;
}


// 0x80ff220
void sub_80FF220()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 10;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80ff248
int sub_80FF248()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FF25C + *v0))();
}


// 0x80ff284
int sub_80FF284()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int result; // r0
    int v4; // r0
    __int64 v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // [sp-8h] [bp-Ch]
    int v9; // [sp-4h] [bp-8h]

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 18) + 1;
        *(v1 + 18) = v4;
        if ( !__CFSHR__(v4, 3) )
        {
            LODWORD(v5) = *(v1 + 22);
            HIDWORD(v5) = *(v1 + 23);
            object_highlightPanel(v5);
        }
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 44);
        v8 = *(v2 + 18);
        v9 = *(v2 + 19);
        if ( object_isValidPanel(v8, v9) )
        {
            *(v1 + 22) = v8;
            *(v1 + 23) = v9;
            *(v0 + 16) = 12;
            object_setCounterTime(6);
            *(v1 + 16) = *(v1 + 12);
            *(v1 + 15) = 0;
            result = 0;
            *(v1 + 18) = 0;
        }
        else
        {
            result = 36;
            *v1 = 36;
        }
    }
    return result;
}


// 0x80ff2e4
int sub_80FF2E4()
{
    _BYTE *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = v0[18];
        v3 = v0[19];
        v0[20] = v2;
        v0[21] = v3;
        object_reservePanel(v2, v3);
        v0[16] = 13;
        object_clearCollisionRegion();
        sub_801DD34();
        object_setFlag1(64);
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x80ff322
int sub_80FF322()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v0->z -= v0->vz;
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            v0->z = 0;
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 14;
        v2 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 7864320;
        sprite_noShadow(v0);
        v0->vz = 786432;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80ff378
signed int sub_80FF378()
{
    int v0; // r5
    int v1; // r7
    int v2; // r3
    int v3; // r4
    int v4; // r6
    int v5; // r0
    int v6; // r2
    signed int result; // r0
    int v8; // [sp+8h] [bp-8h]

    v2 = *(v1 + 3) << 16;
    v3 = *(v0 + 18) | v2;
    v4 = *(v1 + 8);
    v5 = sub_80E9EFA(*(v1 + 44), *(v1 + 48), *(v1 + 2), v2);
    sub_800BF16(*(v0 + 22), 1, v5);
    v6 = *(v8 + 44);
    if ( *(v6 + 18) != *(v0 + 18) || *(v6 + 19) != *(v0 + 19) )
    {
        result = 16;
        *v8 = 16;
    }
    else
    {
        *(v8 + 15) = 1;
        result = 20;
        *v8 = 20;
    }
    return result;
}


// 0x80ff3c4
int sub_80FF3C4()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0
    int v5; // r1
    int v6; // [sp-8h] [bp-Ch]
    int v7; // [sp-4h] [bp-8h]

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            v4 = *(v0 + 13) - 1;
            *(v0 + 13) = v4;
            if ( v4 && (v5 = *(v0 + 44), v6 = *(v5 + 18), v7 = *(v5 + 19), object_isValidPanel(v6, v7)) )
            {
                *(v0 + 22) = v6;
                *(v0 + 23) = v7;
            }
            else
            {
                *(v0 + 15) = 1;
            }
            result = 24;
            *v0 = 24;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 14);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x80ff40a
int sub_80FF40A()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 17;
        result = 7;
        *(v1 + 16) = 7;
    }
    return result;
}


// 0x80ff42e
int sub_80FF42E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        *(v0 + 60) += *(v0 + 72);
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            if ( *(v1 + 15) )
            {
                result = 32;
                *v1 = 32;
            }
            else
            {
                result = 28;
                *v1 = 28;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 18;
        *(v0 + 72) = 786432;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x80ff46a
int sub_80FF46A()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    __int64 v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 18) + 1;
        *(v0 + 18) = v2;
        if ( !__CFSHR__(v2, 3) )
        {
            LODWORD(v3) = *(v0 + 22);
            HIDWORD(v3) = *(v0 + 23);
            object_highlightPanel(v3);
        }
        v4 = *(v0 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = *(v0 + 12);
        result = 0;
        *(v0 + 18) = 0;
    }
    return result;
}


// 0x80ff4a0
int sub_80FF4A0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 36;
            *v1 = 36;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 19;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0;
        sprite_hasShadow();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        object_setCollisionRegion(1);
        sub_801DC7C(0, 0);
        result = 16;
        *(v1 + 16) = 16;
    }
    return result;
}


// 0x80ff504
void sub_80FF504()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80ff528
int __fastcall __noreturn sub_80FF528(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r0
    int v7; // r1
    int v8; // r6
    signed int v9; // r4
    int v10; // r0
    int v11; // r1
    signed int v12; // r4
    int v13; // r1
    int v14; // r1
    int v20; // [sp+0h] [bp-34h]
    int v21; // [sp+4h] [bp-30h]
    int v22; // [sp+8h] [bp-2Ch]
    int v23; // [sp+Ch] [bp-28h]

    v20 = a1;
    v21 = a3;
    v22 = a4;
    v5 = 0;
    do
    {
        v6 = object_reservePanel(byte_80FF604[2 * v5] + *(v4 + 18), byte_80FF604[2 * v5 + &byte_0[1]] + *(v4 + 19));
        ++v5;
    }
    while ( v5 < 8 );
    v8 = object_getPanelsExceptCurrentFilterred(v6, v7, v21, v22);
    v9 = 0;
    do
    {
        v10 = object_removePanelReserve(byte_80FF604[2 * v9] + *(v4 + 18), byte_80FF604[2 * v9 + &byte_0[1]] + *(v4 + 19));
        ++v9;
    }
    while ( v9 < 4 );
    if ( !v8 )
        v8 = object_getPanelsExceptCurrentFilterred(v10, v11, v21, v22);
    v12 = 4;
    do
    {
        object_removePanelReserve(byte_80FF604[2 * v12] + *(v4 + 18), byte_80FF604[2 * v12 + &byte_0[1]] + *(v4 + 19));
        ++v12;
    }
    while ( v12 < 8 );
    if ( !v8 )
    {
        v8 = object_getPanelsIgnoreColumnFiltered(*(v20 + 19), v13, v21, v22);
        if ( !v8 )
        {
            v8 = object_getPanelsExceptCurrentFilterred(0, v14, v21, v22);
            if ( !v8 )
                return 0;
        }
    }
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v23 + v8) & 7;
}


// 0x80ff614
int __fastcall sub_80FF614(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v11; // [sp+0h] [bp-8h]
    int v12; // [sp+4h] [bp-4h]
    int v13; // [sp+8h] [bp+0h]

    v11 = a3;
    v12 = a4;
    v5 = object_getPanelsInColumnIgnoreRowFiltered(*(&dword_80FF664 + *(v4 + 22)), *(v4 + 19), a3, a4);
    if ( v5
        || (result = object_getPanelsInColumnFiltered(*(&dword_80FF664 + *(v4 + 22)), &dword_80FF664, v11, v12),
                (v5 = result) != 0) )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v13 + v5) & 7;
    }
    return result;
}


// 0x80ff668
void sub_80FF668()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0

    v1 = *(v0 + 80);
    if ( v1 )
        sub_80C44D2(v1);
    v2 = *(v0 + 96);
    if ( v2 )
        sub_80C44D2(v2);
}


// 0x80ff680
int sub_80FF680()
{
    int v0; // r7
    char v1; // r0
    int v2; // r2
    int v3; // r4
    int v4; // r3
    int v5; // r6
    int v6; // r7
    int v7; // r4
    int v8; // r6
    int v9; // r7
    int v11; // [sp+0h] [bp-10h]

    v1 = *(v0 + 15);
    v2 = *(v0 + 2);
    v3 = *(v0 + 3);
    v4 = *(v0 + 44);
    v5 = *(v0 + 8);
    v6 = *(v0 + 48);
    sub_80D01C8(v1, 2, v2, v4);
    v7 = *(v11 + 3) | 0x100;
    v8 = *(v11 + 8);
    v9 = *(v11 + 52);
    return sub_80D01C8(*(v11 + 15), 2, *(v11 + 2), *(v11 + 44));
}


// 0x80ff6e0
int __noreturn sub_80FF6E0()
{
    Battle *v0; // r5
    int v1; // r6
    int result; // r0
    int v3; // r1
    int v4; // r2
    int v5; // ST00_4
    int v6; // r4
    int v7; // r1
    int v8; // r4
    int v9; // r6
    int v10; // ST00_4
    bool v11; // zf

    v1 = *(battle_findPlayer(v0->Alliance ^ 1) + 19);
    result = object_getClosestPanelMatchingRowFiltered(
                         v0->Alliance,
                         v1,
                         *&byte_80FF780[8 * v0->Alliance],
                         *&byte_80FF780[8 * v0->Alliance + 4]);
    if ( !result
        || v3 == v0->panelY
        && (v5 = result, v4 = v0->panelX, v6 = (result - v4) * object_getFrontDirection(v0), result = v5, v6 <= 0) )
    {
        result = object_getClosestPanelMatchingRowFiltered(
                             v0->Alliance,
                             v1,
                             *&byte_80FF794[8 * v0->Alliance],
                             *&byte_80FF794[8 * v0->Alliance + 4]);
        v8 = result;
        v9 = v7;
        if ( result )
        {
            v10 = result;
            v11 = object_checkPanelParameters(
                            result,
                            v7 + 1,
                            *&byte_80FF780[8 * v0->Alliance],
                            *&byte_80FF780[8 * v0->Alliance + 4]) == 0;
            result = v10;
            if ( v11 )
            {
                v11 = object_checkPanelParameters(
                                v8,
                                v9 - 1,
                                *&byte_80FF780[8 * v0->Alliance],
                                *&byte_80FF780[8 * v0->Alliance + 4]) == 0;
                result = v8;
                if ( v11 )
                    result = 0;
            }
        }
    }
    return result;
}


// 0x80ff7a4
int __fastcall sub_80FF7A4(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r4

    v5 = *(v4 + 13);
    return sub_80D036C(a1, a2, *(v4 + 2), a4);
}


// 0x80ff7b0
int __fastcall sub_80FF7B0(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r4
    int v6; // r6

    v5 = *(v4 + 3);
    v6 = *(v4 + 8);
    return sub_80D04DA(a1, a2, *(v4 + 2), a4);
}


// 0x80ff8e4
int sub_80FF8E4()
{
    int v0; // r5

    return (*(&off_80FF900 + *(*(v0 + 88) + 128)))();
}


// 0x80ff904
void sub_80FF904()
{
    int v0; // r5
    unsigned __int8 *v1; // r6
    int v2; // r7
    char v3; // r0
    char v4; // r0
    int v5; // r0

    if ( v1[4] < 2 )
        goto LABEL_13;
    v1[4] = 0;
    if ( v1[5] >= 5 )
    {
        v1[5] = 0;
        v5 = v1[7];
        v1[7] = v5 ^ 1;
        if ( v5 )
        {
            *(v2 + 3) = sub_800FE36();
            *(v2 + 2) = 0;
            *(v2 + 12) = sub_80FFAD8();
            *(v2 + 48) = v0 + 96;
            *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
            object_setAttack0();
            return;
        }
        goto LABEL_11;
    }
    ++v1[5];
    if ( !sub_80FFAEC() )
    {
        if ( v1[6] < 2 )
        {
            GetPositiveSignedRNG2();
            if ( (v4 & 0xF) < 14 )
                ++v1[6];
            goto LABEL_12;
        }
LABEL_11:
        v1[6] = 0;
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 0;
        sub_80FFAF8(1);
        *(v2 + 24) = sub_80FFAA0();
        *(v2 + 12) = sub_80FFAC4();
        *(v2 + 48) = v0 + 96;
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        object_setAttack0();
        return;
    }
    GetPositiveSignedRNG2();
    if ( (v3 & 0xF) < 14 )
    {
LABEL_12:
        *(v2 + 3) = sub_800FE36();
        *(v2 + 2) = 3;
        sub_80FFAF8(0);
        *(v2 + 12) = sub_80FFA78();
        *(v2 + 13) = sub_80FFA8C();
        *(v2 + 40) = sub_8100070;
        *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
        object_setAttack0();
        return;
    }
LABEL_13:
    ++v1[4];
    *(v2 + 40) = sub_80FFFBC;
    *(v2 + 24) = sub_80FFA54();
    *(v2 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    (object_setAttack4)(9);
}


// 0x80ffa1a
void sub_80FFA1A()
{
    ;
}


// 0x80ffa22
int sub_80FFA22()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x80ffa54
int sub_80FFA54()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FFA74);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80ffa78
int sub_80FFA78()
{
    return sub_800FE28(&dword_80FFA88);
}


// 0x80ffa8c
int sub_80FFA8C()
{
    return sub_800FE28(byte_80FFA9C);
}


// 0x80ffaa0
int sub_80FFAA0()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_80FFAC0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x80ffac4
int sub_80FFAC4()
{
    return sub_800FE28(&dword_80FFAD4);
}


// 0x80ffad8
int sub_80FFAD8()
{
    return sub_800FE28(&dword_80FFAE8);
}


// 0x80ffaec
BOOL sub_80FFAEC()
{
    int v0; // r5

    return *(v0 + 96) != 0;
}


// 0x80ffaf8
int __fastcall sub_80FFAF8(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_80FFB54[8 * a1]);
    result = sub_800FE12(&byte_80FFB6C[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x80ffb26
int __fastcall sub_80FFB26(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_80FFB54[8 * a1]);
    return (sub_800FE12(&byte_80FFB6C[8 * v1]) << 16) | v2;
}


// 0x80ffb88
int sub_80FFB88()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FFB9C + *v0))();
}


// 0x80ffba8
int sub_80FFBA8()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FFC08[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 24) = 60;
            result = 8;
            *v1 = 8;
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 4;
            result = 2;
            *(v1 + 16) = 2;
        }
    }
    return result;
}


// 0x80ffc18
int sub_80FFC18()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 2;
        *(v1 + 16) = 2;
    }
    return result;
}


// 0x80ffc5e
void sub_80FFC5E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80ffc82
int sub_80FFC82()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FFC94 + *v0))();
}


// 0x80ffca8
void sub_80FFCA8()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_80FFD10[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 48) = 0;
            *(v1 + 26) = 1;
            *(v1 + 16) = 2;
        }
    }
}


// 0x80ffd20
int sub_80FFD20()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            v0->currAnimation = 0;
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 2;
        *(v1 + 16) = 2;
    }
    return result;
}


// 0x80ffd6a
signed int sub_80FFD6A()
{
    int v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    unsigned int v5; // r0
    unsigned __int8 v6; // cf
    int v7; // r0

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
        {
            result = 12;
            *v1 = 12;
        }
        else
        {
            v5 = *(v1 + 18) + 1;
            *(v1 + 18) = v5;
            v6 = __CFSHR__(v5, 3);
            result = v5 >> 3;
            if ( !v6 )
            {
                v7 = object_getFrontDirection(v0);
                result = object_highlightPanelRegion(v7 + *(v0 + 18), *(v0 + 19), 6, *(v0 + 22));
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x80ffdac
int __fastcall sub_80FFDAC(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r1
    int v8; // r2

    if ( *(v5 + 1) )
    {
        result = *(v5 + 16) - 1;
        *(v5 + 16) = result;
        if ( result == *(v5 + 13) )
        {
            sub_810007C();
            *(v4 + 16) = 7;
            result = PlaySoundEffect(186, v7, v8);
        }
        else if ( result <= 0 )
        {
            result = 16;
            *v5 = 16;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 6;
        *(v5 + 48) = sub_80E71A0(6, a2, a3, a4);
        object_setCounterTime(12);
        result = *(v5 + 13) + 15;
        *(v5 + 16) = result;
    }
    return result;
}


// 0x80ffdf8
void sub_80FFDF8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 40;
        v2 = *(v1 + 48);
        if ( v2 )
            sub_80E71B8(v2);
    }
}


// 0x80ffe26
int sub_80FFE26()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FFE38 + *v0))();
}


// 0x80ffe48
int sub_80FFE48()
{
    int v0; // r7
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = 5;
        v1 = **(v0 + 48);
        if ( v1 )
            sub_80D29B2(v1);
    }
    v2 = *(v0 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *v0 = 4;
    }
    return result;
}


// 0x80ffe72
int sub_80FFE72()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0
    unsigned int v4; // r0
    unsigned __int8 v5; // cf

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_81000E0();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 16) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = 8;
        *v0 = 8;
    }
    else
    {
        v4 = *(v0 + 18) + 1;
        *(v0 + 18) = v4;
        v5 = __CFSHR__(v4, 3);
        result = v4 >> 3;
        if ( !v5 )
            result = sub_81000F6();
    }
    return result;
}


// 0x80ffec0
int sub_80FFEC0()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_8100106();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x80ffee4
void sub_80FFEE4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x80fff08
int sub_80FFF08()
{
    unsigned __int8 *v0; // r7

    return (*(&off_80FFF1C + *v0))();
}


// 0x80fff24
char *sub_80FFF24()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    char *result; // r0
    unsigned int v4; // r0
    unsigned __int8 v5; // cf
    __int64 v6; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_8100144();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1--, 1);
    *(v0 + 16) = v1;
    if ( ((v1 < 0) ^ v2) | (v1 == 0) )
    {
        result = dword_4;
        *v0 = 4;
    }
    else
    {
        v4 = *(v0 + 18) + 1;
        *(v0 + 18) = v4;
        v5 = __CFSHR__(v4, 3);
        result = (v4 >> 3);
        if ( !v5 )
        {
            LODWORD(v6) = *(v0 + 22);
            HIDWORD(v6) = *(v0 + 23);
            result = object_highlightPanel(v6);
        }
    }
    return result;
}


// 0x80fff84
void __fastcall sub_80FFF84(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    char v6; // r0
    int v7; // r1
    int v8; // r2
    int v9; // r4
    int v10; // r6
    int v11; // ST00_4
    int v12; // r7
    int v13; // r0
    unsigned __int8 v14; // vf

    if ( *(v5 + 1) )
    {
        v13 = *(v5 + 16);
        v14 = __OFSUB__(v13--, 1);
        *(v5 + 16) = v13;
        if ( ((v13 < 0) ^ v14) | (v13 == 0) )
        {
            v4->currAnimation = 0;
            object_exitAttackState(v4);
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v6 = *(v5 + 22);
        v7 = *(v5 + 23);
        v8 = *(v5 + 2);
        v9 = *(v5 + 3);
        v10 = *(v5 + 48);
        v11 = v5;
        v12 = *(v5 + 44);
        sub_80D2986(v6, v7, v8, a4);
        *(v11 + 16) = 30;
    }
}


// 0x80fffbc
void __fastcall __noreturn sub_80FFFBC(int a1)
{
    Battle *v1; // r5
    int v2; // ST08_4

    v2 = *(a1 + 19);
    object_getFrontDirection(v1);
    object_reservePanel(v1->panelX, v1->panelY);
    sub_800D58C();
}


// 0x8100070
void __fastcall __noreturn sub_8100070(int a1, int a2, int a3, int a4)
{
    int v4; // r5

    object_getClosestPanelMatchingRowFiltered(*(v4 + 22), *(a1 + 19), a3, a4);
    JUMPOUT(locret_810007A);
}


// 0x810007c
int sub_810007C()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6
    char v4; // r0
    int v5; // r6
    char v6; // r0
    int v7; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
    v4 = object_getFrontDirection(v0);
    v5 = *(v1 + 8);
    object_spawnCollisionRegion(2 * v4 + v0->panelX, v0->panelY, *(v1 + 2), 0);
    v6 = object_getFrontDirection(v0);
    v7 = *(v1 + 8);
    return object_spawnCollisionRegion(3 * v6 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x81000e0
void __noreturn sub_81000E0()
{
    sub_800D58C();
}


// 0x81000f6
int sub_81000F6()
{
    int v0; // r5
    int v1; // r7

    return object_highlightPanelRegion(*(v1 + 22), 2, 5, *(v0 + 22));
}


// 0x8100106
int __noreturn sub_8100106()
{
    int v0; // r7
    int v1; // r6
    int v2; // ST00_4
    bool v3; // zf
    int v4; // r3
    int result; // r0
    int v6; // r1
    int v7; // ST00_4
    int v8; // ST04_4
    int v9; // r2
    int v10; // r4
    int v11; // r6
    int v12; // r7

    v1 = 1;
    do
    {
        v2 = *(v0 + 22);
        v3 = object_checkPanelParameters(v2, v1, 16, 260571264) == 0;
        result = v2;
        v6 = v1;
        if ( !v3 )
        {
            v7 = v1;
            v8 = v0;
            v9 = *(v0 + 2);
            v10 = *(v0 + 3);
            v11 = *(v0 + 8);
            v12 = *(v0 + 44);
            result = sub_80D21F8(result, v6, v9, v4);
            v1 = v7;
            v0 = v8;
        }
        v1 += 2;
    }
    while ( v1 <= 3 );
    return result;
}


// 0x8100144
void __noreturn sub_8100144()
{
    int v0; // r5
    int v1; // r0
    int v2; // ST08_4
    int v3; // ST0C_4

    v1 = 8 * *(v0 + 22);
    v2 = *&byte_81001AC[v1];
    v3 = *&byte_81001AC[v1 + 4];
    sub_800D58C();
}


// 0x81002e8
int sub_81002E8()
{
    int v0; // r5

    return (*(&off_8100304 + *(*(v0 + 88) + 128)))();
}


// 0x8100308
void sub_8100308()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    int v3; // r0
    int v4; // r0

    if ( v1[4] < *(&dword_810039C + sub_800FE36()) )
    {
        ++v1[4];
        sub_810055C();
    }
    else
    {
        v1[4] = 0;
        if ( v1[5] >= 3 )
        {
            v1[4] += 3;
            v1[5] = 0;
            v1[6] = 0;
            v1[7] = 0;
            sub_8100570();
        }
        else
        {
            ++v1[5];
            v2 = v1[6];
            v1[6] = v2 ^ 1;
            if ( !v2 )
            {
                v4 = v1[7];
                v1[7] = v4 ^ 1;
                if ( !v4 )
                    v1[4] += 3;
                goto LABEL_11;
            }
            v3 = *(v0 + 96);
            switch ( v3 )
            {
                case 2:
                    sub_81005A6();
                    break;
                case 4:
                    sub_81005DE();
                    break;
                case 1:
                    sub_8100614();
                    break;
                case 3:
                    sub_810064C();
                    break;
                default:
LABEL_11:
                    sub_8100580();
                    return;
            }
        }
    }
}


// 0x81003a0
void sub_81003A0()
{
    ;
}


// 0x81003a4
void sub_81003A4()
{
    ;
}


// 0x81003a8
void sub_81003A8()
{
    ;
}


// 0x81003ac
signed int __noreturn sub_81003AC()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x81003ea
int sub_81003EA()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_8100408);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x810040c
int sub_810040C()
{
    return sub_800FE28(&dword_810041C);
}


// 0x8100420
int sub_8100420()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_8100440);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x8100444
int sub_8100444()
{
    int v0; // r5
    signed int v1; // r0

    v1 = 0;
    if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
        v1 = 4;
    return sub_800FE28(&byte_8100464[v1]);
}


// 0x810046c
int sub_810046C()
{
    return sub_800FE28(&dword_810047C);
}


// 0x8100480
int sub_8100480()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_81004A0);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x81004a4
int sub_81004A4()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_81004C0);
    sub_800FE28(&byte_81004C0[4]);
    return v0;
}


// 0x81004c8
int sub_81004C8()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_81004E8);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x81004ec
int sub_81004EC()
{
    return sub_800FE28(&dword_81004FC);
}


// 0x8100500
int sub_8100500()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_8100520);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x8100524
int sub_8100524()
{
    return sub_800FE28(&dword_8100534);
}


// 0x8100538
int sub_8100538()
{
    int v0; // r4

    v0 = sub_800FE28(byte_8100558);
    if ( object_getFlag() & 0xA000 )
        v0 += 60;
    return v0;
}


// 0x810055c
int sub_810055C()
{
    int v0; // r7

    *(v0 + 40) = sub_8100F5C;
    *(v0 + 24) = sub_81003EA();
    return (object_setAttack4)(9);
}


// 0x8100570
void sub_8100570()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 40) = v0 + 96;
    object_setAttack0();
}


// 0x8100580
void sub_8100580()
{
    int v0; // r7

    *(v0 + 3) = sub_800FE36();
    *(v0 + 2) = 32;
    sub_810067E(4);
    *(v0 + 24) = sub_8100538();
    *(v0 + 12) = sub_8100524();
    object_setAttack0();
}


// 0x81005a6
void sub_81005A6()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_810067E(0);
    *(v1 + 24) = sub_8100420();
    *(v1 + 12) = sub_8100444();
    *(v1 + 13) = sub_810040C();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81005de
void sub_81005DE()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 2;
    sub_810067E(1);
    *(v1 + 24) = sub_8100480();
    *(v1 + 12) = sub_810046C();
    *(v1 + 40) = sub_8100F8A;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8100614
void sub_8100614()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 4;
    sub_810067E(2);
    *(v1 + 40) = sub_810102A;
    *(v1 + 24) = sub_81004C8();
    *(v1 + 12) = sub_81004A4();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810064c
void sub_810064C()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 3;
    sub_810067E(3);
    *(v1 + 24) = sub_8100500();
    *(v1 + 12) = sub_81004EC();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810067e
int __fastcall sub_810067E(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_81006E8[8 * a1]);
    result = sub_800FE12(&byte_8100724[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x810075c
int sub_810075C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100770 + *v0))();
}


// 0x810077c
int sub_810077C()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            *(v1 + 24) = 60;
            result = 8;
            *v1 = 8;
            return result;
        }
        v3 = &byte_81007D4[8 * v0[22]];
        v4 = *v3;
        v5 = *(v3 + 1);
        v6 = (*(v1 + 40))();
        v0[20] = v6;
        v0[21] = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v0[16] = 4;
        *(v1 + 16) = 2;
    }
    v8 = *(v1 + 16);
    v9 = __OFSUB__(v8, 1);
    result = v8 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v9) | (result == 0) )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x81007e4
int sub_81007E4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 2;
        *(v1 + 16) = 2;
    }
    return result;
}


// 0x810082a
void sub_810082A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x810084e
int sub_810084E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100860 + *v0))();
}


// 0x8100870
int sub_8100870()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100894
int sub_8100894()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 6;
        sub_8101218();
        PlaySoundEffect(119, v2, v3);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x81008c2
int sub_81008C2()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    int *v4; // r4
    int v5; // t1

    if ( *(v0 + 1) )
    {
        sprite_forceWhitePallete();
        v2 = *(v0 + 16);
        _VF = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            v4 = *(v0 + 40);
            v5 = *v4;
            __asm { SVC         6 }
            *v4 = 5;
            sub_8019F8C(byte_810090C[*v4]);
            sprite_setPallete(*(&off_8100918 + *v4));
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 10;
        *(v0 + 16) = 10;
    }
    return result;
}


// 0x8100920
void sub_8100920()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = 10;
    }
}


// 0x8100944
int sub_8100944()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100958 + *v0))();
}


// 0x8100968
int sub_8100968()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 6;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        object_setCounterTime(18);
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100996
int sub_8100996()
{
    int v0; // r7
    int v1; // r1
    int result; // r0
    int v3; // r0
    __int64 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    char v7; // [sp-8h] [bp-Ch]
    char v8; // [sp-4h] [bp-8h]

    if ( *(v0 + 1) )
    {
        v3 = *(v0 + 18) + 1;
        *(v0 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            LODWORD(v4) = *(v0 + 22);
            HIDWORD(v4) = *(v0 + 23);
            object_highlightPanel(v4);
        }
        v5 = *(v0 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        v1 = *(v0 + 44);
        v7 = *(v1 + 18);
        v8 = *(v1 + 19);
        if ( object_isCurrentPanelValid() )
        {
            *(v0 + 22) = v7;
            *(v0 + 23) = v8;
            *(v0 + 16) = *(v0 + 13);
            result = 0;
            *(v0 + 18) = 0;
        }
        else
        {
            result = 12;
            *v0 = 12;
        }
    }
    return result;
}


// 0x81009e8
signed int __fastcall sub_81009E8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r0
    signed int result; // r0

    *(v4 + 16) = 7;
    sub_810108E(7, a2, a3, a4);
    v6 = *(v5 + 12) - 1;
    *(v5 + 12) = v6;
    if ( v6 <= 0 )
    {
        result = 12;
        *v5 = 12;
    }
    else
    {
        result = 4;
        *v5 = 4;
    }
    return result;
}


// 0x8100a08
void sub_8100A08()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8100a2c
int sub_8100A2C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100A40 + *v0))();
}


// 0x8100a5c
void sub_8100A5C()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7--, 1);
        *(v1 + 16) = v7;
        if ( ((v7 < 0) ^ v8) | (v7 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = (*(v1 + 40))(*(v1 + 44))) == 0 )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            *(v1 + 22) = v3;
            *(v1 + 23) = v4;
            object_reservePanel(v3, v4);
            v5 = v0->panelX;
            v6 = v0->panelY;
            v0->futurePanelX = v5;
            v0->futurePanelY = v6;
            object_reservePanel(v5, v6);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 2;
        }
    }
}


// 0x8100acc
int sub_8100ACC()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            v0->currAnimation = 0;
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        result = 2;
        *(v1 + 16) = 2;
    }
    return result;
}


// 0x8100b04
int sub_8100B04()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 6;
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100b2c
int sub_8100B2C()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + v0->panelX, v0->panelY, 4, (v0->directionFlip << 8) | v0->Alliance);
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8100b72
int sub_8100B72()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        object_setCounterTime(18);
        sub_81010A0();
        PlaySoundEffect(153, v2, v3);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x8100ba6
int sub_8100BA6()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 24;
            *v0 = 24;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8100bc6
void sub_8100BC6()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        *(v1 + 16) = 12;
    }
}


// 0x8100c1c
int sub_8100C1C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100C30 + *v0))();
}


// 0x8100c48
void sub_8100C48()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8--, 1);
        *(v1 + 16) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
            *v1 = 4;
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_8100CA8[8 * v0->Alliance], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            *(v1 + 26) = 0;
            object_exitAttackState(v0);
        }
        else
        {
            v0->futurePanelX = v6;
            v0->futurePanelY = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0->currAnimation = 4;
            *(v1 + 26) = 1;
            *(v1 + 16) = 2;
        }
    }
}


// 0x8100cb8
int sub_8100CB8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 2;
        *(v1 + 16) = 2;
    }
    return result;
}


// 0x8100cfe
int sub_8100CFE()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 6;
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        object_setCounterTime(18);
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100d2c
int sub_8100D2C()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_8101190();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        *(v0 + 14) = 0;
        sub_8101204(*(v0 + 22), *(v0 + 23));
        result = 16;
        *v0 = 16;
    }
    return result;
}


// 0x8100d6a
int sub_8100D6A()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        sub_81011B2();
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        sub_8101204(*(v1 + 22), *(v1 + 23));
        v5 = *(v1 + 14) + 1;
        *(v1 + 14) = v5;
        if ( v5 >= 5 )
        {
            result = 20;
            *v1 = 20;
        }
        else
        {
            result = 0;
            *(v1 + 1) = 0;
        }
    }
    return result;
}


// 0x8100db2
void sub_8100DB2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8100dd6
int sub_8100DD6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100DE8 + *v0))();
}


// 0x8100df8
int sub_8100DF8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 6;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        object_setCounterTime(18);
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100e26
int sub_8100E26()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_81010DA();
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        result = 8;
        *v0 = 8;
    }
    return result;
}


// 0x8100e54
int sub_8100E54()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        result = 16;
        *(v1 + 16) = 16;
    }
    return result;
}


// 0x8100e78
void sub_8100E78()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8100e9c
int sub_8100E9C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8100EB0 + *v0))();
}


// 0x8100ec0
int sub_8100EC0()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 6;
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        object_setCounterTime(18);
        result = 19;
        *(v1 + 16) = 19;
    }
    return result;
}


// 0x8100eee
int sub_8100EEE()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8100f0e
int sub_8100F0E()
{
    int v0; // r7
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        v1 = *(v0 + 8);
        sub_810112C();
    }
    v2 = *(v0 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x8100f38
void sub_8100F38()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8100f5c
int __fastcall sub_8100F5C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int result; // r0
    int v11; // r1
    int v12; // [sp+0h] [bp+0h]

    v5 = object_getPanelsIgnoreColumnFiltered(*(v4 + 19), a2, a3, a4);
    if ( v5 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v12 + v5) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v11 = *(v4 + 19);
    }
    return result;
}


// 0x8100f8a
__int64 __fastcall __noreturn sub_8100F8A(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST00_4
    int v6; // r0
    signed int v7; // r6
    __int64 v9; // r0
    unsigned int v13; // r0
    __int64 v14; // ST00_8
    __int64 v16; // [sp-8h] [bp-24h]
    char v17; // [sp-4h] [bp-20h]
    int v18; // [sp+0h] [bp-1Ch]
    int v19; // [sp+4h] [bp-18h]
    int v20; // [sp+8h] [bp-14h]
    int v21; // [sp+Ch] [bp-10h]
    char v22; // [sp+10h] [bp-Ch]

    v20 = a3;
    v21 = a4;
    v5 = *(a1 + 18);
    HIDWORD(v16) = *(a1 + 19);
    v6 = object_getFrontDirection(v4);
    v18 = v16 - v6;
    v19 = HIDWORD(v16);
    v7 = 0;
    LODWORD(v16) = v16 - v6;
    _ZF = object_checkPanelParameters(v16, SHIDWORD(v16), v20, v21) == 0;
    v9 = v16;
    if ( _ZF )
    {
        v17 = BYTE4(v16) - 1;
        if ( object_checkPanelParameters(v18, v19 - 1, v20, v21) )
        {
            v22 = v18 | 16 * v17;
            v7 = 1;
        }
        _ZF = object_checkPanelParameters(v18, v19 + 1, v20, v21) == 0;
        HIDWORD(v9) = v19 + 1;
        if ( !_ZF )
        {
            HIDWORD(v9) = &v22;
            *(&v22 + v7++) = v18 | 16 * (v19 + 1);
        }
        if ( v7 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            v13 = *(&v22 + v7);
            HIDWORD(v9) = v13 >> 4;
            LODWORD(v9) = v9 & 7;
        }
        else
        {
            LODWORD(v9) = 0;
        }
    }
    v14 = v9;
    object_removePanelReserve(v4->panelX, v4->panelY);
    return v14;
}


// 0x810102a
__int64 __fastcall __noreturn sub_810102A(int a1, int a2, int a3, int a4)
{
    unsigned __int8 *v4; // r5
    int v5; // r0
    int v6; // r6
    unsigned int v11; // r0
    __int64 v12; // r0
    signed int v13; // r2
    __int64 v14; // ST00_8
    int v16; // [sp+0h] [bp-1Ch]
    int v17; // [sp+4h] [bp-18h]
    int v18; // [sp+8h] [bp-14h]

    v16 = a3;
    v17 = a4;
    object_reservePanel(v4[18], v4[19]);
    v5 = 1;
    if ( v4[22] )
        v5 = 6;
    v6 = object_getPanelsInColumnFiltered(v5, v4[22], v16, v17);
    if ( v6 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v11 = *(&v18 + v6);
        HIDWORD(v12) = v11 >> 4;
        LODWORD(v12) = v12 & 7;
    }
    else
    {
        v13 = 1;
        if ( v4[22] )
            v13 = 6;
        LODWORD(v12) = v4[18];
        HIDWORD(v12) = v4[19];
        if ( v12 != v13 )
            LODWORD(v12) = 0;
    }
    v14 = v12;
    object_removePanelReserve(v4[18], v4[19]);
    return v14;
}


// 0x810108e
int __fastcall sub_810108E(int a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r6

    v5 = *(v4 + 8);
    return sub_80D6D18(*(v4 + 22), *(v4 + 23), *(v4 + 2), a4);
}


// 0x81010a0
int sub_81010A0()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r6
    int v3; // ST04_4
    bool v4; // zf
    int result; // r0
    int v6; // r1
    int v7; // r4
    signed int v8; // ST04_4
    int v9; // r6
    int v10; // [sp-8h] [bp-14h]

    v2 = 0;
    do
    {
        v10 = object_getFrontDirection(v0) + *(v1 + 22);
        v3 = *(v1 + 23) - 1 + v2;
        v4 = object_isValidPanel(v10, v3) == 0;
        result = v10;
        v6 = v3;
        if ( !v4 )
        {
            v7 = *(v1 + 3) | 0x1E00;
            v8 = v2;
            v9 = *(v1 + 8);
            result = sub_80D6EB0(v10, v6, *(v1 + 2), 7680);
            v2 = v8;
        }
        ++v2;
    }
    while ( v2 <= 2 );
    return result;
}


// 0x81010da
void __noreturn sub_81010DA()
{
    Battle *v0; // r5
    int v1; // r6

    v1 = 1;
    if ( v0->Alliance )
        v1 = 6;
    object_getFrontDirection(v0);
    object_getFirstPanelInDirectionFiltered(
        v1,
        v0->panelY,
        *&byte_810111C[8 * v0->Alliance],
        *&byte_810111C[8 * v0->Alliance + 4]);
}


// 0x810112c
signed int __noreturn sub_810112C()
{
    unsigned __int8 *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r6
    int v8; // r4
    int v9; // r3
    int v11; // [sp+4h] [bp-14h]

    object_reservePanel(v0[18], v0[19]);
    v2 = 1;
    if ( v0[22] )
        v2 = 6;
    v3 = object_getPanelsInColumnIgnoreRowFiltered(v2, 2, 0x10000, 260571264);
    if ( v3 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v8 = *(v1 + 3);
        sub_80D71D6(*(&v11 + v3) & 7, *(&v11 + v3) >> 4, 32, v9);
    }
    return object_removePanelReserve(v0[18], v0[19]);
}


// 0x8101190
int __noreturn sub_8101190()
{
    Battle *v0; // r5
    int v1; // ST00_4
    bool v2; // zf
    int result; // r0

    v1 = object_getFrontDirection(v0) + v0->panelX;
    v2 = object_checkPanelParameters(v1, v0->panelY, 16, 58720256) == 0;
    result = v1;
    if ( v2 )
        result = 0;
    return result;
}


// 0x81011b2
int __noreturn sub_81011B2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    signed int v4; // r2
    int v5; // r2
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v2 = object_getFrontDirection(v0) + *(v1 + 22);
    v3 = *(v1 + 23);
    v4 = *(*(v1 + 44) + 19);
    if ( v4 >= 1 && v4 <= 3 )
    {
        v3 = *(v1 + 23);
        v5 = *(*(v1 + 44) + 19);
        if ( v5 != v3 )
        {
            if ( v5 > v3 )
                ++v3;
            else
                --v3;
        }
    }
    v6 = v2;
    v7 = object_checkPanelParameters(v2, v3, 16, 58720256) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x8101204
int __fastcall sub_8101204(char a1, int a2)
{
    int v2; // r7
    int v3; // r3
    int v4; // r4
    int v5; // r6

    v3 = *(v2 + 13) << 8;
    v4 = *(v2 + 3) | v3;
    v5 = *(v2 + 8);
    return sub_80D703A(a1, a2, *(v2 + 2), v3);
}


// 0x8101218
void sub_8101218()
{
    Battle *v0; // r5
    int v1; // r1
    int v2; // r0
    int v3; // r1

    object_getFlip(v0);
    v1 = v0->panelY;
    v2 = object_getCoordinatesForPanels(v0->panelX);
    SpawnT4BattleObjectWithId0(v0, v2, v2, v3, 0x200000);
}


// 0x8101360
int sub_8101360()
{
    int v0; // r5

    return (*(&off_810137C + *(*(v0 + 88) + 128)))();
}


// 0x810138c
int sub_810138C()
{
    _BYTE *v0; // r6
    int result; // r0

    if ( v0[4] >= 2 )
    {
        result = 0;
        v0[4] = 0;
        *v0 = 4;
    }
    else
    {
        ++v0[4];
        result = sub_8101606();
    }
    return result;
}


// 0x81013aa
void sub_81013AA()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    char v3; // r4
    bool v4; // zf
    char v5; // r0

    if ( sub_81015E4() )
    {
        if ( v1[5] >= 2 )
        {
            v1[5] = 0;
            sub_81016FE();
            return;
        }
        ++v1[5];
    }
    v2 = sub_8101584();
    v3 = v2;
    if ( v2 )
    {
        if ( v1[6] >= 1 )
        {
            v1[6] = 0;
LABEL_14:
            sub_81016C8();
            return;
        }
        GetPositiveSignedRNG2();
        v1[6] += (v5 & 1) + 1;
        sub_810161A(v3);
        if ( sub_800FE36() >= 1 )
            *v1 = 8;
    }
    else if ( v1[4] < 3 )
    {
        ++v1[4];
        sub_8101606();
    }
    else
    {
        v1[4] = 0;
        if ( (*(v0 + 38) >> 1) <= *(v0 + 36) )
        {
            v4 = v1[7] == 1;
            v1[7] ^= 1u;
            if ( !v4 )
            {
                sub_810168C();
                return;
            }
            goto LABEL_14;
        }
        sub_81016C8();
        *v1 = 12;
    }
}


// 0x810144a
int sub_810144A()
{
    _BYTE *v0; // r6
    int result; // r0

    sub_8101652();
    *v0 = 4;
    return result;
}


// 0x8101456
int sub_8101456()
{
    _BYTE *v0; // r6
    int result; // r0

    sub_810168C();
    *v0 = 4;
    return result;
}


// 0x810146a
int sub_810146A()
{
    return sub_810173C();
}


// 0x8101472
void sub_8101472()
{
    int v0; // r5
    int v1; // r0

    sub_810173C();
    v1 = *(v0 + 80);
    if ( v1 )
        sub_80C44D2(v1);
}


// 0x8101484
int sub_8101484()
{
    return sub_800FE28(&dword_8101494);
}


// 0x8101498
int sub_8101498()
{
    return sub_800FE28(&dword_81014A8);
}


// 0x81014ac
int sub_81014AC()
{
    return sub_800FE28(&dword_81014BC);
}


// 0x81014c0
int sub_81014C0()
{
    return sub_800FE28(&dword_81014D0);
}


// 0x81014d4
int sub_81014D4()
{
    return sub_800FE28(&dword_81014E4);
}


// 0x81014e8
int sub_81014E8()
{
    return sub_800FE28(&dword_81014F8);
}


// 0x81014fc
int sub_81014FC()
{
    return sub_800FE28(&dword_810150C);
}


// 0x8101510
int sub_8101510()
{
    return sub_800FE28(&dword_8101520);
}


// 0x8101524
int sub_8101524()
{
    return sub_800FE28(&dword_8101534);
}


// 0x8101538
int sub_8101538()
{
    return sub_800FE28(&dword_8101548);
}


// 0x810154c
int sub_810154C()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8101568);
    sub_800FE28(&byte_8101568[4]);
    return v0;
}


// 0x8101570
int sub_8101570()
{
    return sub_800FE28(&dword_8101580);
}


// 0x8101584
int sub_8101584()
{
    int v0; // r5
    u32 v1; // r0
    int v2; // r4
    unsigned __int8 *v3; // r2
    int v4; // r0
    int v5; // r6
    int v7; // [sp+0h] [bp-14h]
    int v8; // [sp+4h] [bp-10h]

    v1 = battle_findPlayer(*(v0 + 22) ^ 1);
    v7 = *(v1 + 18);
    v8 = *(v1 + 19);
    v2 = 0;
    while ( 1 )
    {
        v3 = &unk_81015D4 + 3 * v2;
        v4 = *v3;
        v5 = v3[2];
        if ( *(v0 + 22) )
            v4 = 7 - v4;
        if ( v4 == v7 && v3[1] == v8 )
            break;
        if ( ++v2 > 4 )
            return 0;
    }
    return v5;
}


// 0x81015e4
signed int sub_81015E4()
{
    int v0; // r5
    int v1; // r4
    int v2; // r1
    signed int result; // r0

    v1 = *(battle_findPlayer(*(v0 + 22) ^ 1) + 36);
    v2 = sub_810179C(4);
    result = 0;
    if ( v1 <= v2 )
        result = 1;
    return result;
}


// 0x8101606
int sub_8101606()
{
    int v0; // r7

    *(v0 + 40) = sub_8103808;
    *(v0 + 24) = sub_8101484();
    return (object_setAttack4)(9);
}


// 0x810161a
void __fastcall sub_810161A(char a1)
{
    int v1; // r5
    int v2; // r7

    *(v2 + 12) = a1;
    *(v2 + 3) = sub_800FE36();
    *(v2 + 2) = 0;
    sub_810176E(0);
    *(v2 + 24) = sub_8101498();
    *(v2 + 13) = sub_81014AC();
    *(v2 + 40) = sub_81038A4;
    *(v2 + 44) = battle_findPlayer(*(v1 + 22) ^ 1);
    object_setAttack0();
}


// 0x8101652
void sub_8101652()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 12) = 4;
    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810176E(1);
    *(v1 + 24) = sub_81014C0();
    *(v1 + 13) = sub_81014D4();
    *(v1 + 40) = sub_81038A4;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810168c
void sub_810168C()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_810176E(2);
    *(v1 + 24) = sub_81014FC();
    *(v1 + 12) = sub_81014E8();
    *(v1 + 13) = sub_8101510();
    *(v1 + 40) = sub_81038FE;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81016c8
void sub_81016C8()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810176E(3);
    *(v1 + 24) = sub_8101524();
    *(v1 + 12) = sub_8101538();
    *(v1 + 40) = sub_81038FE;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81016fe
void sub_81016FE()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810176E(4);
    *(v1 + 12) = sub_810154C();
    *(v1 + 13) = v2;
    *(v1 + 24) = sub_8101570();
    *(v1 + 48) = v0 + 96;
    *(v1 + 40) = sub_8103936;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810173c
int sub_810173C()
{
    int v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    result = *(v0 + 44) & 0xFFFF;
    v3 = *(v0 + 84);
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x810176e
int __fastcall sub_810176E(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_81017D8[8 * a1]);
    result = sub_800FE12(&byte_8101814[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x810179c
int __fastcall sub_810179C(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_81017D8[8 * a1]);
    return (sub_800FE12(&byte_8101814[8 * v1]) << 16) | v2;
}


// 0x8101a68
int sub_8101A68()
{
    int v0; // r5

    return (*(&off_8101A84 + *(*(v0 + 88) + 128)))();
}


// 0x8101aa0
void sub_8101AA0()
{
    int v0; // r5
    signed int v1; // r3

    v1 = 0;
    if ( *(v0 + 4) == 1 )
        v1 = 8;
    if ( *(v0 + 36) < (*(v0 + 38) >> 1) )
        v1 += 4;
    (*(&off_8101AC4 + v1))();
}


// 0x8101ad4
void sub_8101AD4()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    bool v3; // zf
    int v4; // r0
    int v5; // r0

    if ( v1[4] < 3 )
    {
        ++v1[4];
        GetPositiveSignedRNG2();
        if ( __CFSHR__(v2, 6) )
            ++v1[4];
        JUMPOUT(&loc_8101D64);
    }
    v1[4] = 0;
    v3 = v1[12] == 1;
    v1[12] ^= 1u;
    if ( v3 )
    {
        if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DBC) )
        {
            if ( v1[5] >= 1 )
            {
                v1[5] = 0;
                v3 = v1[15] == 1;
                v1[15] ^= 1u;
                if ( !v3 )
                    JUMPOUT(&loc_8101D7C);
                JUMPOUT(&loc_8101D90);
            }
            ++v1[5];
            GetPositiveSignedRNG2();
            if ( __CFSHR__(v4, 4) )
                ++v1[5];
        }
        if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DC3) )
        {
            if ( v1[6] >= 1 )
            {
                v1[6] = 0;
                v3 = v1[14] == 1;
                v1[14] ^= 1u;
                if ( !v3 )
                    JUMPOUT(&loc_8101D86);
                JUMPOUT(&loc_8101D9A);
            }
            ++v1[6];
            GetPositiveSignedRNG2();
            if ( __CFSHR__(v5, 4) )
                ++v1[6];
        }
    }
    v3 = v1[13] == 1;
    v1[13] ^= 1u;
    if ( !v3 )
        JUMPOUT(&loc_8101D6C);
    JUMPOUT(&loc_8101D72);
}


// 0x8101b90
void sub_8101B90()
{
    int v0; // r5
    _BYTE *v1; // r6
    char v2; // r0
    bool v3; // zf
    char v4; // r0

    if ( v1[4] >= 1 )
    {
        v1[4] = 0;
        JUMPOUT(&loc_8101D64);
    }
    GetPositiveSignedRNG2();
    if ( (v2 & 0xF) >= 4 )
    {
        ++v1[4];
        v3 = v1[12] == 1;
        v1[12] ^= 1u;
        if ( !v3 )
            goto LABEL_15;
        if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DBC) )
        {
            if ( v1[5] >= 1 )
            {
                v1[5] = 0;
                v3 = v1[15] == 1;
                v1[15] ^= 1u;
                if ( !v3 )
                    JUMPOUT(&loc_8101D7C);
                JUMPOUT(&loc_8101D90);
            }
            GetPositiveSignedRNG2();
            if ( (v4 & 0xF) >= 4 )
                ++v1[5];
        }
    }
    if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DC3) )
    {
        if ( v1[6] >= 1 )
        {
            v1[6] = 0;
            v3 = v1[14] == 1;
            v1[14] ^= 1u;
            if ( !v3 )
                JUMPOUT(&loc_8101D86);
            JUMPOUT(&loc_8101D9A);
        }
        ++v1[6];
    }
LABEL_15:
    v3 = v1[13] == 1;
    v1[13] ^= 1u;
    if ( !v3 )
        JUMPOUT(&loc_8101D6C);
    JUMPOUT(&loc_8101D72);
}


// 0x8101c3a
void sub_8101C3A()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    int v3; // r0
    bool v4; // zf

    if ( v1[4] < 3 )
    {
        ++v1[4];
        GetPositiveSignedRNG2();
        if ( __CFSHR__(v2, 6) )
            ++v1[4];
        JUMPOUT(&loc_8101D64);
    }
    v1[4] = 0;
    if ( v1[5] >= 3 )
    {
        v1[5] = 0;
        JUMPOUT(&loc_8101DA0);
    }
    ++v1[5];
    GetPositiveSignedRNG2();
    if ( __CFSHR__(v3, 4) )
        ++v1[5];
    if ( v1[6] < 2 )
    {
        ++v1[6];
    }
    else
    {
        v1[6] = 0;
        if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DBC) )
            JUMPOUT(&loc_8101D7C);
        if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DD0) )
            JUMPOUT(&loc_8101D86);
    }
    v4 = v1[13] == 1;
    v1[13] ^= 1u;
    if ( !v4 )
        JUMPOUT(&loc_8101D6C);
    JUMPOUT(&loc_8101D72);
}


// 0x8101cc0
void sub_8101CC0()
{
    int v0; // r5
    int v1; // r6
    int v2; // r0
    int v3; // r1
    int v4; // r2
    char *v5; // r3
    bool v6; // zf
    int v7; // r0
    int v8; // [sp-Ch] [bp-18h]
    int v9; // [sp-8h] [bp-14h]
    int v10; // [sp-8h] [bp-14h]
    int v11; // [sp-4h] [bp-10h]
    int v12; // [sp-4h] [bp-10h]

    v2 = sub_8103038();
    if ( !v2 )
        goto LABEL_31;
    v9 = v2;
    v11 = v3;
    v4 = sub_80103F8(*(v0 + 22) ^ 1);
    if ( !v4 )
        goto LABEL_31;
    v8 = v9;
    v10 = v11;
    v12 = v4;
    if ( sub_8102280() )
        v5 = byte_8101DE6;
    if ( sub_810222C(v8, v10, v12, v5) && (v6 = *(v1 + 12) == 4, *(v1 + 12) ^= 4u, v6) )
    {
        if ( sub_8102280() )
            *v1 = 20;
        else
            *v1 = 24;
        *(v1 + 2) = 0;
    }
    else
    {
LABEL_31:
        if ( *(v1 + 5) >= 4 )
        {
            *(v1 + 4) = 0;
            if ( *(v1 + 6) < 2 )
            {
                ++*(v1 + 6);
            }
            else
            {
                *(v1 + 6) = 0;
                if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DBC) )
                {
                    *v1 = 8;
                    *(v1 + 2) = 0;
                    return;
                }
                if ( sub_810222C(0, 0, *(*(v0 + 88) + 120), byte_8101DD0) )
                {
                    *v1 = 12;
                    *(v1 + 2) = 0;
                    return;
                }
            }
            v6 = *(v1 + 13) == 1;
            *(v1 + 13) ^= 1u;
            if ( v6 )
            {
                *v1 = 4;
                *(v1 + 2) = 0;
            }
            else
            {
                sub_8101F2A();
            }
        }
        else
        {
            ++*(v1 + 5);
            GetPositiveSignedRNG2();
            if ( __CFSHR__(v7, 5) )
                ++*(v1 + 5);
            sub_8101F08(sub_8102C38);
        }
    }
}


// 0x8101e24
void sub_8101E24()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_8101F70();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8102EE2);
    }
}


// 0x8101e4a
void sub_8101E4A()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_8101FAE();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8102F5C);
    }
}


// 0x8101e70
void sub_8101E70()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_8101FE4();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8102F98);
    }
}


// 0x8101e96
void sub_8101E96()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_8102016();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8102FF4);
    }
}


// 0x8101ebc
void sub_8101EBC()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_810209E();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8103038);
    }
}


// 0x8101ee2
void sub_8101EE2()
{
    int v0; // r6
    int v1; // r7

    if ( *(v0 + 3) )
    {
        *v0 = 0;
        *(v0 + 2) = 0;
        if ( *(v1 + 26) )
            sub_81020F0();
    }
    else
    {
        *(v0 + 3) = 4;
        sub_8101F08(sub_8103038);
    }
}


// 0x8101f08
int __fastcall sub_8101F08(int a1)
{
    int v1; // r5
    int v2; // r7

    *(v2 + 40) = a1;
    *(v2 + 44) = *(*(v1 + 88) + 120);
    *(v2 + 24) = sub_800FE28(&dword_8101978);
    *(v2 + 48) = sub_800FE28(&dword_810197C);
    return (object_setAttack4)(9);
}


// 0x8101f2a
void sub_8101F2A()
{
    int v0; // r7

    *(v0 + 24) = sub_800FE28(&dword_8101980);
    *(v0 + 12) = sub_800FE28(&dword_8101984);
    *(v0 + 13) = sub_800FE28(&dword_8101988);
    *(v0 + 14) = sub_800FE28(&dword_810198C);
    *(v0 + 15) = sub_800FE28(&dword_8101990);
    *(v0 + 8) = sub_800FE12(byte_8101994);
    *(v0 + 10) = sub_800FE12(byte_810199C);
    *(v0 + 2) = 0;
    object_setAttack0();
}


// 0x8101f70
void sub_8101F70()
{
    int v0; // r7

    *(v0 + 12) = sub_800FE28(&dword_81019A4);
    *(v0 + 13) = sub_800FE28(&dword_81019A8);
    *(v0 + 14) = sub_800FE28(&dword_81019AC);
    *(v0 + 15) = sub_800FE28(&dword_81019B0);
    *(v0 + 8) = sub_800FE12(byte_81019B4);
    *(v0 + 10) = sub_800FE12(byte_81019BC);
    *(v0 + 2) = 0;
    object_setAttack0();
}


// 0x8101fae
void sub_8101FAE()
{
    int v0; // r7

    *(v0 + 48) = sub_800FE28(&dword_81019C4);
    *(v0 + 52) = sub_800FE28(&dword_81019C8);
    *(v0 + 8) = sub_800FE12(byte_81019CC);
    *(v0 + 10) = sub_800FE12(byte_81019D4);
    *(v0 + 2) = 0;
    *(v0 + 12) = byte_100;
    *(v0 + 3) = 0;
    object_setAttack0();
}


// 0x8101fe4
void sub_8101FE4()
{
    int v0; // r7

    *(v0 + 12) = sub_800FE28(&dword_81019DC);
    *(v0 + 13) = sub_800FE28(&dword_81019E0);
    *(v0 + 8) = sub_800FE12(byte_81019E4);
    *(v0 + 10) = sub_800FE12(byte_81019EC);
    *(v0 + 2) = 0;
    *(v0 + 3) = 1;
    object_setAttack0();
}


// 0x8102016
void sub_8102016()
{
    int v0; // r7

    *(v0 + 48) = sub_800FE28(&dword_81019F4);
    *(v0 + 52) = sub_800FE28(&dword_81019F8);
    *(v0 + 12) = sub_800FE28(&dword_81019FC);
    *(v0 + 8) = sub_800FE12(byte_8101A00);
    *(v0 + 10) = sub_800FE12(byte_8101A08);
    *(v0 + 13) = 4;
    *(v0 + 14) = 1;
    *(v0 + 15) = 0;
    *(v0 + 2) = 1;
    *(v0 + 3) = 2;
    object_setAttack0();
}


// 0x810205c
void sub_810205C()
{
    int v0; // r7

    *(v0 + 48) = sub_800FE28(&dword_8101A10);
    *(v0 + 52) = sub_800FE28(&dword_8101A14);
    *(v0 + 8) = sub_800FE12(byte_8101A18);
    *(v0 + 10) = sub_800FE12(byte_8101A20);
    *(v0 + 12) = 0;
    *(v0 + 13) = 1;
    *(v0 + 14) = 1;
    *(v0 + 15) = 1;
    *(v0 + 2) = 16;
    *(v0 + 3) = 3;
    object_setAttack0();
}


// 0x810209e
void sub_810209E()
{
    int v0; // r7

    *(v0 + 48) = sub_800FE28(&dword_8101A28);
    *(v0 + 52) = sub_800FE28(&dword_8101A2C);
    *(v0 + 56) = sub_800FE28(&dword_8101A30);
    *(v0 + 60) = sub_800FE28(&dword_8101A34);
    *(v0 + 8) = sub_800FE12(byte_8101A38);
    *(v0 + 10) = sub_800FE12(byte_8101A40);
    *(v0 + 12) = 4;
    *(v0 + 13) = *(v0 + 56);
    *(v0 + 14) = 8;
    *(v0 + 15) = 0;
    *(v0 + 2) = 1;
    *(v0 + 3) = 0;
    object_setAttack0();
}


// 0x81020f0
void sub_81020F0()
{
    int v0; // r7

    *(v0 + 48) = sub_800FE28(&dword_8101A48);
    *(v0 + 52) = sub_800FE28(&dword_8101A4C);
    *(v0 + 56) = sub_800FE28(&dword_8101A50);
    *(v0 + 60) = sub_800FE28(&dword_8101A54);
    *(v0 + 8) = sub_800FE12(byte_8101A58);
    *(v0 + 10) = sub_800FE12(byte_8101A60);
    *(v0 + 12) = 2;
    *(v0 + 13) = 13;
    *(v0 + 14) = *(v0 + 56);
    *(v0 + 15) = 0;
    *(v0 + 2) = 32;
    *(v0 + 3) = 1;
    object_setAttack0();
}


// 0x8102142
void sub_8102142()
{
    ;
}


// 0x8102146
void sub_8102146()
{
    ;
}


// 0x810214a
void sub_810214A()
{
    int v0; // r5

    sub_80C44D2(*(v0 + 80));
}


// 0x8102154
void sub_8102154()
{
    int v0; // r5

    sub_80C44D2(*(v0 + 80));
}


// 0x810222c
signed int __fastcall sub_810222C(int a1, int a2, int a3, char *a4)
{
    Battle *v4; // r5
    char *v5; // r6
    int v6; // r4
    int v7; // r0
    int v8; // r1
    int v10; // [sp+0h] [bp-20h]
    int v11; // [sp+4h] [bp-1Ch]
    int v12; // [sp+8h] [bp-18h]
    int v13; // [sp+Ch] [bp-14h]

    v10 = a1;
    v11 = a2;
    v12 = *(a3 + 18);
    v13 = *(a3 + 19);
    v5 = a4;
    v6 = object_getFrontDirection(v4);
    while ( 1 )
    {
        v7 = *v5;
        if ( v7 == 127 )
            break;
        if ( v10 )
        {
            v7 = v7 * v6 + v10;
            v8 = v5[1] + v11;
        }
        else
        {
            v8 = v5[1];
        }
        if ( v12 == v7 && v13 == v8 )
            return 1;
        v5 += 2;
    }
    return 0;
}


// 0x8102280
int sub_8102280()
{
    int v0; // r5

    return sub_80136CC(*(v0 + 22) ^ 1, 32);
}


// 0x8102290
int sub_8102290()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81022A4 + *v0))();
}


// 0x81022b0
void __fastcall sub_81022B0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v4;
        *(v2 + 22) = v4;
        v1->futurePanelY = v5;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        sub_8102366();
        sub_81022E4();
    }
}


// 0x81022e4
int sub_81022E4()
{
    Battle *v0; // r5
    unsigned __int8 *v1; // r7
    int v2; // r4
    int v7; // r0
    int result; // r0
    int v9; // r0
    int v10; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    if ( *(v1 + 8) == *(v1 + 9) )
    {
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
    }
    v2 = *(v1 + 8);
    __asm { SVC         6 }
    if ( 2 * *(v1 + 12) == v2 )
        goto LABEL_11;
    __asm { SVC         6 }
    if ( *(v1 + 12) == v2 )
LABEL_11:
        sub_80BFD90(0);
    v7 = *(v1 + 8);
    _VF = __OFSUB__(v7, 1);
    result = v7 - 1;
    *(v1 + 8) = result;
    if ( (result < 0) ^ _VF )
    {
        v9 = v0->futurePanelX;
        v0->panelX = v9;
        v10 = v0->futurePanelY;
        v0->panelY = v10;
        object_removePanelReserve(v9, v10);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v1[26] = 1;
        object_setCollisionRegion(1);
        *(v1 + 8) = *(v1 + 12);
        result = *v1 + 4;
        *v1 = result;
    }
    return result;
}


// 0x8102366
unsigned int sub_8102366()
{
    int v0; // r5
    unsigned __int8 *v1; // r7
    int v2; // r0
    int v3; // r0

    v2 = v1[22] - *(v0 + 18) + 1;
    if ( v2 >= 0 && v2 < 3 )
    {
        v3 = v1[23] - *(v0 + 19) + 1;
        if ( v3 >= 0 && v3 < 3 )
            *(v1 + 12) >>= 1;
    }
    object_setFlag1(64);
    *v1 = *v1 + 4;
    object_clearCollisionRegion();
    return sub_810990E();
}


// 0x81023a0
int sub_81023A0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81023B4 + *v0))();
}


// 0x81023c0
int sub_81023C0()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v0 + 16) = 10;
        *(v1 + 16) = *(v1 + 24);
        *(v1 + 1) = 4;
    }
    v2 = *(v0 + 32);
    if ( *(v1 + 24) == 9 )
        *(v0 + 16) = 11;
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        *(v0 + 16) = 12;
        *(v1 + 18) = *(v1 + 14);
        *(v1 + 16) = *(v1 + 12);
        *(v1 + 48) = 0;
        *(v1 + 52) = 0;
        *(v1 + 56) = 0;
        *(v1 + 60) = 0;
        *(v1 + 64) = 0;
        sub_8102CF8(*(v1 + 44), 8 * (*(v1 + 48) ^ 1) + 52 + v1, 8 * *(v1 + 48) + 52 + v1, *(v1 + 13));
        object_setCounterTime(8);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x8102428
int __fastcall sub_8102428(int a1, int a2, int a3)
{
    int v3; // r7
    int v4; // r0
    unsigned __int8 v5; // vf
    int v6; // r0
    int v7; // r1
    _DWORD *v8; // r2
    int v9; // r0
    int result; // r0

    v4 = *(v3 + 16);
    v5 = __OFSUB__(v4--, 1);
    *(v3 + 16) = v4;
    if ( !((v4 < 0) ^ v5) )
        return sub_8102EC0((8 * *(v3 + 48) + 52 + v3));
    *(v3 + 16) = *(v3 + 12);
    sub_8102E74((8 * *(v3 + 48) + 52 + v3), a2, a3);
    *(v3 + 48) ^= 1u;
    v6 = *(v3 + 44);
    v7 = 8 * (*(v3 + 48) ^ 1) + 52 + v3;
    v8 = (8 * *(v3 + 48) + 52 + v3);
    *v8 = 0;
    v8[1] = 0;
    sub_8102CF8(v6, v7, v8, *(v3 + 13));
    v9 = *(v3 + 18);
    v5 = __OFSUB__(v9, 1);
    result = v9 - 1;
    *(v3 + 18) = result;
    if ( ((result < 0) ^ v5) | (result == 0) )
    {
        result = 8;
        *v3 = 8;
    }
    return result;
}


// 0x8102488
void sub_8102488()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 15);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        object_exitAttackState(v0);
}


// 0x81024aa
int sub_81024AA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81024BC + *v0))();
}


// 0x81024cc
int sub_81024CC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 12);
        *(v0 + 16) = 8;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x81024ee
int sub_81024EE()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 13);
        *(v0 + 16) = 13;
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8102510
int __fastcall sub_8102510(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0

    if ( !*(v5 + 1) )
    {
        *(v5 + 16) = 0;
        object_setCounterTime(16);
        *(v4 + 16) = 9;
        *(v5 + 1) = 4;
    }
    if ( *(v5 + 16) == 3 )
        sub_8102F38(3, a2, a3, a4);
    result = *(v5 + 16) + 1;
    *(v5 + 16) = result;
    if ( result > 14 )
    {
        result = 12;
        *v5 = 12;
    }
    return result;
}


// 0x8102544
void sub_8102544()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 15);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        object_exitAttackState(v0);
}


// 0x8102562
int sub_8102562()
{
    int v0; // r7

    return (*(&off_8102578 + *(v0 + 3)))();
}


// 0x8102588
int sub_8102588()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810259C + *v0))();
}


// 0x81025a8
int sub_81025A8()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // ST00_4
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v0 + 16) = 18;
        v2 = *(v1 + 48);
        *(v1 + 16) = v2;
        v3 = v1;
        v4 = *(v0 + 88) + 104;
        sub_80B8E30(v2);
        result = 4;
        *(v3 + 1) = 4;
    }
    return result;
}


// 0x81025da
int sub_81025DA()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r4
    int v5; // r6

    if ( *(v1 + 1) )
    {
        if ( *(v1 + 16) == 5 )
        {
            camera_initShakeEffect_80302a8(1, 20);
            v3 = object_getFrontDirection(v0);
            v4 = *(v1 + 12);
            v5 = *(v1 + 8);
            sub_80CB8DE(v3 + v0->panelX, v0->panelY, 0, 1572864);
        }
        result = *(v1 + 16) + 1;
        *(v1 + 16) = result;
        if ( result == 18 )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        v0->currAnimation = 6;
        *(v1 + 16) = 0;
        sub_80B8E70(v0->ai->unk_68, 1);
        object_setCounterTime(16);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x8102636
void sub_8102636()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 52);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        v0->currAnimation = 0;
        object_exitAttackState(v0);
    }
}


// 0x8102660
int sub_8102660()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8102674 + *v0))();
}


// 0x8102680
int sub_8102680()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r4
    __int64 v5; // r0
    int v6; // ST00_4
    unsigned int v7; // ST04_4
    __int64 v8; // r0
    __int64 v9; // r0
    __int64 v10; // r0
    int v11; // ST00_4
    __int64 v12; // r0
    __int64 v13; // r0
    int v14; // r0
    unsigned __int8 v15; // vf

    if ( *(v1 + 1) )
    {
        if ( __CFSHR__(*(v1 + 16), 2) )
        {
            v3 = object_getFrontDirection(v0);
            v4 = v3;
            LODWORD(v5) = v3 + v0->panelX;
            HIDWORD(v5) = v0->panelY;
            v6 = v5;
            v7 = v0->panelY;
            object_highlightPanel(v5);
            LODWORD(v8) = v6;
            v9 = __PAIR__(--v7, object_highlightPanel(v8));
            LODWORD(v9) = v6;
            v7 += 2;
            v10 = __PAIR__(v7, object_highlightPanel(v9));
            v11 = v6 + v4;
            LODWORD(v10) = v11;
            v12 = __PAIR__(--v7, object_highlightPanel(v10));
            LODWORD(v12) = v11;
            v13 = __PAIR__(v7 - 1, object_highlightPanel(v12));
            LODWORD(v13) = v11;
            object_highlightPanel(v13);
        }
        v14 = *(v1 + 16);
        v15 = __OFSUB__(v14, 1);
        result = v14 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v15) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 16) = *(v1 + 12);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x81026ee
int sub_81026EE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    char v5; // r0
    int v6; // r6
    char v7; // ST00_1
    int v8; // r1
    int v9; // ST08_4
    int v10; // ST04_4
    int v11; // r0

    if ( *(v1 + 1) )
    {
        if ( *(v1 + 16) == 10 )
        {
            v5 = object_getFrontDirection(v0);
            v6 = *(v1 + 8);
            v7 = v5 + v0->panelX;
            object_spawnCollisionRegion(v7, v0->panelY, *(v1 + 2), 0);
            v10 = object_getCoordinatesForPanels(v7);
            v9 = v8;
            v11 = object_getFlip(v0);
            SpawnT4BattleObjectWithId0(v0, v11, v10, v9, 0x100000);
        }
        result = *(v1 + 16) + 1;
        *(v1 + 16) = result;
        if ( result == 30 )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        v0->currAnimation = 5;
        *(v1 + 16) = 0;
        sub_80B8E30(0);
        object_setCounterTime(16);
        PlaySoundEffect(206, v2, v3);
        result = 4;
        *(v1 + 1) = 4;
    }
    return result;
}


// 0x8102772
void sub_8102772()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 13);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        v0->currAnimation = 0;
        object_exitAttackState(v0);
    }
}


// 0x81027a4
int sub_81027A4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81027B8 + *v0))();
}


// 0x81027c4
int sub_81027C4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 48);
        *(v0 + 16) = 18;
        sub_80B8E30(18);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x81027f4
int __fastcall sub_81027F4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r8
    char v6; // r0
    int v7; // r4
    int v8; // r6
    int v9; // r0
    int v10; // r0

    if ( !*(v4 + 1) )
    {
        v6 = object_getFrontDirection(v3);
        v7 = *(v4 + 12);
        v8 = *(v4 + 8);
        sub_80C5578(*(v3 + 18) + v6, *(v3 + 19), *(v4 + 2), 0);
        *(v3 + 16) = 7;
        object_setCounterTime(16);
        sub_80B8E70(*(v3 + 76), 1);
        *(v4 + 16) = 0;
        *(v4 + 1) = 4;
    }
    v9 = (*(v4 + 18) + 1) & 0xF;
    *(v4 + 18) = v9;
    if ( v9 == 1 )
        PlaySoundEffect(299, 15, a3);
    v10 = *(v4 + 16) + 1;
    *(v4 + 16) = v10;
    if ( v10 >= *(v4 + 12) )
        *v4 = 8;
    return v5;
}


// 0x8102864
void sub_8102864()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v0 + 16) = 18;
        sub_80B8E70(*(v0 + 76), 0);
        *(v1 + 16) = *(v1 + 52);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        *(v0 + 76) = 0;
        *(*(v0 + 88) + 104) = 0;
        object_exitAttackState(v0);
    }
}


// 0x8102896
int sub_8102896()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81028A8 + *v0))();
}


// 0x81028b4
int sub_81028B4()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    __int64 v3; // ST00_8
    __int64 v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 48);
        *(v0 + 16) = 8;
        *(v1 + 22) = *(*(v1 + 44) + 18);
        *(v1 + 1) = 4;
    }
    if ( __CFSHR__(*(v1 + 16), 2) )
    {
        LODWORD(v2) = *(v1 + 22);
        HIDWORD(v2) = *(v1 + 23);
        LODWORD(v3) = *(v1 + 22);
        HIDWORD(v3) = *(v1 + 23);
        object_highlightPanel(v2);
        LODWORD(v4) = v3;
        object_highlightPanel(v4);
        object_highlightPanel(v3 + 0x100000000LL);
    }
    v5 = *(v1 + 16);
    v6 = __OFSUB__(v5, 1);
    result = v5 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v6 )
    {
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x81028fe
int __fastcall sub_81028FE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6
    int result; // r0

    if ( !*(v5 + 1) )
    {
        *(v4 + 16) = 9;
        object_setCounterTime(8);
        *(v5 + 16) = 0;
        *(v5 + 1) = 4;
    }
    if ( *(v5 + 16) == 4 )
    {
        v6 = *(v5 + 12);
        v7 = *(v5 + 8);
        sub_80E4FCA(*(v5 + 22), *(v5 + 23), *(v5 + 2), a4);
    }
    result = *(v5 + 16) + 1;
    *(v5 + 16) = result;
    if ( result > 14 )
    {
        result = 8;
        *v5 = 8;
    }
    return result;
}


// 0x810293c
void sub_810293C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( !*(v1 + 1) )
    {
        *(v1 + 16) = *(v1 + 52);
        *(v1 + 1) = 4;
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        v0->parent = 0;
        v0->ai->unk_68 = 0;
        object_exitAttackState(v0);
    }
}


// 0x8102962
int sub_8102962()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8102974 + *v0))();
}


// 0x810298c
int sub_810298C()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 16) = *(v0 + 48);
        *(v0 + 1) = 4;
    }
    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( (result < 0) ^ v2 )
    {
        result = 4;
        *v0 = 4;
    }
    return result;
}


// 0x81029aa
int sub_81029AA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v0 + 16) = 14;
        *(v1 + 16) = 0;
        *(v1 + 1) = 4;
    }
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result >= 7 )
    {
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x81029ce
int __fastcall sub_81029CE(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // ST00_4
    int v6; // r7
    int v7; // r1
    int v8; // r2
    int result; // r0

    if ( !*(v4 + 1) )
    {
        *(v3 + 16) = 15;
        v5 = v4;
        v6 = *(v3 + 88) + 104;
        sub_80B8E30(15);
        v4 = v5;
        *(v5 + 16) = 0;
        PlaySoundEffect(253, v7, v8);
        camera_initShakeEffect_80302a8(0, 60);
        *(v5 + 1) = 4;
    }
    if ( !(*(v4 + 16) & 0xF) )
        PlaySoundEffect(227, 15, a3);
    result = *(v4 + 16) + 1;
    *(v4 + 16) = result;
    if ( result >= 12 )
    {
        result = 12;
        *v4 = 12;
    }
    return result;
}


// 0x8102a1c
int sub_8102A1C()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    char *v3; // r4
    int v4; // r1
    int v5; // r2
    signed int v6; // r0
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v0 + 16) = 16;
        v2 = 41;
        v3 = byte_191;
        if ( *(v1 + 3) )
        {
            v2 = 44;
            v3 = byte_191 + 2;
        }
        sub_80B8E70(*(*(v0 + 88) + 104), v2);
        PlaySoundEffect(v3, v4, v5);
        *(v1 + 16) = 0;
        *(v1 + 1) = 4;
    }
    v6 = *(v1 + 16);
    if ( v6 >= 5 && __CFSHR__(v6, 2) )
        sub_8102B34();
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result >= *(v1 + 52) + 5 )
    {
        result = 16;
        *v1 = 16;
    }
    return result;
}


// 0x8102a6e
int sub_8102A6E()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r2
    int v4; // r0
    int v5; // r2
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v0 + 16) = 17;
        v2 = 42;
        if ( *(v1 + 3) )
            v2 = 45;
        sub_80B8E70(*(*(v0 + 88) + 104), v2);
        sub_8102BFC();
        *(v1 + 16) = 0;
        object_setCounterTime(8);
        *(v1 + 1) = 4;
    }
    v3 = *(v1 + 16);
    v4 = 0;
    if ( !*(v1 + 16) || (v4 = 1, v3 == 8) || (v4 = 2, v3 == 16) )
        sub_8102B84(v4, *(v1 + 56));
    camera_initShakeEffect_80302a8(2, 3);
    if ( !*(v1 + 3) && !(*(v1 + 16) & 0xF) )
        PlaySoundEffect(299, 15, v5);
    result = *(v1 + 16) + 1;
    *(v1 + 16) = result;
    if ( result > *(v1 + 56) + 16 )
    {
        result = 20;
        *v1 = 20;
    }
    return result;
}


// 0x8102af2
void sub_8102AF2()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r0
    unsigned __int8 v4; // vf
    __int16 v5; // r0

    if ( !*(v1 + 1) )
    {
        v0->currAnimation = 19;
        v2 = 43;
        if ( *(v1 + 3) )
            v2 = 46;
        sub_80B8E70(v0->ai->unk_68, v2);
        *(v1 + 16) = *(v1 + 60);
        *(v1 + 1) = 4;
    }
    v3 = *(v1 + 16);
    v4 = __OFSUB__(v3--, 1);
    *(v1 + 16) = v3;
    if ( ((v3 < 0) ^ v4) | (v3 == 0) )
    {
        v0->currAnimation = 0;
        v0->ai->unk_68 = 0;
        v0->parent = 0;
        object_exitAttackState(v0);
        *v1 = v5;
    }
}


// 0x8102b34
int sub_8102B34()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r4
    char *v3; // r6
    int result; // r0
    __int64 v5; // r0

    v2 = object_getFrontDirection(v0);
    v3 = &byte_8102B68;
    if ( *(v1 + 3) )
        v3 = &byte_8102B78;
    while ( 1 )
    {
        result = *v3;
        if ( result == 127 )
            break;
        LODWORD(v5) = result * v2 + v0->panelX;
        HIDWORD(v5) = v3[1] + v0->panelY;
        object_highlightPanel(v5);
        v3 += 2;
    }
    return result;
}


// 0x8102b84
int __fastcall sub_8102B84(int result, char a2)
{
    Battle *v2; // r5
    int v3; // r7
    int v4; // r4
    int v5; // r6
    char *v6; // [sp+0h] [bp-14h]
    char v7; // [sp+4h] [bp-10h]

    if ( !*(v3 + 3) )
    {
        *(v3 + 15) = result;
        *(v3 + 13) = 8 * (2 - result) + a2;
        v6 = *(&off_8102BDC + result);
        v7 = object_getFrontDirection(v2);
        while ( 1 )
        {
            result = *v6;
            if ( result == 127 )
                break;
            v4 = *(v3 + 12);
            v5 = *(v3 + 8);
            sub_80D07A0(result * v7 + v2->panelX, v6[1] + v2->panelY, *(v3 + 2), 393216);
            v6 += 2;
        }
    }
    return result;
}


// 0x8102bfc
int sub_8102BFC()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r4
    int v5; // r6
    int v6; // r3

    result = *(v1 + 3);
    if ( result == 1 )
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 12);
        v5 = *(v1 + 8);
        result = sub_80DC6BC(v3 + v0->panelX, v0->panelY, *(v1 + 2), v6);
    }
    return result;
}


// 0x8102c38
void __noreturn sub_8102C38()
{
    sub_8102CA0();
}


// 0x8102ca0
signed int __noreturn sub_8102CA0()
{
    int v0; // r5
    char *v1; // r7
    signed int v2; // r4
    signed int result; // r0

    v1 = &byte_8102CE8;
    v2 = 0;
    do
    {
        result = object_reservePanel(*(v0 + 18) + *v1, *(v0 + 19) + byte_0[v1 + 1]);
        v1 += 2;
        ++v2;
    }
    while ( v2 < 8 );
    return result;
}


// 0x8102cc4
signed int __noreturn sub_8102CC4()
{
    int v0; // r5
    char *v1; // r7
    signed int v2; // r4
    signed int result; // r0

    v1 = &byte_8102CE8;
    v2 = 0;
    do
    {
        result = object_removePanelReserve(*(v0 + 18) + *v1, *(v0 + 19) + byte_0[v1 + 1]);
        v1 += 2;
        ++v2;
    }
    while ( v2 < 8 );
    return result;
}


// 0x8102cf8
signed int __fastcall sub_8102CF8(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    signed int v5; // r6
    int v6; // r0
    int v7; // r2
    int v8; // r3
    char v9; // vf
    int *v10; // r0
    int v11; // r0
    int v12; // r4
    int v13; // r2
    int v14; // r4
    signed int result; // r0
    char *v16; // r0
    int v17; // r1
    int v18; // r2
    signed int v19; // ST0C_4
    int v20; // [sp+0h] [bp-28h]
    unsigned __int8 *v21; // [sp+4h] [bp-24h]
    int v22; // [sp+8h] [bp-20h]
    int v23; // [sp+Ch] [bp-1Ch]
    int v24; // [sp+10h] [bp-18h]
    int v25; // [sp+14h] [bp-14h]
    int v26; // [sp+18h] [bp-10h]
    int v27; // [sp+1Ch] [bp-Ch]
    int v28; // [sp+20h] [bp-8h]
    signed int v29; // [sp+24h] [bp-4h]
    int v30; // [sp+28h] [bp+0h]
    int v31; // [sp+40h] [bp+18h]
    int v32; // [sp+58h] [bp+30h]

    v20 = a1;
    v21 = a2;
    v22 = a3;
    v23 = a4 & 0x7F;
    v32 = a4 & 0x80;
    v5 = 0;
    v29 = 0;
    ZeroFillByWord(&v30, 48);
    v6 = object_getFrontDirection(v4);
    v7 = *(v20 + 18);
    v8 = v4->panelX;
    if ( ((v6 < 0) ^ v9) | (v6 == 0) )
    {
        if ( v7 >= v8 )
            goto LABEL_8;
    }
    else if ( v8 >= v7 )
    {
        goto LABEL_8;
    }
    if ( sub_8102E5C(*(v20 + 18), *(v20 + 19), v21) )
    {
        LOBYTE(v30) = *(v20 + 18) | 16 * *(v20 + 19);
        v5 = 1;
        v29 = 1;
    }
LABEL_8:
    v10 = &byte_8102E4C[8 * v4->Alliance];
    v27 = *v10;
    v28 = v10[1];
    v26 = object_getFrontDirection(v4);
    v24 = v26 + v4->panelX;
    v25 = 1;
    while ( object_isValidPanel(v24, 1) )
    {
        do
        {
            if ( sub_8102E5C(v24, v25, v21) && (!v29 || (v24 | 16 * v25) != v30) )
            {
                if ( object_checkPanelParameters(v24, v25, v27, v28) )
                    *(&v30 + v5++) = v24 | 16 * v25;
            }
            ++v25;
        }
        while ( v25 <= 3 );
        v25 = 1;
        v24 += v26;
    }
    if ( v5 < v23 && !v32 )
    {
        v11 = sub_8102CF8(v20, &v30, &v31, v23 - v5 + 128);
        v12 = v11;
        if ( v11 )
        {
            sub_8000C72(&v31, v11, v11);
            v13 = v23 - v5;
            if ( v23 - v5 > v12 )
                v13 = v12;
            v14 = v13;
            CopyBytes(&v31, &v30 + v5, v13);
            v5 += v14;
        }
    }
    result = v5;
    if ( v5 )
    {
        v16 = &v30;
        v17 = v5;
        if ( v29 )
        {
            v16 = &v30 + 1;
            v17 = v5 - 1;
        }
        sub_8000C72(v16, v17, v17);
        v18 = v23;
        if ( v23 > v5 )
            v18 = v5;
        v19 = v18;
        CopyBytes(&v30, v22, v18);
        result = v19;
    }
    return result;
}


// 0x8102e5c
signed int __fastcall sub_8102E5C(int a1, int a2, unsigned __int8 *a3)
{
    int v3; // r0
    signed int v4; // r3
    int v5; // r1

    v3 = a1 | 16 * a2;
    v4 = 1;
    while ( 1 )
    {
        v5 = *a3++;
        if ( !v5 )
            break;
        if ( v5 == v3 )
            return 0;
    }
    return v4;
}


// 0x8102e74
unsigned int __fastcall sub_8102E74(_BYTE *a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    _BYTE *v5; // r4
    unsigned int result; // r0
    char v7; // ST00_1
    int v8; // r6
    int v9; // r0
    int v10; // r1

    v5 = a1;
    PlaySoundEffect(185, a2, a3);
    while ( 1 )
    {
        result = *v5;
        if ( !*v5 )
            break;
        v7 = result & 7;
        v8 = *(v4 + 8);
        object_spawnCollisionRegion(result & 7, result >> 4, *(v4 + 2), 0);
        object_getFlip(v3);
        v9 = object_getCoordinatesForPanels(v7);
        SpawnT4BattleObjectWithId0(v3, v9, v9, v10, 0);
        ++v5;
    }
    return result;
}


// 0x8102ec0
unsigned int __fastcall sub_8102EC0(_BYTE *a1)
{
    _BYTE *v1; // r4
    unsigned int v2; // r0
    unsigned __int8 v3; // cf
    unsigned int result; // r0
    __int64 v5; // r0

    v1 = a1;
    v2 = sub_800A704();
    v3 = __CFSHR__(v2, 3);
    result = v2 >> 3;
    if ( v3 )
    {
        while ( 1 )
        {
            result = *v1;
            if ( !*v1 )
                break;
            HIDWORD(v5) = result >> 4;
            LODWORD(v5) = result & 7;
            object_highlightPanel(v5);
            ++v1;
        }
    }
    return result;
}


// 0x8102ee2
int __noreturn sub_8102EE2()
{
    int v0; // r5
    int *v1; // r0
    int v2; // ST00_4
    bool v3; // zf
    int result; // r0

    v1 = &byte_8102F0C[8 * *(v0 + 22)];
    v2 = 5 * *(v0 + 22) + 1;
    v3 = object_checkPanelParameters(v2, 2, *v1, v1[1]) == 0;
    result = v2;
    if ( v3 )
        result = 0;
    return result;
}


// 0x8102f38
int __fastcall sub_8102F38(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r6
    int v7; // r4
    int v8; // ST00_4
    int v9; // ST04_4
    int v10; // r3

    v6 = *(v5 + 8);
    v7 = *(v5 + 14) << 24;
    v8 = 5 * *(v4 + 22) + 1;
    v9 = *(v5 + 2);
    sub_80DC986(v8, 1, v9, a4);
    return sub_80DC986(v8, 3, v9, v10);
}


// 0x8102f5c
void __fastcall __noreturn sub_8102F5C(int a1)
{
    Battle *v1; // r5
    int *v2; // r0
    int v3; // [sp-8h] [bp-Ch]
    int v4; // [sp-4h] [bp-8h]

    v3 = 5 * v1->Alliance + 1;
    v4 = *(a1 + 19);
    object_getFrontDirection(v1);
    v2 = &byte_8102F84[8 * v1->Alliance];
    object_getFirstPanelInDirectionFiltered(v3, v4, *v2, v2[1]);
}


// 0x8102f98
void __noreturn sub_8102F98()
{
    Battle *v0; // r5
    int *v1; // r0
    int v2; // [sp-4h] [bp-8h]

    v2 = -5 * v0->Alliance + 6;
    object_getFrontDirection(v0);
    v1 = &byte_8102FDC[8 * v0->Alliance];
    object_getFirstPanelInDirectionFiltered(v2, 2, *v1, v1[1]);
}


// 0x8102ff4
void __fastcall __noreturn sub_8102FF4(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int *v3; // r0
    int v4; // [sp-4h] [bp-Ch]

    v2 = a1;
    v4 = -5 * v1->Alliance + 6;
    object_getFrontDirection(v1);
    v3 = &byte_8103024[8 * v1->Alliance];
    object_getFirstPanelInDirectionFiltered(v4, *(v2 + 19), *v3, v3[1]);
}


// 0x8103038
int sub_8103038()
{
    Battle *v0; // r5
    int v1; // r4
    int *v2; // r0
    bool v3; // zf
    int result; // r0

    object_getFrontDirection(v0);
    v1 = -5 * v0->Alliance + 6;
    if ( object_isValidPanel(v1, 2) )
        sub_800D5F0(v1, v0->Alliance ^ 1);
    v2 = &byte_810308C[8 * v0->Alliance];
    v3 = object_checkPanelParameters(v1, 2, *v2, v2[1]) == 0;
    result = v1;
    if ( v3 )
        result = 0;
    return result;
}


// 0x81030a0
int sub_81030A0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81030B4 + *v0))();
}


// 0x81030c0
void __fastcall sub_81030C0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 )
    {
        object_exitAttackState(v1);
    }
    else
    {
        v4 = &byte_8103100[8 * v1->Alliance];
        v5 = *v4;
        v6 = *(v4 + 1);
        v7 = (*(v2 + 40))();
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x8103110
int sub_8103110()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x810313c
void sub_810313C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x8103176
int sub_8103176()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8103188 + *v0))();
}


// 0x81031a0
void __fastcall sub_81031A0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_81031F0[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8103200
int sub_8103200()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x810322c
int sub_810322C()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x810324e
int sub_810324E()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            sub_81039D8(*(v1 + 12));
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 6;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8103286
int __fastcall sub_8103286(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v5 + 1) )
    {
        v9 = *(v5 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 20;
            *v5 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 5;
        sub_80C47EC(5, a2, a3, a4);
        PlaySoundEffect(199, v6, v7);
        object_setCounterTime(12);
        sub_8103966(*(v5 + 12));
        sub_81039A4(*(v5 + 12));
        camera_initShakeEffect_80302a8(2, 30);
        result = 30;
        *(v5 + 16) = 30;
    }
    return result;
}


// 0x81032d0
void sub_81032D0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x81032f4
int sub_81032F4()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8103308 + *v0))();
}


// 0x8103320
void __fastcall sub_8103320(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_8103370[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8103380
int sub_8103380()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x81033ac
int sub_81033AC()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x81033ce
int sub_81033CE()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v1 + 14) = 0;
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 7;
        result = *(v1 + 13);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x81033f6
int __fastcall sub_81033F6(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int v8; // r1
    int v9; // r2
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf
    int v13; // r0

    if ( *(v5 + 1) )
    {
        v11 = *(v5 + 16);
        v12 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            v13 = *(v5 + 12) - 1;
            *(v5 + 12) = v13;
            if ( v13 <= 0 )
            {
                result = 20;
                *v5 = 20;
            }
            else
            {
                ++*(v5 + 14);
                result = 0;
                *(v5 + 1) = 0;
            }
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 8;
        *(v4 + 17) = -1;
        sub_8103A08(*(v5 + 14), a2, a3, a4);
        PlaySoundEffect(174, v6, v7);
        PlaySoundEffect(255, v8, v9);
        *(v5 + 16) = 15;
        result = *(v5 + 14);
        if ( !*(v5 + 14) )
            result = object_setCounterTime(18);
    }
    return result;
}


// 0x8103452
void sub_8103452()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8103476
int sub_8103476()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8103488 + *v0))();
}


// 0x810349c
void __fastcall sub_810349C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_81034EC[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x81034fc
int sub_81034FC()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8103528
int sub_8103528()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x810354a
int *__fastcall sub_810354A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int *result; // r0

    if ( *(v5 + 1) )
    {
        result = (*(v5 + 16) - 1);
        *(v5 + 16) = result;
        if ( result == dword_14 )
        {
            result = sub_8103A20(20, a2, a3, a4);
        }
        else if ( result <= 0 )
        {
            result = &dword_10;
            *v5 = 16;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 12;
        result = dword_28;
        *(v5 + 16) = 40;
    }
    return result;
}


// 0x810357a
void sub_810357A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_exitAttackState(v0);
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x810359e
int sub_810359E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81035B0 + *v0))();
}


// 0x81035d8
void __fastcall sub_81035D8(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8103634
int sub_8103634()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 22);
        v6 = *(v1 + 23);
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8103660
int sub_8103660()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x8103682
int sub_8103682()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 10;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x81036a6
int __fastcall sub_81036A6(int a1, int a2, int a3, int a4)
{
    _BYTE *v4; // r5
    int v5; // r7
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    char v11; // r0
    int v12; // r2
    int v13; // r4
    _WORD *v14; // ST00_4
    int v15; // r7
    int v16; // r3

    if ( *(v5 + 1) )
    {
        v9 = *(v5 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            v11 = object_getEnemyDirection();
            v12 = *(v5 + 2);
            v13 = *(v5 + 3);
            v14 = v5;
            v15 = *(v5 + 48);
            sub_80CF778(v11 + v4[18], v4[19], v12, v16);
            result = 20;
            *v14 = 20;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        v4[16] = 9;
        sub_80C47EC(9, a2, a3, a4);
        PlaySoundEffect(207, v6, v7);
        result = 5;
        *(v5 + 16) = 5;
    }
    return result;
}


// 0x81036f0
signed int sub_81036F0()
{
    int v0; // r7
    signed int result; // r0

    result = **(v0 + 48);
    if ( result )
    {
        if ( !*(result + 11) )
            return result;
        if ( *(result + 11) != 1 )
        {
            object_setFlag1(4096);
            sub_8103B20(*(**(v0 + 48) + 80));
        }
    }
    result = 24;
    *v0 = 24;
    return result;
}


// 0x8103754
int sub_8103754()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 28;
            *v0 = 28;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 13);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8103774
int sub_8103774()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 32;
            *v1 = 32;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_setFlag1(64);
        *(v0 + 16) = 4;
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x810379e
int sub_810379E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 36;
            *v1 = 36;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 3;
        *(v1 + 16) = 3;
    }
    return result;
}


// 0x81037e4
void sub_81037E4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 12);
    }
}


// 0x8103808
int __fastcall __noreturn sub_8103808(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r0
    int v7; // r1
    int v8; // r6
    signed int v9; // r4
    int v10; // r0
    int v11; // r1
    int result; // r0
    int v17; // r1
    int v18; // [sp+0h] [bp-30h]
    int v19; // [sp+4h] [bp-2Ch]
    int v20; // [sp+8h] [bp-28h]

    v18 = a3;
    v19 = a4;
    v5 = 0;
    do
    {
        v6 = object_reservePanel(byte_810389C[2 * v5] + *(v4 + 18), byte_810389C[2 * v5 + &byte_0[1]] + *(v4 + 19));
        ++v5;
    }
    while ( v5 < 4 );
    v8 = object_getPanelsExceptCurrentFilterred(v6, v7, v18, v19);
    v9 = 0;
    do
    {
        v10 = object_removePanelReserve(byte_810389C[2 * v9] + *(v4 + 18), byte_810389C[2 * v9 + &byte_0[1]] + *(v4 + 19));
        ++v9;
    }
    while ( v9 < 4 );
    if ( v8 || (v8 = object_getPanelsExceptCurrentFilterred(v10, v11, v18, v19)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v8) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v17 = *(v4 + 19);
    }
    return result;
}


// 0x81038a4
int __fastcall sub_81038A4(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // r6
    int v12; // [sp+0h] [bp-38h]
    int v13; // [sp+4h] [bp-34h]
    int v14; // [sp+8h] [bp-30h]
    int v15; // [sp+Ch] [bp-2Ch]
    int v16; // [sp+10h] [bp-28h]

    v12 = *(a1 + 19);
    v14 = a3;
    v15 = a4;
    v13 = -object_getFrontDirection(v4);
    v5 = 6;
    if ( v4->Alliance )
        v5 = 1;
    do
    {
        v6 = object_getPanelsInColumnIgnoreRowFiltered(v5, v12, v14, v15);
        if ( v6 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            return *(&v16 + v6) & 7;
        }
        v5 += v13;
    }
    while ( v5 >= 1 && v5 <= 6 );
    return 0;
}


// 0x81038fe
int __fastcall sub_81038FE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r0
    int v7; // r6
    int v13; // [sp+0h] [bp-28h]

    v5 = a1;
    v6 = 1;
    if ( *(v4 + 22) )
        v6 = 6;
    v7 = object_getPanelsInColumnIgnoreRowFiltered(v6, *(v5 + 19), a3, a4);
    if ( !v7 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v13 + v7) & 7;
}


// 0x8103936
int __fastcall __noreturn sub_8103936(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // ST08_4
    int v6; // ST0C_4
    int v7; // r4
    int v8; // r6
    int v9; // ST00_4
    bool v10; // zf
    int result; // r0

    v5 = a3;
    v6 = a4;
    v7 = *(a1 + 18);
    v8 = *(a1 + 19);
    v9 = -2 * object_getFrontDirection(v4) + v7;
    v10 = object_checkPanelParameters(v9, v8, v5, v6) == 0;
    result = v9;
    if ( v10 )
        result = 0;
    return result;
}


// 0x8103966
int __fastcall sub_8103966(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r4
    int v4; // r6

    v3 = *&byte_8103990[4 * (a1 - 1)];
    v4 = *(v2 + 8);
    return object_spawnCollisionRegion(
                     *(&dword_8103A04 + 2 * *(v1 + 22)),
                     *(&dword_8103A04 + 2 * *(v1 + 22) + 1),
                     *(v2 + 2),
                     0);
}


// 0x81039a4
void __fastcall sub_81039A4(int a1)
{
    Battle *v1; // r5
    int v2; // r6
    int v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r1
    int v9; // r0
    int v10; // r4

    v2 = a1 - 1;
    v3 = 2 * v1->Alliance;
    v4 = *(&dword_8103A04 + v3 + 1);
    v5 = object_getCoordinatesForPanels(*(&dword_8103A04 + v3));
    v7 = v6;
    v8 = v5;
    v9 = *(&dword_81039D4 + v2);
    v10 = (v1->Alliance << 8) | v9;
    SpawnT4BattleObjectWithId0(v1, v9, v8, v7, 0);
}


// 0x81039d8
int __fastcall sub_81039D8(int a1)
{
    int v1; // r5

    return object_highlightPanelRegion(
                     *(&dword_8103A04 + 2 * *(v1 + 22)),
                     *(&dword_8103A04 + 2 * *(v1 + 22) + 1),
                     *(&dword_81039FC + a1 - 1),
                     *(v1 + 22));
}


// 0x8103a08
int __fastcall sub_8103A08(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r2
    int v8; // r6
    int v9; // r7

    v6 = *(v5 + 3) | (a1 << 8);
    v7 = *(v5 + 2);
    v8 = *(v5 + 8);
    v9 = *(v5 + 44);
    return sub_80CED58(*(v4 + 18), *(v4 + 19), v7, a4);
}


// 0x8103a20
int *__fastcall sub_8103A20(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    signed int v6; // r4
    int v7; // r6
    int v8; // r7
    signed int v9; // r4
    int v10; // r6
    int v11; // r2
    int *result; // r0
    signed int v13; // r4
    int *v14; // ST04_4
    char v15; // [sp-8h] [bp-38h]
    char v16; // [sp-8h] [bp-38h]
    int v17; // [sp+0h] [bp-30h]
    int v18; // [sp+4h] [bp-2Ch]
    int v19; // [sp+8h] [bp-28h]
    int v20; // [sp+Ch] [bp-24h]

    v17 = v5;
    v19 = *(*(v5 + 44) + 19);
    v6 = 0;
    v7 = 1;
    v8 = 0;
    while ( 1 )
    {
        if ( v7 == v19 )
        {
            v15 = *(&dword_8103B00 + 2 * *(v4 + 22) + v6);
            if ( object_checkPanelParameters(*(&dword_8103B00 + 2 * *(v4 + 22) + v6), v7, 16, 260571264) )
                *(&v20 + v8++) = v15 | 16 * v7;
        }
        if ( ++v7 > 3 )
        {
            ++v6;
            v7 = 1;
            if ( v6 >= 2 )
                break;
        }
    }
    v18 = v8;
    if ( v8 )
        sub_8000C72(&v20, v8, v8);
    v9 = 0;
    v10 = 1;
    while ( 1 )
    {
        if ( v10 != v19 )
        {
            v16 = *(&dword_8103B00 + 2 * *(v4 + 22) + v9);
            if ( object_checkPanelParameters(*(&dword_8103B00 + 2 * *(v4 + 22) + v9), v10, 16, 260571264) )
                *(&v20 + v8++) = v16 | 16 * v10;
        }
        if ( ++v10 > 3 )
        {
            ++v9;
            v10 = 1;
            if ( v9 >= 2 )
                break;
        }
    }
    v11 = v18;
    if ( v8 != v18 )
        sub_8000C72(&v20 + v18, v8 - v18, v8 - v18);
    result = &v20;
    v13 = 0;
    do
    {
        if ( v13 >= v8 )
            break;
        v14 = result;
        sub_8103B10(*(result + v13) & 7, *(result + v13) >> 4, v11, a4);
        result = v14;
        ++v13;
    }
    while ( v13 < *(v17 + 12) );
    return result;
}


// 0x8103b10
int __fastcall sub_8103B10(char a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r2
    int v6; // r4
    int v7; // r6
    int v8; // r7

    v5 = *(v4 + 2);
    v6 = *(v4 + 3);
    v7 = *(v4 + 8);
    v8 = *(v4 + 44);
    return sub_80CF058(a1, a2, v5, a4);
}


// 0x8103b20
signed int __fastcall __noreturn sub_8103B20(int a1)
{
    unsigned __int8 *v1; // r5
    int v2; // r4
    int v3; // r2
    bool v4; // zf
    signed int result; // r0
    int v6; // r2
    int v7; // r1
    int v8; // [sp-4h] [bp-Ch]

    v2 = a1;
    v3 = v1[22];
    v4 = object_checkPanelParameters(1, *(a1 + 19), 16, 260571264) == 0;
    result = 1;
    if ( v4 )
    {
        v6 = v1[22];
        v8 = *(v2 + 19) + 1;
        v4 = object_checkPanelParameters(1, v8, 16, 260571264) == 0;
        result = 1;
        if ( v4 )
        {
            v4 = object_checkPanelParameters(1, v8 - 2, 16, 260571264) == 0;
            result = 1;
            if ( v4 )
            {
                result = v1[18];
                v7 = v1[19];
            }
        }
    }
    return result;
}


// 0x8103cb0
int sub_8103CB0()
{
    int v0; // r5

    return (*(&off_8103CCC + *(*(v0 + 88) + 128)))();
}


// 0x8103cd0
void sub_8103CD0()
{
    int v0; // r5
    _BYTE *v1; // r6
    char v2; // r0
    int v3; // r0

    if ( v1[4] < 2 )
    {
        ++v1[4];
        sub_8103F54();
    }
    else
    {
        v1[4] = 0;
        if ( v1[5] >= 5 )
        {
            v1[5] = 0;
            if ( (*(v0 + 38) >> 1) > *(v0 + 36) && (v3 = v1[7], v1[7] = v3 ^ 1, v3) )
                sub_8104050();
            else
                sub_8103FE8();
        }
        else
        {
            ++v1[5];
            if ( v1[6] >= 3 )
            {
                v1[6] = 0;
                sub_810401C();
            }
            else
            {
                ++v1[6];
                GetPositiveSignedRNG2();
                if ( (v2 & 0xF) < 8 )
                    sub_8103F80();
                else
                    sub_8103FB4();
            }
        }
    }
}


// 0x8103d4c
signed int __noreturn sub_8103D4C()
{
    int v0; // r5
    __int16 v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    signed int v6; // r4
    int v7; // r6
    signed int result; // r0

    v1 = *(&dword_8103DB4 + sub_800FE36());
    *(v0 + 36) = v1;
    *(v0 + 38) = v1;
    *(v0 + 16) = 64;
    sprite_setAnimation(v0, 0x40u);
    sprite_loadAnimationData(v0);
    v2 = object_setCollisionRegion(2);
    *(v0 + 96) = sub_80E7D84(v2, v3, v4, v5);
    v6 = 0;
    do
    {
        v7 = byte_8103DA8[3 * *(v0 + 22) + v6];
        object_reservePanel(v7, 1);
        object_reservePanel(v7, 2);
        result = object_reservePanel(v7, 3);
        ++v6;
    }
    while ( v6 < 3 );
    return result;
}


// 0x8103dbc
void sub_8103DBC()
{
    ;
}


// 0x8103dc0
void sub_8103DC0()
{
    ;
}


// 0x8103dc4
int sub_8103DC4()
{
    _DWORD *v0; // r5
    int v1; // r0
    int result; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(2);
    v0[15] = 0;
    result = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = result;
    *(v3 + 7) = result;
    return result;
}


// 0x8103dfa
signed int sub_8103DFA()
{
    Battle *v0; // r5
    signed int result; // r0

    sub_80174FE(v0);
    result = 65;
    v0->currAnimation = 65;
    return result;
}


// 0x8103e06
signed int sub_8103E06()
{
    Battle *v0; // r5
    signed int result; // r0

    sub_80175B8(v0);
    result = 65;
    v0->currAnimation = 65;
    return result;
}


// 0x8103e12
signed int sub_8103E12()
{
    int v0; // r5
    signed int result; // r0

    sub_8017688();
    result = 65;
    *(v0 + 16) = 65;
    return result;
}


// 0x8103e1e
signed int sub_8103E1E()
{
    int v0; // r5
    signed int result; // r0

    sub_8017768();
    result = 65;
    *(v0 + 16) = 65;
    return result;
}


// 0x8103e2a
__int64 sub_8103E2A()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8103E64);
    HIDWORD(v0) = sub_800FE28(&byte_8103E64[4]);
    sub_800FE28(&byte_8103E64[8]);
    sub_800FE28(&byte_8103E64[12]);
    return v0;
}


// 0x8103e74
__int64 sub_8103E74()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8103EA0);
    HIDWORD(v0) = sub_800FE28(&byte_8103EA0[4]);
    sub_800FE28(&byte_8103EA0[8]);
    return v0;
}


// 0x8103eac
__int64 sub_8103EAC()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8103ED8);
    HIDWORD(v0) = sub_800FE28(&byte_8103ED8[4]);
    sub_800FE28(&byte_8103ED8[8]);
    return v0;
}


// 0x8103ee4
int sub_8103EE4()
{
    return sub_800FE28(&off_8103EF4);
}


// 0x8103ef8
__int64 sub_8103EF8()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8103F24);
    HIDWORD(v0) = sub_800FE28(&byte_8103F24[4]);
    sub_800FE28(&byte_8103F24[8]);
    return v0;
}


// 0x8103f30
int sub_8103F30()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8103F4C);
    sub_800FE28(&byte_8103F4C[4]);
    return v0;
}


// 0x8103f54
int sub_8103F54()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2
    char v4; // r3

    *(v1 + 40) = sub_8104E98;
    sub_810407E(0);
    v2 = sub_8103E2A();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 14) = v4;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x8103f80
void sub_8103F80()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_810407E(1);
    v2 = sub_8103E74();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = BYTE4(v2);
    *(v1 + 40) = sub_8104F6C;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8103fb4
void sub_8103FB4()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 3;
    sub_810407E(2);
    v2 = sub_8103EAC();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = BYTE4(v2);
    *(v1 + 40) = sub_8104EF8;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8103fe8
void sub_8103FE8()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810407E(3);
    *(v1 + 48) = sub_81040AC(4);
    *(v1 + 12) = sub_8103EE4();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810401c
void sub_810401C()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810407E(5);
    v2 = sub_8103EF8();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 48) = *(v0 + 96);
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8104050
void sub_8104050()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_810407E(6);
    *(v1 + 12) = sub_8103F30();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810407e
int __fastcall sub_810407E(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_81040F0[8 * a1]);
    result = sub_800FE12(&byte_8104144[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x81040ac
int __fastcall sub_81040AC(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_81040F0[8 * a1]);
    return (sub_800FE12(&byte_8104144[8 * v1]) << 16) | v2;
}


// 0x8104188
int sub_8104188()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810419C + *v0))();
}


// 0x81041b0
int __fastcall sub_81041B0(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    int result; // r0

    object_canMove(a1);
    if ( v3 )
    {
        *(v2 + 26) = 0;
        result = (loc_801171C)();
    }
    else
    {
        object_setFlag1(64);
        *(v1 + 16) = 67;
        *(v2 + 16) = 3;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x81041d6
int sub_81041D6()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char *v5; // r0
    int v6; // r2
    int v7; // r3
    int v8; // r0
    char v9; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v5 = &byte_8104228[8 * *(v0 + 22)];
        v6 = *v5;
        v7 = *(v5 + 1);
        v8 = (*(v1 + 40))();
        if ( v8 )
        {
            *(v0 + 20) = v8;
            *(v0 + 21) = v9;
            *(v0 + 18) = v8;
            *(v0 + 19) = v9;
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            *(v0 + 62) = 255;
            object_clearCollisionRegion();
            sub_801DD34();
            result = 8;
            *v1 = 8;
        }
        else
        {
            *(v1 + 26) = 0;
            result = (loc_801171C)();
        }
    }
    return result;
}


// 0x8104238
int sub_8104238()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8104258
int sub_8104258()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        *(v0 + 60) -= *(v0 + 72);
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 65;
        *(v0 + 60) = 9830400;
        *(v0 + 72) = 1310720;
        result = 7;
        *(v1 + 16) = 7;
    }
    return result;
}


// 0x8104290
int sub_8104290()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    int v5; // ST08_4
    int v6; // r4
    int v7; // r6
    int v8; // r7
    int v9; // r1
    int result; // r0
    int v11; // r0
    unsigned __int8 v12; // vf

    if ( *(v1 + 1) )
    {
        v11 = *(v1 + 16);
        v12 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v12) | (result == 0) )
        {
            *(v0 + 16) = 64;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 66;
        *(v0 + 60) = 0;
        object_setCollisionRegion(2);
        sub_801DC7C(0, 0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        camera_initShakeEffect_80302a8(2, 30);
        v4 = PlaySoundEffect(456, v2, v3);
        v5 = v1;
        v6 = 2 * *(v1 + 13) | (*(v1 + 13) << 8) | (*(v1 + 14) << 16);
        v7 = *(v1 + 8);
        v8 = *(v1 + 44);
        sub_80E9D0C(v4, v9, 0, 0);
        result = *(v5 + 24);
        *(v5 + 16) = result;
    }
    return result;
}


// 0x810430e
int sub_810430E()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8104320 + *v0))();
}


// 0x8104340
int __fastcall sub_8104340(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    int result; // r0

    object_canMove(a1);
    if ( v3 )
    {
        *(v2 + 26) = 0;
        result = (loc_801171C)();
    }
    else
    {
        object_setFlag1(64);
        *(v1 + 16) = 67;
        *(v2 + 16) = 3;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x8104366
int sub_8104366()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char *v5; // r0
    int v6; // r2
    int v7; // r3
    int v8; // r0
    char v9; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v5 = &byte_81043B8[8 * *(v0 + 22)];
        v6 = *v5;
        v7 = *(v5 + 1);
        v8 = (*(v1 + 40))(*(v1 + 44));
        if ( v8 )
        {
            *(v0 + 20) = v8;
            *(v0 + 21) = v9;
            *(v0 + 18) = v8;
            *(v0 + 19) = v9;
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            *(v0 + 62) = 255;
            object_clearCollisionRegion();
            sub_801DD34();
            result = 8;
            *v1 = 8;
        }
        else
        {
            *(v1 + 26) = 0;
            result = (loc_801171C)();
        }
    }
    return result;
}


// 0x81043c8
int sub_81043C8()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81043e8
int sub_81043E8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        *(v0 + 60) -= *(v0 + 72);
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 65;
        *(v0 + 60) = 9830400;
        *(v0 + 72) = 1310720;
        result = 7;
        *(v1 + 16) = 7;
    }
    return result;
}


// 0x8104420
int sub_8104420()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 66;
        *(v0 + 60) = 0;
        object_setCollisionRegion(2);
        sub_801DC7C(0, 0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        camera_initShakeEffect_80302a8(2, 30);
        PlaySoundEffect(456, v2, v3);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x8104474
int sub_8104474()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            sub_8105050();
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 68;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x81044aa
int __fastcall sub_81044AA(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int v7; // r1
    int v8; // r2
    int result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0

    if ( *(v4 + 1) )
    {
        v10 = *(v4 + 18);
        v11 = __OFSUB__(v10--, 1);
        *(v4 + 18) = v10;
        if ( ((v10 < 0) ^ v11) | (v10 == 0) )
        {
            PlaySoundEffect(299, a2, a3);
            *(v4 + 18) = 16;
        }
        v12 = *(v4 + 16);
        v11 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v11) | (result == 0) )
        {
            result = 28;
            *v4 = 28;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 69;
        sub_810506A();
        object_setCounterTime(12);
        PlaySoundEffect(401, v5, v6);
        PlaySoundEffect(299, v7, v8);
        *(v4 + 16) = 120;
        result = 16;
        *(v4 + 18) = 16;
    }
    return result;
}


// 0x8104500
int sub_8104500()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 64;
        object_setCollisionRegion(2);
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x810452a
int sub_810452A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810453C + *v0))();
}


// 0x810455c
int __fastcall sub_810455C(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    int result; // r0

    object_canMove(a1);
    if ( v3 )
    {
        *(v2 + 26) = 0;
        result = (loc_801171C)();
    }
    else
    {
        object_setFlag1(64);
        *(v1 + 16) = 67;
        *(v2 + 48) = 0;
        *(v2 + 16) = 3;
        result = 4;
        *v2 = 4;
    }
    return result;
}


// 0x8104586
int sub_8104586()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    char *v5; // r0
    int v6; // r2
    int v7; // r3
    int v8; // r0
    char v9; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v5 = &byte_81045D8[8 * *(v0 + 22)];
        v6 = *v5;
        v7 = *(v5 + 1);
        v8 = (*(v1 + 40))(*(v1 + 44));
        if ( v8 )
        {
            *(v0 + 20) = v8;
            *(v0 + 21) = v9;
            *(v0 + 18) = v8;
            *(v0 + 19) = v9;
            object_setCoordinatesFromPanels(v0);
            object_updateCollisionPanels(v0);
            *(v0 + 62) = 255;
            object_clearCollisionRegion();
            sub_801DD34();
            result = 8;
            *v1 = 8;
        }
        else
        {
            *(v1 + 26) = 0;
            result = (loc_801171C)();
        }
    }
    return result;
}


// 0x81045e8
int sub_81045E8()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8104608
int sub_8104608()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        *(v0 + 60) -= *(v0 + 72);
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 65;
        *(v0 + 60) = 9830400;
        *(v0 + 72) = 1310720;
        result = 7;
        *(v1 + 16) = 7;
    }
    return result;
}


// 0x8104640
int sub_8104640()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 66;
        *(v0 + 60) = 0;
        object_setCollisionRegion(2);
        sub_801DC7C(0, 0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        camera_initShakeEffect_80302a8(2, 30);
        PlaySoundEffect(456, v2, v3);
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x8104694
int __fastcall sub_8104694(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0

    if ( *(v4 + 1) )
    {
        v9 = *(v4 + 14) + 1;
        *(v4 + 14) = v9;
        if ( !__CFSHR__(v9, 3) )
            sub_81050C2();
        v10 = *(v4 + 18);
        v11 = __OFSUB__(v10--, 1);
        *(v4 + 18) = v10;
        if ( ((v10 < 0) ^ v11) | (v10 == 0) )
        {
            PlaySoundEffect(198, a2, a3);
            *(v4 + 18) = 16;
        }
        v12 = *(v4 + 16);
        v11 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v11) | (result == 0) )
        {
            result = 24;
            *v4 = 24;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 70;
        v5 = PlaySoundEffect(198, a2, a3);
        sub_80E8A2A(v5, v6, v7, 2816);
        *(v4 + 16) = *(v4 + 12);
        *(v4 + 18) = 16;
        result = 0;
        *(v4 + 14) = 0;
    }
    return result;
}


// 0x81046f6
int __fastcall sub_81046F6(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int v7; // r1
    int v8; // r2
    int result; // r0
    int v10; // r0
    unsigned __int8 v11; // vf
    int v12; // r0

    if ( *(v4 + 1) )
    {
        v10 = *(v4 + 18);
        v11 = __OFSUB__(v10--, 1);
        *(v4 + 18) = v10;
        if ( ((v10 < 0) ^ v11) | (v10 == 0) )
        {
            PlaySoundEffect(410, a2, a3);
            *(v4 + 18) = 16;
        }
        v12 = *(v4 + 16);
        v11 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v11) | (result == 0) )
        {
            result = 28;
            *v4 = 28;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 69;
        object_setCounterTime(12);
        sub_81050F2();
        PlaySoundEffect(401, v5, v6);
        PlaySoundEffect(410, v7, v8);
        *(v4 + 16) = 120;
        *(v4 + 18) = 16;
        result = *(v4 + 48);
        if ( result )
            result = sub_80E8A52(result, 84);
    }
    return result;
}


// 0x8104758
int sub_8104758()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 64;
        *(v1 + 16) = *(v1 + 24);
        object_setCollisionRegion(2);
        result = *(v1 + 48);
        if ( result )
            result = sub_80E8A46(result);
    }
    return result;
}


// 0x810478c
int sub_810478C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81047A0 + *v0))();
}


// 0x81047c0
int sub_81047C0()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            *(v1 + 26) = 0;
            result = (loc_801171C)();
        }
        else
        {
            v3 = v0[19];
            v0[20] = v0[18];
            v0[21] = v3;
            object_setFlag1(64);
            object_setFlag1(0x400000);
            v0[16] = 67;
            result = 3;
            *(v1 + 16) = 3;
        }
    }
    return result;
}


// 0x810480a
int sub_810480A()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 62) = 255;
        object_clearCollisionRegion();
        result = 60;
        *(v1 + 16) = 60;
    }
    return result;
}


// 0x8104832
int sub_8104832()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 18) + 1;
        *(v0 + 18) = v2;
        if ( !__CFSHR__(v2, 3) )
            sub_81051CC();
        v3 = *(v0 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = *(v0 + 12);
        result = 0;
        *(v0 + 18) = 0;
    }
    return result;
}


// 0x810486a
void __fastcall sub_810486A(int a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r0

    if ( *(v4 + 1) )
    {
        v5 = *(v4 + 16) - 1;
        *(v4 + 16) = v5;
        if ( v5 == 10 )
        {
            sub_81051EC(1, a2, a3, a4);
            sub_8105254(1);
        }
        else if ( v5 <= 0 )
        {
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        sub_81051EC(0, a2, a3, a4);
        sub_8105254(0);
        *(v4 + 16) = 20;
    }
}


// 0x81048aa
int sub_81048AA()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r2
    char v4; // r1
    char v5; // r0
    char v6; // r1
    char v7; // r0
    char v8; // r1
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r2
    int v13; // r3
    int result; // r0
    int v15; // r0
    __int64 v16; // r0
    int v17; // r4
    int v18; // r0
    unsigned __int8 v19; // vf

    if ( *(v1 + 1) )
    {
        v15 = *(v1 + 18) + 1;
        *(v1 + 18) = v15;
        if ( !__CFSHR__(v15, 3) )
        {
            LODWORD(v16) = *(v1 + 22);
            HIDWORD(v16) = *(v1 + 23);
            object_highlightPanel(v16);
        }
        *(v0 + 52) += *(v0 + 64);
        *(v0 + 60) += *(v0 + 72);
        v17 = *(v0 + 18);
        if ( *(*(v0 + 84) + 112) )
        {
            object_clearCollisionRegion();
            sub_8105354();
        }
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( *(v0 + 18) != v17 )
            object_setCollisionRegion(1);
        v18 = *(v1 + 16);
        v19 = __OFSUB__(v18, 1);
        result = v18 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v19) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 79;
        object_updateCollisionData(79, 53, 2, 3);
        v2 = *(v1 + 48);
        v3 = *(v0 + 84);
        *(v3 + 46) = v2;
        *(v3 + 7) = BYTE2(v2);
        object_setCollisionRegion(1);
        v4 = *(*(v1 + 44) + 19);
        *(v0 + 18) = *(&off_8104994 + *(v0 + 22));
        *(v0 + 19) = v4;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 62) = 64;
        v5 = object_getFrontDirection(v0);
        v6 = *(v0 + 19);
        *(v0 + 20) = 2 * v5 + *(v0 + 18);
        *(v0 + 21) = v6;
        v7 = sub_8105174();
        *(v1 + 22) = v7;
        *(v1 + 23) = v8;
        v9 = object_getCoordinatesForPanels(v7);
        *(v0 + 64) = sub_8105294(v9);
        *(v0 + 72) = v10;
        *(v1 + 16) = v11;
        PlaySoundEffect(455, v10, v11);
        sub_80D4C0A(v1, 255, v12, v13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8104998
int sub_8104998()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 24;
            *v0 = 24;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        camera_initShakeEffect_80302a8(2, 20);
        result = 20;
        *(v0 + 16) = 20;
    }
    return result;
}


// 0x81049c0
int sub_81049C0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int result; // r0
    u32 v5; // r1
    __int16 v6; // r2
    int v7; // r4
    int v8; // r0
    unsigned __int8 v9; // vf

    if ( *(v1 + 1) )
    {
        v0->x += v0->vx;
        v0->z += v0->vz;
        v7 = v0->panelX;
        if ( v0->collisionData->collisionFlags )
            object_clearCollisionRegion();
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( v0->panelX != v7 )
            object_setCollisionRegion(1);
        v8 = *(v1 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v2 = *(v1 + 23);
        v3 = object_getCoordinatesForPanels(*(&dword_8104A2C + v0->Alliance));
        result = sub_8105294(v3);
        v0->vx = result;
        v0->vz = v5;
        *(v1 + 16) = v6;
    }
    return result;
}


// 0x8104a30
int sub_8104A30()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r0
    int v4; // r0
    int v5; // r2
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            *(v0 + 16) = 64;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 66;
        v2 = *(v0 + 21);
        *(v0 + 18) = *(v0 + 20);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v0 + 60) = 0;
        object_setCollisionRegion(2);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v3 = object_clearFlag(0x400000);
        object_updateCollisionData(v3, 1, 2, 3);
        v4 = *(v0 + 44);
        v5 = *(v0 + 84);
        *(v5 + 46) = v4;
        *(v5 + 7) = v4;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8104aa2
int sub_8104AA2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8104AB4 + *v0))();
}


// 0x8104ac4
int sub_8104AC4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 4;
            *v1 = 4;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 71;
        *(v1 + 14) = 0;
        v2 = 2 * *(v0 + 22);
        v3 = *(&dword_8104B00 + v2 + 1);
        *(v1 + 22) = *(&dword_8104B00 + v2);
        *(v1 + 23) = v3;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x8104b04
int sub_8104B04()
{
    int v0; // r7
    int v1; // r0
    int result; // r0
    int v7; // r0
    __int64 v8; // r0
    int v9; // r0

    if ( *(v0 + 1) )
    {
        v7 = *(v0 + 18) + 1;
        *(v0 + 18) = v7;
        if ( !__CFSHR__(v7, 3) )
        {
            LODWORD(v8) = *(v0 + 22);
            HIDWORD(v8) = *(v0 + 23);
            object_highlightPanel(v8);
        }
        v9 = *(v0 + 16);
        _VF = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ _VF) | (result == 0) )
        {
            result = 8;
            *v0 = 8;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        v1 = *(v0 + 14);
        __asm { SVC         6 }
        *(v0 + 23) = byte_8104B5C[v1];
        *(v0 + 16) = *(v0 + 12);
        result = 0;
        *(v0 + 18) = 0;
    }
    return result;
}


// 0x8104b68
signed int __fastcall sub_8104B68(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r2
    int v6; // r3
    int *v7; // r0
    int v8; // r0
    signed int result; // r0

    v3->currAnimation = 72;
    v3->currAnimationCpy = -1;
    PlaySoundEffect(174, a2, a3);
    if ( !*(v4 + 14) )
        object_setCounterTime(12);
    sub_810515A(*(v4 + 22), *(v4 + 23), v5, v6);
    object_getFlip(v3);
    SpawnT4BattleObjectWithId0(v3, 75, v3->x, v3->y, v3->z);
    v7 = *(v4 + 48);
    if ( v7 )
        sub_80E7DA4(v7);
    v8 = *(v4 + 14) + 1;
    *(v4 + 14) = v8;
    if ( v8 >= *(v4 + 13) )
    {
        result = 12;
        *v4 = 12;
    }
    else
    {
        result = 4;
        *v4 = 4;
    }
    return result;
}


// 0x8104bc2
int sub_8104BC2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 64;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 73;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8104bea
int sub_8104BEA()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8104BFC + *v0))();
}


// 0x8104c18
int __fastcall sub_8104C18(int a1, int a2, int a3)
{
    _BYTE *v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r1
    int v7; // r2
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0

    if ( *(v4 + 1) )
    {
        v9 = *(v4 + 18);
        v10 = __OFSUB__(v9--, 1);
        *(v4 + 18) = v9;
        if ( ((v9 < 0) ^ v10) | (v9 == 0) )
        {
            PlaySoundEffect(227, a2, a3);
            *(v4 + 18) = 16;
        }
        v11 = *(v4 + 16);
        v10 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v5 = v3[19];
        v3[20] = v3[18];
        v3[21] = v5;
        v3[16] = 75;
        PlaySoundEffect(401, v5, a3);
        PlaySoundEffect(227, v6, v7);
        camera_initShakeEffect_80302a8(2, *(v4 + 16));
        *(v4 + 16) = 60;
        result = 16;
        *(v4 + 18) = 16;
    }
    return result;
}


// 0x8104c70
int sub_8104C70()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 76;
        result = 60;
        *(v1 + 16) = 60;
    }
    return result;
}


// 0x8104c94
int sub_8104C94()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 18) + 1;
        *(v0 + 18) = v2;
        if ( !__CFSHR__(v2, 3) )
            sub_81052FC();
        v3 = *(v0 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v0 = 12;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = 16;
        result = 0;
        *(v0 + 18) = 0;
    }
    return result;
}


// 0x8104cc6
int __fastcall sub_8104CC6(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r1
    CollisionData *v7; // r2
    int v8; // r2
    int v9; // r3
    int result; // r0
    int v11; // r4
    int v12; // r0
    unsigned __int8 v13; // vf

    if ( *(v4 + 1) )
    {
        v11 = v3->panelX;
        v3->x += v3->vx;
        object_setPanelsFromCoordinates(v3);
        object_updateCollisionPanels(v3);
        if ( v3->collisionData->collisionFlags )
            object_clearCollisionRegion();
        if ( v3->panelX != v11 )
            object_setCollisionRegion(29);
        v12 = *(v4 + 16);
        v13 = __OFSUB__(v12, 1);
        result = v12 - 1;
        *(v4 + 16) = result;
        if ( (result < 0) ^ v13 )
        {
            object_setCoordinatesFromPanels(v3);
            v3->currAnimation = 78;
            result = 16;
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        v3->currAnimation = 77;
        PlaySoundEffect(455, a2, a3);
        v5 = object_setCollisionRegion(29);
        object_updateCollisionData(v5, 58, 2, 3);
        v6 = *(v4 + 8);
        v7 = v3->collisionData;
        v7->selfDamage = v6;
        v7->staminaDmg_counterDisabler = BYTE2(v6);
        sub_810530C();
        object_setFlag1(64);
        object_setFlag1(0x400000);
        result = sub_80D4C0A(v4, 255, v8, v9);
    }
    return result;
}


// 0x8104d5e
int __fastcall sub_8104D5E(int a1, int a2, int a3)
{
    int v3; // r7
    int v4; // r0
    int v5; // ST08_4
    int v6; // r2
    int v7; // r4
    int v8; // r6
    int v9; // r7
    int v10; // r1
    int result; // r0
    int v12; // r0
    int v13; // r0
    unsigned __int8 v14; // vf

    if ( *(v3 + 1) )
    {
        v12 = *(v3 + 18) - 1;
        *(v3 + 18) = v12;
        if ( v12 <= 0 )
        {
            camera_initShakeEffect_80302a8(2, 10);
            *(v3 + 18) = 10;
        }
        v13 = *(v3 + 16);
        v14 = __OFSUB__(v13, 1);
        result = v13 - 1;
        *(v3 + 16) = result;
        if ( ((result < 0) ^ v14) | (result == 0) )
        {
            result = 20;
            *v3 = 20;
        }
    }
    else
    {
        *(v3 + 1) = 4;
        *(v3 + 16) = 30;
        v4 = PlaySoundEffect(192, a2, a3);
        v5 = v3;
        v6 = *(v3 + 2);
        v7 = (*(v3 + 12) << 8) | 0xB4 | (*(v3 + 13) << 16) | 0x1000000;
        v8 = *(v3 + 8);
        v9 = *(v3 + 44);
        sub_80E9D0C(v4, v10, v6, 0x1000000);
        camera_initShakeEffect_80302a8(2, 10);
        result = 10;
        *(v5 + 18) = 10;
    }
    return result;
}


// 0x8104dc8
int sub_8104DC8()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r0
    int v4; // r0
    int v5; // r2
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            *(v0 + 16) = 64;
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 66;
        v2 = *(v0 + 21);
        *(v0 + 18) = *(v0 + 20);
        *(v0 + 19) = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        object_clearFlag(0x400000);
        v3 = object_setCollisionRegion(2);
        object_updateCollisionData(v3, 1, 2, 3);
        v4 = *(v0 + 44);
        v5 = *(v0 + 84);
        *(v5 + 46) = v4;
        *(v5 + 7) = v4;
        result = 10;
        *(v1 + 16) = 10;
    }
    return result;
}


// 0x8104e36
int __fastcall sub_8104E36(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r0
    int v9; // r0
    unsigned __int8 v10; // vf
    int v11; // r0

    if ( *(v4 + 1) )
    {
        v8 = *(v4 + 14) - 1;
        *(v4 + 14) = v8;
        if ( v8 <= 0 )
        {
            camera_initShakeEffect_80302a8(2, 10);
            *(v4 + 14) = 10;
        }
        v9 = *(v4 + 18);
        v10 = __OFSUB__(v9--, 1);
        *(v4 + 18) = v9;
        if ( ((v9 < 0) ^ v10) | (v9 == 0) )
        {
            PlaySoundEffect(228, a2, a3);
            *(v4 + 18) = 32;
        }
        v11 = *(v4 + 16);
        v10 = __OFSUB__(v11, 1);
        result = v11 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 64;
        *(v4 + 16) = 150;
        camera_initShakeEffect_80302a8(2, 10);
        *(v4 + 14) = 10;
        PlaySoundEffect(228, v5, v6);
        result = 32;
        *(v4 + 18) = 32;
    }
    return result;
}


// 0x8104e98
int __fastcall sub_8104E98(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int result; // r0
    int v14; // [sp+0h] [bp-8h]
    int v15; // [sp+4h] [bp-4h]
    int v16; // [sp+8h] [bp+0h]

    v14 = a3;
    v15 = a4;
    v5 = 0;
    v6 = 0;
    do
    {
        v7 = object_getPanelsInColumnIgnoreRowFiltered(byte_8104EF4[2 * *(v4 + 22) + v5], *(v4 + 19), v14, v15);
        v6 += v7;
        ++v5;
    }
    while ( v5 < 2 );
    if ( v6 || (result = object_getPanelsExceptCurrentFilterred(v7, v8, v14, v15), (v6 = result) != 0) )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v16 + v6) & 7;
    }
    return result;
}


// 0x8104ef8
int __fastcall sub_8104EF8(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST08_4
    signed int v6; // r4
    int v7; // r6
    int v9; // r0
    int *v10; // r1
    int result; // r0
    int v15; // [sp-8h] [bp-40h]
    int v16; // [sp+4h] [bp-34h]
    int v17; // [sp+8h] [bp-30h]
    int v18; // [sp+Ch] [bp-2Ch]
    int v19; // [sp+10h] [bp-28h]

    v17 = a3;
    v18 = a4;
    v5 = *(a1 + 18);
    v16 = *(a1 + 19);
    v6 = 0;
    v7 = 0;
    do
    {
        v15 = byte_8104F68[2 * *(v4 + 22) + v6];
        _ZF = object_checkPanelParameters(v15, v16, v17, v18) == 0;
        v9 = v15;
        v10 = v16;
        if ( !_ZF )
        {
            v9 = v15 | 16 * v16;
            v10 = &v19;
            *(&v19 + v7++) = v9;
        }
        ++v6;
    }
    while ( v6 < 2 );
    if ( v7 || (result = object_getPanelsExceptCurrentFilterred(v9, v10, v17, v18), (v7 = result) != 0) )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v19 + v7) & 7;
    }
    return result;
}


// 0x8104f6c
int __fastcall sub_8104F6C(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v5 = 2 * *(v4 + 22);
    v6 = byte_8104F90[v5];
    v7 = object_checkPanelParameters(v6, byte_8104F90[v5 + 1], a3, a4) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x8104f94
int __fastcall sub_8104F94(int a1)
{
    int v1; // r5
    int v2; // r6
    int v3; // r6
    int result; // r0
    int v9; // r6
    int v10; // [sp-8h] [bp-14h]
    int v11; // [sp-4h] [bp-10h]
    int v12; // [sp+0h] [bp-Ch]
    unsigned __int8 v13; // [sp+Ch] [bp+0h]

    v12 = a1;
    v2 = *(v1 + 22);
    v3 = object_getPanelRegion(*(a1 + 18), *(a1 + 19), (&off_8105040)[2 * v2], (&off_8105040)[2 * v2 + 1]);
    if ( v3 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        sub_8109794(*(&v13 + v3) & 7, *(&v13 + v3) >> 4);
    }
    v10 = *(v12 + 18);
    v11 = *(v12 + 19);
    _ZF = object_isCurrentPanelValid() == 0;
    result = v10;
    if ( !_ZF )
    {
        v9 = *(v1 + 22);
        result = object_getPanelRegion(v10, v11, (&off_8105040)[2 * v9], (&off_8105040)[2 * v9 + 1]);
        if ( result )
        {
            sub_8000C72(&v13, result, result);
            sub_8109794(v13 & 7, v13 >> 4);
        }
    }
    return result;
}


// 0x8105050
int sub_8105050()
{
    int v0; // r5
    int v1; // r0

    v1 = object_getFrontDirection(v0);
    return object_highlightPanelRegion(2 * v1 + *(v0 + 18), *(v0 + 19), 26, *(v0 + 22));
}


// 0x810506a
int sub_810506A()
{
    Battle *v0; // r5
    int v1; // r7
    char *v2; // r6
    int v3; // r4
    int result; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r6
    int v8; // [sp-18h] [bp-24h]
    int v9; // [sp-14h] [bp-20h]
    int v10; // [sp-10h] [bp-1Ch]
    int v11; // [sp-Ch] [bp-18h]
    char *v12; // [sp-4h] [bp-10h]

    v2 = byte_80199B6;
    v3 = object_getFrontDirection(v0);
    result = 2 * v3 + v0->panelX;
    v5 = v0->panelY;
    while ( 1 )
    {
        v6 = *v2;
        if ( v6 == 127 )
            break;
        v10 = result;
        v11 = v5;
        v12 = v2;
        v8 = result + v6 * v3;
        v9 = v5 + v2[1];
        if ( object_isValidPanel(v8, v9) )
        {
            v7 = *(v1 + 8);
            sub_80D07A0(v8, v9, *(v1 + 2), 0);
        }
        result = v10;
        v5 = v11;
        v2 = v12 + 2;
    }
    return result;
}


// 0x81050c2
int sub_81050C2()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0

    v1 = object_getFrontDirection(v0);
    object_highlightPanelRegion(2 * v1 + *(v0 + 18), *(v0 + 19), 8, *(v0 + 22));
    v2 = object_getFrontDirection(v0);
    return object_highlightPanelRegion(2 * v2 + *(v0 + 18), *(v0 + 19), 46, *(v0 + 22));
}


// 0x81050f2
int sub_81050F2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST00_4
    int v3; // ST04_4
    int v4; // ST08_4
    int v5; // ST0C_4

    v2 = 2 * object_getFrontDirection(v0) + v0->panelX;
    v3 = v0->panelY;
    v4 = *(v1 + 2);
    v5 = *(v1 + 8);
    sub_80DA5D2(v2, v3, v4, 30720);
    return sub_80DA5D2(v2, v3, v4, 30720);
}


// 0x8105124
int sub_8105124()
{
    int v0; // r7
    int v1; // r1
    bool v2; // zf
    int result; // r0
    int v4; // r2
    signed int v5; // r3
    int v6; // [sp-4h] [bp-10h]

    v1 = *(v0 + 44);
    v6 = *(v1 + 18);
    v2 = object_isValidPanel(v6, *(v1 + 19)) == 0;
    result = v6;
    if ( v2 )
        return *(v0 + 22);
    if ( !*(v0 + 14) )
        return result;
    if ( !*(v0 + 3) )
        return *(v0 + 22);
    v4 = *(v0 + 22);
    if ( v6 != v4 )
    {
        v5 = 1;
        if ( v6 <= v4 )
            v5 = -1;
        result = v4 + v5;
    }
    return result;
}


// 0x810515a
int __fastcall sub_810515A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int v6; // r4
    int v7; // r6

    v6 = *(v5 + 3) | (a1 << 8) | (a2 << 16);
    v7 = *(v5 + 8);
    return sub_80DA710(*(v4 + 18), *(v4 + 19), *(v5 + 2), a4);
}


// 0x8105174
int sub_8105174()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // ST00_4
    int result; // r0
    int v6; // r6
    int v10; // [sp+0h] [bp-24h]

    v2 = *(v1 + 44);
    v3 = *(v2 + 18);
    _ZF = object_isValidPanel(v3, *(v2 + 19)) == 0;
    result = v3;
    if ( _ZF )
    {
        result = object_getPanelsExceptCurrentFilterred(
                             8 * *(v0 + 22),
                             &byte_81051BC[8 * *(v0 + 22)],
                             *&byte_81051BC[8 * *(v0 + 22)],
                             *&byte_81051BC[8 * *(v0 + 22) + 4]);
        v6 = result;
        if ( result )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v10 + v6) & 7;
        }
    }
    return result;
}


// 0x81051cc
int sub_81051CC()
{
    int v0; // r5
    unsigned __int8 *v1; // r2

    v1 = &off_81051E8 + 2 * *(v0 + 22);
    return object_highlightPanelRegion(*v1, v1[1], 15, *(v0 + 22));
}


// 0x81051ec
int __fastcall sub_81051EC(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r7
    int v6; // ST00_4
    int v7; // r4
    int v8; // r0
    int v9; // r6
    char v10; // r0
    int v11; // r4
    char *v12; // r1
    int v13; // r6
    int v14; // r3

    v6 = a1;
    v7 = *(v5 + 3) | (a1 << 8);
    v8 = 2 * a1 + 4 * v4->Alliance;
    v9 = *(v5 + 8);
    sub_80DAE48(byte_810524C[v8], byte_810524C[v8 + 1], *(v5 + 2), a4);
    v10 = object_getFrontDirection(v4);
    v11 = *(v5 + 3) | (v6 << 8) | 0x10000;
    v12 = &byte_810524C[4 * v4->Alliance + 2 * v6];
    v13 = *(v5 + 8);
    return sub_80DAE48(*v12 + v10, v12[1], *(v5 + 2), v14);
}


// 0x8105254
void __fastcall sub_8105254(int a1)
{
    Battle *v1; // r5
    int v2; // r6
    int v3; // r6
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v2 = a1;
    object_getFlip(v1);
    v3 = 2 * v2 + 4 * v1->Alliance;
    v4 = byte_810528C[v3 + 1];
    v5 = object_getCoordinatesForPanels(byte_810528C[v3]);
    SpawnT4BattleObjectWithId0(v1, v5, v5, v6, 0x100000);
}


// 0x8105294
int __fastcall sub_8105294(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r4

    v3 = *&byte_81052EC[4 * *(v2 + 3)];
    __asm { SVC         6 }
    if ( a1 <= *(v1 + 52) )
        v3 = -v3;
    *(v1 + 60);
    __asm { SVC         6 }
    return v3;
}


// 0x81052fc
int sub_81052FC()
{
    int v0; // r5

    return object_highlightPanelRegion(*(v0 + 18), *(v0 + 19), 8, *(v0 + 22));
}


// 0x810530c
int sub_810530C()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r0
    int v3; // r0
    int result; // r0

    v0->vx = object_getFrontDirection(v0) * *&byte_8105344[4 * *(v1 + 3)];
    v2 = 6;
    if ( v0->Alliance )
        v2 = 1;
    v3 = v2 - v0->panelX;
    if ( v3 < 0 )
        v3 = -v3;
    result = 2621440 * v3;
    __asm { SVC         6 }
    *(v1 + 16) = result;
    return result;
}


// 0x8105354
void __noreturn sub_8105354()
{
    Battle *v0; // r5

    if ( object_getPanelParameters(v0->panelX, v0->panelY) & *(&off_8105384 + v0->Alliance) )
    {
        object_getFlip(v0);
        SpawnT4BattleObjectWithId0(v0, 83, v0->x, v0->y, v0->z);
    }
}


// 0x81054b8
int sub_81054B8()
{
    int v0; // r5

    return (*(&off_81054D4 + *(*(v0 + 88) + 128)))();
}


// 0x81054d8
void sub_81054D8()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    char v3; // r0

    if ( v1[4] < 2 )
    {
        ++v1[4];
        sub_8105770();
    }
    else
    {
        v1[4] = 0;
        if ( v1[5] < 2 )
        {
            ++v1[5];
            GetPositiveSignedRNG2();
            if ( (v3 & 0xF) < 6 )
                sub_81057F4();
            else
                sub_81057C0();
        }
        else
        {
            v1[5] = 0;
            if ( v1[6] < 2 )
            {
                ++v1[6];
                sub_8105784();
            }
            else
            {
                v1[6] = 0;
                if ( (*(v0 + 38) >> 1) > *(v0 + 36) && (v2 = v1[7], v1[7] = v2 ^ 1, v2) )
                    sub_810585C();
                else
                    sub_8105828();
            }
        }
    }
}


// 0x8105554
void __noreturn sub_8105554()
{
    int v0; // r5
    __int16 v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r3
    int v6; // [sp-8h] [bp-14h]

    v1 = *&byte_81055CC[2 * sub_800FE36()];
    *(v0 + 36) = v1;
    *(v0 + 38) = v1;
    *(v0 + 16) = 20;
    sprite_setAnimation(v0, 0x14u);
    v2 = sprite_loadAnimationData(v0);
    *(v0 + 96) = sub_80E8F78(v2, v3, v4, v5);
    v6 = byte_81055C0[3 * *(v0 + 22)];
    object_reservePanel(v6, 1);
    object_hidePanel(v6, 1);
}


// 0x81055d4
void sub_81055D4()
{
    ;
}


// 0x81055d8
void sub_81055D8()
{
    ;
}


// 0x81055dc
int sub_81055DC()
{
    int v0; // r5
    int v1; // r0
    int v2; // r0
    int result; // r0

    object_clearFlag(64);
    sub_801DC7C(0, 0);
    object_setCollisionRegion(1);
    *(v0 + 60) = 0;
    v1 = object_getFlip(v0);
    sprite_setFlip(v0, v1);
    v2 = *(v0 + 96);
    if ( v2 )
        sub_80E8FC8(v2);
    result = *(v0 + 100);
    if ( result )
    {
        sub_80E5410(result);
        result = 0;
        *(v0 + 100) = 0;
    }
    return result;
}


// 0x8105618
int __usercall sub_8105618@<R0>(Battle *obj@<R5>)
{
    int result; // r0

    sub_80174FE(obj);
    result = 20;
    obj->currAnimation = 20;
    return result;
}


// 0x8105624
int __usercall sub_8105624@<R0>(Battle *obj@<R5>)
{
    int result; // r0

    sub_80175B8(obj);
    result = 20;
    obj->currAnimation = 20;
    return result;
}


// 0x8105630
signed int sub_8105630()
{
    int v0; // r5
    signed int result; // r0

    sub_8017688();
    result = 20;
    *(v0 + 16) = 20;
    return result;
}


// 0x810563c
signed int sub_810563C()
{
    int v0; // r5
    signed int result; // r0

    sub_8017768();
    result = 20;
    *(v0 + 16) = 20;
    return result;
}


// 0x8105648
int sub_8105648()
{
    return sub_800FE28(&dword_8105658);
}


// 0x810565c
__int64 sub_810565C()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8105694);
    HIDWORD(v0) = sub_800FE28(&byte_8105694[4]);
    sub_800FE28(&byte_8105694[8]);
    sub_800FE28(&byte_8105694[12]);
    return v0;
}


// 0x81056a4
__int64 sub_81056A4()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_81056D0);
    HIDWORD(v0) = sub_800FE28(&byte_81056D0[4]);
    sub_800FE28(&byte_81056D0[8]);
    return v0;
}


// 0x81056dc
__int64 sub_81056DC()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8105708);
    HIDWORD(v0) = sub_800FE28(&byte_8105708[4]);
    sub_800FE28(&byte_8105708[8]);
    return v0;
}


// 0x8105714
__int64 sub_8105714()
{
    __int64 v0; // ST00_8

    LODWORD(v0) = sub_800FE28(byte_8105740);
    HIDWORD(v0) = sub_800FE28(&byte_8105740[4]);
    sub_800FE28(&byte_8105740[8]);
    return v0;
}


// 0x810574c
int sub_810574C()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8105768);
    sub_800FE28(&byte_8105768[4]);
    return v0;
}


// 0x8105770
int sub_8105770()
{
    int v0; // r7

    *(v0 + 40) = sub_8106418;
    *(v0 + 24) = sub_8105648();
    return (object_setAttack4)(9);
}


// 0x8105784
void sub_8105784()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2
    char v4; // r3

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    *(v1 + 40) = sub_81064C4;
    sub_810588E(0);
    v2 = sub_810565C();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 14) = v4;
    *(v1 + 48) = v0 + 100;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81057c0
void sub_81057C0()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 32;
    *(v1 + 40) = sub_8106460;
    sub_810588E(1);
    v2 = sub_81056A4();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81057f4
void sub_81057F4()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    *(v1 + 40) = sub_810649E;
    sub_810588E(2);
    v2 = sub_81056DC();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8105828
void sub_8105828()
{
    int v0; // r5
    int v1; // r7
    __int64 v2; // r0
    char v3; // r2

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    *(v1 + 40) = sub_81064DC;
    sub_810588E(3);
    v2 = sub_8105714();
    *(v1 + 24) = v2;
    *(v1 + 12) = BYTE4(v2);
    *(v1 + 13) = v3;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810585c
void sub_810585C()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 32;
    sub_810588E(4);
    *(v1 + 24) = sub_810574C();
    *(v1 + 12) = v2;
    *(v1 + 48) = *(v0 + 96);
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x810588e
int __fastcall sub_810588E(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_81058F8[8 * a1]);
    result = sub_800FE12(&byte_8105934[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x8105970
int sub_8105970()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8105984 + *v0))();
}


// 0x8105994
int __fastcall sub_8105994(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 23;
        PlaySoundEffect(451, a2, a3);
        result = 32;
        *(v4 + 16) = 32;
    }
    return result;
}


// 0x81059c0
int sub_81059C0()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_8105A1C[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 21;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x8105a2c
int sub_8105A2C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x8105a72
int sub_8105A72()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 20;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8105a96
int sub_8105A96()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8105AA8 + *v0))();
}


// 0x8105ac4
int __fastcall sub_8105AC4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v4 + 22) = 0;
        *(v4 + 23) = 0;
        *(v3 + 16) = 23;
        PlaySoundEffect(451, a2, a3);
        result = 32;
        *(v4 + 16) = 32;
    }
    return result;
}


// 0x8105af6
int sub_8105AF6()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            *(v1 + 52) = (*(v1 + 40))();
            *(v1 + 56) = v3;
            v4 = v0[18];
            v5 = v0[19];
            v0[20] = v4;
            v0[21] = v5;
            object_reservePanel(v4, v5);
            object_clearCollisionRegion();
            object_setFlag1(64);
            v0[16] = 21;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x8105b4a
int sub_8105B4A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = *(v1 + 56);
        v0->panelX = *(v1 + 52);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0x400000;
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x8105b84
int __fastcall sub_8105B84(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v3 + 16) = 24;
            **(v4 + 48) = sub_80E532C();
            result = 16;
            *v4 = 16;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 25;
        PlaySoundEffect(403, a2, a3);
        result = 60;
        *(v4 + 16) = 60;
    }
    return result;
}


// 0x8105bbe
int sub_8105BBE()
{
    int v0; // r7
    int v1; // r0
    __int64 v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf
    int result; // r0
    int v6; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_81064F4();
    }
    v1 = *(v0 + 18) + 1;
    *(v0 + 18) = v1;
    if ( !__CFSHR__(v1, 3) )
    {
        LODWORD(v2) = *(v0 + 22);
        HIDWORD(v2) = *(v0 + 23);
        object_highlightPanel(v2);
    }
    v3 = *(v0 + 16);
    v4 = __OFSUB__(v3, 1);
    result = v3 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v4) | (result == 0) )
    {
        sub_8106590();
        v6 = *(v0 + 14) - 1;
        *(v0 + 14) = v6;
        if ( v6 )
        {
            result = 0;
            *(v0 + 1) = 0;
        }
        else
        {
            result = 20;
            *v0 = 20;
        }
    }
    return result;
}


// 0x8105c10
int sub_8105C10()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0;
        object_setCollisionRegion(1);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 4;
        result = **(v1 + 48);
        if ( result )
        {
            sub_80E5410(result);
            result = 0;
            **(v1 + 48) = 0;
        }
    }
    return result;
}


// 0x8105c72
int sub_8105C72()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 20;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = *(v1 + 12);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8105c96
int sub_8105C96()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8105CA8 + *v0))();
}


// 0x8105cc0
int __fastcall sub_8105CC0(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 25;
        PlaySoundEffect(403, a2, a3);
        result = 60;
        *(v4 + 16) = 60;
    }
    return result;
}


// 0x8105cec
int sub_8105CEC()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_8105D4C[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))(*(v1 + 44))) == 0) )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 21;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x8105d5c
int sub_8105D5C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x8105da2
int sub_8105DA2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 40, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8105de6
int __fastcall sub_8105DE6(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 18) - 1;
        *(v4 + 18) = v6;
        if ( v6 <= 0 )
        {
            camera_initShakeEffect_80302a8(2, 10);
            *(v4 + 18) = 10;
        }
        v7 = *(v4 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 20;
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 26;
        PlaySoundEffect(243, a2, a3);
        object_setCounterTime(6);
        sub_8106690();
        *(v4 + 16) = *(v4 + 12);
        camera_initShakeEffect_80302a8(2, 10);
        result = 10;
        *(v4 + 18) = 10;
    }
    return result;
}


// 0x8105e3c
int sub_8105E3C()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 20;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8105e60
int sub_8105E60()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8105E74 + *v0))();
}


// 0x8105e88
int __fastcall sub_8105E88(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 25;
        PlaySoundEffect(403, a2, a3);
        result = 60;
        *(v4 + 16) = 60;
    }
    return result;
}


// 0x8105eb4
int sub_8105EB4()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char *v3; // r0
    int v4; // r2
    int v5; // r3
    int v6; // r0
    int v7; // r1
    int result; // r0
    int v9; // r0
    unsigned __int8 v10; // vf

    if ( *(v1 + 1) )
    {
        v9 = *(v1 + 16);
        v10 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v10) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 || (v3 = &byte_8105F10[8 * v0[22]], v4 = *v3, v5 = *(v3 + 1), (v6 = (*(v1 + 40))()) == 0) )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            v0[20] = v6;
            v0[21] = v7;
            object_reservePanel(v6, v7);
            object_setFlag1(64);
            v0[16] = 21;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x8105f20
int sub_8105F20()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x8105f66
int __fastcall sub_8105F66(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r0
    int v11; // r0

    if ( *(v4 + 1) )
    {
        v8 = *(v4 + 18);
        v9 = __OFSUB__(v8--, 1);
        *(v4 + 18) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
        {
            PlaySoundEffect(299, a2, a3);
            *(v4 + 18) = 16;
        }
        v10 = *(v4 + 16);
        v9 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            sub_81066EA();
            v11 = *(v4 + 13) - 1;
            *(v4 + 13) = v11;
            if ( v11 )
            {
                result = *(v4 + 12);
                *(v4 + 16) = result;
            }
            else
            {
                result = 16;
                *v4 = 16;
            }
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 26;
        sub_81066C0();
        PlaySoundEffect(299, v5, v6);
        *(v4 + 16) = *(v4 + 12);
        result = 16;
        *(v4 + 18) = 16;
    }
    return result;
}


// 0x8105fc2
int sub_8105FC2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 20;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8105fe6
int sub_8105FE6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8105FF8 + *v0))();
}


// 0x8106014
int __fastcall sub_8106014(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 25;
        PlaySoundEffect(403, a2, a3);
        *(v4 + 22) = 0;
        *(v4 + 23) = 0;
        *(v4 + 14) = *(v4 + 13);
        result = 30;
        *(v4 + 16) = 30;
    }
    return result;
}


// 0x810604a
int sub_810604A()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    int v3; // r1
    int v4; // r0
    int v5; // r1
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf

    if ( *(v1 + 1) )
    {
        v7 = *(v1 + 16);
        v8 = __OFSUB__(v7, 1);
        result = v7 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            *(v1 + 48) = (*(v1 + 40))();
            *(v1 + 52) = v3;
            v4 = v0[18];
            v5 = v0[19];
            v0[20] = v4;
            v0[21] = v5;
            object_reservePanel(v4, v5);
            object_clearCollisionRegion();
            object_setFlag1(64);
            v0[16] = 21;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x810609e
int sub_810609E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = *(v1 + 52);
        v0->panelX = *(v1 + 48);
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0x400000;
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x81060d8
int sub_81060D8()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 18) + 1;
        *(v0 + 18) = v2;
        if ( !__CFSHR__(v2, 3) )
            sub_8106670();
        v3 = *(v0 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 16) = *(v0 + 12);
        result = 0;
        *(v0 + 18) = 0;
    }
    return result;
}


// 0x810610a
int __fastcall sub_810610A(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    char v6; // r1
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r0

    if ( *(v5 + 1) )
    {
        v8 = *(v5 + 16);
        v9 = __OFSUB__(v8, 1);
        result = v8 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            sub_8106660(result, a2, a3, a4);
            v10 = *(v5 + 13) - 1;
            *(v5 + 13) = v10;
            if ( v10 )
            {
                result = 0;
                *(v5 + 1) = 0;
            }
            else
            {
                result = 20;
                *v5 = 20;
            }
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = byte_8106160[*(v5 + 13) & 1];
        *(v5 + 22) = sub_81065A8();
        *(v5 + 23) = v6;
        camera_initShakeEffect_80302a8(1, 5);
        result = 5;
        *(v5 + 16) = 5;
    }
    return result;
}


// 0x8106162
int sub_8106162()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 22;
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->z = 0;
        object_setCollisionRegion(1);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 4;
        *(v1 + 16) = 4;
    }
    return result;
}


// 0x81061b2
int sub_81061B2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            *(v0 + 16) = 20;
            result = (loc_801171C)();
        }
    }
    else
    {
        *(v1 + 1) = 4;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x81061d6
int sub_81061D6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81061E8 + *v0))();
}


// 0x8106208
int __fastcall sub_8106208(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v4 + 1) )
    {
        v6 = *(v4 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 4;
            *v4 = 4;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 25;
        PlaySoundEffect(403, a2, a3);
        *(v4 + 13) = 0;
        result = 60;
        *(v4 + 16) = 60;
    }
    return result;
}


// 0x8106238
int sub_8106238()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // zf
    char v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_canMove(4);
        if ( v2 )
        {
            v0[16] = 20;
            result = (loc_801171C)();
        }
        else
        {
            v0[16] = 21;
            v3 = v0[19];
            v0[20] = v0[18];
            v0[21] = v3;
            result = 4;
            *(v1 + 16) = 4;
        }
    }
    return result;
}


// 0x8106274
int sub_8106274()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 12;
            *v1 = 12;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        object_clearCollisionRegion();
        *(v0 + 62) = 255;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x810629c
int sub_810629C()
{
    Battle *v0; // r5
    int v1; // r7
    u8 v2; // r1
    int result; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 18) + 1;
        *(v1 + 18) = v4;
        if ( !__CFSHR__(v4, 3) )
            object_highlightPanelRegion(0, *(&dword_81062F4 + v0->panelY - 1), 35, 0);
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->panelX = sub_8106718(*(v1 + 13));
        v0->panelY = v2;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x81062f8
int sub_81062F8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0
    int v5; // r4
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0

    if ( *(v1 + 1) )
    {
        v5 = v0->panelX;
        v0->x += v0->vx;
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
        if ( v0->panelX != v5 )
            sub_81067D0();
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            v8 = *(v1 + 13) + 1;
            *(v1 + 13) = v8;
            if ( v8 > 1 )
            {
                result = 20;
                *v1 = 20;
            }
            else
            {
                result = 8;
                *v1 = 8;
            }
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 29;
        sprite_setFlip(v0, v0->Alliance ^ v0->directionFlip ^ *(v1 + 13));
        v0->z = 0;
        sub_8106774(*(v1 + 13));
        sub_81067D0();
        camera_initShakeEffect_80302a8(3, *(v1 + 16));
        PlaySoundEffect(455, v2, v3);
        result = *(v1 + 13);
        if ( *(v1 + 13) )
        {
            result = *(v1 + 48);
            if ( result )
                result = sub_80E8FB0(result);
        }
    }
    return result;
}


// 0x8106380
int sub_8106380()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 62) = 255;
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x81063a4
int sub_81063A4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // r1
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 22;
        v2 = object_getFlip(v0);
        sprite_setFlip(v0, v2);
        object_setCollisionRegion(1);
        v3 = *(v0 + 21);
        *(v0 + 18) = *(v0 + 20);
        *(v0 + 19) = v3;
        *(v0 + 62) = 0;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 4;
        result = *(v1 + 48);
        if ( result )
            result = sub_80E8FC8(result);
    }
    return result;
}


// 0x81063f4
int sub_81063F4()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3, 1);
        result = v3 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v4) | (result == 0) )
            result = (loc_801171C)();
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 20;
        result = *(v1 + 24);
        *(v1 + 16) = result;
    }
    return result;
}


// 0x8106418
int __fastcall sub_8106418(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r6
    int v12; // [sp+0h] [bp-8h]
    int v13; // [sp+4h] [bp-4h]
    int v14; // [sp+8h] [bp+0h]

    v12 = a3;
    v13 = a4;
    v5 = 1;
    v6 = 0;
    do
        v6 += object_getPanelsInColumnIgnoreRowFiltered(3 * *(v4 + 22) + v5++, *(v4 + 19), v12, v13);
    while ( v5 <= 3 );
    if ( !v6 )
        return 0;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v14 + v6) & 7;
}


// 0x8106460
int __fastcall __noreturn sub_8106460(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r6
    int v6; // r4
    bool v7; // zf
    int result; // r0
    int v9; // [sp+0h] [bp-14h]
    int v10; // [sp+4h] [bp-10h]

    v5 = *(a1 + 19);
    v9 = a3;
    v10 = a4;
    v6 = 3;
    if ( *(v4 + 22) )
        v6 = 4;
    while ( 1 )
    {
        v7 = object_checkPanelParameters(v6, v5, v9, v10) == 0;
        result = v6;
        if ( !v7 )
            break;
        v6 -= object_getEnemyDirection();
        if ( v6 < 1 || v6 > 6 )
            return 0;
    }
    return result;
}


// 0x810649e
int __fastcall __noreturn sub_810649E(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r0
    int v6; // ST00_4
    bool v7; // zf
    int result; // r0

    v5 = 2 * *(v4 + 22);
    v6 = byte_81064C0[v5];
    v7 = object_checkPanelParameters(v6, byte_81064C0[v5 + 1], a3, a4) == 0;
    result = v6;
    if ( v7 )
        result = 0;
    return result;
}


// 0x81064c4
int sub_81064C4()
{
    int v0; // r5
    char *v1; // r1
    int result; // r0
    int v3; // r1

    v1 = &byte_81064D8[2 * *(v0 + 22)];
    result = *v1;
    v3 = v1[1];
    return result;
}


// 0x81064dc
int sub_81064DC()
{
    int v0; // r5
    unsigned __int8 *v1; // r1
    int result; // r0
    int v3; // r1

    v1 = &dword_81064F0 + 2 * *(v0 + 22);
    result = *v1;
    v3 = v1[1];
    return result;
}


// 0x81064f4
signed int __noreturn sub_81064F4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r3
    int v3; // r2
    int v4; // r3
    signed int v5; // ST00_4
    signed int result; // r0
    int v8; // r0
    int *v9; // r3
    int v10; // r1
    int v11; // r6
    int v15; // [sp+0h] [bp-28h]

    v2 = *(v1 + 44);
    v3 = *(v2 + 18);
    v4 = *(v2 + 19);
    if ( *(v1 + 22) == v3 && *(v1 + 23) == v4
        || (v5 = v3,
                _ZF = object_checkPanelParameters(v3, v4, *&byte_810656C[8 * *(v0 + 22)], *&byte_810656C[8 * *(v0 + 22) + 4]) == 0,
                result = v5,
                _ZF) )
    {
        v8 = object_reservePanel(*(v1 + 22), *(v1 + 23));
        v9 = &byte_8106580[8 * *(v0 + 22)];
        v11 = object_getPanelsExceptCurrentFilterred(v8, v10, *v9, v9[1]);
        result = object_removePanelReserve(*(v1 + 22), *(v1 + 23));
        if ( v11 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v15 + v11) & 7;
        }
    }
    return result;
}


// 0x8106590
int sub_8106590()
{
    int v0; // r7
    int v1; // r4
    int v2; // r6

    v1 = *(v0 + 3);
    v2 = *(v0 + 8);
    return sub_80DCC70(*(v0 + 22), *(v0 + 23), *(v0 + 2), 0);
}


// 0x81065a8
int sub_81065A8()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    bool v3; // zf
    int result; // r0
    int v5; // r4
    signed int v6; // r4
    int v7; // r6
    int *v8; // r3
    int v9; // r4
    unsigned int v10; // r0
    unsigned int v11; // r1
    int v12; // [sp-8h] [bp-30h]
    int v13; // [sp+0h] [bp-28h]

    if ( *(v1 + 13) != *(v1 + 14)
        || (v2 = *(v1 + 44), v12 = *(v2 + 18), v3 = object_isValidPanel(v12, *(v2 + 19)) == 0, result = v12, v3) )
    {
LABEL_6:
        v6 = 0;
        v7 = 0;
        do
        {
            v8 = &byte_8106648[8 * *(v0 + 22)];
            v7 += object_getPanelsInColumnFiltered(*(&dword_810665C + 2 * *(v0 + 22) + v6++), v1, *v8, v8[1]);
        }
        while ( v6 <= 1 );
        result = 0;
        if ( v7 )
        {
            sub_8000C72(&v13, v7, v7);
            v9 = 0;
            while ( 1 )
            {
                v10 = *(&v13 + v9);
                v11 = v10 >> 4;
                result = v10 & 7;
                if ( result != *(v1 + 22) || v11 != *(v1 + 23) )
                    break;
                if ( ++v9 >= v7 )
                    return 0;
            }
        }
    }
    else
    {
        v5 = 0;
        while ( v12 != *(&dword_810665C + 2 * *(v0 + 22) + v5) )
        {
            if ( ++v5 > 1 )
                goto LABEL_6;
        }
    }
    return result;
}


// 0x8106660
int __fastcall sub_8106660(int a1, int a2, int a3, int a4)
{
    int v4; // r7
    int v5; // r6

    v5 = *(v4 + 8);
    return sub_80DCDD4(*(v4 + 22), *(v4 + 23), *(v4 + 2), a4);
}


// 0x8106670
int sub_8106670()
{
    int v0; // r5

    return object_highlightPanelRegion(
                     *(&dword_810668C + 2 * *(v0 + 22)),
                     *(&dword_810668C + 2 * *(v0 + 22) + 1),
                     17,
                     *(v0 + 22));
}


// 0x8106690
int sub_8106690()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    int v4; // r6

    v2 = object_getFrontDirection(v0);
    v3 = (*(v1 + 12) << 16) | 0x1000B01;
    v4 = *(v1 + 8);
    return sub_80D5718(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x81066c0
int sub_81066C0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    char v3; // r0
    int v4; // r4
    int v5; // r2
    int result; // r0

    v2 = 1;
    do
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 12) * *(v1 + 13) | 0xC00;
        result = sub_80DCEC6(v3 + v0->panelX, v2++, v5, 3072);
    }
    while ( v2 <= 3 );
    return result;
}


// 0x81066ea
int sub_81066EA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // ST04_4
    bool v3; // zf
    int v4; // r1
    int v5; // r4
    int v6; // r6
    int v8; // [sp-8h] [bp-14h]

    v8 = object_getFrontDirection(v0) + v0->panelX;
    v2 = *(*(v1 + 44) + 19);
    v3 = object_isValidPanel(v8, v2) == 0;
    v4 = v2;
    if ( v3 )
        v4 = 2;
    v5 = *(v1 + 3);
    v6 = *(v1 + 8);
    return sub_80DD03A(v8, v4, *(v1 + 2), 0);
}


// 0x8106718
int __fastcall sub_8106718(int a1)
{
    int v1; // r5
    int v2; // r7
    int v3; // r6
    char v4; // r0
    int v5; // r4
    int result; // r0
    signed int v7; // r1
    int v8; // r1
    int v9; // r1

    v3 = a1;
    GetPositiveSignedRNG2();
    v5 = v4 & 1;
    result = *(&dword_810675C + 2 * *(v1 + 22) + v3);
    if ( v3 )
    {
        v9 = *(&dword_8106770 + *(v1 + 19) - 1);
    }
    else
    {
        v7 = *(*(v2 + 44) + 19);
        if ( v7 < 1 || v7 > 3 )
            v7 = 2;
        v8 = byte_8106764[2 * (v7 - 1) + v5];
    }
    return result;
}


// 0x8106774
int __fastcall sub_8106774(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r3
    int v4; // r0
    int result; // r0
    int v10; // [sp+0h] [bp-8h]

    v10 = a1;
    v3 = object_getFrontDirection(v1);
    if ( v10 )
        v3 = -v3;
    v1->vx = v3 * *&byte_81067B8[4 * *(v2 + 3)];
    v4 = *(&dword_81067CC + 2 * v1->Alliance + v10) - v1->panelX;
    if ( v4 < 0 )
        v4 = v1->panelX - *(&dword_81067CC + 2 * v1->Alliance + v10);
    result = 2621440 * v4;
    __asm { SVC         6 }
    *(v2 + 16) = result;
    return result;
}


// 0x81067d0
int sub_81067D0()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1
    int v3; // r6

    v2 = 1;
    if ( *(v0 + 64) <= 0 )
        v2 = -1;
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(*(v0 + 18) + v2, *(v0 + 19), *(v1 + 2), 0);
}


// 0x8106924
int sub_8106924()
{
    int v0; // r5

    return (*(&off_8106940 + *(*(v0 + 88) + 128)))();
}


// 0x810694c
int sub_810694C()
{
    _BYTE *v0; // r6
    int result; // r0

    result = *(&off_8106960 + sub_800FE36());
    *v0 = result;
    return result;
}


// 0x8106964
void sub_8106964()
{
    int v0; // r6
    char v1; // r0

    if ( !sub_8106A60() )
    {
        if ( *(v0 + 4) < 5 )
        {
            ++*(v0 + 4);
            sub_8106BB8();
            return;
        }
        *(v0 + 4) = 0;
        if ( *(v0 + 5) >= 3 )
        {
            *(v0 + 5) = 0;
            sub_8106C0E();
            return;
        }
        ++*(v0 + 5);
        GetPositiveSignedRNG2();
        if ( (v1 & 0xF) >= 8 )
        {
            sub_8106C6C();
            return;
        }
    }
    sub_8106C34();
}


// 0x81069b4
void sub_81069B4()
{
    _BYTE *v0; // r6
    char v1; // r0
    int v2; // r0

    if ( sub_8106A60() )
        goto LABEL_6;
    if ( v0[4] < 5 )
    {
        ++v0[4];
        sub_8106BB8();
        return;
    }
    v0[4] = 0;
    if ( v0[5] >= 3 )
    {
        v0[5] = 0;
        v2 = v0[6];
        v0[6] = v2 ^ 1;
        if ( v2 )
            sub_8106CAC();
        else
            sub_8106C6C();
    }
    else
    {
        ++v0[5];
        GetPositiveSignedRNG2();
        if ( (v1 & 0xF) < 15 )
        {
LABEL_6:
            sub_8106C34();
            return;
        }
        sub_8106C0E();
    }
}


// 0x8106a22
signed int __noreturn sub_8106A22()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 1, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x8106a60
signed int sub_8106A60()
{
    int v0; // r5
    signed int v1; // r4

    v1 = 0;
    battle_findPlayer(*(v0 + 22) ^ 1);
    if ( object_getFlag() & 0x800 )
        v1 = 1;
    return v1;
}


// 0x8106a84
int sub_8106A84()
{
    int v0; // r4

    v0 = sub_800FE28(&dword_8106AA4);
    if ( object_getFlag() & 0xA000 )
        v0 += 16;
    return v0;
}


// 0x8106aa8
int sub_8106AA8()
{
    return sub_800FE28(&off_8106AB8);
}


// 0x8106abc
int sub_8106ABC()
{
    return sub_800FE28(&off_8106ACC);
}


// 0x8106ad0
int sub_8106AD0()
{
    return sub_800FE28(&dword_8106AE0);
}


// 0x8106ae4
int sub_8106AE4()
{
    return sub_800FE28(&dword_8106AF4);
}


// 0x8106af8
int sub_8106AF8()
{
    return sub_800FE28(&dword_8106B08);
}


// 0x8106b0c
int sub_8106B0C()
{
    return sub_800FE28(&dword_8106B1C);
}


// 0x8106b20
int sub_8106B20()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8106B3C);
    sub_800FE28(&byte_8106B3C[4]);
    return v0;
}


// 0x8106b44
int sub_8106B44()
{
    return sub_800FE28(&off_8106B54);
}


// 0x8106b58
int sub_8106B58()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8106B74);
    sub_800FE28(&byte_8106B74[4]);
    return v0;
}


// 0x8106b7c
int sub_8106B7C()
{
    return sub_800FE28(&dword_8106B8C);
}


// 0x8106b90
int sub_8106B90()
{
    return sub_800FE28(&dword_8106BA0);
}


// 0x8106ba4
int sub_8106BA4()
{
    return sub_800FE28(byte_8106BB4);
}


// 0x8106bb8
int sub_8106BB8()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 40) = sub_81078C2;
    *(v1 + 24) = sub_8106A84();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x8106bd8
void sub_8106BD8()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_8106CEA(0);
    *(v1 + 40) = sub_8107914;
    *(v1 + 24) = sub_8106AA8();
    *(v1 + 12) = sub_8106ABC();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8106c0e
void sub_8106C0E()
{
    int v0; // r7

    *(v0 + 3) = sub_800FE36();
    *(v0 + 2) = 3;
    sub_8106CEA(1);
    *(v0 + 24) = sub_8106AD0();
    *(v0 + 12) = sub_8106AE4();
    object_setAttack0();
}


// 0x8106c34
void sub_8106C34()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_8106CEA(2);
    *(v1 + 40) = sub_8107970;
    *(v1 + 24) = sub_8106B0C();
    *(v1 + 12) = sub_8106B20();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8106c6c
void sub_8106C6C()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_8106CEA(3);
    *(v1 + 48) = sub_8106D18(4);
    *(v1 + 40) = sub_8107970;
    *(v1 + 24) = sub_8106B44();
    *(v1 + 12) = sub_8106B58();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8106cac
void sub_8106CAC()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 1;
    sub_8106CEA(5);
    *(v1 + 40) = sub_8107994;
    *(v1 + 24) = sub_8106B7C();
    *(v1 + 12) = sub_8106B90();
    *(v1 + 13) = sub_8106BA4();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8106cea
int __fastcall sub_8106CEA(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_8106D58[8 * a1]);
    result = sub_800FE12(&byte_8106DA0[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x8106d18
int __fastcall sub_8106D18(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_8106D58[8 * a1]);
    return (sub_800FE12(&byte_8106DA0[8 * v1]) << 16) | v2;
}


// 0x8106dec
int sub_8106DEC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8106E00 + *v0))();
}


// 0x8106e0c
void __fastcall sub_8106E0C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_8106E58[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x8106e68
int sub_8106E68()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8106e94
void sub_8106E94()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x8106ece
int sub_8106ECE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8106EE0 + *v0))();
}


// 0x8106efc
void __fastcall sub_8106EFC(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 48) = 0;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8106f5c
int sub_8106F5C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8106f84
int sub_8106F84()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x8106fa6
int sub_8106FA6()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 4, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8106fe6
int sub_8106FE6()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int v4; // r0
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6, 1);
        result = v6 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 5;
        object_setCounterTime(10);
        PlaySoundEffect(176, v2, v3);
        *(v1 + 16) = 21;
        v4 = sub_81079DC();
        result = sub_80B8E30(v4);
        *(v1 + 48) = result;
    }
    return result;
}


// 0x8107030
int sub_8107030()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 24;
            *v0 = 24;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8107050
void sub_8107050()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5--, 1);
        *(v1 + 16) = v5;
        if ( ((v5 < 0) ^ v6) | (v5 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
        v4 = *(v1 + 48);
        if ( v4 )
            sub_80B8E58(v4);
    }
}


// 0x81070a8
int sub_81070A8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81070BC + *v0))();
}


// 0x81070c8
int sub_81070C8()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 4;
            *v0 = 4;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        *(v0 + 48) = 0;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81070ec
int sub_81070EC()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6
    int result; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 14;
        *(v1 + 48) = sub_80B8E30(14);
        object_setCounterTime(24);
        v2 = object_getFrontDirection(v0);
        v3 = *(v1 + 8);
        spawnThunderObjectMaybe_80c954c(v2 + v0->panelX, v0->panelY, *(v1 + 2), 655360);
        result = 30;
        *(v1 + 16) = 30;
    }
    return result;
}


// 0x8107156
void sub_8107156()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    unsigned __int8 v4; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 16);
        v4 = __OFSUB__(v3--, 1);
        *(v1 + 16) = v3;
        if ( ((v3 < 0) ^ v4) | (v3 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
        v2 = *(v1 + 48);
        if ( v2 )
            sub_80B8E58(v2);
    }
}


// 0x8107184
int sub_8107184()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8107198 + *v0))();
}


// 0x81071c0
void __fastcall sub_81071C0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x810721c
int sub_810721C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8107244
int sub_8107244()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x8107258
int sub_8107258()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 10;
        *(v0 + 16) = 10;
    }
    return result;
}


// 0x8107278
int sub_8107278()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 2, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x81072b8
int sub_81072B8()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 17 )
        {
            result = sub_8107A00(0);
        }
        else if ( result <= 0 )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        object_setCounterTime(24);
        PlaySoundEffect(453, v2, v3);
        sub_8107A30(0);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x81072fe
int sub_81072FE()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 4, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x810733e
int sub_810733E()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 17 )
        {
            result = sub_8107A00(1);
        }
        else if ( result <= 0 )
        {
            result = 32;
            *v1 = 32;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        *(v0 + 17) = -1;
        object_setCounterTime(24);
        PlaySoundEffect(454, v2, v3);
        sub_8107A30(1);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x8107388
int sub_8107388()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 36;
            *v0 = 36;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81073a8
void sub_81073A8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
    }
}


// 0x81073f6
int sub_81073F6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8107408 + *v0))();
}


// 0x8107438
void __fastcall sub_8107438(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 52) = 0;
        *(v2 + 56) = 0;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x810749c
int sub_810749C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x81074c4
int sub_81074C4()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x81074d8
int sub_81074D8()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 2, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8107518
int __fastcall sub_8107518(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0

    if ( *(v4 + 1) )
    {
        result = *(v4 + 16) - 1;
        *(v4 + 16) = result;
        if ( result == 17 )
        {
            sub_8107A64();
            result = sub_8107A88();
            *(v4 + 14) = result;
        }
        else if ( result <= 0 )
        {
            if ( *(v4 + 14) )
            {
                result = 20;
                *v4 = 20;
            }
            else
            {
                result = 40;
                *v4 = 40;
            }
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 12;
        PlaySoundEffect(453, a2, a3);
        sub_8107A30(0);
        result = 20;
        *(v4 + 16) = 20;
    }
    return result;
}


// 0x8107568
signed int __noreturn sub_8107568()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    bool v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // ST00_4
    int v7; // ST04_4
    signed int result; // r0

    object_removePanelReserve(*(v1 + 22), *(v1 + 23));
    object_clearFlag(64);
    v2 = object_setFlag1(0x80000);
    object_canMove(v2);
    if ( v3
        || ((v4 = -3 * object_getFrontDirection(v0) + *(*(v1 + 44) + 18), v5 = v0->panelY, v4 != v0->futurePanelX)
         || v5 != v0->futurePanelY)
        && (v6 = v4, v7 = v0->panelY,
                                 v3 = object_checkPanelParameters(v4, v5, 0x10000, 260571264) == 0,
                                 v4 = v6,
                                 v5 = v7,
                                 v3) )
    {
        result = 40;
        *v1 = 40;
    }
    else
    {
        *(v1 + 22) = v4;
        *(v1 + 23) = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        v0->currAnimation = 4;
        *(v1 + 16) = 3;
        *(v1 + 26) = 1;
        result = 24;
        *v1 = 24;
    }
    return result;
}


// 0x81075e8
int sub_81075E8()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 28;
        *v1 = 28;
    }
    return result;
}


// 0x8107610
int sub_8107610()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        result = 32;
        *v1 = 32;
    }
    return result;
}


// 0x8107624
int sub_8107624()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 36;
            *v0 = 36;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 13);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8107644
int sub_8107644()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 14;
        v2 = sub_8107B06();
        v3 = sub_80B8E30(v2);
        *(v1 + 52) = v3;
        *(v1 + 56) = sub_80B8E30(v3);
        PlaySoundEffect(174, v4, v5);
        *(v1 + 16) = 90;
        *(v1 + 18) = 5;
    }
    v6 = *(v1 + 16);
    v7 = __OFSUB__(v6--, 1);
    *(v1 + 16) = v6;
    if ( ((v6 < 0) ^ v7) | (v6 == 0) )
    {
        result = 40;
        *v1 = 40;
    }
    else
    {
        v9 = *(v1 + 18);
        v7 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 18) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v1 + 18) = 5;
            *(v0 + 16) = 14;
            *(v0 + 17) = -1;
            sub_8107B06();
            PlaySoundEffect(174, v10, v11);
            v12 = *(v1 + 52);
            if ( v12 )
                sub_80B8E7C(v12);
            result = *(v1 + 56);
            if ( result )
                result = sub_80B8E7C(result);
        }
    }
    return result;
}


// 0x81076ce
int sub_81076CE()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 44;
            *v0 = 44;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81076ee
void sub_81076EE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6--, 1);
        *(v1 + 16) = v6;
        if ( ((v6 < 0) ^ v7) | (v6 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(*(v1 + 22), *(v1 + 23));
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
        v4 = *(v1 + 52);
        if ( v4 )
            sub_80B8E58(v4);
        v5 = *(v1 + 56);
        if ( v5 )
            sub_80B8E58(v5);
    }
}


// 0x8107750
int sub_8107750()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8107764 + *v0))();
}


// 0x810777c
void __fastcall sub_810777C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v4;
        v1->futurePanelY = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x81077cc
int sub_81077CC()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x81077f8
int sub_81077F8()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x8107816
int sub_8107816()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 26, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8107856
int __fastcall sub_8107856(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int v5; // r1
    int v6; // r2
    int result; // r0
    int v8; // r0
    unsigned __int8 v9; // vf
    int v10; // r0

    if ( *(v4 + 1) )
    {
        v8 = *(v4 + 18);
        v9 = __OFSUB__(v8--, 1);
        *(v4 + 18) = v8;
        if ( ((v8 < 0) ^ v9) | (v8 == 0) )
        {
            PlaySoundEffect(299, a2, a3);
            *(v4 + 18) = 16;
        }
        v10 = *(v4 + 16);
        v9 = __OFSUB__(v10, 1);
        result = v10 - 1;
        *(v4 + 16) = result;
        if ( ((result < 0) ^ v9) | (result == 0) )
        {
            result = 20;
            *v4 = 20;
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 18;
        sub_8107AB2();
        PlaySoundEffect(299, v5, v6);
        *(v4 + 16) = *(v4 + 13);
        result = 16;
        *(v4 + 18) = 16;
    }
    return result;
}


// 0x810789e
void sub_810789E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x81078c2
int __fastcall sub_81078C2(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // ST00_4
    int v6; // r4
    int v7; // r6
    int result; // r0
    int v13; // r1
    int v14; // [sp+4h] [bp-34h]
    int v15; // [sp+8h] [bp-30h]
    int v16; // [sp+Ch] [bp-2Ch]
    int v17; // [sp+10h] [bp-28h]

    v15 = a3;
    v16 = a4;
    v5 = *(a1 + 18);
    v14 = *(a1 + 19);
    v6 = 1;
    v7 = 0;
    do
    {
        if ( *(v4 + 18) != v6 )
            v7 += object_getPanelsInColumnIgnoreRowFiltered(v6, v14, v15, v16);
        ++v6;
    }
    while ( v6 <= 6 );
    if ( v7 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v17 + v7) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v13 = *(v4 + 19);
    }
    return result;
}


// 0x8107914
int __fastcall __noreturn sub_8107914(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // ST00_4
    int result; // r0
    int v9; // r0
    int v10; // r6
    int v11; // r6
    int v15; // [sp+0h] [bp-30h]
    int v16; // [sp+4h] [bp-2Ch]
    int v17; // [sp+8h] [bp-28h]

    v5 = a1;
    v15 = a3;
    v16 = a4;
    v6 = *(a1 + 18) - object_getFrontDirection(v4);
    _ZF = object_checkPanelParameters(v6, *(v5 + 19), v15, v16) == 0;
    result = v6;
    if ( _ZF )
    {
        v9 = object_getFrontDirection(v4);
        v10 = v4->Alliance;
        result = object_getPanelRegion(*(v5 + 18) - v9, *(v5 + 19), v15, v16);
        v11 = result;
        if ( result )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v17 + v11) & 7;
        }
    }
    return result;
}


// 0x8107970
int __fastcall __noreturn sub_8107970(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // r0
    int v9; // r2
    int v10; // ST00_4
    bool v11; // zf
    int result; // r0

    v5 = a1;
    v6 = a3;
    v7 = a4;
    v8 = object_getFrontDirection(v4);
    v9 = v6;
    v10 = *(v5 + 18) - v8;
    v11 = object_checkPanelParameters(v10, *(v5 + 19), v9, v7) == 0;
    result = v10;
    if ( v11 )
        result = 0;
    return result;
}


// 0x8107994
int __fastcall __noreturn sub_8107994(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r6
    int result; // r0
    int v8; // r1
    int v9; // ST00_4
    bool v10; // zf

    v5 = a3;
    v6 = a4;
    result = object_getClosestPanelMatchingRowFiltered(
                         *(v4 + 22),
                         2,
                         *&byte_81079CC[8 * *(v4 + 22)],
                         *&byte_81079CC[8 * *(v4 + 22) + 4]);
    if ( result )
    {
        v9 = result;
        v10 = object_checkPanelParameters(result, v8, v5, v6) == 0;
        result = v9;
        if ( v10 )
            result = 0;
    }
    return result;
}


// 0x81079dc
int sub_81079DC()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x8107a00
int __fastcall sub_8107A00(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r4
    char v4; // r0
    int v5; // r6

    v3 = *&byte_8107A24[4 * a1];
    v4 = object_getFrontDirection(v1);
    v5 = *(v2 + 8);
    return object_spawnCollisionRegion(v4 + v1->panelX, v1->panelY, *(v2 + 2), 0);
}


// 0x8107a30
void __fastcall sub_8107A30(int a1)
{
    Battle *v1; // r5
    int v2; // r4
    char v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v2 = *(&dword_8107A60 + a1);
    object_getFlip(v1);
    v3 = object_getFrontDirection(v1);
    v4 = v1->panelY;
    v5 = object_getCoordinatesForPanels(v3 + v1->panelX);
    SpawnT4BattleObjectWithId0(v1, v5, v5, v6, 0x100000);
}


// 0x8107a64
int sub_8107A64()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x8107a88
signed int sub_8107A88()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r6
    int v3; // r4
    int v4; // r1
    int v5; // r0
    int v6; // r2

    v2 = 0;
    v3 = object_getFrontDirection(v0);
    v4 = *(v1 + 44);
    v5 = *(v4 + 18);
    if ( *(v4 + 19) == v0->panelY )
    {
        v6 = v0->panelX + v3;
        if ( v5 == v6 || v5 == v6 + v3 )
            v2 = 1;
    }
    return v2;
}


// 0x8107ab2
int sub_8107AB2()
{
    Battle *v0; // r5
    int v1; // r7
    char *v2; // r6
    int v3; // r4
    int result; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r4
    int v8; // r6
    int v9; // [sp-18h] [bp-24h]
    int v10; // [sp-14h] [bp-20h]
    int v11; // [sp-10h] [bp-1Ch]
    int v12; // [sp-Ch] [bp-18h]
    int v13; // [sp-8h] [bp-14h]
    char *v14; // [sp-4h] [bp-10h]

    v2 = byte_80199B6;
    v3 = object_getFrontDirection(v0);
    result = v3 + v0->panelX;
    v5 = v0->panelY;
    while ( 1 )
    {
        v6 = *v2;
        if ( v6 == 127 )
            break;
        v11 = result;
        v12 = v5;
        v13 = v3;
        v14 = v2;
        v9 = result + v6 * v3;
        v10 = v5 + v2[1];
        if ( object_isValidPanel(v9, v10) )
        {
            v7 = (*(v1 + 13) << 8) | 0x40002;
            v8 = *(v1 + 8);
            sub_80D07A0(v9, v10, *(v1 + 2), 0);
        }
        result = v11;
        v5 = v12;
        v3 = v13;
        v2 = v14 + 2;
    }
    return result;
}


// 0x8107b06
int sub_8107B06()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6
    int v4; // r2

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 48);
    return sub_80C4FFE(v2 + v0->panelX, v0->panelY, v4, 0x100000);
}


// 0x8107c4c
int sub_8107C4C()
{
    int v0; // r5

    return (*(&off_8107C68 + *(*(v0 + 88) + 128)))();
}


// 0x8107c7c
int sub_8107C7C()
{
    _BYTE *v0; // r6
    int result; // r0

    result = *(&dword_8107C90 + sub_800FE36());
    *v0 = result;
    return result;
}


// 0x8107c94
signed int sub_8107C94()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    signed int result; // r0

    if ( v1[4] < 5 )
    {
        ++v1[4];
        sub_8107FF4();
    }
    else
    {
        v1[4] = 0;
        v2 = v1[2];
        v1[2] = v2 ^ 1;
        if ( v2 )
        {
            if ( v1[5] >= 2 )
            {
                v1[5] = 0;
                sub_8108046();
            }
            else
            {
                ++v1[5];
                sub_810806E();
            }
        }
        else
        {
            sub_8108014();
        }
    }
    result = *(v0 + 38) >> 1;
    if ( result >= *(v0 + 36) )
    {
        *v1 = 8;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x8107cf0
signed int sub_8107CF0()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    signed int result; // r0

    if ( v1[4] < 4 )
    {
        ++v1[4];
        sub_8107FF4();
    }
    else
    {
        v1[4] = 0;
        if ( v1[6] >= 4 )
        {
            v1[6] = 0;
            sub_81080A6();
        }
        else
        {
            ++v1[6];
            v2 = v1[2];
            v1[2] = v2 ^ 1;
            if ( v2 )
            {
                if ( v1[5] >= 2 )
                {
                    v1[5] = 0;
                    sub_8108046();
                }
                else
                {
                    ++v1[5];
                    sub_810806E();
                }
            }
            else
            {
                sub_8108014();
            }
        }
    }
    result = *(v0 + 38) >> 1;
    if ( result < *(v0 + 36) )
    {
        *v1 = 4;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x8107d62
signed int sub_8107D62()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    signed int result; // r0

    if ( v1[4] < 4 )
    {
        ++v1[4];
        sub_8107FF4();
    }
    else
    {
        v1[4] = 0;
        if ( v1[6] >= 4 )
        {
            v1[6] = 0;
            sub_81080A6();
        }
        else
        {
            ++v1[6];
            v2 = v1[2];
            v1[2] = v2 ^ 1;
            if ( v2 )
            {
                if ( v1[5] >= 2 )
                {
                    v1[5] = 0;
                    sub_8108046();
                }
                else
                {
                    ++v1[5];
                    sub_810806E();
                }
            }
            else
            {
                sub_8108014();
            }
        }
    }
    result = *(v0 + 38) >> 1;
    if ( result >= *(v0 + 36) )
    {
        *v1 = 16;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x8107dd4
signed int sub_8107DD4()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r0
    int v3; // r0
    signed int result; // r0

    if ( v1[4] >= 4 )
    {
        v1[4] = 0;
        if ( v1[5] >= 5 )
        {
            v1[5] = 0;
            v3 = v1[2];
            v1[2] = v3 ^ 1;
            if ( v3 )
                sub_81080E6();
            else
                sub_810806E();
        }
        else
        {
            ++v1[5];
            if ( v1[6] >= 4 )
            {
                v1[6] = 0;
                sub_81080A6();
            }
            else
            {
                ++v1[6];
                v2 = v1[3];
                v1[3] = v2 ^ 1;
                if ( v2 )
                    sub_8108046();
                else
                    sub_8108014();
            }
        }
    }
    else
    {
        ++v1[4];
        sub_8107FF4();
    }
    result = *(v0 + 38) >> 1;
    if ( result < *(v0 + 36) )
    {
        *v1 = 12;
        *(v1 + 1) = 0;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x8107e72
signed int __noreturn sub_8107E72()
{
    _DWORD *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r2

    object_clearFlag(64);
    v1 = sub_801DC7C(0, 0);
    object_updateCollisionData(v1, 16, 2, 3);
    object_setCollisionRegion(1);
    v2 = v0[11] & 0xFFFF;
    v3 = v0[21];
    *(v3 + 46) = v2;
    *(v3 + 7) = v2;
    return object_removePanelReserve(*(v0[22] + 182), *(v0[22] + 183));
}


// 0x8107eb0
int sub_8107EB0()
{
    int v0; // r5
    signed int v1; // r2
    int v2; // r4

    v1 = 0;
    if ( (*(v0 + 38) >> 1) > *(v0 + 36) )
        v1 = 4;
    v2 = sub_800FE28(&byte_8107EE0[v1]);
    if ( object_getFlag() & 0xA000 )
        v2 += 16;
    return v2;
}


// 0x8107ee8
int sub_8107EE8()
{
    return sub_800FE28(&dword_8107EF8);
}


// 0x8107efc
int sub_8107EFC()
{
    return sub_800FE28(&dword_8107F0C);
}


// 0x8107f10
int sub_8107F10()
{
    return sub_800FE28(&dword_8107F20);
}


// 0x8107f24
int sub_8107F24()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8107F40);
    sub_800FE28(&byte_8107F40[4]);
    return v0;
}


// 0x8107f48
int sub_8107F48()
{
    return sub_800FE28(&dword_8107F58);
}


// 0x8107f5c
int sub_8107F5C()
{
    int v0; // ST00_4

    v0 = sub_800FE28(byte_8107F78);
    sub_800FE28(&byte_8107F78[4]);
    return v0;
}


// 0x8107f80
int sub_8107F80()
{
    return sub_800FE28(&dword_8107F90);
}


// 0x8107f94
int sub_8107F94()
{
    int v0; // ST00_4

    v0 = sub_800FE28(&off_8107FB0);
    sub_800FE28(&dword_8107FB4);
    return v0;
}


// 0x8107fb8
int sub_8107FB8()
{
    return sub_800FE28(&dword_8107FC8);
}


// 0x8107fcc
int sub_8107FCC()
{
    return sub_800FE28(&dword_8107FDC);
}


// 0x8107fe0
int sub_8107FE0()
{
    return sub_800FE28(&dword_8107FF0);
}


// 0x8107ff4
int sub_8107FF4()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 40) = sub_8108C10;
    *(v1 + 24) = sub_8107EB0();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    return (object_setAttack4)(9);
}


// 0x8108014
void sub_8108014()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 2;
    sub_8108124(0);
    *(v1 + 24) = sub_8107EE8();
    *(v1 + 12) = sub_8107EFC();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8108046
void sub_8108046()
{
    int v0; // r7
    char v1; // r0

    *(v0 + 3) = sub_800FE36();
    *(v0 + 2) = 4;
    sub_8108124(1);
    *(v0 + 24) = sub_8107F10();
    v1 = sub_8107F24();
    *(v0 + 12) = v1;
    *(v0 + 13) = v1;
    object_setAttack0();
}


// 0x810806e
void sub_810806E()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_8108124(2);
    *(v1 + 40) = sub_8108CBA;
    *(v1 + 24) = sub_8107F48();
    *(v1 + 12) = sub_8107F5C();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81080a6
void sub_81080A6()
{
    int v0; // r5
    int v1; // r7
    char v2; // r1

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 0;
    sub_8108124(3);
    *(v1 + 48) = sub_8108152(4);
    *(v1 + 40) = sub_8108CBA;
    *(v1 + 24) = sub_8107F80();
    *(v1 + 12) = sub_8107F94();
    *(v1 + 13) = v2;
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x81080e6
void sub_81080E6()
{
    int v0; // r5
    int v1; // r7

    *(v1 + 3) = sub_800FE36();
    *(v1 + 2) = 32;
    sub_8108124(5);
    *(v1 + 40) = sub_8108CDE;
    *(v1 + 24) = sub_8107FB8();
    *(v1 + 12) = sub_8107FCC();
    *(v1 + 13) = sub_8107FE0();
    *(v1 + 44) = battle_findPlayer(*(v0 + 22) ^ 1);
    object_setAttack0();
}


// 0x8108124
int __fastcall sub_8108124(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r6
    int result; // r0

    v2 = a1;
    v3 = sub_800FE12(&byte_8108190[8 * a1]);
    result = sub_800FE12(&byte_81081D8[8 * v2]) << 16;
    *(*(v1 + 88) + 168) = v3 | result;
    return result;
}


// 0x8108152
int __fastcall sub_8108152(int a1)
{
    int v1; // r4
    int v2; // r6

    v1 = a1;
    v2 = sub_800FE12(&byte_8108190[8 * a1]);
    return (sub_800FE12(&byte_81081D8[8 * v1]) << 16) | v2;
}


// 0x810821c
int sub_810821C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8108230 + *v0))();
}


// 0x810823c
void __fastcall sub_810823C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_8108288[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x8108298
int sub_8108298()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x81082c4
void sub_81082C4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int v4; // r0

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v3 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v3) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
        {
            v0->currAnimation = 0;
            object_clearFlag(64);
            object_setFlag1(0x80000);
            *(v1 + 16) = *(v1 + 24);
            *(v1 + 1) = 4;
        }
    }
}


// 0x81082fe
int sub_81082FE()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8108310 + *v0))();
}


// 0x810831c
int sub_810831C()
{
    int v0; // r7
    int v1; // r0
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    if ( !*(v0 + 1) )
    {
        *(v0 + 1) = 4;
        sub_8108D24();
    }
    v1 = *(v0 + 18) + 1;
    *(v0 + 18) = v1;
    if ( !__CFSHR__(v1, 3) )
        sub_8108DF0();
    v2 = *(v0 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v0 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        result = 4;
        *v0 = 4;
    }
    return result;
}


// 0x8108352
int __fastcall sub_8108352(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r7
    int result; // r0
    int v7; // r0
    unsigned __int8 v8; // vf
    int v9; // r0

    if ( *(v5 + 1) )
    {
        if ( *(v5 + 13) <= 2 )
        {
            v7 = *(v5 + 18);
            v8 = __OFSUB__(v7--, 1);
            *(v5 + 18) = v7;
            if ( ((v7 < 0) ^ v8) | (v7 == 0) )
            {
                sub_8108E10(*(v5 + 13), a2, a3, a4);
                ++*(v5 + 13);
                *(v5 + 18) = 5;
            }
        }
        v9 = *(v5 + 16);
        v8 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v5 + 16) = result;
        if ( ((result < 0) ^ v8) | (result == 0) )
        {
            result = 8;
            *v5 = 8;
        }
    }
    else
    {
        *(v5 + 1) = 4;
        *(v4 + 16) = 12;
        object_setCounterTime(12);
        *(v5 + 13) = 0;
        *(v5 + 18) = 5;
        result = 30;
        *(v5 + 16) = 30;
    }
    return result;
}


// 0x81083a2
void sub_81083A2()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x81083c6
int sub_81083C6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81083D8 + *v0))();
}


// 0x81083e8
int sub_81083E8()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 4;
            *v0 = 4;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 12);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8108408
int sub_8108408()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
            object_highlightPanelRegion(
                *(&dword_8108450 + 2 * *(v0 + 22)),
                *(&dword_8108450 + 2 * *(v0 + 22) + 1),
                39,
                *(v0 + 22));
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 8;
            *v1 = 8;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8108454
int __fastcall sub_8108454(int a1, int a2)
{
    int v2; // r5
    int v3; // r7
    int result; // r0
    int v5; // r6

    if ( *(v3 + 1) )
    {
        result = *(v3 + 16) - 1;
        *(v3 + 16) = result;
        if ( result == 20 )
        {
            v5 = *(v3 + 8);
            result = sub_80CA4F6(20, a2, *(v3 + 2));
        }
        else if ( result <= 0 )
        {
            result = 12;
            *v3 = 12;
        }
    }
    else
    {
        *(v3 + 1) = 4;
        *(v2 + 16) = 12;
        object_setCounterTime(12);
        result = 30;
        *(v3 + 16) = 30;
    }
    return result;
}


// 0x810849c
void sub_810849C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x81084c0
int sub_81084C0()
{
    unsigned __int8 *v0; // r7

    return (*(&off_81084D4 + *v0))();
}


// 0x81084fc
void __fastcall sub_81084FC(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8108558
int sub_8108558()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8108580
int sub_8108580()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x81085a2
int sub_81085A2()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 16;
            *v0 = 16;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = 10;
        *(v0 + 16) = 10;
    }
    return result;
}


// 0x81085c2
int sub_81085C2()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 2, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 20;
            *v1 = 20;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8108602
int sub_8108602()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 17 )
        {
            result = sub_8108E34(0);
        }
        else if ( result <= 0 )
        {
            result = 24;
            *v1 = 24;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        object_setCounterTime(8);
        PlaySoundEffect(453, v2, v3);
        sub_8108E64(0);
        result = 20;
        *(v1 + 16) = 20;
    }
    return result;
}


// 0x8108648
int sub_8108648()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 4, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 28;
            *v1 = 28;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 13);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8108688
int sub_8108688()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r2
    int result; // r0

    if ( *(v1 + 1) )
    {
        result = *(v1 + 16) - 1;
        *(v1 + 16) = result;
        if ( result == 17 )
        {
            result = sub_8108E34(1);
        }
        else if ( result <= 0 )
        {
            result = 32;
            *v1 = 32;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 12;
        *(v0 + 17) = -1;
        object_setCounterTime(8);
        PlaySoundEffect(454, v2, v3);
        sub_8108E64(1);
        *(v1 + 16) = 20;
        result = *(v0 + 80);
        if ( result )
            result = sub_80C46B6(result);
    }
    return result;
}


// 0x81086dc
int sub_81086DC()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 36;
            *v0 = 36;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81086fc
void sub_81086FC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v1 + 1) )
    {
        v4 = *(v1 + 16);
        v5 = __OFSUB__(v4--, 1);
        *(v1 + 16) = v4;
        if ( ((v4 < 0) ^ v5) | (v4 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(v0->panelX, v0->panelY);
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
    }
}


// 0x810874a
int sub_810874A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810875C + *v0))();
}


// 0x810878c
void __fastcall sub_810878C(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v4;
        *(v2 + 23) = v5;
        object_reservePanel(v4, v5);
        v6 = v1->panelX;
        v7 = v1->panelY;
        v1->futurePanelX = v6;
        v1->futurePanelY = v7;
        object_reservePanel(v6, v7);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 52) = 0;
        *(v2 + 56) = 0;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x81087f0
int sub_81087F0()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8108818
int sub_8108818()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x810883a
int sub_810883A()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 2, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x810887a
int __fastcall sub_810887A(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r7
    int result; // r0

    if ( *(v4 + 1) )
    {
        result = *(v4 + 16) - 1;
        *(v4 + 16) = result;
        if ( result == 17 )
        {
            sub_8108E98();
            result = sub_8108EBC();
            *(v4 + 14) = result;
        }
        else if ( result <= 0 )
        {
            if ( *(v4 + 14) )
            {
                result = 20;
                *v4 = 20;
            }
            else
            {
                result = 40;
                *v4 = 40;
            }
        }
    }
    else
    {
        *(v4 + 1) = 4;
        *(v3 + 16) = 12;
        PlaySoundEffect(453, a2, a3);
        sub_8108E64(0);
        result = 20;
        *(v4 + 16) = 20;
    }
    return result;
}


// 0x81088ca
signed int __noreturn sub_81088CA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    bool v3; // zf
    int v4; // r0
    int v5; // r1
    int v6; // ST00_4
    int v7; // ST04_4
    signed int result; // r0

    v2 = object_removePanelReserve(*(v1 + 22), *(v1 + 23));
    object_canMove(v2);
    if ( v3
        || ((v4 = -3 * object_getFrontDirection(v0) + *(*(v1 + 44) + 18), v5 = v0->panelY, v4 != v0->futurePanelX)
         || v5 != v0->futurePanelY)
        && (v6 = v4, v7 = v0->panelY,
                                 v3 = object_checkPanelParameters(v4, v5, 0x10000, 260571264) == 0,
                                 v4 = v6,
                                 v5 = v7,
                                 v3) )
    {
        result = 40;
        *v1 = 40;
    }
    else
    {
        *(v1 + 22) = v4;
        *(v1 + 23) = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        v0->currAnimation = 4;
        *(v1 + 16) = 3;
        *(v1 + 26) = 1;
        result = 24;
        *v1 = 24;
    }
    return result;
}


// 0x810893c
int sub_810893C()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    u8 v5; // r1

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = *(v1 + 23);
        v0->panelX = *(v1 + 22);
        v0->panelY = v5;
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        *(v1 + 16) = 3;
        result = 28;
        *v1 = 28;
    }
    return result;
}


// 0x8108964
int sub_8108964()
{
    int v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        *(v0 + 16) = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 32;
        *v1 = 32;
    }
    return result;
}


// 0x8108986
int sub_8108986()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 36;
            *v0 = 36;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 13);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x81089a6
int sub_81089A6()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r0
    unsigned __int8 v7; // vf
    int result; // r0
    int v9; // r0
    int v10; // r1
    int v11; // r2
    int v12; // r0
    int v13; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 4;
        *(v0 + 16) = 14;
        v2 = sub_8108EE6();
        v3 = sub_80B8E30(v2);
        *(v1 + 52) = v3;
        *(v1 + 56) = sub_80B8E30(v3);
        PlaySoundEffect(174, v4, v5);
        *(v1 + 16) = 90;
        *(v1 + 18) = 3;
    }
    v6 = *(v1 + 16);
    v7 = __OFSUB__(v6--, 1);
    *(v1 + 16) = v6;
    if ( ((v6 < 0) ^ v7) | (v6 == 0) )
    {
        result = 40;
        *v1 = 40;
    }
    else
    {
        v9 = *(v1 + 18);
        v7 = __OFSUB__(v9, 1);
        result = v9 - 1;
        *(v1 + 18) = result;
        if ( ((result < 0) ^ v7) | (result == 0) )
        {
            *(v1 + 18) = 3;
            *(v0 + 16) = 14;
            *(v0 + 17) = -1;
            sub_8108EE6();
            PlaySoundEffect(174, v10, v11);
            v12 = *(v1 + 52);
            if ( v12 )
                sub_80B8E7C(v12);
            v13 = *(v0 + 80);
            if ( v13 )
                sub_80C46B6(v13);
            result = *(v1 + 56);
            if ( result )
                result = sub_80B8E7C(result);
        }
    }
    return result;
}


// 0x8108a3a
int sub_8108A3A()
{
    int v0; // r7
    int result; // r0
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v0 + 1) )
    {
        v2 = *(v0 + 16);
        v3 = __OFSUB__(v2, 1);
        result = v2 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v3) | (result == 0) )
        {
            result = 44;
            *v0 = 44;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        result = *(v0 + 24);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8108a5a
void sub_8108A5A()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r0
    int v6; // r0
    unsigned __int8 v7; // vf

    if ( *(v1 + 1) )
    {
        v6 = *(v1 + 16);
        v7 = __OFSUB__(v6--, 1);
        *(v1 + 16) = v6;
        if ( ((v6 < 0) ^ v7) | (v6 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 3;
        object_removePanelReserve(*(v1 + 22), *(v1 + 23));
        v2 = v0->futurePanelX;
        v3 = v0->futurePanelY;
        v0->panelX = v2;
        v0->panelY = v3;
        object_removePanelReserve(v2, v3);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 16) = 13;
        v4 = *(v1 + 52);
        if ( v4 )
            sub_80B8E58(v4);
        v5 = *(v1 + 56);
        if ( v5 )
            sub_80B8E58(v5);
    }
}


// 0x8108abc
int sub_8108ABC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8108AD0 + *v0))();
}


// 0x8108ae8
void __fastcall sub_8108AE8(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v4;
        v1->futurePanelY = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        v1->currAnimation = 4;
        *(v2 + 16) = 3;
        *(v2 + 26) = 1;
        *v2 = 4;
    }
}


// 0x8108b38
int sub_8108B38()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v2 = v1[8];
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    v1[8] = result;
    if ( ((result < 0) ^ v3) | (result == 0) )
    {
        v0->currAnimation = 3;
        v5 = v0->futurePanelX;
        v6 = v0->futurePanelY;
        v0->panelX = v5;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v1[8] = 3;
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8108b64
int sub_8108B64()
{
    _WORD *v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = v0[8];
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    v0[8] = result;
    if ( ((result < 0) ^ v2) | (result == 0) )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x8108b82
int sub_8108B82()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0
    int v5; // r0
    unsigned __int8 v6; // vf

    if ( *(v1 + 1) )
    {
        v3 = *(v1 + 18) + 1;
        *(v1 + 18) = v3;
        if ( !__CFSHR__(v3, 3) )
        {
            v4 = object_getFrontDirection(v0);
            object_highlightPanelRegion(v4 + *(v0 + 18), *(v0 + 19), 40, *(v0 + 22));
        }
        v5 = *(v1 + 16);
        v6 = __OFSUB__(v5, 1);
        result = v5 - 1;
        *(v1 + 16) = result;
        if ( ((result < 0) ^ v6) | (result == 0) )
        {
            result = 16;
            *v1 = 16;
        }
    }
    else
    {
        *(v1 + 1) = 4;
        *(v1 + 16) = *(v1 + 12);
        result = 0;
        *(v1 + 18) = 0;
    }
    return result;
}


// 0x8108bc2
int sub_8108BC2()
{
    int v0; // r7
    int v1; // r1
    int v2; // r2
    int result; // r0
    int v4; // r0
    unsigned __int8 v5; // vf

    if ( *(v0 + 1) )
    {
        v4 = *(v0 + 16);
        v5 = __OFSUB__(v4, 1);
        result = v4 - 1;
        *(v0 + 16) = result;
        if ( ((result < 0) ^ v5) | (result == 0) )
        {
            result = 20;
            *v0 = 20;
        }
    }
    else
    {
        *(v0 + 1) = 4;
        sub_8108F28();
        PlaySoundEffect(184, v1, v2);
        result = *(v0 + 13);
        *(v0 + 16) = result;
    }
    return result;
}


// 0x8108bec
void sub_8108BEC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( *(v1 + 1) )
    {
        v2 = *(v1 + 16);
        v3 = __OFSUB__(v2--, 1);
        *(v1 + 16) = v2;
        if ( ((v2 < 0) ^ v3) | (v2 == 0) )
            object_exitAttackState(v0);
    }
    else
    {
        *(v1 + 1) = 4;
        v0->currAnimation = 0;
        *(v1 + 16) = *(v1 + 24);
    }
}


// 0x8108c10
int __fastcall __noreturn sub_8108C10(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    signed int v5; // r4
    int v6; // r1
    int v7; // r6
    signed int v8; // r4
    int v9; // r0
    int v10; // r1
    int result; // r0
    int v16; // r1
    int v17; // [sp+0h] [bp-34h]
    int v18; // [sp+4h] [bp-30h]
    int v19; // [sp+8h] [bp-2Ch]
    int v20; // [sp+Ch] [bp-28h]

    v17 = a1;
    v18 = a3;
    v19 = a4;
    v5 = 0;
    do
    {
        object_reservePanel(byte_8108CA8[2 * v5] + *(v4 + 18), byte_8108CA8[2 * v5 + &byte_0[1]] + *(v4 + 19));
        ++v5;
    }
    while ( v5 < 9 );
    v7 = object_getPanelsIgnoreColumnFiltered(*(v17 + 19), v6, v18, v19);
    v8 = 0;
    do
    {
        v9 = object_removePanelReserve(byte_8108CA8[2 * v8] + *(v4 + 18), byte_8108CA8[2 * v8 + &byte_0[1]] + *(v4 + 19));
        ++v8;
    }
    while ( v8 < 9 );
    if ( v7 || (v7 = object_getPanelsExceptCurrentFilterred(v9, v10, v18, v19)) != 0 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v20 + v7) & 7;
    }
    else
    {
        result = *(v4 + 18);
        v16 = *(v4 + 19);
    }
    return result;
}


// 0x8108cba
int __fastcall sub_8108CBA(int a1, int a2, int a3, int a4)
{
    Battle *v4; // r5
    int v5; // r4
    int v6; // ST00_4
    int v7; // ST04_4
    int v8; // r0
    int v9; // r2
    int v10; // ST00_4
    bool v11; // zf
    int result; // r0

    v5 = a1;
    v6 = a3;
    v7 = a4;
    v8 = object_getFrontDirection(v4);
    v9 = v6;
    v10 = *(v5 + 18) - v8;
    v11 = object_checkPanelParameters(v10, *(v5 + 19), v9, v7) == 0;
    result = v10;
    if ( v11 )
        result = 0;
    return result;
}


// 0x8108cde
int __fastcall sub_8108CDE(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int v5; // r4
    int v6; // r6
    int result; // r0
    int v8; // r1
    int v9; // ST00_4
    bool v10; // zf

    v5 = a3;
    v6 = a4;
    result = object_getClosestPanelMatchingRowFiltered(
                         *(v4 + 22),
                         2,
                         *&byte_8108D14[8 * *(v4 + 22)],
                         *&byte_8108D14[8 * *(v4 + 22) + 4]);
    if ( result )
    {
        v9 = result;
        v10 = object_checkPanelParameters(result, v8, v5, v6) == 0;
        result = v9;
        if ( v10 )
            result = 0;
    }
    return result;
}


// 0x8108d24
signed int __noreturn sub_8108D24()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    int *v3; // r3
    int v4; // r1
    int v5; // r6
    int *v10; // r3
    int v11; // r1
    int v12; // r6
    signed int result; // r0
    int v14; // [sp-8h] [bp-38h]
    int v15; // [sp-4h] [bp-34h]
    int v16; // [sp+0h] [bp-30h]
    int v17; // [sp+4h] [bp-2Ch]
    int v18; // [sp+8h] [bp-28h]

    v16 = 0;
    v17 = 0;
    *(v1 + 52) = 0;
    v2 = *(v1 + 44);
    v14 = *(v2 + 18);
    v15 = *(v2 + 19);
    if ( object_isValidPanel(v14, v15) )
    {
        v16 = v14;
        v17 = v15;
        *(v1 + 52) = v14 | 16 * v15;
        object_reservePanel(v14, v15);
        v3 = &byte_8108DE0[8 * *(v0 + 22)];
        v5 = object_getPanelsInRowFiltered(2, v4, *v3, v3[1]);
        object_removePanelReserve(v14, v15);
        if ( v5 )
        {
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            *(v1 + 53) = *(&v18 + v5);
        }
    }
    object_reservePanel(v16, v17);
    v10 = &byte_8108DE0[8 * *(v0 + 22)];
    v12 = object_getPanelsIgnoreColumnFiltered(2, v11, *v10, v10[1]);
    result = object_removePanelReserve(v16, v17);
    if ( v12 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v18 + v12);
        *(v1 + 54) = result;
    }
    return result;
}


// 0x8108df0
int sub_8108DF0()
{
    int v0; // r7
    signed int v1; // r4
    unsigned int v2; // r0
    __int64 v3; // r0

    v1 = 0;
    do
    {
        v2 = *(v0 + v1 + 52);
        HIDWORD(v3) = v2 >> 4;
        LODWORD(v3) = v3 & 7;
        if ( v3 )
            LODWORD(v3) = object_highlightPanel(v3);
        ++v1;
    }
    while ( v1 <= 2 );
    return v3;
}


// 0x8108e10
int __fastcall sub_8108E10(int a1, int a2, int a3, int a4)
{
    int v4; // r7
    unsigned int v5; // r0
    int v6; // r1
    int result; // r0
    int v8; // r6

    v5 = *(v4 + a1 + 52);
    v6 = v5 >> 4;
    result = v5 & 7;
    if ( result )
    {
        v8 = *(v4 + 8);
        result = sub_80CE6E6(result, v6, *(v4 + 2), a4);
    }
    return result;
}


// 0x8108e34
int __fastcall sub_8108E34(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v3; // r4
    char v4; // r0
    int v5; // r6

    v3 = *&byte_8108E58[4 * a1];
    v4 = object_getFrontDirection(v1);
    v5 = *(v2 + 8);
    return object_spawnCollisionRegion(v4 + v1->panelX, v1->panelY, *(v2 + 2), 0);
}


// 0x8108e64
void __fastcall sub_8108E64(int a1)
{
    Battle *v1; // r5
    int v2; // r4
    char v3; // r0
    int v4; // r1
    int v5; // r0
    int v6; // r1

    v2 = *(&dword_8108E94 + a1);
    object_getFlip(v1);
    v3 = object_getFrontDirection(v1);
    v4 = v1->panelY;
    v5 = object_getCoordinatesForPanels(v3 + v1->panelX);
    SpawnT4BattleObjectWithId0(v1, v5, v5, v6, 0x100000);
}


// 0x8108e98
int sub_8108E98()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r6

    v2 = object_getFrontDirection(v0);
    v3 = *(v1 + 8);
    return object_spawnCollisionRegion(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x8108ebc
signed int sub_8108EBC()
{
    Battle *v0; // r5
    int v1; // r7
    signed int v2; // r6
    int v3; // r4
    int v4; // r1
    int v5; // r0
    int v6; // r2

    v2 = 0;
    v3 = object_getFrontDirection(v0);
    v4 = *(v1 + 44);
    v5 = *(v4 + 18);
    if ( *(v4 + 19) == v0->panelY )
    {
        v6 = v0->panelX + v3;
        if ( v5 == v6 || v5 == v6 + v3 )
            v2 = 1;
    }
    return v2;
}


// 0x8108ee6
int sub_8108EE6()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    char v4; // r0
    int v5; // r1
    int v6; // r0
    int v7; // r6
    int v8; // r1

    GetPositiveSignedRNG2();
    v3 = *(&dword_8108F24 + (v2 & 3)) << 16;
    v4 = object_getFrontDirection(v0);
    v5 = v0->panelY;
    v6 = object_getCoordinatesForPanels(v4 + v0->panelX);
    v7 = *(v1 + 48);
    return sub_80C6248(v6, v6, v8, v3);
}


// 0x8108f28
int sub_8108F28()
{
    Battle *v0; // r5
    int v1; // r7
    char v2; // r0
    int v3; // r4
    int v4; // r6

    v2 = object_getFrontDirection(v0);
    v3 = (*(v1 + 13) << 16) | 0xE01;
    v4 = *(v1 + 8);
    return sub_80D5718(v2 + v0->panelX, v0->panelY, *(v1 + 2), 0);
}


// 0x8108f50
void sub_8108F50()
{
    int v0; // r5

    (*(&off_8108F68 + *(v0 + oBattleObject_CurState)))();
    sub_8016E64();
}


// 0x8108f74
int __noreturn sub_8108F74()
{
    int v0; // r5
    signed int v1; // r0
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r2
    signed int v8; // r0
    int v9; // r4
    int v10; // r0
    int v11; // r1
    int result; // r0

    sub_81095D0();
    sub_801ABB8();
    v1 = *(v0 + oBattleObject_NameID);
    if ( v1 == 73 )
    {
        v2 = *(v0 + oBattleObject_CollisionDataPtr);
        if ( !*(v2 + 132) )
        {
            if ( *(v2 + 128) )
            {
                sub_801A264();
                PlaySoundEffect(110, v3, v4);
            }
            sub_800EA22();
        }
        goto LABEL_21;
    }
    if ( v1 < 163 || v1 > 168 )
        goto LABEL_13;
    v5 = *(v0 + oBattleObject_CollisionDataPtr);
    if ( *(v5 + 112) & 2 )
        *(v0 + oBattleObject_HP) = 0;
    if ( *(v5 + 128) > 1 )
    {
        v1 = sub_800EA90();
        if ( !v1 )
        {
            sub_8115BB0();
            PlaySoundEffect(459, v6, v7);
            goto LABEL_21;
        }
LABEL_13:
        if ( v1 < 97 || v1 > 102 )
        {
            v8 = *(v0 + 40);
            if ( v8 >= 67 && v8 <= 72 )
            {
                sub_810E340();
                if ( *(*(v0 + 84) + 132) )
                {
                    sub_800EAC4();
                    sub_810E336();
                }
            }
        }
        else if ( *(*(v0 + 84) + 136) )
        {
            sub_800E2FC(v0, *(v0 + 38), 0);
            sub_800EADA();
            sub_811060A();
        }
    }
LABEL_21:
    v9 = *(*(v0 + 88) + 1);
    sub_801B1C4(off_8109050[v9]);
    v10 = (*(&off_81091D0 + v9 * 4))();
    object_presentCollisionData(v10, v11);
    result = *(v0 + 9);
    if ( result != 7 )
    {
        result = *(v0 + 62);
        *(*(v0 + 88) + 60) = result;
    }
    return result;
}


// 0x81095d0
char *sub_81095D0()
{
    Battle *v0; // r5
    unsigned __int8 *v1; // r6
    char *result; // r0
    char *v3; // r4
    char *v4; // r7
    _BYTE *v5; // r0
    int v6; // r0
    u16 v7; // r1
    CollisionData *v8; // r2
    unsigned int v9; // r1
    unsigned int v10; // r3

    v1 = &v0->ai->naviVirusIndicator;
    result = v1[22];
    v3 = result;
    v4 = v1[23];
    if ( result != v4 )
    {
        v1[23] = result;
        sprite_setPallete(result * v1[3]);
        SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z);
        *v5 |= 4u;
        v6 = v0->nameID + v3 - v4;
        v0->nameID = v6;
        result = enemy_getStruct2(v6);
        v7 = *(result + 2);
        v0->damage = v7;
        v8 = v0->collisionData;
        v8->selfDamage = v7;
        v9 = *result;
        v10 = v9;
        LOWORD(v9) = v9 & 0xFFF;
        v0->HP = v9;
        v0->maxHP = v9;
        v10 >>= 12;
        v0->Element = v10;
        v8->primaryElement = v10;
    }
    return result;
}


// 0x810962a
void nullsub_13()
{
    ;
}


// 0x8109630
int __fastcall FindBattleActorsWithNonzeroParam_ReturnCountAndSum(int a1, int a2, int a3)
{
    int v3; // r5
    int *v4; // r7
    int v5; // r4
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v11; // [sp+0h] [bp-20h]

    v4 = &v11;
    v5 = 0;
    v6 = a1;
    v7 = object_getEnemyByNameRange(&v11, a2, a3, *(v3 + 22));
    if ( v7 > 0 )
    {
        v8 = 0;
        do
        {
            v9 = *(*v4 + v6);
            if ( v9 )
            {
                ++v5;
                v8 += v9;
            }
            ++v4;
            --v7;
        }
        while ( v7 );
    }
    return v5;
}


// 0x8109660
int __fastcall highlightPanelIfSomeCondition_8109660(int a1, int a2, int a3, int a4)
{
    int v4; // r6
    int v5; // r7
    char *v6; // r4
    int v7; // r5
    int result; // r0
    __int64 v9; // r0

    v4 = a1;
    v5 = a2;
    v6 = *(&off_8019B78 + a3);
    v7 = 1 - 2 * a4;
    while ( 1 )
    {
        result = *v6;
        if ( result == 127 )
            break;
        LODWORD(v9) = result * v7 + v4;
        HIDWORD(v9) = v6[1] + v5;
        if ( v9 >= 1 && v9 <= 6 && SHIDWORD(v9) >= 1 && SHIDWORD(v9) <= 3 )
            object_highlightPanel(v9);
        v6 += 2;
    }
    return result;
}


// 0x81096a4
int sub_81096A4()
{
    int v0; // r5
    int v1; // r6

    v1 = *(v0 + 44);
    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), *(v0 + 14), 0);
}


// 0x81096ba
AI *sub_81096BA()
{
    return sub_800F2C6();
}


// 0x81096fa
void __fastcall sub_81096FA(int a1, int a2, int a3, int a4)
{
    int v4; // r5
    int *v5; // r3
    int v6; // r2
    int v7; // r3

    v5 = (a4 + 8 * *(v4 + oBattleObject_Alliance));
    v6 = *v5;
    v7 = v5[1];
}


// 0x8109708
int __fastcall sub_8109708(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r6
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3

    v4 = *(v3 + 22);
    sub_81096FA(a1, a2, a3, &off_8109784);
    return sub_8015E46(v5, v6, v7, v8);
}


// 0x810971a
int __fastcall sub_810971A(int a1, int a2, int a3)
{
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int result; // r0
    int v8; // r7
    int v13; // [sp+0h] [bp-10h]

    sub_81096FA(a1, a2, a3, &off_8109784);
    result = object_getPanelsInRowFiltered(v3, v4, v5, v6);
    if ( result )
    {
        v8 = result;
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        result = *(&v13 + v8) & 7;
    }
    return result;
}


// 0x8109746
int CheckIfOpposingAllianceInObjectRow()
{
    Battle *v0; // r5
    int v1; // r2
    int v2; // r4
    int v3; // r6
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int result; // r0
    int v9; // r1

    v2 = object_getFrontDirection(v0);
    v3 = v0->panelX + v2;
    while ( 1 )
    {
        sub_81096FA(v3, v0->panelY, v1, &off_8109784);
        if ( object_checkPanelParameters(v4, v5, v6, v7) )
            break;
        v3 += v2;
        if ( !v3 || v3 == 7 )
            return 0;
    }
    result = v3;
    v9 = v0->panelY;
    return result;
}


// 0x8109794
void __fastcall __noreturn sub_8109794(int a1, int a2)
{
    int v2; // [sp+0h] [bp-Ch]
    int v3; // [sp+4h] [bp-8h]

    v2 = a1;
    v3 = a2;
    if ( !(object_getPanelParameters(a1, a2) & 0x40) )
        object_crackPanel(v2, v3);
}


// 0x81097b4
void genericAI_exitAttackStateAffterDelay_81097B4()
{
    JUMPOUT(&loc_81097BE);
}


// 0x81097ba
void genericAI_exitAttackStateAfterDelay_81097BA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x81097d6
void sub_81097D6()
{
    JUMPOUT(&loc_81097E0);
}


// 0x81097dc
void sub_81097DC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    if ( (*(v1 + 40))(*(v1 + 44)) || (v2 = *(v1 + 16), v3 = __OFSUB__(v2, 1), --v2, *(v1 + 16) = v2, (v2 < 0) ^ v3) )
        object_exitAttackState(v0);
}


// 0x8109804
int sub_8109804()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109818 + *v0))();
}


// 0x8109820
int __fastcall sub_8109820(int a1)
{
    int v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1
    int result; // r0

    object_canMove(a1);
    if ( v3 || !object_checkPanelParameters(*(v2 + 22), *(v2 + 23), *(v2 + 52), *(v2 + 56)) )
    {
        *(v2 + 26) = 0;
        result = (loc_801171C)();
    }
    else
    {
        v4 = *(v2 + 22);
        *(v1 + 20) = v4;
        v5 = *(v2 + 23);
        *(v1 + 21) = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        *v2 = 4;
        if ( *(v2 + 3) )
            sub_81098C4();
        else
            sub_810990E();
        result = sub_810986E();
    }
    return result;
}


// 0x810986e
int sub_810986E()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf
    int result; // r0
    int v5; // r0
    int v6; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    if ( *(v1 + 16) == *(v1 + 18) )
    {
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
    }
    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2, 1);
    result = v2 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v3 )
    {
        v5 = v0->futurePanelX;
        v0->panelX = v5;
        v6 = v0->futurePanelY;
        v0->panelY = v6;
        object_removePanelReserve(v5, v6);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v1 + 26) = 1;
        result = (loc_801171C)();
    }
    return result;
}


// 0x81098c4
unsigned int sub_81098C4()
{
    int v0; // r5
    int v1; // r7
    int v2; // r1
    unsigned int v3; // r0
    int v4; // r0
    unsigned int result; // r0
    int v6; // r1

    v2 = *(v1 + 48) * (*(v1 + 23) - *(v0 + 19));
    if ( v2 )
    {
        *(v0 + 68) = v2;
        *(v0 + 64) = 0;
        v3 = 1572864;
    }
    else
    {
        v4 = (*(v1 + 22) - *(v0 + 18)) * *(v1 + 48);
        if ( !v4 )
        {
            *(v0 + 64) = 0;
            *(v0 + 68) = 0;
            result = 1;
            *(v1 + 16) = 1;
            *(v1 + 18) = 1;
            return result;
        }
        *(v0 + 64) = v4;
        *(v0 + 68) = 0;
        v3 = 2621440;
    }
    v6 = *(v1 + 48);
    __asm { SVC         6 }
    *(v1 + 16) = v3;
    result = v3 >> 1;
    *(v1 + 18) = result;
    return result;
}


// 0x810990e
int sub_810990E()
{
    int v0; // r5
    int v1; // r7
    unsigned int v2; // r1
    int result; // r0
    int v8; // t1

    *(v0 + 64) = 0;
    *(v0 + 68) = 0;
    v2 = *(v1 + 48);
    *(v1 + 16) = v2;
    result = v2 >> 1;
    *(v1 + 18) = v2 >> 1;
    if ( v2 )
    {
        if ( *(v1 + 23) != *(v0 + 19) )
        {
            __asm { SVC         6 }
            *(v0 + 68) = 1572864 * (*(v1 + 23) - *(v0 + 19));
        }
        result = *(v1 + 22) - *(v0 + 18);
        if ( *(v1 + 22) != *(v0 + 18) )
        {
            v8 = *(v1 + 48);
            __asm { SVC         6 }
            result *= 2621440;
            *(v0 + 64) = result;
        }
    }
    return result;
}


// 0x8109952
int genericAI_movementRelated_8109952()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109964 + *v0))();
}


// 0x8109974
int sub_8109974()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109988 + *v0))();
}


// 0x8109998
void __fastcall sub_8109998(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r1

    object_canMove(a1);
    if ( v3 || (v4 = (*(v2 + 40))(*(v2 + 44))) == 0 )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v4;
        v1->futurePanelY = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        if ( *(v2 + 3) & 1 )
            v1->currAnimation = *(v2 + 14);
        *(v2 + 16) = *(v2 + 48);
        *v2 = 4;
    }
}


// 0x81099da
int sub_81099DA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r1
    int v3; // r0
    int v4; // r4
    int v5; // r1
    int result; // r0
    int v7; // r4
    int v8; // r0
    int v9; // r1

    if ( *(v1 + 16) == 3 && *(v1 + 3) & 2 )
    {
        v2 = v0->futurePanelY;
        v3 = object_getCoordinatesForPanels(v0->futurePanelX);
        v4 = *(v1 + 13);
        SpawnT4BattleObjectWithId0(v0, v3, v3, v5, 0x100000);
    }
    result = *(v1 + 16) - 1;
    *(v1 + 16) = result;
    if ( !result )
    {
        if ( *(v1 + 3) & 2 )
        {
            v7 = *(v1 + 12);
            SpawnT4BattleObjectWithId0(v0, &v0->vx, v0->x, v0->y, v0->z + 0x100000);
        }
        v8 = v0->futurePanelX;
        v0->panelX = v8;
        v9 = v0->futurePanelY;
        v0->panelY = v9;
        object_removePanelReserve(v8, v9);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        sub_81096BA();
        if ( *(v1 + 3) & 1 )
            v0->currAnimation = *(v1 + 15);
        *(v1 + 16) = *(v1 + 52);
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8109a50
int sub_8109A50()
{
    int v0; // r7
    int result; // r0

    result = *(v0 + 16) - 1;
    *(v0 + 16) = result;
    if ( !result )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v0 + 16) = *(v0 + 24);
        *(v0 + 26) = 1;
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x8109b64
void sub_8109B64()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
        object_exitAttackState(v0);
}


// 0x8109b9c
int sub_8109B9C()
{
    unsigned __int8 *v0; // r6

    return (*(&off_8109BB0 + *v0))();
}


// 0x8109bb8
signed int sub_8109BB8()
{
    _BYTE *v0; // r6
    signed int result; // r0

    result = 4;
    *v0 = 4;
    return result;
}


// 0x8109bc0
void sub_8109BC0()
{
    int v0; // r7

    *(v0 + 16) = 240;
    object_setAttack0();
}


// 0x8109cbc
void sub_8109CBC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    unsigned __int8 v3; // vf

    v2 = *(v1 + 16);
    v3 = __OFSUB__(v2--, 1);
    *(v1 + 16) = v2;
    if ( (v2 < 0) ^ v3 )
    {
        if ( **(v1 + 48) )
        {
            sub_800AA40(*(v0 + 100));
            sub_800AA1A(*(v0 + 100));
            **(v1 + 48) = 0;
        }
        object_exitAttackState(v0);
    }
}


// 0x8109ce6
int sub_8109CE6()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109CF8 + *v0))();
}


// 0x8109d08
void __fastcall sub_8109D08(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    char *v4; // r0
    int v5; // r2
    int v6; // r3
    int v7; // r0
    int v8; // r1

    object_canMove(a1);
    if ( v3 || (v4 = &byte_8109D60[8 * v1->Alliance], v5 = *v4, v6 = *(v4 + 1), (v7 = (*(v2 + 40))(*(v2 + 44))) == 0) )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v1->futurePanelX = v7;
        v1->futurePanelY = v8;
        object_reservePanel(v7, v8);
        object_setFlag1(64);
        SpawnT4BattleObjectWithId0(v1, &v1->vx, v1->x, v1->y, v1->z + 0x80000);
        *(v2 + 16) = 3;
        *v2 = 4;
    }
}


// 0x8109d70
void __usercall sub_8109D70(Battle *obj@<R5>, void *p7@<R7>)
{
    int v2; // r0
    int v3; // r0
    int v4; // r1

    v2 = *(p7 + 8) - 1;
    *(p7 + 8) = v2;
    if ( !v2 )
    {
        v3 = obj->futurePanelX;
        obj->panelX = v3;
        v4 = obj->futurePanelY;
        obj->panelY = v4;
        object_removePanelReserve(v3, v4);
        object_setCoordinatesFromPanels(obj);
        object_updateCollisionPanels(obj);
        *(p7 + 8) = 3;
        *p7 = 8;
    }
}


// 0x8109d98
int sub_8109D98()
{
    _WORD *v0; // r7
    int result; // r0

    result = v0[8] - 1;
    v0[8] = result;
    if ( !result )
    {
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v0[8] = v0[12];
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x8109dba
void sub_8109DBA()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0

    v2 = *(v1 + 16) - 1;
    *(v1 + 16) = v2;
    if ( !v2 )
    {
        v0->currAnimation = 0;
        *(v1 + 26) = 1;
        object_exitAttackState(v0);
    }
}


// 0x8109dd2
int sub_8109DD2()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109DE4 + *v0))();
}


// 0x8109dec
int sub_8109DEC()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    char v3; // r0
    int v4; // r4
    int v5; // r6
    int v6; // r2
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 1;
        object_setFlag1(0x400000);
        v0->currAnimation = 1;
        v0->currAnimationCpy = -1;
        *(v1 + 16) = 64;
    }
    v2 = *(v1 + 16);
    if ( v2 == 50 )
    {
        object_setCounterTime(30);
    }
    else if ( v2 == 27 )
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 12);
        v5 = *(v1 + 8);
        sub_80C6CE4(v3 + v0->panelX, v0->panelY, v6, 0);
        **(v1 + 48) = 1;
    }
    result = *(v1 + 16) - 1;
    *(v1 + 16) = result;
    if ( !result )
    {
        v0->currAnimation = 0;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x8109e4a
void sub_8109E4A()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 1;
        *(v1 + 16) = 40;
    }
    v2 = *(v1 + 16) - 1;
    *(v1 + 16) = v2;
    if ( !v2 )
    {
        sub_800AA40(*(v0 + 100));
        sub_800AA1A(*(v0 + 100));
        **(v1 + 48) = 0;
        object_exitAttackState(v0);
    }
}


// 0x8109e7a
int sub_8109E7A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_8109E8C + *v0))();
}


// 0x8109e98
int sub_8109E98()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( !*(v1 + 1) )
    {
        *(v1 + 1) = 1;
        *(v0 + 16) = 2;
        *(v1 + 16) = 34;
    }
    result = *(v1 + 16) - 1;
    *(v1 + 16) = result;
    if ( !result )
    {
        *(v0 + 16) = 3;
        object_setFlag1(1);
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x8109ec4
signed int sub_8109EC4()
{
    int v0; // r5
    _WORD *v1; // r7
    signed int result; // r0

    result = sub_800AA06(*(v0 + 100));
    if ( result )
    {
        *(v0 + 16) = 4;
        v1[8] = 53;
        object_clearFlag(1);
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x8109ee4
void sub_8109EE4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0

    v2 = *(v1 + 16) - 1;
    *(v1 + 16) = v2;
    if ( !v2 )
        object_exitAttackState(v0);
}


// 0x8109f4c
int sub_8109F4C()
{
    int v0; // r5
    int v1; // r0

    if ( !*(v0 + 10) )
    {
        v1 = *(v0 + 22) ^ *(v0 + 23);
        *(v0 + 100) = v1;
        sub_800AA1A(v1);
        *(v0 + 7) = 0;
    }
    return sub_80165B8();
}


// 0x8109f6a
int sub_8109F6A()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 10);
    if ( !*(v0 + 10) )
        v1 = sub_800AA40(*(v0 + 100));
    return sub_80165C2(v1);
}


// 0x8109f7e
int sub_8109F7E()
{
    sub_8016B02();
    return sub_8109FA2();
}


// 0x8109f8a
int sub_8109F8A()
{
    sub_8016B36();
    return sub_8109FA2();
}


// 0x8109f96
int sub_8109F96()
{
    sub_8016B72();
    return sub_8109FA2();
}


// 0x8109fa2
int sub_8109FA2()
{
    int v0; // r5
    int result; // r0

    result = *(v0 + 9);
    if ( result == 8 )
    {
        result = *(v0 + 96);
        if ( result )
        {
            sub_800AA40(*(v0 + 100));
            sub_800AA1A(*(v0 + 100));
            result = 0;
            *(v0 + 96) = 0;
            *(v0 + 7) = 0;
        }
    }
    return result;
}


// 0x8109fc4
int sub_8109FC4()
{
    int v0; // r5

    if ( !*(v0 + 10) )
        *(v0 + 7) = 0;
    return sub_8016CE8();
}


// 0x8109fd6
int sub_8109FD6()
{
    int v0; // r5

    return (*(&off_8109FF0 + *(*(v0 + 88) + 128)))();
}


// 0x810a004
void sub_810A004()
{
    int v0; // r4
    int v1; // r5
    int v2; // r6
    int v3; // r7
    __int16 v4; // r0

    if ( sub_800AA06(*(v1 + 100)) )
    {
        if ( *(v1 + 7) )
        {
            v4 = object_getFlag();
            if ( !(v4 & 0x4000) )
            {
                if ( v4 & 0xA000 )
                {
                    *v2 = 8;
                    *(v2 + 2) = 0;
                }
                else
                {
                    if ( *(v1 + 19) == *(sub_80103F8(*(v1 + 22) ^ 1) + 19) )
                        *v2 = 12;
                    else
                        *v2 = 4;
                    *(v2 + 2) = 0;
                }
            }
        }
        else
        {
            *(v1 + 7) = 30;
            *(v3 + 16) = 30;
            *(v3 + 48) = v1 + 96;
            object_setAttack0();
        }
    }
    else if ( *(v0 + 22) )
    {
        object_setAttack0();
    }
}


// 0x810a080
signed int sub_810A080()
{
    int v0; // r4
    int v1; // r6
    int v2; // r7
    signed int result; // r0

    if ( *(v1 + 2) )
    {
        if ( *(v2 + 26) )
            *v1 = 0;
        else
            *v1 = 12;
        result = 0;
        *(v1 + 2) = 0;
    }
    else
    {
        *(v2 + 40) = sub_810A21A;
        *(v2 + 24) = byte_8109F46[*(v0 + 22)];
        object_setAttack0();
        result = 4;
        *(v1 + 2) = 4;
    }
    return result;
}


// 0x810a0ba
int sub_810A0BA()
{
    int v0; // r6

    return (*(&off_810A0CC + *(v0 + 2)))();
}


// 0x810a0d4
signed int sub_810A0D4()
{
    int v0; // r4
    int v1; // r6
    int v2; // r7
    signed int result; // r0

    *(v2 + 40) = sub_810A254;
    *(v2 + 24) = byte_8109F46[*(v0 + 22)];
    object_setAttack0();
    result = 4;
    *(v1 + 2) = 4;
    return result;
}


// 0x810a0ee
int sub_810A0EE()
{
    int v0; // r6
    char v1; // r0
    int result; // r0

    if ( !*(v0 + 3) )
    {
        *(v0 + 3) = 1;
        GetPositiveSignedRNG2();
        if ( (v1 & 0xF) < 2 )
        {
            *v0 = 12;
            result = 0;
            *(v0 + 2) = 0;
            return result;
        }
        *(v0 + 8) = 50;
    }
    result = *(v0 + 8) - 1;
    *(v0 + 8) = result;
    if ( !result )
    {
        *v0 = 0;
        result = 0;
        *(v0 + 2) = 0;
    }
    return result;
}


// 0x810a126
int sub_810A126()
{
    int v0; // r4
    int v1; // r5
    int v2; // r6
    int v3; // r7
    __int16 v4; // r0
    int v5; // r3
    int v6; // r4
    int result; // r0
    int v8; // r0
    int v9; // [sp+0h] [bp-Ch]

    v9 = v0;
    v4 = sub_800ED90(v1);
    if ( v5 )
    {
        v6 = v4 & 0x1FF;
        if ( v6 == 159 )
        {
            if ( *(v1 + 36) <= (*(v1 + 38) >> 2) || sub_810A1B4() )
            {
                somethingWriteChipParams_80126E4(159);
                object_setAttack0();
                sub_800F322();
LABEL_8:
                *v2 = 16;
                result = 0;
                *(v2 + 2) = 0;
                return result;
            }
        }
        else if ( sub_800A704() >= byte_12C )
        {
            somethingWriteChipParams_80126E4(v6);
            object_setAttack0();
            sub_800F322();
            goto LABEL_8;
        }
    }
    v8 = *(v9 + 22);
    *(v3 + 12) = byte_8109F40[v8];
    *(v3 + 8) = *&byte_8109F28[4 * v8];
    *(v3 + 48) = v1 + 96;
    object_setAttack0();
    *v2 = 0;
    result = 0;
    *(v2 + 2) = 0;
    return result;
}


// 0x810a1b4
int sub_810A1B4()
{
    int v0; // r5
    int *v1; // r7
    int v2; // r6
    int v3; // r0
    signed int v4; // r3
    int v5; // r4
    signed int v6; // r1
    int v7; // ST00_4
    signed int v8; // ST04_4
    signed int v9; // ST08_4
    char v10; // r0
    bool v11; // zf
    int v13; // [sp+0h] [bp-20h]

    v1 = &v13;
    v2 = 0;
    v3 = object_getEnemyByNameRange(&v13, 0, 0x7FFFFFFF, *(v0 + 22));
    if ( v3 > 0 )
    {
        v4 = 0x10000;
        do
        {
            v5 = *v1;
            v6 = *(*v1 + 36);
            if ( v6 <= (*(*v1 + 38) >> 2) && v6 <= v4 )
            {
                if ( v6 < v4 )
                    goto LABEL_12;
                v7 = v3;
                v8 = *(*v1 + 36);
                v9 = v4;
                GetPositiveSignedRNG2();
                v11 = (v10 & 1) == 0;
                v3 = v7;
                v6 = v8;
                v4 = v9;
                if ( !v11 )
                {
LABEL_12:
                    v4 = v6;
                    v2 = v5;
                }
            }
            ++v1;
            --v3;
        }
        while ( v3 );
    }
    return v2;
}


// 0x810a204
int sub_810A204()
{
    _BYTE *v0; // r6
    int result; // r0

    result = v0[2] + 1;
    v0[2] = result;
    if ( result >= 40 )
    {
        *v0 = 12;
        result = 0;
        *(v0 + 1) = 0;
    }
    return result;
}


// 0x810a21a
BOOL sub_810A21A()
{
    unsigned __int8 *v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r1
    int v4; // r1
    BOOL result; // r0
    int v6; // r4
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3

    v1 = *(sub_80103F8(v0[22] ^ 1) + 19);
    v3 = v0[19];
    if ( v1 == v3 )
        return 0;
    if ( v1 < v3 )
        v4 = v3 - 1;
    else
        v4 = v3 + 1;
    v6 = v0[18];
    sub_81096FA(v6, v4, v2, byte_810A290);
    result = object_checkPanelParameters(v7, v8, v9, v10);
    if ( result )
        result = v6;
    return result;
}


// 0x810a254
int sub_810A254()
{
    int v0; // r5
    int v1; // r2
    char v2; // r0
    char *v3; // r4
    int result; // r0
    int v5; // r0
    int v6; // r6
    int v7; // r1
    int v8; // r2
    int v9; // r3

    GetPositiveSignedRNG2();
    v3 = &dword_810A2A4 + (v2 & 1);
    while ( 1 )
    {
        result = *v3++;
        if ( !result )
            break;
        sub_81096FA(*(v0 + 18), *(v0 + 19) + result, v1, byte_810A290);
        v6 = v5;
        if ( object_checkPanelParameters(v5, v7, v8, v9) )
            return v6;
    }
    return result;
}


// 0x810a3ac
int sub_810A3AC()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810A3C0 + *v0))();
}


// 0x810a3dc
int sub_810A3DC()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r1
    int v5; // r2

    if ( *(v1 + 1) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            v0->currAnimation = 2;
            *v1 = 4;
            v3 = object_getFrontDirection(v0);
            sub_80E558A(v3 + v0->panelX, v0->panelY, *(v1 + 48), 0x100000);
            result = PlaySoundEffect(387, v4, v5);
        }
    }
    else if ( sub_810A534() )
    {
        v0->currAnimation = 3;
        *(v1 + 16) = 20;
        result = 12;
        *v1 = 12;
    }
    else
    {
        *(v1 + 1) = 1;
        result = 1;
        v0->currAnimation = 1;
    }
    return result;
}


// 0x810a438
signed int sub_810A438()
{
    int v0; // r5
    _WORD *v1; // r7
    signed int result; // r0

    if ( sub_810A534() )
    {
        *(v0 + 16) = 3;
        v1[8] = 20;
        *v1 = 12;
    }
    result = *(v0 + 96);
    if ( !result )
    {
        *(v0 + 16) = 3;
        v1[8] = v1[12];
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x810a462
void sub_810A462()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int v2; // r0

    if ( v0->currAnimation == 3 && sprite_getFrameParameters() & 0x80 )
        v0->currAnimation = 0;
    if ( sub_810A534() )
    {
        v0->currAnimation = 3;
        v1[8] = 20;
        *v1 = 12;
    }
    else
    {
        v2 = v1[8] - 1;
        v1[8] = v2;
        if ( !v2 )
            object_exitAttackState(v0);
    }
}


// 0x810a49c
int sub_810A49C()
{
    int v0; // r5
    _WORD *v1; // r7
    int result; // r0

    if ( *(v0 + 16) == 3 && sprite_getFrameParameters() & 0x80 )
        *(v0 + 16) = 0;
    result = v1[8] - 1;
    v1[8] = result;
    if ( !result )
    {
        *(v0 + 96) = 0;
        *(v0 + 100) = 0;
        object_setCounterTime(30);
        *(v0 + 16) = 4;
        result = 16;
        *v1 = 16;
    }
    return result;
}


// 0x810a4d0
int sub_810A4D0()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    char v3; // r0
    int v4; // r6
    int v5; // r1
    int v6; // r2

    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v3 = object_getFrontDirection(v0);
        v4 = *(v1 + 8);
        sub_80CE7EE(v3 + *(v0 + 18), *(v0 + 19), *(v1 + 52), 1572864);
        PlaySoundEffect(175, v5, v6);
        *(v0 + 104) = 0;
        *(v0 + 16) = 5;
        *(v1 + 16) = *(v1 + 24);
        result = 20;
        *v1 = 20;
    }
    return result;
}


// 0x810a50c
int sub_810A50C()
{
    int v0; // r5
    _WORD *v1; // r7
    int result; // r0

    result = v1[8] - 1;
    v1[8] = result;
    if ( !result )
    {
        *(v0 + 16) = 6;
        result = 24;
        *v1 = 24;
    }
    return result;
}


// 0x810a51e
void sub_810A51E()
{
    Battle *v0; // r5

    if ( sprite_getFrameParameters() & 0x80 )
    {
        v0->currAnimation = 0;
        object_exitAttackState(v0);
    }
}


// 0x810a534
int sub_810A534()
{
    return FindBattleActorsWithNonzeroParam_ReturnCountAndSum(104, 7, 12);
}


// 0x810a5c2
int sub_810A5C2()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 10);
    if ( !*(v0 + 10) )
    {
        v1 = 0;
        *(v0 + 96) = 0;
        *(v0 + 100) = 0;
    }
    return sub_80165C2(v1);
}


// 0x810a5d6
int sub_810A5D6()
{
    int v0; // r5

    if ( !*(v0 + 11) )
    {
        *(v0 + 96) = 0;
        *(v0 + 100) = 0;
    }
    return sub_8016B02();
}


// 0x810a5ea
int sub_810A5EA()
{
    unsigned __int8 *v0; // r6
    int result; // r0

    result = sub_810A6F4();
    if ( !result )
        result = (*(&off_810A604 + *v0))();
    return result;
}


// 0x810a610
signed int sub_810A610()
{
    int v0; // r5
    _BYTE *v1; // r6
    int v2; // r7
    signed int result; // r0

    *(v2 + 44) = sub_80103F8(*(v0 + 22) ^ 1);
    *(v2 + 40) = sub_810A724;
    *(v2 + 24) = 1;
    *(v2 + 3) = 2;
    *(v2 + 12) = 20;
    *(v2 + 13) = 21;
    *(v2 + 48) = 3;
    *(v2 + 52) = 3;
    object_setAttack0();
    genericAI_movementRelated_8109952();
    result = 4;
    *v1 = 4;
    return result;
}


// 0x810a648
signed int sub_810A648()
{
    _BYTE *v0; // r6
    int v1; // r7
    __int16 v2; // r0
    int v3; // r0
    char v4; // r1
    char *v5; // r1
    char v6; // r1
    int v7; // r0
    signed int result; // r0

    v2 = object_getFlag();
    if ( v2 & 0x8000 )
    {
        v3 = v0[5];
        v6 = v3 + 1;
        if ( v3 + 1 >= 3 )
            v6 = 0;
        v0[5] = v6;
        v5 = byte_810A6BA;
    }
    else
    {
        if ( !(v2 & 0x2000) )
            goto LABEL_13;
        v3 = v0[4];
        v4 = v3 + 1;
        if ( v3 + 1 >= 2 )
            v4 = 0;
        v0[4] = v4;
        v5 = byte_810A6B8;
    }
    v7 = v5[v3];
    if ( !v7 )
    {
LABEL_12:
        *(v1 + 16) = 100;
        object_setAttack0();
        result = 0;
        *v0 = 0;
        return result;
    }
    if ( v7 != 1 )
    {
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        goto LABEL_12;
    }
LABEL_13:
    result = 8;
    *v0 = 8;
    return result;
}


// 0x810a6c0
int sub_810A6C0()
{
    int v0; // r4
    _BYTE *v1; // r6
    int v2; // r7
    int v3; // r1
    int result; // r0

    v3 = *(v0 + 22);
    *(v2 + 24) = byte_810A5BC[v3];
    *(v2 + 12) = byte_810A5B6[v3];
    *(v2 + 8) = byte_810A5B0[v3];
    *(v2 + 10) = 10;
    v3 *= 4;
    *(v2 + 48) = *&byte_810A580[v3];
    *(v2 + 52) = *&byte_810A598[v3];
    object_setAttack0();
    result = 0;
    *v1 = 0;
    return result;
}


// 0x810a6f4
signed int sub_810A6F4()
{
    int v0; // r5
    signed int v1; // r6
    __int16 v2; // r0
    int v3; // r3
    int v4; // r4

    v1 = 0;
    v2 = sub_800ED90(v0);
    if ( v3 )
    {
        v4 = v2 & 0x1FF;
        if ( sub_800A704() >= byte_12C )
        {
            somethingWriteChipParams_80126E4(v4);
            object_setAttack0();
            sub_800F322();
            v1 = 1;
        }
    }
    return v1;
}


// 0x810a724
__int64 __fastcall __noreturn sub_810A724(int a1)
{
    int v1; // r5
    int v2; // r4
    unsigned int v3; // r6
    int *v4; // r7
    int v5; // r1
    int v6; // r3
    int v7; // r2
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r3
    int v13; // r0
    __int64 v14; // r0
    int v15; // r2
    int v16; // r3
    int v17; // r2
    __int64 v18; // r0
    int v19; // r0
    int v20; // r1
    int v21; // r2
    int v22; // r3
    int v23; // r7
    unsigned int v27; // r0
    __int64 v28; // ST04_8
    char v30; // [sp-Ch] [bp-34h]
    int v31; // [sp-8h] [bp-30h]
    __int64 v32; // [sp-8h] [bp-30h]
    int v33; // [sp-4h] [bp-2Ch]
    int v34; // [sp+0h] [bp-28h]

    v2 = a1;
    object_reservePanel(*(v1 + 18), *(v1 + 19));
    v3 = sub_810A7E0();
    v4 = &v34;
    v5 = 1;
    v6 = 0;
    do
    {
        v7 = 1;
        if ( v3 & 1 )
        {
            v30 = *(v1 + 18);
            v31 = v5;
            v33 = v6;
            sub_81096FA(*(v1 + 18), v5, 1, byte_810A7D0);
            _ZF = object_checkPanelParameters(v8, v9, v10, v11) == 0;
            v5 = v31;
            v6 = v33;
            if ( !_ZF )
            {
                v7 = v31;
                *v4 = v30 | 16 * v31;
                v4 = (v4 + 1);
                v6 = v33 + 1;
            }
        }
        v3 >>= 1;
        ++v5;
    }
    while ( v5 <= 3 );
    v13 = v6;
    if ( v6 )
        goto LABEL_15;
    sub_81096FA(*(v1 + 18), *(v2 + 19), v7, byte_810A7D0);
    v32 = v14;
    _ZF = object_checkPanelParameters(v14, SHIDWORD(v14), v15, v16) == 0;
    v18 = v32;
    if ( !_ZF )
        goto LABEL_12;
    sub_81096FA(*(v1 + 18), SHIDWORD(v32), v17, byte_810A7D0);
    v13 = object_getPanelsInColumnFiltered(v19, v20, v21, v22);
    if ( v13 )
    {
LABEL_15:
        v23 = v13;
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v27 = *(&v34 + v23);
        HIDWORD(v18) = v27 >> 4;
        LODWORD(v18) = v18 & 7;
    }
    else
    {
        LODWORD(v18) = *(v1 + 18);
        HIDWORD(v18) = *(v1 + 19);
    }
LABEL_12:
    v28 = v18;
    object_removePanelReserve(*(v1 + 18), *(v1 + 19));
    return v28;
}


// 0x810a7e0
signed int sub_810A7E0()
{
    int v0; // r5
    int *v1; // r7
    signed int v2; // r4
    int v3; // r0
    char v4; // r1
    int v6; // [sp+0h] [bp-20h]

    v1 = &v6;
    v2 = 7;
    v3 = object_getEnemyByNameRange(&v6, 7, 12, *(v0 + 22));
    if ( v3 > 0 )
    {
        do
        {
            v4 = *(*v1 + 19);
            if ( *(*v1 + 9) == 10 )
                v4 = *(*v1 + 21);
            v2 &= ~(1 << (v4 - 1));
            ++v1;
            --v3;
        }
        while ( v3 );
    }
    return v2;
}


// 0x810a92c
int sub_810A92C()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810A940 + *v0))();
}


// 0x810a94c
int sub_810A94C()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r1
    int v4; // r2
    int result; // r0
    int v6; // r0

    v2 = *(v1 + 16) - 1;
    *(v1 + 16) = v2;
    if ( v2 )
    {
        result = *(v1 + 16);
        if ( !(result & 4) )
        {
            v6 = object_getFrontDirection(v0);
            result = highlightPanelIfSomeCondition_8109660(v6 + *(v0 + 18), *(v0 + 19), 6, *(v0 + 22) ^ *(v0 + 23));
        }
    }
    else
    {
        sub_80BC3B8(*(v0 + 100), *(v1 + 8) | (*(v1 + 10) << 16), *(v0 + 18), *(v0 + 19));
        if ( sub_802D234() != 6 )
            object_setCounterTime(20);
        object_clearCollisionRegion();
        PlaySoundEffect(288, v3, v4);
        *v1 = 4;
        result = 0;
        *(v1 + 1) = 0;
    }
    return result;
}


// 0x810a9ae
int sub_810A9AE()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    result = *(v0 + 96);
    if ( !result )
    {
        *(v0 + 16) = *&byte_810A9E4[4 * *(v0 + 124)];
        *(v1 + 16) = *(v1 + 24);
        object_setCollisionRegion(1);
        object_removePanelReserve(*(v0 + 18), *(v0 + 19));
        JUMPOUT(*byte_810A9D4);
    }
    return result;
}


// 0x810aa72
int sub_810AA72()
{
    unsigned __int8 *v0; // r6

    return (*(&off_810AA84 + *v0))();
}


// 0x810aa90
int sub_810AA90()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 10);
    if ( !*(v0 + 10) )
    {
        v1 = object_getFlag();
        if ( v1 & 0x40000000 )
        {
            sub_80BC3AE(*(v0 + 100));
            *(v0 + 100) = 0;
            v1 = *(v0 + 88);
            if ( v1 )
            {
                v1 = *(v1 + 96);
                if ( v1 )
                {
                    *v1 |= 0x14u;
                    v1 = sub_80E0DC0(v1);
                }
            }
        }
    }
    return sub_80165C2(v1);
}


// 0x810aad0
signed int sub_810AAD0()
{
    _BYTE *v0; // r6
    signed int result; // r0

    if ( sub_810AC9A() )
    {
        result = 4;
        *v0 = 4;
    }
    else
    {
        result = 8;
        *v0 = 8;
    }
    return result;
}


// 0x810aae6
int __fastcall sub_810AAE6(int a1)
{
    int v1; // r4
    int v2; // r5
    _BYTE *v3; // r6
    _WORD *v4; // r7
    char v5; // zf
    int v6; // r1
    int result; // r0

    object_canMove(a1);
    if ( !v5 )
    {
        v6 = *(v1 + 22);
        v4[12] = 48;
        v4[4] = byte_810AA20[v6];
        v4[5] = byte_810AA28[v6];
        *(v2 + 104) = 0;
        object_reservePanel(*(v2 + 18), *(v2 + 19));
        *(v2 + 16) = *&byte_810AB38[4 * *(v2 + 124)];
        v4[8] = 20;
        *(v2 + 96) = 1;
        object_setFlag1(64);
        object_setAttack0();
    }
    result = 0;
    *v3 = 0;
    return result;
}


// 0x810ab40
int sub_810AB40()
{
    int v0; // r4
    int v1; // r5
    _BYTE *v2; // r6
    int v3; // r7
    int result; // r0

    *(v3 + 40) = sub_810ACC4;
    *(v3 + 44) = sub_80103F8(*(v1 + 22) ^ 1);
    *(v3 + 24) = byte_810AA6C[*(v0 + 22)];
    if ( object_getFlag() & 0x8000 )
        *(v3 + 24) += 60;
    *(v3 + 3) = 2;
    *(v3 + 12) = 20;
    *(v3 + 13) = 21;
    *(v3 + 48) = 3;
    *(v3 + 52) = 3;
    object_setAttack0();
    sub_8109974();
    result = 0;
    *v2 = 0;
    return result;
}


// 0x810ab8c
signed int __fastcall sub_810AB8C(int a1, int a2, int a3, int a4)
{
    int v4; // r4
    int v5; // r5
    int v6; // r7
    int v7; // r4
    int v8; // r0
    signed int result; // r0

    v7 = *(v4 + 22);
    *(v5 + 100) = sub_80BC38A(*(v6 + 8) | (*(v6 + 10) << 16), *(v6 + 10) << 16, 0, a4);
    *(v5 + 96) = 0;
    *(v5 + 124) = 0;
    *(v5 + 126) = 0;
    v8 = *(v5 + 56);
    *(v5 + 112) = v8;
    *(v5 + 116) = *(v5 + 52);
    *(v5 + 120) = v8;
    sub_810ABFE();
    result = 1;
    *(v5 + 126) = 1;
    return result;
}


// 0x810abd0
signed int sub_810ABD0()
{
    int v0; // r5
    signed int result; // r0

    result = *(*(v0 + 84) + 6);
    if ( !*(*(v0 + 84) + 6) )
    {
        result = *(v0 + 126);
        if ( *(v0 + 126) )
        {
            result = *(v0 + 124);
            if ( !*(v0 + 124) )
            {
                *(v0 + 124) = 1;
                result = 2;
                *(v0 + 16) = 2;
            }
        }
    }
    return result;
}


// 0x810abf6
int sub_810ABF6()
{
    return sub_80165B8();
}


// 0x810abfe
int sub_810ABFE()
{
    int v0; // r5
    int result; // r0
    char *v2; // r0
    int v3; // r7
    int v4; // r1
    int v5; // r2
    int v6; // r3
    int v7; // r1
    int v8; // r2

    result = byte_810AC2C[*(*(v0 + 88) + 22)];
    if ( result != 255 )
    {
        v2 = sub_801A7CC(result);
        v3 = *(v0 + 88) + 96;
        sub_80E0D98(v2, v4, v5, v6);
        result = PlaySoundEffect(137, v7, v8);
    }
    return result;
}


// 0x810ac9a
signed int sub_810AC9A()
{
    int v0; // r5
    int v1; // r0
    char v2; // ST00_1
    char v3; // r0
    signed int result; // r0

    v1 = *(v0 + 107) + 1;
    *(v0 + 107) = v1;
    if ( v1 >= 5 )
    {
        *(v0 + 107) = 0;
        result = 1;
    }
    else
    {
        v2 = v1;
        GetPositiveSignedRNG2();
        *(v0 + 107) = (v3 & 1) + v2;
        result = 0;
    }
    return result;
}


// 0x810acc4
int sub_810ACC4()
{
    int v0; // r5
    int result; // r0
    int v2; // r2
    int v3; // r1
    char v4; // r0

    result = object_getFlag();
    v3 = 40960;
    if ( result & 0xA000
        || (*(v0 + 107) < 4 ? (GetPositiveSignedRNG2(), result = (*(&off_810AD08 + (v4 & 1)))()) : (result = sub_810ADAC()),
                !result) )
    {
        sub_810AD9E(result, v3, v2);
    }
    return result;
}


// 0x810ad10
int sub_810AD10()
{
    return sub_810AD18();
}


// 0x810ad18
int sub_810AD18()
{
    unsigned __int8 *v0; // r5
    int result; // r0
    int v2; // r2
    int v3; // r6
    unsigned __int8 **v4; // r3
    unsigned __int8 *v5; // r1
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    char v12; // r1
    int v13; // r3
    int v14; // r4
    unsigned __int8 **v19; // [sp-8h] [bp-8h]
    int v20; // [sp-4h] [bp-4h]
    int v21; // [sp+0h] [bp+0h]
    int v22; // [sp+10h] [bp+10h]
    int v23; // [sp+1Ch] [bp+1Ch]

    result = object_getEnemyByNameRange(&v21, 1, 174, v0[22]);
    if ( result )
    {
        v3 = result;
        v23 = 0;
        v4 = &v21;
        do
        {
            v19 = v4;
            v20 = v3;
            v5 = *v4;
            if ( *v4 != v0 )
            {
                v6 = v5[22];
                sub_81096FA(v5[18], v5[19], v2, byte_810AE08);
                v11 = sub_8015E46(v7, v8, v9, v10);
                if ( v11 )
                {
                    v13 = v23;
                    v2 = v23++ + 1;
                    *(&v21 + v13 + 16) = v11 | 16 * v12;
                }
            }
            v4 = v19 + 1;
            v3 = v20 - 1;
        }
        while ( v20 != 1 );
        result = v23;
        if ( v23 )
        {
            v14 = v23;
            GetPositiveSignedRNG2();
            __asm { SVC         6 }
            result = *(&v22 + v14) & 7;
        }
    }
    return result;
}


// 0x810ad88
int __fastcall sub_810AD88(int a1, int a2, int a3)
{
    unsigned __int8 *v3; // r5
    int v4; // r6
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3

    sub_81096FA(v3[18], v3[19], a3, byte_810AE08);
    v4 = v3[22];
    return sub_8015E46(v5, v6, v7, v8);
}


// 0x810ad9e
void __fastcall __noreturn sub_810AD9E(int a1, int a2, int a3)
{
    int v3; // r0
    int v4; // r1
    int v5; // r2
    int v6; // r3

    sub_81096FA(a1, a2, a3, byte_810AE08);
    sub_8015C94(v3, v4, v5, v6);
}


// 0x810adac
Battle *sub_810ADAC()
{
    int v0; // r5
    Battle *result; // r0
    Battle *v2; // r7
    Battle *v3; // r5
    int v4; // r0
    int v5; // r2
    int v6; // r6
    int v7; // r0
    int v8; // r1
    int v9; // r2
    int v10; // r3
    int v11; // r0
    int v12; // r2
    int v13; // r6
    int v14; // r0
    int v15; // r1
    int v16; // r2
    int v17; // r3
    int v18; // [sp-4h] [bp-18h]

    result = sub_80103F8(*(v0 + 22) ^ 1);
    if ( result )
    {
        v2 = result;
        v18 = v0;
        v3 = result;
        v4 = 3 * object_getFrontDirection(result) + result->panelX;
        sub_81096FA(v4, v3->panelY, v5, byte_810AE08);
        v6 = *(v18 + 22);
        result = sub_8015E46(v7, v8, v9, v10);
        if ( !result )
        {
            v11 = object_getFrontDirection(v2);
            sub_81096FA(3 * v11 + v2->panelX, v2->panelY, v12, byte_810AE08);
            v13 = *(v18 + 22);
            result = sub_8015E46(v14, v15, v16, v17);
        }
    }
    return result;
}


// 0x810af30
int sub_810AF30()
{
    int v0; // r7

    return (*(&off_810AF44 + *(v0 + 14)))();
}


// 0x810af50
int sub_810AF50()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    if ( *(v1 + 15) )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            ++*(v0 + 16);
            object_setCounterTime(30);
            result = 4;
            *(v1 + 14) = 4;
        }
    }
    else
    {
        *(v1 + 15) = 1;
        *(v1 + 48) = 0;
        object_setFlag1(0x400000);
        result = 3 * *(v1 + 3) + 1;
        *(v0 + 16) = result;
    }
    return result;
}


// 0x810af90
int __fastcall sub_810AF90(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    int v6; // r2
    int result; // r0

    if ( __CFSHR__(*(v4 + 16), 3) )
    {
        v5 = object_getFrontDirection(v3) + v3->panelX;
        v6 = 4;
        if ( *(v4 + 3) )
            v6 = 2;
        highlightPanelIfSomeCondition_8109660(v5, v3->panelY, v6, v3->directionFlip ^ v3->Alliance);
    }
    result = *(v4 + 16) - 1;
    *(v4 + 16) = result;
    if ( !result )
    {
        ++v3->currAnimation;
        PlaySoundEffect(176, a2, a3);
        *(v4 + 16) = *(v4 + 24);
        result = 8;
        *(v4 + 14) = 8;
    }
    return result;
}


// 0x810afd4
int sub_810AFD4()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0
    int v3; // r4
    int v4; // ST00_4
    int v5; // ST04_4
    int v6; // r0
    int v7; // r1
    int v8; // r6
    int result; // r0

    v2 = *(v1 + 15) + 1;
    *(v1 + 15) = v2;
    if ( v2 == 4 )
    {
        v3 = (object_getFlip(v0) << 8) | (v0->Element << 16);
        *(v1 + 3);
        v4 = object_getFrontDirection(v0) + v0->panelX;
        v5 = v0->panelY;
        v6 = object_getCoordinatesForPanels(v4);
        SpawnT4BattleObjectWithId0(v0, v6, v6, v7, 0x100000);
        *(v1 + 3);
        v8 = *(v1 + 8);
        object_spawnCollisionRegion(v4, v5, v0->Element, 0);
    }
    result = *(v1 + 16) - 1;
    *(v1 + 16) = result;
    if ( !result )
    {
        result = 1;
        *(v1 + 48) = 1;
    }
    return result;
}


// 0x810b042
int sub_810B042()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810B054 + *v0))();
}


// 0x810b058
void sub_810B058()
{
    Battle *v0; // r5
    int v1; // r7

    sub_810AF30();
    if ( *(v1 + 48) )
        object_exitAttackState(v0);
}


// 0x810b06a
int sub_810B06A()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810B07C + *v0))();
}


// 0x810b090
void __fastcall sub_810B090(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf

    object_canMove(a1);
    if ( v3 )
    {
        object_exitAttackState(v1);
    }
    else
    {
        object_setFlag1(64);
        *(v2 + 64) = v1->panelX | 16 * v1->panelY;
        *v2 = 4;
        sub_810B0B8();
    }
}


// 0x810b0b8
int sub_810B0B8()
{
    Battle *v0; // r5
    unsigned __int8 *v1; // r7
    signed int v2; // r2
    signed int v3; // r3
    int v4; // r0
    int result; // r0
    int v6; // r0
    unsigned __int8 v7; // vf
    int v8; // r0
    int v9; // r1
    int v10; // [sp-8h] [bp-Ch]
    int v11; // [sp-4h] [bp-8h]

    if ( !v1[1] )
    {
        v1[1] = 1;
        v2 = 0x80000;
        v3 = 1;
        v4 = v0->panelX;
        if ( v1[22] == v4 )
            goto LABEL_15;
        if ( v1[22] - v4 < 0 )
        {
            v2 = -524288;
            v3 = -1;
        }
        v0->vx = v2;
        v10 = v4 + v3;
        v11 = v0->panelY;
        if ( !object_checkPanelParameters(v4 + v3, v11, *(v1 + 13), *(v1 + 14)) )
        {
LABEL_15:
            result = *v1 + 4;
            *v1 = result;
            return result;
        }
        v0->futurePanelX = v10;
        v0->futurePanelY = v11;
        object_reservePanel(v10, v11);
        *(v1 + 9) = 5;
        *(v1 + 15) = 2;
    }
    v0->x += v0->vx;
    if ( *(v1 + 9) == *(v1 + 15) )
    {
        object_setPanelsFromCoordinates(v0);
        object_updateCollisionPanels(v0);
    }
    v6 = *(v1 + 9);
    v7 = __OFSUB__(v6, 1);
    result = v6 - 1;
    *(v1 + 9) = result;
    if ( (result < 0) ^ v7 )
    {
        v8 = v0->futurePanelX;
        v0->panelX = v8;
        v9 = v0->futurePanelY;
        v0->panelY = v9;
        object_removePanelReserve(v8, v9);
        object_setCoordinatesFromPanels(v0);
        object_setCollisionPanelsToCurrent();
        result = 0;
        v1[1] = 0;
    }
    return result;
}


// 0x810b13e
signed int sub_810B13E()
{
    int v0; // r7
    signed int result; // r0
    unsigned int v2; // r0

    sub_810AF30();
    result = *(v0 + 48);
    if ( result )
    {
        v2 = *(v0 + 64);
        *(v0 + 22) = v2 & 7;
        *(v0 + 23) = v2 >> 4;
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x810b15c
void sub_810B15C()
{
    Battle *v0; // r5

    object_clearFlag(64);
    object_setFlag1(0x80000);
    object_exitAttackState(v0);
}


// 0x810b172
int sub_810B172()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810B184 + *v0))();
}


// 0x810b198
void __fastcall sub_810B198(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    char v3; // zf
    int v4; // r0
    int v5; // r2
    int v6; // r1
    int v7; // r0
    int v8; // r1
    int v9; // [sp-8h] [bp-18h]
    int v10; // [sp-4h] [bp-14h]

    object_canMove(a1);
    if ( v3
        || (v4 = object_getFrontDirection(v1),
                v5 = *(v2 + 44),
                v9 = *(v5 + 18) - v4,
                v10 = *(v5 + 19),
                !object_checkPanelParameters(v9, v10, 16, 260571264)) )
    {
        object_exitAttackState(v1);
    }
    else
    {
        *(v2 + 22) = v9;
        *(v2 + 23) = v10;
        object_reservePanel(v1->panelX, v1->panelY);
        object_setFlag1(64);
        *(v2 + 18) = 3;
        v6 = *(v2 + 23);
        v7 = object_getCoordinatesForPanels(*(v2 + 22));
        SpawnT4BattleObjectWithId0(v1, v7, v7, v8, 0x100000);
        *v2 = 4;
    }
}


// 0x810b1f4
int sub_810B1F4()
{
    Battle *v0; // r5
    int v1; // r7
    int result; // r0

    result = *(v1 + 18) - 1;
    *(v1 + 18) = result;
    if ( !result )
    {
        sub_810B21C();
        v0->panelX = *(v1 + 22);
        v0->panelY = *(v1 + 23);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        sub_810B244();
        result = 8;
        *v1 = 8;
    }
    return result;
}


// 0x810b21c
int sub_810B21C()
{
    Battle *v0; // r5

    object_getFlip(v0);
    return sub_80E33FA(dword_404, v0->x, v0->y, v0->z);
}


// 0x810b244
signed int sub_810B244()
{
    Battle *v0; // r5
    int v1; // r7
    signed int result; // r0
    int v3; // r1
    int v4; // r0
    int v5; // r1

    sub_810AF30();
    result = *(v1 + 48);
    if ( result )
    {
        v3 = v0->futurePanelY;
        v4 = object_getCoordinatesForPanels(v0->futurePanelX);
        SpawnT4BattleObjectWithId0(v0, v4, v4, v5, 0x100000);
        *(v1 + 18) = 3;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x810b270
int sub_810B270()
{
    Battle *v0; // r5
    _WORD *v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r1

    result = v1[9] - 1;
    v1[9] = result;
    if ( !result )
    {
        sub_810B21C();
        v3 = v0->futurePanelX;
        v0->panelX = v3;
        v4 = v0->futurePanelY;
        v0->panelY = v4;
        object_removePanelReserve(v3, v4);
        object_setCoordinatesFromPanels(v0);
        object_updateCollisionPanels(v0);
        v0->currAnimation = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        v1[8] = v1[12];
        result = 16;
        *v1 = 16;
    }
    return result;
}


// 0x810b2ae
void sub_810B2AE()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r0

    v2 = *(v1 + 16) - 1;
    *(v1 + 16) = v2;
    if ( !v2 )
        object_exitAttackState(v0);
}


// 0x810b30c
signed int __fastcall sub_810B30C(int a1, int a2)
{
    int v2; // r5
    int v3; // r0
    char v4; // r0
    signed int result; // r0

    v3 = sub_80C468C(a1, a2, 0, 255);
    *(v2 + 96) = v3;
    sub_80C46C6(v3);
    GetPositiveSignedRNG2();
    *(v2 + 104) = 2 * (v4 & 1) - 1;
    result = 108;
    *(v2 + 108) = 0;
    return result;
}


// 0x810b338
int sub_810B338()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 10);
    if ( !*(v0 + 10) )
    {
        v1 = *(v0 + 96);
        if ( v1 )
            v1 = sub_80C46B0(v1);
    }
    return sub_80165C2(v1);
}


// 0x810b350
int sub_810B350()
{
    unsigned __int8 *v0; // r6

    return (*(&off_810B364 + *v0))();
}


// 0x810b36c
int sub_810B36C()
{
    int v0; // r4
    int v1; // r5
    _BYTE *v2; // r6
    int result; // r0

    *(v1 + 108) = 0;
    *(v1 + 100) = 0;
    result = sub_810B54C();
    if ( !result )
    {
        (*(&off_810B3B4 + *(v0 + 22)))();
        result = *(v1 + 100);
        if ( !result )
        {
            result = object_getFlag();
            if ( result & 0x8000 )
            {
                result = 4;
                *v2 = 4;
            }
        }
    }
    return result;
}


// 0x810b3cc
signed int sub_810B3CC()
{
    int v0; // r5
    _BYTE *v1; // r6
    signed int result; // r0
    int v3; // r1

    *(v0 + 100) = 0;
    result = 108;
    v3 = *(v0 + 108) + 1;
    *(v0 + 108) = v3;
    if ( v3 >= 60 )
    {
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x810b3e4
void sub_810B3E4()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r0
    int v3; // r0
    int v4; // r2
    int v5; // r0
    char v6; // r1
    int v7; // r2

    if ( sub_810B58A() || (v1 = object_getFrontDirection(v0), (v2 = sub_810B598(v1 + v0->panelX, v0->panelY)) == 0) )
    {
        v3 = object_getFlag();
        if ( !(v3 & 0xA000) )
            sub_810B60C();
        v5 = sub_810B6B4(v3, 40960, v4);
        if ( v5 )
            sub_810B5BE(v5, v6, v7);
    }
    else
    {
        sub_810B6F0(v2);
        object_setAttack0();
    }
}


// 0x810b436
void sub_810B436()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    int v3; // r2
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r0
    int v9; // r1
    int v10; // r0
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r2
    int v15; // r3
    int v16; // r0
    int v17; // r2
    int v18; // r0
    char v19; // r1
    int v20; // r2

    if ( !sub_810B58A()
        && (v2 = object_getFrontDirection(v0),
                sub_81096FA(v0->Alliance, v0->panelY, v3, byte_810B6E0),
                (v8 = object_getClosestPanelMatchingRowFiltered(v4, v5, v6, v7)) != 0)
        && (*(v1 + 22) = v8, (v10 = sub_810B598(v8 + v2, v9)) != 0) )
    {
        v11 = sub_810B6F0(v10);
        sub_81096FA(v11, v12, v13, byte_810B6E0);
        *(v1 + 52) = v14;
        *(v1 + 56) = v15;
        object_setAttack0();
    }
    else
    {
        v16 = object_getFlag();
        if ( !(v16 & 0xA000) )
            sub_810B62E();
        v18 = sub_810B6B4(v16, 40960, v17);
        if ( v18 )
            sub_810B5BE(v18, v19, v20);
    }
}


// 0x810b49c
void sub_810B49C()
{
    int v0; // r5
    int v1; // r6
    int v2; // r7
    signed int v3; // r0
    char v4; // r0
    int v5; // r0
    int v6; // r2
    int v7; // r0
    char v8; // r1

    if ( sub_810B58A() || (v3 = *(v1 + 4), *(v1 + 4) = v3 + 1, v3 < 3) )
    {
        *(v2 + 44) = sub_80103F8(*(v0 + 22) ^ 1);
        v5 = object_getFlag();
        if ( !(v5 & 0xA000) )
            sub_810B65E(v5);
        v7 = sub_810B6B4(v5, 40960, v6);
        if ( v7 )
        {
            *(v2 + 22) = v7;
            *(v2 + 23) = v8;
            if ( object_getFlag() & 0xA000 )
                *(v2 + 40) = sub_810B6B4;
            else
                *(v2 + 40) = sub_810B65E;
            *(v2 + 24) = 60;
            *(v2 + 3) = 2;
            *(v2 + 12) = 20;
            *(v2 + 13) = 21;
            *(v2 + 48) = 3;
            *(v2 + 52) = 3;
            object_setAttack0();
            genericAI_movementRelated_8109952();
        }
        else
        {
            *(v2 + 16) = 80;
            object_setAttack0();
        }
    }
    else
    {
        GetPositiveSignedRNG2();
        sub_810B6F0(v4 & 1);
        *(v2 + 44) = sub_80103F8(*(v0 + 22) ^ 1);
        object_setAttack0();
        *(v1 + 4) = 0;
    }
}


// 0x810b54c
signed int sub_810B54C()
{
    int v0; // r5
    signed int v1; // r6
    __int16 v2; // r0
    int v3; // r3
    int v4; // r4

    v1 = 0;
    v2 = sub_800ED90(v0);
    if ( v3 )
    {
        v4 = v2 & 0x1FF;
        if ( sub_800A704() >= byte_12C && sub_810B584() >= 3 )
        {
            somethingWriteChipParams_80126E4(v4);
            object_setAttack0();
            sub_800F322();
            v1 = 1;
        }
    }
    return v1;
}


// 0x810b584
signed int sub_810B584()
{
    return 3;
}


// 0x810b58a
int sub_810B58A()
{
    return FindBattleActorsWithNonzeroParam_ReturnCountAndSum(100, 19, 24);
}


// 0x810b598
signed int __fastcall sub_810B598(int a1, int a2)
{
    signed int v2; // r4
    int v4; // [sp-Ch] [bp-14h]
    int v5; // [sp-8h] [bp-10h]

    v2 = 0;
    v4 = a1;
    v5 = a2;
    if ( sub_8109708(a1, a2, 4) )
        v2 = 1;
    if ( sub_8109708(v4, v5, 2) )
        v2 |= 2u;
    return v2;
}


// 0x810b5be
int __fastcall sub_810B5BE(char a1, char a2, int a3)
{
    int v3; // r4
    int v4; // r7
    int v5; // r0
    int v6; // r2
    int v7; // r3

    *(v4 + 22) = a1;
    *(v4 + 23) = a2;
    *(v4 + 3) = 1;
    v5 = *&byte_810B5F4[4 * *(v3 + 22)];
    *(v4 + 48) = v5;
    sub_81096FA(v5, byte_810B5F4, a3, byte_810B6E0);
    *(v4 + 52) = v6;
    *(v4 + 56) = v7;
    object_setAttack0();
    return sub_8109804();
}


// 0x810b60c
int __noreturn sub_810B60C()
{
    Battle *v0; // r5
    int v1; // r0
    int v2; // r2
    int v3; // r0
    int v4; // ST00_4
    int v5; // r1
    int v6; // r2
    int v7; // r3
    bool v8; // zf
    int result; // r0

    v1 = object_getFrontDirection(v0);
    sub_81096FA(v1 + v0->panelX, v0->panelY, v2, byte_810B6E0);
    v4 = v3;
    v8 = object_checkPanelParameters(v3, v5, v6, v7) == 0;
    result = v4;
    if ( v8 )
        result = 0;
    return result;
}


// 0x810b62e
void __noreturn sub_810B62E()
{
    sub_810B646();
}


// 0x810b646
void __noreturn sub_810B646()
{
    int v0; // r5
    int v1; // r0
    int v2; // r1
    int v3; // r2
    int v4; // r3

    sub_81096FA(*(v0 + 18), *(v0 + 19) + *(v0 + 104), *(v0 + 104), byte_810B6E0);
    object_checkPanelParameters(v1, v2, v3, v4);
    JUMPOUT(loc_810B65A);
}


// 0x810b65e
__int64 __fastcall __noreturn sub_810B65E(int a1)
{
    int v1; // r5
    int v2; // r4
    int v3; // r1
    int v4; // r2
    int v5; // r0
    int v6; // r1
    int v7; // r2
    int v8; // r3
    __int64 v9; // r0
    int v10; // r2
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r3
    int v15; // r7
    unsigned int v20; // r0
    __int64 v21; // ST00_8
    int v23; // [sp+0h] [bp-24h]

    v2 = a1;
    object_reservePanel(*(v1 + 18), *(v1 + 19));
    sub_81096FA(*(v2 + 19), v3, v4, byte_810B6E0);
    LODWORD(v9) = object_getPanelsIgnoreColumnFiltered(v5, v6, v7, v8);
    if ( v9
        || (sub_81096FA(*(v2 + 19), SHIDWORD(v9), v10, byte_810B6E0),
                LODWORD(v9) = object_getPanelsInRowFiltered(v11, v12, v13, v14),
                v9) )
    {
        v15 = v9;
        GetPositiveSignedRNG2();
        __asm { SVC         6 }
        v20 = *(&v23 + v15);
        HIDWORD(v9) = v20 >> 4;
        LODWORD(v9) = v9 & 7;
    }
    v21 = v9;
    object_removePanelReserve(*(v1 + 18), *(v1 + 19));
    return v21;
}


// 0x810b6b4
int __fastcall sub_810B6B4(int a1, int a2, int a3)
{
    int v3; // r5
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3

    sub_81096FA(*(v3 + 18), *(v3 + 19), a3, byte_810B6E0);
    return panelFlagCheck_8015D80(v4, v5, v6, v7);
}


// 0x810b6f0
signed int __fastcall sub_810B6F0(int a1)
{
    int v1; // r4
    int v2; // r5
    int v3; // r7
    char v4; // r0
    char v5; // r0
    char *v6; // r1
    int v7; // r2
    signed int result; // r0

    if ( a1 != 1 && (a1 == 2 || (GetPositiveSignedRNG2(), v4 & 1)) )
    {
        v5 = 1;
        v6 = byte_810B746;
    }
    else
    {
        v5 = 0;
        v6 = byte_810B740;
    }
    *(v3 + 3) = v5;
    *(v3 + 10) = 10;
    v7 = *(v1 + 22);
    *(v3 + 8) = v6[v7];
    *(v3 + 16) = byte_810B74C[v7];
    *(v3 + 24) = byte_810B752[v7];
    *(v3 + 14) = 0;
    result = 1;
    *(v2 + 100) = 1;
    return result;
}


// 0x810b8ec
int sub_810B8EC()
{
    int v0; // r4
    int v1; // r5
    int v2; // r7
    int result; // r0
    char v4; // zf
    int v5; // r0

    if ( *(v2 + 1) )
    {
        sub_810BA94();
        if ( v4 )
        {
            result = *(v2 + 16) - 1;
            *(v2 + 16) = result;
            if ( !result )
            {
                sub_80D9284(*(v1 + 100));
                sub_810BA28();
                *(v2 + 16) = 0;
                v5 = object_clearFlag(64);
                result = (loc_801171C)(v5);
            }
        }
        else
        {
            sub_80D9284(*(v1 + 100));
            sub_810BA40();
            *(v2 + 16) = byte_810BBE8[*(v0 + 22)];
            *v2 = 4;
            result = 0;
            *(v2 + 1) = 0;
        }
    }
    else
    {
        result = *(v2 + 16) - 1;
        *(v2 + 16) = result;
        if ( !result )
        {
            *(v2 + 1) = 1;
            *(v2 + 16) = byte_810BBE0[*(v0 + 22)];
            object_setCounterTime(16);
            result = sub_810BA58();
            *(v1 + 100) = result;
        }
    }
    return result;
}


// 0x810b964
int sub_810B964()
{
    int v0; // r7
    int result; // r0
    int v2; // r1
    int v3; // r2

    if ( !*(v0 + 1) )
    {
        result = *(v0 + 16) - 1;
        *(v0 + 16) = result;
        if ( result )
            return result;
        sub_810BAAC();
        PlaySoundEffect(410, v2, v3);
        *(v0 + 16) = 120;
        *(v0 + 1) = 1;
    }
    result = *(v0 + 16) - 1;
    *(v0 + 16) = result;
    if ( !result )
    {
        *(v0 + 16) = *(v0 + 24);
        sub_810BA28();
        sub_810BB64();
        object_clearFlag(64);
        result = 12;
        *v0 = 12;
    }
    return result;
}


// 0x810b9aa
int sub_810B9AA()
{
    int v0; // r5
    int v1; // r7
    int result; // r0
    int v3; // r0
    int v4; // r0

    if ( object_getFlag() & 0xA000 )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            v3 = *(v1 + 1);
            *(v0 + 16) = *(&dword_810B9E8 + v3);
            result = v3 + 1;
            if ( result == 4 )
                result = 0;
            *(v1 + 1) = result;
        }
    }
    else
    {
        *(v1 + 1) = 0;
        v4 = sub_810BDF4();
        result = (loc_801171C)(v4);
    }
    return result;
}


// 0x810b9ec
int sub_810B9EC()
{
    int v0; // r5
    int v1; // r7
    int v2; // r0
    int result; // r0

    v2 = *(off_810BA10[*(v0 + 99)] + *(v1 + 12));
    if ( v2 != 255 )
        *(v0 + 16) = v2;
    result = *(v1 + 12);
    *(v0 + 99) = result;
    return result;
}


// 0x810ba28
int sub_810BA28()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    result = *(&dword_810BA3C + *(v1 + 12));
    if ( result != 255 )
        *(v0 + 16) = result;
    return result;
}


// 0x810ba40
int sub_810BA40()
{
    int v0; // r5
    int v1; // r7
    int result; // r0

    result = *(&dword_810BA54 + *(v1 + 12));
    if ( result != 255 )
        *(v0 + 16) = result;
    return result;
}


// 0x810ba58
int sub_810BA58()
{
    Battle *v0; // r5
    int v1; // r7
    int v2; // r6
    char v3; // r0
    int v4; // r4

    v2 = *(v1 + 8) | (*(v1 + 10) << 16);
    v3 = object_getFrontDirection(v0);
    v4 = *(v1 + 12);
    return sub_80D924E(v3 + v0->panelX, *(&dword_810BA90 + v4) + v0->panelY, v0->Element, &v0->extraVars[4]);
}


// 0x810ba94
signed int sub_810BA94()
{
    int v0; // r5
    signed int result; // r0
    int v2; // r1

    result = 0;
    v2 = *(v0 + 100);
    if ( v2 )
    {
        if ( *(v2 + 102) )
            result = 1;
    }
    return result;
}


// 0x810baac
int sub_810BAAC()
{
    int v0; // r4
    int v1; // r5
    int v2; // r7
    char v3; // r0
    char v4; // r2
    int result; // r0
    int v6; // r1
    int v7; // r4
    int v8; // r6

    *(v2 + 13) = *(v0 + 22);
    *(v1 + 128) = *(v2 + 8) | (*(v2 + 10) << 16);
    *(v1 + 132) = v1 + 104;
    *(v1 + 127) = 0;
    v3 = object_getFrontDirection(v1);
    v4 = *(v1 + 19) + *(&dword_810BB58 + *(v2 + 12));
    *(v1 + 125) = v3 + *(v1 + 18);
    *(v1 + 126) = v4;
    while ( 1 )
    {
        result = *(v1 + 125);
        v6 = *(v1 + 126);
        if ( !*(v1 + 126) || v6 == 4 || result == *(&dword_810BB60 + *(v1 + 22)) )
            break;
        v7 = *(v2 + 12) | 768 * *(v1 + 127) | (*(v2 + 13) << 16);
        v8 = *(v1 + 128);
        sub_80D94F2(result, v6, *(v1 + 14), *(v1 + 132));
        *(v1 + 132) += 4;
        *(v1 + 125) += object_getFrontDirection(v1);
        *(v1 + 126) += *(&dword_810BB58 + *(v2 + 12));
        ++*(v1 + 127);
    }
    return result;
}


// 0x810bb64
signed int sub_810BB64()
{
    signed int *v0; // r5

    sub_80D9532(v0[26]);
    sub_80D9532(v0[27]);
    sub_80D9532(v0[28]);
    sub_80D9532(v0[29]);
    return sub_80D9532(v0[30]);
}


// 0x810bbf6
int sub_810BBF6()
{
    int v0; // r5

    if ( !*(v0 + 11) )
    {
        sub_80D9284(*(v0 + 100));
        sub_810BB64();
    }
    return sub_8016B02();
}


// 0x810bc10
int sub_810BC10()
{
    int v0; // r5

    if ( !*(v0 + 11) )
    {
        sub_80D9284(*(v0 + 100));
        sub_810BB64();
    }
    return sub_8016B36();
}


// 0x810bc2a
int sub_810BC2A()
{
    int v0; // r5

    if ( !*(v0 + 11) )
    {
        sub_80D9284(*(v0 + 100));
        sub_810BB64();
    }
    return sub_8016B72();
}


// 0x810bc44
signed int sub_810BC44()
{
    int v0; // r5
    _BYTE *v1; // r6
    signed int result; // r0

    result = battle_isBattleOver();
    if ( !result )
    {
        if ( *(v0 + 124) )
            *(v0 + 124) = 0;
        if ( object_getFlag() & 0xA000 )
        {
            if ( *v1 != 8 )
            {
                *(v0 + 16) = 1;
                *v1 = 8;
                *(v0 + 136) = 0;
            }
        }
        else
        {
            result = sub_810BDC4();
            if ( result )
                return result;
        }
        result = (*(&off_810BC94 + *v1))();
    }
    return result;
}


// 0x810bca0
int sub_810BCA0()
{
    int v0; // r4
    int v1; // r6
    int result; // r0

    result = *(v1 + 8) + 1;
    *(v1 + 8) = result;
    if ( result >= byte_810BBD8[*(v0 + 22)] )
    {
        *(v1 + 8) = 0;
        result = 4;
        *v1 = 4;
    }
    return result;
}


// 0x810bcbc
int __fastcall sub_810BCBC(int a1)
{
    int v1; // r4
    _BYTE *v2; // r6
    int v3; // r7
    char v4; // zf
    int v5; // r1
    int result; // r0

    object_canMove(a1);
    if ( !v4 )
    {
        v5 = *(v1 + 22);
        *(v3 + 24) = byte_810BBF0[v5];
        *(v3 + 8) = byte_810BBC8[v5];
        *(v3 + 10) = byte_810BBD0[v5];
        *(v3 + 12) = sub_810BD94();
        sub_810BD5E();
        *(v3 + 16) = 10;
        sub_810B9EC();
        object_setFlag1(64);
        object_setAttack0();
    }
    result = 0;
    *v2 = 0;
    return result;
}


// 0x810bcfc
int sub_810BCFC()
{
    int v0; // r5
    _BYTE *v1; // r6
    int result; // r0
    int v3; // r0

    if ( object_getFlag() & 0xA000 )
    {
        result = sprite_getFrameParameters();
        if ( result & 0x80 )
        {
            v3 = *(v0 + 136);
            *(v0 + 16) = *(&dword_810BD3C + v3);
            result = v3 + 1;
            if ( result == 4 )
                result = 0;
            *(v0 + 136) = result;
        }
    }
    else
    {
        *(v0 + 136) = 0;
        sub_810BDF4();
        result = 0;
        *v1 = 0;
    }
    return result;
}


// 0x810bd40
signed int sub_810BD40()
{
    unsigned __int8 *v0; // r5
    signed int v1; // r4

    v1 = 1;
    if ( v0[18] == v0[96] && v0[19] == v0[97] )
        v1 = 0;
    return v1;
}


// 0x810bd5e
int sub_810BD5E()
{
    int v0; // r5
    int result; // r0

    result = *(off_810BD7C[*(v0 + 19) - 1] + *(v0 + 98));
    *(v0 + 98) = result;
    return result;
}


// 0x810bd94
int sub_810BD94()
{
    int v0; // r5

    return *(off_810BDAC[*(v0 + 19) - 1] + *(v0 + 98));
}


// 0x810bdc4
signed int sub_810BDC4()
{
    int v0; // r5
    signed int v1; // r6
    __int16 v2; // r0
    int v3; // r3
    int v4; // r4

    v1 = 0;
    v2 = sub_800ED90(v0);
    if ( v3 )
    {
        v4 = v2 & 0x1FF;
        if ( sub_800A704() >= 300 )
        {
            somethingWriteChipParams_80126E4(v4);
            object_setAttack0();
            sub_800F322();
            v1 = 1;
        }
    }
    return v1;
}


// 0x810bdf4
int sub_810BDF4()
{
    _BYTE *v0; // r5
    int v1; // r7
    char v2; // r1
    char v3; // r0
    int result; // r0

    v0[99] = 1;
    v2 = v0[19];
    v0[96] = v0[18];
    v0[97] = v2;
    GetRNG2();
    v0[98] = *(off_810BE5C[v0[19] - 1] + (v3 & 3));
    v0[16] = 0;
    result = 0;
    *(v1 + 16) = 0;
    return result;
}


// 0x810be2a
int sub_810BE2A()
{
    _BYTE *v0; // r5
    char v1; // r1
    char v2; // r0
    int result; // r0

    v0[99] = 1;
    v1 = v0[19];
    v0[96] = v0[18];
    v0[97] = v1;
    GetRNG2();
    result = *(off_810BE5C[v0[19] - 1] + (v2 & 3));
    v0[98] = result;
    return result;
}


// 0x810be74
int sub_810BE74()
{
    int v0; // r5
    int v1; // r0

    v1 = *(v0 + 10);
    if ( !*(v0 + 10) )
    {
        sub_80D9284(*(v0 + 100));
        v1 = sub_810BB64();
    }
    return sub_80165C2(v1);
}


// 0x810be8e
signed int sub_810BE8E()
{
    int v0; // r5
    signed int result; // r0
    char v2; // zf

    sub_8016CE8();
    result = sub_810BD40();
    if ( !v2 )
    {
        sub_810BDF4();
        sub_80D9284(*(v0 + 100));
        sub_810BB64();
        result = 1;
        *(v0 + 124) = 1;
    }
    return result;
}


// 0x810bfb8
int sub_810BFB8()
{
    unsigned __int8 *v0; // r7

    return (*(&off_810BFCC + *v0))();
}


// 0x810bfe0
void __fastcall sub_810BFE0(int a1)
{
    Battle *v1; // r5
    int v2; // r7
    int v4; // r0
    int v5; // r1
    char v6; // t1
    char v10; // t1
    u32 v11; // r0
    unsigned int v12; // r1

    object_canMove(a1);
    if ( _ZF )
    {
        *(v2 + 26) = 0;
        object_exitAttackState(v1);
    }
    else
    {
        v4 = (*(v2 + 40))(*(v2 + 44));
        if ( !v4 )
        {
            v4 = v1->panelX;
            v5 = v1->panelY;
        }
        v1->futurePanelX = v4;
        v1->futurePanelY = v5;
        object_reservePanel(v4, v5);
        object_setFlag1(64);
        object_setFlag1(0x400000);
        object_setCounterTime(10);
        v6 = *(v2 + 12);
        __asm { SVC         6 }
        v1->vx = 2621440 * (v1->futurePanelX - v1->panelX);
        v10 = *(v2 + 12);
        __asm { SVC         6 }
        v1->vy = 1572864 * (v1->futurePanelY - v1->panelY);
        v11 = *(v2 + 48);
        v1->vz = v11;
        v12 = *(v2 + 12) >> 1;
        __asm { SVC         6 }
        *(v2 + 64) = v11;
        v1->currAnimation = 1;
        *(v2 + 16) = 15;
        *v2 = 4;
    }
}


// 0x810c05c
int sub_810C05C()
{
    int v0; // r7
    int v1; // r0
    unsigned __int8 v2; // vf
    int result; // r0

    v1 = *(v0 + 16);
    v2 = __OFSUB__(v1, 1);
    result = v1 - 1;
    *(v0 + 16) = result;
    if ( (result < 0) ^ v2 )
    {
        *(v0 + 16) = *(v0 + 12);
        result = 8;
        *v0 = 8;
    }
    return result;
}


// 0x810c070
int sub_810C070()
{
    Battle *v0; // r5
    int v1; // r7
    u32 v2; // r1
    int v3; // r0
    int v4; // r0
    unsigned __int8 v5; // vf
    int result; // r0
    int v7; // r0
    int v8; // r1

    v0->x += v0->vx;
    v0->y += v0->vy;
    v2 = v0->vz;
    v3 = v0->z + v2;
    v0->z = v3;
    v0->vz = v2 - *(v1 + 64);
    if ( v3 < 0x100000 )
    {
        if ( !v0->collisionData->collisionRegion )
        {
            object_setCollisionRegion(1);
            v0->panelX = v0->futurePanelX;
            v0->panelY = v0->futurePanelY;
            object_updateCollisionPanels(v0);
        }
    }
    else if ( v0->collisionData->collisionRegion )
    {
        object_clearCollisionRegion();
    }
    v4 = *(v1 + 16);
    v5 = __OFSUB__(v4, 1);
    result = v4 - 1;
    *(v1 + 16) = result;
    if ( (result < 0) ^ v5 )
    {
        v7 = v0->futurePanelX;
        v0->panelX = v7;
        v8 = v0->futurePanelY;
        v0->panelY = v8;
        object_removePanelReserve(v7, v8);
        object_setCoordinatesFromPanels(v0);
        v0->z = 0;
        *(v1 + 16) = 0;
        v0->currAnimation = 2;
        result = 12;
        *v1 = 12;
    }
    return result;
}


// 0x810c0e4
int __fastcall sub_810C0E4(int a1, int a2, int a3)
{
    Battle *v3; // r5
    int v4; // r7
    int v5; // r0
    char v6; // r0
    int v7; // r4
    int v8; // r6
    int v9; // r2
    int result; // r0

    v5 = *(v4 + 16) + 1;
    *(v4 + 16) = v5;
    if ( v5 == 2 )
    {
        PlaySoundEffect(192, a2, a3);
        if ( *(v4 + 13) )
        {
            camera_initShakeEffect_80302a8(2, *(v4 + 13));
            v6 = object_getFrontDirection(v3);
            v7 = *(v4 + 3);
            v8 = *(v4 + 8);
            sub_80C6CE4(v6 + v3->panelX, v3->panelY, v9, 0);
            if ( *(v4 + 14) )
                sub_810C14A();
        }
    }
    result = sprite_getFrameParameters();
    if ( result & 0x80 )
    {
        v3->currAnimation = 0;
        object_clearFlag(64);
        object_setFlag1(0x80000);
        *(v4 + 26) = 1;
        *(v4 + 16) = *(v4 + 24);
        result = 16;
        *v4 = 16;
    }
    return result;
}


// 0x810c14a
int sub_810C14A()
{
    int v0; // r5

    return object_spawnCollisionRegion(*(v0 + 18), *(v0 + 19), 5, 0);
}


// 0x810c1d8
int sub_810C1D8()
{
    unsigned __int8 *v0; // r6

    return (*(&off_810C1EC + *v0))();
}


// 0x810c1f4
signed int sub_810C1F4()
{
    _BYTE *v0; // r6
    int v1; // r7
    char v2; // r0
    signed int result; // r0

    GetPositiveSignedRNG2();
    *(v1 + 16) = 10 * (v2 & 7) + 30;
    object_setAttack0();
    result = 4;
    *v0 = 4;
    return result;
}


// 0x810c212
void sub_810C212()
{
    int v0; // r4
    int v1; // r5
    int v2; // r7
    int v3; // r1
    int v4; // r0

    if ( !sub_810C282() )
    {
        v3 = *(v0 + 22);
        *(v2 + 3) = byte_810C1D2[v3];
        *(v2 + 12) = byte_810C1BA[v3];
        *(v2 + 13) = byte_810C1C6[v3];
        *(v2 + 14) = byte_810C1CC[v3];
        *(v2 + 24) = byte_810C1C0[v3];
        *(v2 + 8) = byte_810C1B4[v3];
        *(v2 + 10) = 10;
        *(v2 + 48) = *&byte_810C19C[4 * v3];
        v4 = sub_80103F8(*(v1 + 22) ^ 1);
        if ( v4 )
        {
            *(v2 + 44) = v4;
            *(v2 + 40) = sub_810C2B2;
        }
        else
        {
            *(v2 + 40) = sub_8015C48;
        }
        if ( object_getFlag() & 0xA000 )
        {
            *(v2 + 12) = 80;
            *(v2 + 40) = sub_8015C48;
        }
        object_setAttack0();
    }
}


// 0x810c282
signed int sub_810C282()
{
    int v0; // r5
    signed int v1; // r6
    __int16 v2; // r0
    int v3; // r3
    int v4; // r4

    v1 = 0;
    v2 = sub_800ED90(v0);
    if ( v3 )
    {
        v4 = v2 & 0x1FF;
        if ( sub_800A704() >= byte_12C )
        {
            somethingWriteChipParams_80126E4(v4);
            object_setAttack0();
            sub_800F322();
            v1 = 1;
        }
    }
    return v1;
}


// 0x810c2b2
int __fastcall __noreturn sub_810C2B2(int a1, int a2, int a3)
{
    int v3; // r4
    int v4; // r0
    int v5; // r1
    int v6; // r2
    int v7; // r3
    int v8; // r0
    int v9; // r1
    int v10; // r2
    int v11; // r0
    int v12; // r1
    int v13; // r2
    int v14; // r3
    int v15; // r6
    int v16; // r1
    int v17; // r2
    int v18; // r0
    int v19; // r1
    int v20; // r2
    int v21; // r3
    int v22; // r7
    int v28; // [sp+0h] [bp-24h]

    v3 = a1;
    sub_81096FA(*(a1 + 19), a2, a3, byte_810C310);
    v8 = object_getPanelsInRowFiltered(v4, v5, v6, v7);
    if ( !v8 )
    {
        sub_81096FA(*(v3 + 19) - 1, v9, v10, byte_810C310);
        v15 = object_getPanelsInRowFiltered(v11, v12, v13, v14);
        sub_81096FA(*(v3 + 19) + 1, v16, v17, byte_810C310);
        v8 = object_getPanelsInRowFiltered(v18, v19, v20, v21) + v15;
        if ( !v8 )
            sub_8015C48();
    }
    v22 = v8;
    GetPositiveSignedRNG2();
    __asm { SVC         6 }
    return *(&v28 + v22) & 7;
}


